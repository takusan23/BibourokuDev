{"meta":{"version":1,"warehouse":"3.0.2"},"models":{"Asset":[{"_id":"themes/material-indigo/source/img/alipay.jpg","path":"img/alipay.jpg","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/img/avatar.jpg","path":"img/avatar.jpg","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/img/brand.jpg","path":"img/brand.jpg","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/img/cc.png","path":"img/cc.png","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/img/favicon.ico","path":"img/favicon.ico","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/img/img-err.png","path":"img/img-err.png","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/img/img-loading.png","path":"img/img-loading.png","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/img/wechat.jpg","path":"img/wechat.jpg","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/style.less","path":"css/style.less","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/js/main.min.js","path":"js/main.min.js","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/js/search.js","path":"js/search.js","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/js/search.min.js","path":"js/search.min.js","modified":1,"renderable":1},{"_id":"source/omake/image/play.png","path":"omake/image/play.png","modified":1,"renderable":0},{"_id":"source/omake/image/result.png","path":"omake/image/result.png","modified":1,"renderable":0},{"_id":"source/omake/image/title.png","path":"omake/image/title.png","modified":1,"renderable":0},{"_id":"source/omake/image/tori.png","path":"omake/image/tori.png","modified":1,"renderable":0},{"_id":"themes/material-indigo/source/css/fonts/koruri/Koruri-Regular-sub.eot","path":"css/fonts/koruri/Koruri-Regular-sub.eot","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/koruri/Koruri-Regular-sub.ttf","path":"css/fonts/koruri/Koruri-Regular-sub.ttf","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/koruri/Koruri-Regular-sub.woff","path":"css/fonts/koruri/Koruri-Regular-sub.woff","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Bold.eot","path":"css/fonts/roboto/Roboto-Bold.eot","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Light.eot","path":"css/fonts/roboto/Roboto-Light.eot","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Medium.eot","path":"css/fonts/roboto/Roboto-Medium.eot","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Medium.woff","path":"css/fonts/roboto/Roboto-Medium.woff","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Regular.eot","path":"css/fonts/roboto/Roboto-Regular.eot","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Medium.woff2","path":"css/fonts/roboto/Roboto-Medium.woff2","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Regular.woff","path":"css/fonts/roboto/Roboto-Regular.woff","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Regular.woff2","path":"css/fonts/roboto/Roboto-Regular.woff2","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Thin.eot","path":"css/fonts/roboto/Roboto-Thin.eot","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Thin.woff","path":"css/fonts/roboto/Roboto-Thin.woff","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Thin.woff2","path":"css/fonts/roboto/Roboto-Thin.woff2","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/fontawesome/fontawesome-webfont.woff","path":"css/fonts/fontawesome/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/fontawesome/fontawesome-webfont.woff2","path":"css/fonts/fontawesome/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Bold.ttf","path":"css/fonts/roboto/Roboto-Bold.ttf","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Bold.woff","path":"css/fonts/roboto/Roboto-Bold.woff","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Bold.woff2","path":"css/fonts/roboto/Roboto-Bold.woff2","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Light.woff","path":"css/fonts/roboto/Roboto-Light.woff","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Light.woff2","path":"css/fonts/roboto/Roboto-Light.woff2","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Medium.ttf","path":"css/fonts/roboto/Roboto-Medium.ttf","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Regular.ttf","path":"css/fonts/roboto/Roboto-Regular.ttf","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Thin.ttf","path":"css/fonts/roboto/Roboto-Thin.ttf","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/custom/css/animation.css","path":"css/fonts/custom/css/animation.css","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/custom/css/custom-codes.css","path":"css/fonts/custom/css/custom-codes.css","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/custom/css/custom-embedded.css","path":"css/fonts/custom/css/custom-embedded.css","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/custom/css/custom-ie7-codes.css","path":"css/fonts/custom/css/custom-ie7-codes.css","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/custom/css/custom-ie7.css","path":"css/fonts/custom/css/custom-ie7.css","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/custom/css/custom.css","path":"css/fonts/custom/css/custom.css","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/custom/font/custom.eot","path":"css/fonts/custom/font/custom.eot","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/custom/font/custom.woff","path":"css/fonts/custom/font/custom.woff","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/custom/font/custom.svg","path":"css/fonts/custom/font/custom.svg","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/custom/font/custom.woff2","path":"css/fonts/custom/font/custom.woff2","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/custom/font/custom.ttf","path":"css/fonts/custom/font/custom.ttf","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/fontawesome/FontAwesome.otf","path":"css/fonts/fontawesome/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/fontawesome/fontawesome-webfont.eot","path":"css/fonts/fontawesome/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/fontawesome/fontawesome-webfont.ttf","path":"css/fonts/fontawesome/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Light.ttf","path":"css/fonts/roboto/Roboto-Light.ttf","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/img/avatar.gif","path":"img/avatar.gif","modified":1,"renderable":1},{"_id":"themes/material-indigo/source/css/fonts/fontawesome/fontawesome-webfont.svg","path":"css/fonts/fontawesome/fontawesome-webfont.svg","modified":1,"renderable":1}],"Cache":[{"_id":"themes/material-indigo/LICENSE","hash":"9dd0f70bc72c9d575447655526aded395bb93754","modified":1586102918408},{"_id":"themes/material-indigo/.editorconfig","hash":"67a03b88eadd7810f2e01866e73814074ecd3b87","modified":1586102918408},{"_id":"themes/material-indigo/README.md","hash":"0ffd9db4d8c2ecd89867a9fc6b0f7c354b79aa53","modified":1586102918410},{"_id":"themes/material-indigo/README.md_old","hash":"cfc7d09fc2ce26003954d647e3bbf98f71574eb7","modified":1586102918411},{"_id":"themes/material-indigo/README.ja.md","hash":"b4f14a09fece39c987daf26f744020ce60a41f69","modified":1586102918409},{"_id":"themes/material-indigo/_config.yml","hash":"090f4018b180c2accad3770c23da19e15aadb779","modified":1586531532791},{"_id":"themes/material-indigo/package.json","hash":"3ad9b9ccb1ddaad3136f179a7ebff7d7b1c193f7","modified":1586102918434},{"_id":"themes/material-indigo/languages/en.yml","hash":"d0c383abbb4280d572dad80acd08c6ef1b69f5ae","modified":1586103271224},{"_id":"themes/material-indigo/languages/nl-NL","hash":"56472caf0c12c6031bd7e85e5a436f09838cc63b","modified":1586103274969},{"_id":"themes/material-indigo/languages/ja.yml","hash":"ab38abc97fb17f8786a8cd32b422e73137f378e9","modified":1586103236361},{"_id":"themes/material-indigo/languages/zh-CN.yml","hash":"f0554d80e2b4006dea52280e0673cf6ce046f094","modified":1586103279578},{"_id":"themes/material-indigo/languages/zh-TW.yml","hash":"31a5f5671e42d730fea8e368ae8b9b3addd7e074","modified":1586103283994},{"_id":"themes/material-indigo/layout/archive.ejs","hash":"c411d4fc1e0544ade979f344d4aeeb3ad3115519","modified":1586103527910},{"_id":"themes/material-indigo/layout/categories.ejs","hash":"efae06b4d83aaf73ab93260381e891825bf404ac","modified":1586102918432},{"_id":"themes/material-indigo/layout/category.ejs","hash":"e5ba5cc2e092c199285b8097ef12ffe70bf84c91","modified":1586102918432},{"_id":"themes/material-indigo/layout/index.ejs","hash":"772c1985c7743e101598b4eddc253f9174c5605b","modified":1586102918432},{"_id":"themes/material-indigo/layout/layout.ejs","hash":"770af84fff104c398ce8b6c995130cddd3e9a1e9","modified":1586103179468},{"_id":"themes/material-indigo/layout/page.ejs","hash":"567c42b978da4c39b8b4982df19b940c26bc32a4","modified":1586102918433},{"_id":"themes/material-indigo/layout/post.ejs","hash":"efc3352828351f8574c51e8a93dc56c66660c3b1","modified":1586102918433},{"_id":"themes/material-indigo/layout/tag.ejs","hash":"90a231dea3a364b329a740e5d6c49c8cf5664fe9","modified":1586102918434},{"_id":"themes/material-indigo/layout/tags.ejs","hash":"1fc0461e9602b53899ec756e4361beb8cce74740","modified":1586102918434},{"_id":"themes/material-indigo/scripts/plugins.js","hash":"00ea278ea77733f546439aed507ce69a298da362","modified":1586102918435},{"_id":"source/_posts/ARCore.md","hash":"61a84be101ae7c4ade3070243c1fc83e13da1ef8","modified":1586104752524},{"_id":"source/_posts/AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂.md","hash":"80870306c6b501e9a813faec1cbb2ea06fe4f555","modified":1586530937520},{"_id":"source/_posts/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ.md","hash":"ed86c547fcbe9f4e03c0529c0cc7911c0c802bc2","modified":1588063019329},{"_id":"source/_posts/Android11„Å®„Åã.md","hash":"06b310a917458d40f01d14e6acd37c6bc3e49611","modified":1586104035587},{"_id":"source/_posts/Android11„ÅÆMANAGE-EXTERNAL-STORAGE„ÇíË©¶„Åô.md","hash":"2b303634b7732af7b90179dc11ed26fe8ff88aa9","modified":1588526571623},{"_id":"source/_posts/Android„Åß„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åô„Çã.md","hash":"37da6ee52c68b0a8cb6a54cb385a9e3c4c6b8801","modified":1588441304456},{"_id":"source/_posts/Android„ÅßÊ∞óÂúßË®à.md","hash":"d509bbded939f13ca917feca9b0f79eb22bd0b52","modified":1586104664880},{"_id":"source/_posts/Android„ÅÆRipple„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Åå„Åã„Åè„Åã„Åè„Å´„Å™„Çã„ÅÆ„ÇíÁõ¥„Åô.md","hash":"a0a88c25c133f37660b5f4f093bec26792dda846","modified":1588442242491},{"_id":"source/_posts/Android„ÅÆ„Éé„ÉÉ„ÉÅÈ†òÂüü„Å´‰æµÁï•.md","hash":"570f5ee02ff5219aa4dfa43a85fe4625082ba399","modified":1586104713441},{"_id":"source/_posts/Electron Builder.md","hash":"716cee9414b43ab54b9e2a15d4bb1c405ce2fe72","modified":1586104764716},{"_id":"source/_posts/Electron TypeScript.md","hash":"c3d769895a5fd769b898dc546597546dfbf1d873","modified":1586104785180},{"_id":"source/_posts/MaterialDesign.md","hash":"56cf227f9ecd3a994ce4b327096f745bd8ce79f8","modified":1586104802099},{"_id":"source/_posts/MediaProjection.md","hash":"710d09f0868822b80c8228664a83461040134144","modified":1586104839228},{"_id":"source/_posts/NavigationDrawer.md","hash":"6f12ed85b7bfaf459f0b5319e8d4a7b0c02557c7","modified":1586104859277},{"_id":"source/_posts/hello-world.md","hash":"acad91ace80b80295b11a9b7ad4c29a2dcfdd8fb","modified":1586095365840},{"_id":"source/_posts/hello.md","hash":"664dff15e2d9fbfa004a0dd200f5b7500adadbb8","modified":1586103850395},{"_id":"source/_posts/„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•Ê©üËÉΩ„Å´„Å§„ÅÑ„Å¶.md","hash":"f5ae49e3ed9c71e174ef2cb183ca7aea294456f2","modified":1586345883178},{"_id":"source/_posts/„ÅØ„Åò„ÇÅ„Å¶.md","hash":"2a18250200221ef55140dea63521525f77002eb9","modified":1586104035486},{"_id":"source/about/index.md","hash":"6db026cec35a391d399573c71539fade61509cc0","modified":1588442293881},{"_id":"themes/material-indigo/layout/_partial/after-footer.ejs","hash":"1351dbfca311f0d50a939f9e1a91c4f65bbcdf5f","modified":1586102918414},{"_id":"themes/material-indigo/layout/_partial/archive.ejs","hash":"c294c98617ce14082f9b3d5eec83328f480f5597","modified":1586102918414},{"_id":"themes/material-indigo/layout/_partial/footer.ejs","hash":"1fecb0f073c4baee08dd2cd8f897b5043991cf26","modified":1586103318666},{"_id":"themes/material-indigo/layout/_partial/head.ejs","hash":"eee628e7f82e0ce79db8f1dd8e4a0e342ff28d98","modified":1586510807073},{"_id":"themes/material-indigo/layout/_partial/header.ejs","hash":"f12df6700b4dbbcfa46c5fecf0619a7cce0e3912","modified":1586510463368},{"_id":"themes/material-indigo/layout/_partial/index-item.ejs","hash":"7208d4083ee3355aa969972a2ce249a67d56b3a6","modified":1586102918416},{"_id":"themes/material-indigo/layout/_partial/loading.ejs","hash":"8b3e037dd5f3d4564012689c5cd6f63caf73df0f","modified":1586102918416},{"_id":"themes/material-indigo/layout/_partial/menu.ejs","hash":"ea6aded24a68de0914f24b3760f766b5e1c9835a","modified":1586102918417},{"_id":"themes/material-indigo/layout/_partial/paginator.ejs","hash":"f26442085082f376231a2ff016218b5b2aa45481","modified":1586104954189},{"_id":"themes/material-indigo/layout/_partial/post.ejs","hash":"df8a83a61fa79e8239fcd45911772b3ea6585248","modified":1587318581002},{"_id":"themes/material-indigo/layout/_partial/script.ejs","hash":"b28106b35a9fc63eefa69c2ca8b923eb1f731832","modified":1586102918430},{"_id":"themes/material-indigo/layout/_partial/search.ejs","hash":"752109904304fdb8e988ee1254df2af9c0701466","modified":1586102918431},{"_id":"themes/material-indigo/layout/_partial/tags-bar.ejs","hash":"5e6ce0af855c18028ad0f142a1566ca1a2b275bf","modified":1586343698192},{"_id":"themes/material-indigo/source/img/alipay.jpg","hash":"6054d9ed2ca7cd1f645b729e05632134467d4daa","modified":1586102918479},{"_id":"themes/material-indigo/source/img/avatar.jpg","hash":"62a4893b1a32e997dcdb6e467b10559df75221e2","modified":1586102918479},{"_id":"themes/material-indigo/source/img/brand.jpg","hash":"0e237f1b433851c156e1f1cdaeb044054b3b9879","modified":1586102918480},{"_id":"themes/material-indigo/source/img/cc.png","hash":"ebce75a62b40976a72d43f0bd937d859ac24d87c","modified":1586102918481},{"_id":"themes/material-indigo/source/img/favicon.ico","hash":"96170a8ae970d671a681469fd0511c15f3bc0af1","modified":1586103120073},{"_id":"themes/material-indigo/source/img/img-err.png","hash":"23a63ea26eb3c1d5e677d9883cf36cc1a1a1228b","modified":1586102918481},{"_id":"themes/material-indigo/source/img/img-loading.png","hash":"a9cd5cd11866824f31e3d1c5e23badfeb3f73031","modified":1586102918482},{"_id":"themes/material-indigo/source/img/wechat.jpg","hash":"ef069cc9e80c7553fd60589b0727bbbf8c6de372","modified":1586102918482},{"_id":"themes/material-indigo/source/css/style.less","hash":"cf362925ae099b810fd5763e6b724b823612ed15","modified":1586102918478},{"_id":"themes/material-indigo/source/js/main.js","hash":"ff44bb7b2f1f08757093fd6ffa92c9ac2b674109","modified":1586102918483},{"_id":"themes/material-indigo/source/js/main.min.js","hash":"e77a89fe5a9827ac590a288778176b233dd900ad","modified":1586102918483},{"_id":"themes/material-indigo/source/js/search.js","hash":"a4d6c9c566ec1ca71ddacfd14c58f7ddaf9db24d","modified":1586102918484},{"_id":"themes/material-indigo/source/js/search.min.js","hash":"a8a450bb8b1ca9ad577052addcbd3393f1af6c6a","modified":1586102918484},{"_id":"source/_posts/AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂/error.png","hash":"6702aa0903643456ee56320ec455d744609ca0c6","modified":1586530439829},{"_id":"source/_posts/AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂/json.png","hash":"ce35301b103666460e6795c4fece6699333c9fca","modified":1586530684702},{"_id":"source/_posts/AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂/json_fix.png","hash":"822d7994dab20f96deeef49db0e207f9188ef167","modified":1586530801512},{"_id":"source/_posts/Android„Åß„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åô„Çã/menu.png","hash":"63367abd08c55610f553aad8a92eaac9c44fcc98","modified":1588062676075},{"_id":"source/_posts/Android„Åß„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åô„Çã/toast.png","hash":"b23943377a66bccc61f5a0e67756823744ed1a45","modified":1588062907017},{"_id":"source/omake/image/play.png","hash":"76ba27039c8752d84173790274d47faef56cb70f","modified":1586518894794},{"_id":"source/omake/image/result.png","hash":"93a7c1cb79af8c4c1f35314000fd342fbe30b8c9","modified":1586518894797},{"_id":"source/omake/image/title.png","hash":"587c1d6e6973fd37868a6dcb217c9f13182c7c38","modified":1586518894799},{"_id":"source/omake/image/tori.png","hash":"26627473de8dd6fba81b9c0be821992969104bcf","modified":1586518894806},{"_id":"source/_posts/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/filer.png","hash":"bfb8df54efe3a997f924084f87a2c78ce2c743d5","modified":1587315005368},{"_id":"source/_posts/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/kyoka_1.png","hash":"2e6fea3b504c24602b678dd0b87bfb3580206e3a","modified":1587315005251},{"_id":"source/_posts/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/list.png","hash":"7daba00f61218ddb944df66c4156d894e34f97af","modified":1587313251394},{"_id":"source/_posts/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/save.png","hash":"050584b1925939acc07e870712d8f0d5393a2a2f","modified":1587313251534},{"_id":"source/_posts/Android11„ÅÆMANAGE-EXTERNAL-STORAGE„ÇíË©¶„Åô/list.png","hash":"522d4927c7b7f7a44e751a069f518770adae1143","modified":1588523888411},{"_id":"source/_posts/Android11„ÅÆMANAGE-EXTERNAL-STORAGE„ÇíË©¶„Åô/write.png","hash":"db6a0ac5429012193b09ee14c231f8ed071a234e","modified":1588524932646},{"_id":"themes/material-indigo/layout/_partial/plugins/baidu.ejs","hash":"da1355eea131952031e54c45560555e6d3aa5a33","modified":1586102918417},{"_id":"themes/material-indigo/layout/_partial/plugins/disqus.ejs","hash":"86fe837ab16cb60754b0a73bb9efa38b04f3023f","modified":1586102918418},{"_id":"themes/material-indigo/layout/_partial/plugins/gitalk.ejs","hash":"8a0c390ed475600c627bcfa41df15a54f60eca3c","modified":1586102918418},{"_id":"themes/material-indigo/layout/_partial/plugins/dynamic-title.ejs","hash":"1c2ac5e146a1bb4e014874872a7304302eb00060","modified":1586509926628},{"_id":"themes/material-indigo/layout/_partial/plugins/gitment.ejs","hash":"5f6ceb7f4b9b579e8e3f87894447f556a53f9385","modified":1586102918419},{"_id":"themes/material-indigo/layout/_partial/plugins/google-analytics.ejs","hash":"b5b87761751a897949e085a8f1ace78b0b8babd5","modified":1586102918419},{"_id":"themes/material-indigo/layout/_partial/plugins/hyper-comments.ejs","hash":"d0e6f1d713e7a1c0cc5fe25f3e574a4b791f938a","modified":1586102918419},{"_id":"themes/material-indigo/layout/_partial/plugins/mathjax.ejs","hash":"b891d647797a24aed5ceb095cb0f30f5759f02e2","modified":1586102918420},{"_id":"themes/material-indigo/layout/_partial/plugins/page-visit.ejs","hash":"2e72907b7ab280bbc0ae6a04f00c80d46904e481","modified":1586103797416},{"_id":"themes/material-indigo/layout/_partial/plugins/site-visit.ejs","hash":"a2c247c2e32016563dd6a22c21474072d93f4dbd","modified":1586103203521},{"_id":"themes/material-indigo/layout/_partial/plugins/tajs.ejs","hash":"ef9c77d8c6e004b014c83c5f9333e7174f8bafa3","modified":1586102918421},{"_id":"themes/material-indigo/layout/_partial/plugins/uyan.ejs","hash":"ddf290e90dc1c779f42a48e1bd852ca932148dfb","modified":1586102918421},{"_id":"themes/material-indigo/layout/_partial/plugins/valine.ejs","hash":"0a6245da90d54177441d32a6f1766b4f434660db","modified":1586102918421},{"_id":"themes/material-indigo/layout/_partial/post/category.ejs","hash":"c08e44cbd7315dec7afb6054b04d3c7b82c3bde8","modified":1586102918422},{"_id":"themes/material-indigo/layout/_partial/post/comment.ejs","hash":"2751d0f694f72bb886664ace021d698ea0e8f0c7","modified":1586102918423},{"_id":"themes/material-indigo/layout/_partial/post/copyright.ejs","hash":"31347d0728a9d889e072e18b72ea18947b6186d9","modified":1588063508521},{"_id":"themes/material-indigo/layout/_partial/post/date.ejs","hash":"c5adcec8db1506c378d39855a697e1bb1165646c","modified":1586102918424},{"_id":"themes/material-indigo/layout/_partial/post/head-meta.ejs","hash":"f137c126672769e9571be2bb0a70ea8dda644b0e","modified":1586102918425},{"_id":"themes/material-indigo/layout/_partial/post/nav.ejs","hash":"03719097851575a2c1bb95774058b224f6402a1f","modified":1586102918425},{"_id":"themes/material-indigo/layout/_partial/post/reward-btn.ejs","hash":"5b6140368c0f9e80465ed7f1f707ca76af98024d","modified":1586103467851},{"_id":"themes/material-indigo/layout/_partial/post/reward.ejs","hash":"097c0276a61665e5ee96e5d5d85a7d6ae5ab2f49","modified":1586102918426},{"_id":"themes/material-indigo/layout/_partial/post/share-fab.ejs","hash":"2ec7de870988cfbc8ea9872cddf7e4076ac64a57","modified":1586102918427},{"_id":"themes/material-indigo/layout/_partial/post/share.ejs","hash":"a954b3f4ddefb8c76f4f9642050de04c07504474","modified":1586102918429},{"_id":"themes/material-indigo/layout/_partial/post/tag.ejs","hash":"412894001b1ac6e63012b26b1109a0856651c076","modified":1586102918429},{"_id":"themes/material-indigo/layout/_partial/post/title.ejs","hash":"eaad7af7888bddd7095243a43ff38f55ad8c494a","modified":1586102918430},{"_id":"themes/material-indigo/layout/_partial/post/toc.ejs","hash":"d534b888d24df7703c632539d4bdd638fa764e98","modified":1586102918430},{"_id":"themes/material-indigo/layout/_partial/post/updated.ejs","hash":"00fedf7971c0bda0623d968bc0614e512d19a985","modified":1586102918430},{"_id":"themes/material-indigo/source/css/_partial/archives.less","hash":"382fc22cd5cc073e881768a65600d97eba9f1d21","modified":1586102918436},{"_id":"themes/material-indigo/source/css/_partial/article.less","hash":"f047c8ca92f9e6a8e1299ace0cce91514631a21c","modified":1586102918436},{"_id":"themes/material-indigo/source/css/_partial/gotop.less","hash":"bad63006b3bd4849bf53ad38482af0d9971061d3","modified":1586102918437},{"_id":"themes/material-indigo/source/css/_partial/header.less","hash":"880b4a28e97d556ed15b07642d25115f9b6ba4f6","modified":1586102918438},{"_id":"themes/material-indigo/source/css/_partial/highlight.less","hash":"99e48793dc0b4ffb66ecaf2d1315145872f9bb98","modified":1586102918438},{"_id":"themes/material-indigo/source/css/_partial/layout.less","hash":"5f783f34bf093e654e8922ed4a2af8b7b2cd41c4","modified":1586102918438},{"_id":"themes/material-indigo/source/css/_partial/lightbox.less","hash":"38419aaf3c1832e84ade331f051f110fdc8b960f","modified":1586102918439},{"_id":"themes/material-indigo/source/css/_partial/loading.less","hash":"85157ddf3877b5c58e8f1d737dda3dfb1bfd540b","modified":1586102918439},{"_id":"themes/material-indigo/source/css/_partial/page.less","hash":"33b0a5edcedc26a4c592c812c5785bb20d3c93db","modified":1586102918439},{"_id":"themes/material-indigo/source/css/_partial/postlist.less","hash":"516cded3c7f1db4cacfa898bcaf0adfae7f3a2e1","modified":1586102918439},{"_id":"themes/material-indigo/source/css/_partial/reward.less","hash":"f5e89ea5414e3096a28c8c96e86c3f669040a892","modified":1586102918440},{"_id":"themes/material-indigo/source/css/_partial/roboto.less","hash":"3e457942995da8840e7662fa6cb551a7e12ea294","modified":1586102918440},{"_id":"themes/material-indigo/source/css/_partial/search.less","hash":"dbc23e77e586ee682a21475f5eb568628ea6720f","modified":1586102918440},{"_id":"themes/material-indigo/source/css/_partial/share.less","hash":"54518cb09d4d402f7272d4b3b9c2516dabcd8aed","modified":1586102918441},{"_id":"themes/material-indigo/source/css/_partial/tags.less","hash":"01eb7f84193180928a6ed4796ee8802f6c1628e7","modified":1586102918441},{"_id":"themes/material-indigo/source/css/_partial/waves.less","hash":"a02eaa601887f947257f6016679b62dc96a61c0c","modified":1586102918442},{"_id":"themes/material-indigo/source/css/_partial/variable.less","hash":"9ab83560b1d1cf160790bc2a5dce07e068cf1358","modified":1586102918442},{"_id":"themes/material-indigo/source/css/_plugin/valine.less","hash":"b8f8d8037fb3c8525da12e580bd9e2ff9f298132","modified":1586102918443},{"_id":"source/_posts/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/kyoka_2.png","hash":"50c9f13d32c603052274e6bc7a5d0036c85e13bc","modified":1587315005333},{"_id":"source/omake/index.html","hash":"dec357cbb8d9b519676782618f2bec31e2da2ad1","modified":1586531658506},{"_id":"themes/material-indigo/source/css/_partial/fontawesome.less","hash":"a3ecbd6ccf5b56ac39df710c34a149b82989a498","modified":1586102918437},{"_id":"source/_posts/Android11„ÅÆMANAGE-EXTERNAL-STORAGE„ÇíË©¶„Åô/screen.png","hash":"8464087d5ba2ebf8bce3052141b377e8ad275fbb","modified":1588523888472},{"_id":"themes/material-indigo/source/css/fonts/koruri/Koruri-Regular-sub.eot","hash":"ad008c6b11bffd8a4b42e2fde23e959e9eafb641","modified":1586510374794},{"_id":"themes/material-indigo/source/css/fonts/koruri/Koruri-Regular-sub.ttf","hash":"cd7ff7c16c3af296a965349a2ac67df87875fd8b","modified":1586510374815},{"_id":"themes/material-indigo/source/css/fonts/koruri/Koruri-Regular-sub.woff","hash":"6446279f8989b73428be531cfc28b8bc704f211d","modified":1586510374772},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Bold.eot","hash":"a76cd602f5188b9fbd4ba7443dcb9c064e3dbf10","modified":1586102918460},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Light.eot","hash":"42fe156996197e5eb0c0264c5d1bb3b4681f4595","modified":1586102918463},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Medium.eot","hash":"1517f4b6e1c5d0e5198f937557253aac8fab0416","modified":1586102918466},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Medium.woff","hash":"d45f84922131364989ad6578c7a06b6b4fc22c34","modified":1586102918468},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Regular.eot","hash":"77ae3e980ec03863ebe2587a8ef9ddfd06941db0","modified":1586102918469},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Medium.woff2","hash":"6cc1b73571af9e827c4e7e91418f476703cd4c4b","modified":1586102918469},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Regular.woff","hash":"74734dde8d94e7268170f9b994dedfbdcb5b3a15","modified":1586102918471},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Regular.woff2","hash":"ed1558b0541f5e01ce48c7db1588371b990eec19","modified":1586102918472},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Thin.eot","hash":"0790a51a848dbe7292c98f9d0459218bf1a8ffdd","modified":1586102918472},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Thin.woff","hash":"fbc3e71d456c96667d8082ab910e3946ef89240b","modified":1586102918474},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Thin.woff2","hash":"2449e3dac5ddb7c3da8bb07450493b62d052758c","modified":1586102918476},{"_id":"themes/material-indigo/source/css/fonts/fontawesome/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1586102918458},{"_id":"themes/material-indigo/source/css/fonts/fontawesome/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1586102918459},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Bold.ttf","hash":"47327df0f35e7cd7c8645874897a7449697544ae","modified":1586102918461},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Bold.woff","hash":"ee99cd87a59a9a5d4092c83232bb3eec67547425","modified":1586102918462},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Bold.woff2","hash":"933b866d09c2b087707a98dab64b3888865eeb96","modified":1586102918463},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Light.woff","hash":"6300f659be9e834ab263efe2fb3c581d48b1e7b2","modified":1586102918465},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Light.woff2","hash":"bbdc28b887400fcb340b504ec2904993af42a5d7","modified":1586102918465},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Medium.ttf","hash":"6060ca726b9760b76f7c347dce9d2fa1fe42ec92","modified":1586102918467},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Regular.ttf","hash":"824b5480c977a8166e177e5357d13164ccc45f47","modified":1586102918470},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Thin.ttf","hash":"173ed64528b4d010a76d8d38deb1d7e7eed58eda","modified":1586102918474},{"_id":"themes/material-indigo/source/css/fonts/custom/css/animation.css","hash":"f763298ac4912e0e83793883936107722f130250","modified":1586102918444},{"_id":"themes/material-indigo/source/css/fonts/custom/css/custom-codes.css","hash":"6dbc9dedada62ea369a6084ce351347d4d7fc64d","modified":1586102918445},{"_id":"themes/material-indigo/source/css/fonts/custom/css/custom-embedded.css","hash":"8324a6019d9cf5cf1363eb1e1997417b9b07f69c","modified":1586102918445},{"_id":"themes/material-indigo/source/css/fonts/custom/css/custom-ie7-codes.css","hash":"06ea14e23bbb06a32ddfadaa92406d97646bae32","modified":1586102918446},{"_id":"themes/material-indigo/source/css/fonts/custom/css/custom-ie7.css","hash":"b567505e8b0eedc8eaf93972d632891118627205","modified":1586102918446},{"_id":"themes/material-indigo/source/css/fonts/custom/css/custom.css","hash":"b286dd0ebfc933e8492ea72c2bce1c9837d65f4e","modified":1586510775352},{"_id":"themes/material-indigo/source/css/fonts/custom/font/custom.eot","hash":"3c9062464e0c0fac579d65e95367311e5ab3dc52","modified":1586102918447},{"_id":"themes/material-indigo/source/css/fonts/custom/font/custom.woff","hash":"e4cb97267930f2a868e8e927b54b887ceb9acc07","modified":1586102918448},{"_id":"themes/material-indigo/source/css/fonts/custom/font/custom.svg","hash":"fe266d196ea2e07cb0adc5985c9c69219985e9bf","modified":1586102918447},{"_id":"themes/material-indigo/source/css/fonts/custom/font/custom.woff2","hash":"acf7e5faf62787a1b923a745d3d15cfac28110e6","modified":1586102918448},{"_id":"themes/material-indigo/source/css/fonts/custom/font/custom.ttf","hash":"962e0434b437072ebf851fe7127b8352fb1a7d78","modified":1586102918448},{"_id":"themes/material-indigo/source/css/fonts/fontawesome/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1586102918450},{"_id":"themes/material-indigo/source/css/fonts/fontawesome/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1586102918452},{"_id":"themes/material-indigo/source/css/fonts/fontawesome/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1586102918457},{"_id":"themes/material-indigo/source/css/fonts/roboto/Roboto-Light.ttf","hash":"e321c183e2b75ee19813892b7bac8d7c411cb88a","modified":1586102918464},{"_id":"themes/material-indigo/source/img/avatar.gif","hash":"249dfa261a7c0a02d32c9b45e7d7a8614a42b162","modified":1586103058927},{"_id":"themes/material-indigo/source/css/fonts/fontawesome/fontawesome-webfont.svg","hash":"b5483b11f8ba213e733b5b8af9927a04fec996f6","modified":1586102918455},{"_id":"source/_posts/Android„ÅÆRipple„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Åå„Åã„Åè„Åã„Åè„Å´„Å™„Çã„ÅÆ„ÇíÁõ¥„Åô/ripple.png","hash":"1baae6d1742353ba0d90061aa696223a15bcb85e","modified":1588441511876},{"_id":"public/about/index.html","hash":"fed2a17f5b80971e42109e1e7f445be9dbe31e56","modified":1588526638847},{"_id":"public/2020/04/06/Android11„Å®„Åã/index.html","hash":"cebaae454318e41851f2fc8d4fb26b22f13f4ab7","modified":1588526638847},{"_id":"public/2020/04/06/hello/index.html","hash":"8624b9449d234bb8bb75ad688a39feb783c0b314","modified":1588526638847},{"_id":"public/tags/Android/page/2/index.html","hash":"1b011a4c277a383360e3f9f9f36d6bf721cc3bf0","modified":1588526638847},{"_id":"public/tags/ARCore/index.html","hash":"a40ec9ec83117f3a729df224231271c0af6f0aef","modified":1588526638847},{"_id":"public/tags/ScopedStorage/index.html","hash":"2f2c3838de162c8cf8d40375fa4dc3878e40f9c2","modified":1588526638847},{"_id":"public/tags/Âè∞È¢®/index.html","hash":"989a881214e5e8ea5876636e83bfba991c928f2f","modified":1588526638847},{"_id":"public/tags/JavaScript/index.html","hash":"983a8b4a66adf34d3adbaf56ce98a537a99f5c9d","modified":1588526638847},{"_id":"public/tags/Electron/index.html","hash":"85d987de9bb8476dcbefcaf345136201139ecf44","modified":1588526638847},{"_id":"public/tags/TypeScript/index.html","hash":"45cefec979ec1b11fe58cfa61304d620cfacbcf9","modified":1588526638847},{"_id":"public/tags/Node-js/index.html","hash":"9cd696e2d769ee75c3f60a25b42516ccc79db853","modified":1588526638847},{"_id":"public/tags/MediaProjection/index.html","hash":"abc88bd9538e1aca404ce0a55157ce72710025a1","modified":1588526638847},{"_id":"public/tags/ÁîªÈù¢Èå≤Áîª/index.html","hash":"8a85bf603acc3d3ef769d83665148cc63e07ea74","modified":1588526638847},{"_id":"public/tags/AndroidQ/index.html","hash":"44f8d990a4f9931c72b319e3207cbbe8cfcbfae4","modified":1588526638847},{"_id":"public/tags/„Åù„ÅÆ‰ªñ/index.html","hash":"d8f0831db8d87c78b66c9f285fae982edf839f3e","modified":1588526638847},{"_id":"public/tags/„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©/index.html","hash":"987e1831fdcfb3399a5891628e795a3b9c6b73d7","modified":1588526638847},{"_id":"public/tags/„Éã„Ç≥„Éã„Ç≥ÂãïÁîª/index.html","hash":"86c022bb2387672cc43f8626a8ed01e6527b7ecf","modified":1588526638847},{"_id":"public/tags/NavigationDrawer/index.html","hash":"bbbdf857b7069a3b4b8d8f21656d66a04a72d467","modified":1588526638847},{"_id":"public/tags/Android11/index.html","hash":"66d6cfae47785f5f38f715294a0e7480f4c7f31e","modified":1588526638847},{"_id":"public/archives/2020/05/index.html","hash":"ac8eee9e214cf7430bba270c961017cb51a50853","modified":1588526638847},{"_id":"public/omake/index.html","hash":"a79442b7b9ff46d07d9351c842cc7748fd3b0c90","modified":1588526638847},{"_id":"public/2020/05/04/Android11„ÅÆMANAGE-EXTERNAL-STORAGE„ÇíË©¶„Åô/index.html","hash":"3baf1fc5c44db7e5dc02a3c83e150a42d5965327","modified":1588526638847},{"_id":"public/2020/05/03/Android„ÅÆRipple„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Åå„Åã„Åè„Åã„Åè„Å´„Å™„Çã„ÅÆ„ÇíÁõ¥„Åô/index.html","hash":"97031c300f172e32e4f07313a1a73d703e8f83f7","modified":1588526638847},{"_id":"public/2020/04/28/Android„Åß„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åô„Çã/index.html","hash":"3011ebf42b06ee5c4eae7d98c4f8819089637506","modified":1588526638847},{"_id":"public/2020/04/19/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/index.html","hash":"72934367159333db1b488d5ea14ec4479a362c0b","modified":1588526638847},{"_id":"public/2020/04/10/AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂/index.html","hash":"31c75f6bc357eb228a9921b385869a8512c34b21","modified":1588526638847},{"_id":"public/2020/04/08/„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•Ê©üËÉΩ„Å´„Å§„ÅÑ„Å¶/index.html","hash":"9fbc756bb746738b556f83551c31933fa9d3b93d","modified":1588526638847},{"_id":"public/2020/04/06/Electron Builder/index.html","hash":"c18b513c44c8335a6cb76028c796fe518266c0d4","modified":1588526638847},{"_id":"public/2020/04/06/ARCore/index.html","hash":"0f5643aebe02afff7f4efedc65cc79bcebb9c744","modified":1588526638847},{"_id":"public/2020/04/06/Android„ÅÆ„Éé„ÉÉ„ÉÅÈ†òÂüü„Å´‰æµÁï•/index.html","hash":"decd97ad3ebd50ca2f9c613dd0e7f7928578fd02","modified":1588526638847},{"_id":"public/2020/04/06/Android„ÅßÊ∞óÂúßË®à/index.html","hash":"63266214398eea9b9304cf80b6792ccf1e2c7a77","modified":1588526638847},{"_id":"public/2020/04/06/„ÅØ„Åò„ÇÅ„Å¶/index.html","hash":"eebe766849c5a341387fbceb147a7d19afe84af9","modified":1588526638847},{"_id":"public/2020/04/06/NavigationDrawer/index.html","hash":"4616db74302c74dd164460049176cea3a7468dca","modified":1588526638847},{"_id":"public/2020/04/06/MediaProjection/index.html","hash":"9a0d5b8958f579d6ff4ac12aa4ec1172465d7c3d","modified":1588526638847},{"_id":"public/2020/04/06/MaterialDesign/index.html","hash":"86ec19b712a7ed7cff97c52d2ccf16606070a014","modified":1588526638847},{"_id":"public/2020/04/06/Electron TypeScript/index.html","hash":"bb0ceb07e1997141b4ebe0a21d3076e2dc5e0535","modified":1588526638847},{"_id":"public/2020/04/05/hello-world/index.html","hash":"89dea3f882d0fb0754cb639ecb3ac1e78afb3f82","modified":1588526638847},{"_id":"public/tags/Android/index.html","hash":"2840fe190504e80bcc60c48e74410d7e4fec15b0","modified":1588526638847},{"_id":"public/tags/Kotlin/index.html","hash":"a5d6eb9c6eb59cccb8ca5fd66aca8fd18251bcda","modified":1588526638847},{"_id":"public/tags/MaterialDesign/index.html","hash":"1406783a532e4b3bd13e37bc7c1bb8c8100c488f","modified":1588526638847},{"_id":"public/archives/index.html","hash":"8e58882aca40f13224ecf24b47ffb274a64a5c83","modified":1588526638847},{"_id":"public/archives/page/2/index.html","hash":"1768a37c2474236b31c3c12446cf8b08fd9d134d","modified":1588526638847},{"_id":"public/archives/2020/index.html","hash":"b0585f588bcc893a95af0a95091fd2428947ac89","modified":1588526638847},{"_id":"public/archives/2020/page/2/index.html","hash":"24c51272ce6c88df60b5bbaad6fe633ff517d2f0","modified":1588526638847},{"_id":"public/archives/2020/04/index.html","hash":"5e45a40a278ebea2647691c6fcad00c5108be6b9","modified":1588526638847},{"_id":"public/archives/2020/04/page/2/index.html","hash":"9afdde4589add19cea8a535ce009ff03d00fc729","modified":1588526638847},{"_id":"public/index.html","hash":"781b7cdba9756b8a0a279e6d15697241baddfd0d","modified":1588526638847},{"_id":"public/page/2/index.html","hash":"5a11288b41521bffb986a46c085e858093853d74","modified":1588526638847},{"_id":"public/img/avatar.jpg","hash":"62a4893b1a32e997dcdb6e467b10559df75221e2","modified":1588526638847},{"_id":"public/img/alipay.jpg","hash":"6054d9ed2ca7cd1f645b729e05632134467d4daa","modified":1588526638847},{"_id":"public/img/cc.png","hash":"ebce75a62b40976a72d43f0bd937d859ac24d87c","modified":1588526638847},{"_id":"public/img/img-err.png","hash":"23a63ea26eb3c1d5e677d9883cf36cc1a1a1228b","modified":1588526638847},{"_id":"public/img/img-loading.png","hash":"a9cd5cd11866824f31e3d1c5e23badfeb3f73031","modified":1588526638847},{"_id":"public/img/favicon.ico","hash":"96170a8ae970d671a681469fd0511c15f3bc0af1","modified":1588526638847},{"_id":"public/img/wechat.jpg","hash":"ef069cc9e80c7553fd60589b0727bbbf8c6de372","modified":1588526638847},{"_id":"public/omake/image/play.png","hash":"76ba27039c8752d84173790274d47faef56cb70f","modified":1588526638847},{"_id":"public/omake/image/result.png","hash":"93a7c1cb79af8c4c1f35314000fd342fbe30b8c9","modified":1588526638847},{"_id":"public/omake/image/title.png","hash":"587c1d6e6973fd37868a6dcb217c9f13182c7c38","modified":1588526638847},{"_id":"public/omake/image/tori.png","hash":"26627473de8dd6fba81b9c0be821992969104bcf","modified":1588526638847},{"_id":"public/css/fonts/koruri/Koruri-Regular-sub.eot","hash":"ad008c6b11bffd8a4b42e2fde23e959e9eafb641","modified":1588526638847},{"_id":"public/css/fonts/koruri/Koruri-Regular-sub.ttf","hash":"cd7ff7c16c3af296a965349a2ac67df87875fd8b","modified":1588526638847},{"_id":"public/css/fonts/koruri/Koruri-Regular-sub.woff","hash":"6446279f8989b73428be531cfc28b8bc704f211d","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Bold.eot","hash":"a76cd602f5188b9fbd4ba7443dcb9c064e3dbf10","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Light.eot","hash":"42fe156996197e5eb0c0264c5d1bb3b4681f4595","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Medium.eot","hash":"1517f4b6e1c5d0e5198f937557253aac8fab0416","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Medium.woff","hash":"d45f84922131364989ad6578c7a06b6b4fc22c34","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Regular.eot","hash":"77ae3e980ec03863ebe2587a8ef9ddfd06941db0","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Medium.woff2","hash":"6cc1b73571af9e827c4e7e91418f476703cd4c4b","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Regular.woff","hash":"74734dde8d94e7268170f9b994dedfbdcb5b3a15","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Regular.woff2","hash":"ed1558b0541f5e01ce48c7db1588371b990eec19","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Thin.eot","hash":"0790a51a848dbe7292c98f9d0459218bf1a8ffdd","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Thin.woff","hash":"fbc3e71d456c96667d8082ab910e3946ef89240b","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Thin.woff2","hash":"2449e3dac5ddb7c3da8bb07450493b62d052758c","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Bold.woff","hash":"ee99cd87a59a9a5d4092c83232bb3eec67547425","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Bold.woff2","hash":"933b866d09c2b087707a98dab64b3888865eeb96","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Light.woff","hash":"6300f659be9e834ab263efe2fb3c581d48b1e7b2","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Light.woff2","hash":"bbdc28b887400fcb340b504ec2904993af42a5d7","modified":1588526638847},{"_id":"public/css/fonts/custom/font/custom.eot","hash":"3c9062464e0c0fac579d65e95367311e5ab3dc52","modified":1588526638847},{"_id":"public/css/fonts/custom/font/custom.woff","hash":"e4cb97267930f2a868e8e927b54b887ceb9acc07","modified":1588526638847},{"_id":"public/css/fonts/custom/font/custom.svg","hash":"fe266d196ea2e07cb0adc5985c9c69219985e9bf","modified":1588526638847},{"_id":"public/css/fonts/custom/font/custom.woff2","hash":"acf7e5faf62787a1b923a745d3d15cfac28110e6","modified":1588526638847},{"_id":"public/css/fonts/custom/font/custom.ttf","hash":"962e0434b437072ebf851fe7127b8352fb1a7d78","modified":1588526638847},{"_id":"public/2020/04/28/Android„Åß„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åô„Çã/menu.png","hash":"63367abd08c55610f553aad8a92eaac9c44fcc98","modified":1588526638847},{"_id":"public/2020/04/28/Android„Åß„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åô„Çã/toast.png","hash":"b23943377a66bccc61f5a0e67756823744ed1a45","modified":1588526638847},{"_id":"public/2020/04/10/AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂/error.png","hash":"6702aa0903643456ee56320ec455d744609ca0c6","modified":1588526638847},{"_id":"public/2020/04/10/AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂/json.png","hash":"ce35301b103666460e6795c4fece6699333c9fca","modified":1588526638847},{"_id":"public/2020/04/10/AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂/json_fix.png","hash":"822d7994dab20f96deeef49db0e207f9188ef167","modified":1588526638847},{"_id":"public/img/brand.jpg","hash":"0e237f1b433851c156e1f1cdaeb044054b3b9879","modified":1588526638847},{"_id":"public/css/style.less","hash":"cf362925ae099b810fd5763e6b724b823612ed15","modified":1588526638847},{"_id":"public/css/fonts/fontawesome/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1588526638847},{"_id":"public/css/fonts/fontawesome/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Bold.ttf","hash":"47327df0f35e7cd7c8645874897a7449697544ae","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Medium.ttf","hash":"6060ca726b9760b76f7c347dce9d2fa1fe42ec92","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Regular.ttf","hash":"824b5480c977a8166e177e5357d13164ccc45f47","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Thin.ttf","hash":"173ed64528b4d010a76d8d38deb1d7e7eed58eda","modified":1588526638847},{"_id":"public/css/fonts/roboto/Roboto-Light.ttf","hash":"e321c183e2b75ee19813892b7bac8d7c411cb88a","modified":1588526638847},{"_id":"public/2020/05/04/Android11„ÅÆMANAGE-EXTERNAL-STORAGE„ÇíË©¶„Åô/list.png","hash":"522d4927c7b7f7a44e751a069f518770adae1143","modified":1588526638847},{"_id":"public/2020/05/04/Android11„ÅÆMANAGE-EXTERNAL-STORAGE„ÇíË©¶„Åô/write.png","hash":"db6a0ac5429012193b09ee14c231f8ed071a234e","modified":1588526638847},{"_id":"public/2020/04/19/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/filer.png","hash":"bfb8df54efe3a997f924084f87a2c78ce2c743d5","modified":1588526638847},{"_id":"public/2020/04/19/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/kyoka_1.png","hash":"2e6fea3b504c24602b678dd0b87bfb3580206e3a","modified":1588526638847},{"_id":"public/2020/04/19/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/list.png","hash":"7daba00f61218ddb944df66c4156d894e34f97af","modified":1588526638847},{"_id":"public/2020/04/19/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/save.png","hash":"050584b1925939acc07e870712d8f0d5393a2a2f","modified":1588526638847},{"_id":"public/js/main.min.js","hash":"8acf4480f8ab859423b8926b9b790c67b5a77276","modified":1588526638847},{"_id":"public/js/search.js","hash":"a1de7e7a2ef8330ebcd9f3a7a4622b3bac44e4f3","modified":1588526638847},{"_id":"public/js/search.min.js","hash":"a8a450bb8b1ca9ad577052addcbd3393f1af6c6a","modified":1588526638847},{"_id":"public/css/fonts/custom/css/custom-codes.css","hash":"e0aa854bccaa3c4a32e9c2da01c463dbdd820bdb","modified":1588526638847},{"_id":"public/css/fonts/custom/css/animation.css","hash":"181bbc89ec978981bf0ef8c7239710ae5b3ad6a1","modified":1588526638847},{"_id":"public/css/fonts/custom/css/custom-ie7-codes.css","hash":"13be021c7a98e2f15b638e751af63cc1f5bffb1a","modified":1588526638847},{"_id":"public/css/fonts/custom/css/custom-embedded.css","hash":"1a231f1171ff47f6965a8484b8116717acdcecc4","modified":1588526638847},{"_id":"public/css/fonts/custom/css/custom-ie7.css","hash":"99b21da90d85662983e14f9d50c51e95fcee4490","modified":1588526638847},{"_id":"public/css/fonts/custom/css/custom.css","hash":"8b50efc8287caadd036ba15448bf18e39f878286","modified":1588526638847},{"_id":"public/js/main.js","hash":"300b2e963683ced162e28afcd24ffc970fc23ac2","modified":1588526638847},{"_id":"public/css/fonts/fontawesome/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1588526638847},{"_id":"public/css/fonts/fontawesome/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1588526638847},{"_id":"public/css/fonts/fontawesome/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1588526638847},{"_id":"public/2020/04/19/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/kyoka_2.png","hash":"50c9f13d32c603052274e6bc7a5d0036c85e13bc","modified":1588526638847},{"_id":"public/2020/05/04/Android11„ÅÆMANAGE-EXTERNAL-STORAGE„ÇíË©¶„Åô/screen.png","hash":"8464087d5ba2ebf8bce3052141b377e8ad275fbb","modified":1588526638847},{"_id":"public/css/fonts/fontawesome/fontawesome-webfont.svg","hash":"b5483b11f8ba213e733b5b8af9927a04fec996f6","modified":1588526638847},{"_id":"public/img/avatar.gif","hash":"249dfa261a7c0a02d32c9b45e7d7a8614a42b162","modified":1588526638847},{"_id":"public/2020/05/03/Android„ÅÆRipple„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Åå„Åã„Åè„Åã„Åè„Å´„Å™„Çã„ÅÆ„ÇíÁõ¥„Åô/ripple.png","hash":"1baae6d1742353ba0d90061aa696223a15bcb85e","modified":1588526638847}],"Category":[],"Data":[],"Page":[{"title":"about","date":"2020-04-10T10:22:02.000Z","_content":"# „Åì„ÅÆ„Çµ„Ç§„Éà„Å´„Å§„ÅÑ„Å¶\n„Åì„ÅÆ„Çµ„Ç§„Éà„ÅØQiita„ÅÆ‰ª£Êõø„Å®„ÅãËá™‰Ωú„Ç¢„Éó„É™„Å´„Å§„ÅÑ„Å¶ÈÅ©ÂΩì„Å´„Åã„Åè„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ  \nHexo„Å®„ÅÑ„ÅÜ„ÇÑ„Å§„Çí‰Ωø„Å£„Å¶„ÅÑ„Çã„ÄÇnpm„Åß„Ç§„É≥„Çπ„Éà„Éº„É´„Åß„Åç„Çã„ÅÆ„ÅßÁ∞°Âçò„ÄÇ\n\n# „Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº\nGoogle Analytics„ÇíÁΩÆ„ÅÑ„Å¶„Åæ„Åô„ÄÇ„Åì„Çå„ÅØÁßÅ„Åå„Åì„ÅÆ„Çµ„Ç§„Éà„ÇíË¶ã„Å¶„Åè„Çå„Åü‰∫∫„Åå‰Ωï‰∫∫„ÅÑ„Çã„ÅãÁ≠â„ÇíË¶ã„Åü„ÅÑ„Åü„ÇÅ„Å´ÁΩÆ„Åç„Åæ„Åó„Åü„ÄÇ  \nGoogle Analytics„ÅØ„Éá„Éº„Çø„ÅÆÂèéÈõÜ„ÅßCookie„ÇíÂà©Áî®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ  \n„Éá„Éº„ÇøÂèéÈõÜ„ÅØÂåøÂêç„ÅßË°å„Çè„Çå„Å¶„Åä„Çä„ÄÅÂÄã‰∫∫„Åå„Çè„Åã„Çã„Çà„ÅÜ„Å™ÂÄ§„ÅØÂèéÈõÜ„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ  \nCookie„ÇíÁÑ°ÂäπÂåñ„Åô„Çã„Åì„Å®„ÅßGoogle Analytics„ÅÆÂèéÈõÜ„ÇíÊãíÂê¶„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ  \nË©≥„Åó„Åè„ÅØ„Åì„Åì„Å∏‚Üí https://policies.google.com/technologies/partner-sites?hl=ja\n\n## „ÉÜ„Éº„Éû„ÅØÔºü\n- https://github.com/SatoMasuda/hexo-theme-indigo\n    - „ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ\n- Ëá™ÂàÜÁî®„Å´Êõ∏„ÅçÊèõ„Åà„Åü„ÅÆ„ÅØ\n    - ‰Ωø„Çè„Å™„ÅÑÈÉ®ÂàÜ„Çí„Ç≥„É°„É≥„Éà„Ç¢„Ç¶„Éà„Åó„Åü„Çä„Åó„Åü„ÄÇ\n    - ‰∏ÄÈÉ®Êó•Êú¨Ë™û„Å´„Åó„Åü„ÄÇ\n    - „Éà„ÉÉ„Éó„Éö„Éº„Ç∏„Å´üç£„Å®„Åãü•≥„Å®„ÅãÊµÅ„Çå„Çã„Çà„ÅÜ„Å´„Åó„Å¶„Åø„Åü„ÄÇejs„ÅØ„Çè„Åã„Çâ„Çì„ÅÆ„ÅßHTML„Å£„ÅΩ„ÅÑ„Å®„Åì„Çç„Å´`<style>`„Å®`<script>`„Çí„Éô„ÇøÊõ∏„Åç„Åó„Å¶„ÅÑ„Çã„ÄÇ\n    - „Éï„Ç©„É≥„Éà„Å´Koruri„Çí‰Ωø„Å£„Å¶„Åø„Åü„ÄÇ„Å†„ÅÑ„Åó„ÇÖ„Åç\n    - ÊúÄÂæå„Å´ÊñáÂ≠óÊï∞„ÇíË°®Á§∫„Åï„Åõ„Å¶„Åø„Åü„Çä\n\n## „ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØÔºü\n- https://github.com/takusan23/BibourokuDev\n    - „Åì„Çå„Åß„Éé„Éº„ÉàPC„Åß„ÇÇ„Éá„Çπ„ÇØ„Éà„ÉÉ„ÉóPC„Åß„ÇÇ‰ΩúÊ•≠„Åß„Åç„Çã„ÇÑ„Çì„Å£„Å¶ÊÄù„Å£„Åü„Åë„Å©„Å™„Çì„Åã„ÅÜ„Åæ„ÅèË°å„Å£„Å¶„ÅÑ„Å™„ÅÑ„ÄÇ\n\n## „Åä„Åæ„Åë„ÅÆ„Éö„Éº„Ç∏„ÅÆ„Ç≤„Éº„É†„ÅÆ„ÇΩ„Éº„Çπ„ÅØÔºü\n- https://github.com/takusan23/AkashicEngine-FlappyBird\n    - AkashicEngine+TypeScript„Åß‰Ωú„Å£„Åü","source":"about/index.md","raw":"---\ntitle: about\ndate: 2020-04-10 19:22:02\n---\n# „Åì„ÅÆ„Çµ„Ç§„Éà„Å´„Å§„ÅÑ„Å¶\n„Åì„ÅÆ„Çµ„Ç§„Éà„ÅØQiita„ÅÆ‰ª£Êõø„Å®„ÅãËá™‰Ωú„Ç¢„Éó„É™„Å´„Å§„ÅÑ„Å¶ÈÅ©ÂΩì„Å´„Åã„Åè„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ  \nHexo„Å®„ÅÑ„ÅÜ„ÇÑ„Å§„Çí‰Ωø„Å£„Å¶„ÅÑ„Çã„ÄÇnpm„Åß„Ç§„É≥„Çπ„Éà„Éº„É´„Åß„Åç„Çã„ÅÆ„ÅßÁ∞°Âçò„ÄÇ\n\n# „Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº\nGoogle Analytics„ÇíÁΩÆ„ÅÑ„Å¶„Åæ„Åô„ÄÇ„Åì„Çå„ÅØÁßÅ„Åå„Åì„ÅÆ„Çµ„Ç§„Éà„ÇíË¶ã„Å¶„Åè„Çå„Åü‰∫∫„Åå‰Ωï‰∫∫„ÅÑ„Çã„ÅãÁ≠â„ÇíË¶ã„Åü„ÅÑ„Åü„ÇÅ„Å´ÁΩÆ„Åç„Åæ„Åó„Åü„ÄÇ  \nGoogle Analytics„ÅØ„Éá„Éº„Çø„ÅÆÂèéÈõÜ„ÅßCookie„ÇíÂà©Áî®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ  \n„Éá„Éº„ÇøÂèéÈõÜ„ÅØÂåøÂêç„ÅßË°å„Çè„Çå„Å¶„Åä„Çä„ÄÅÂÄã‰∫∫„Åå„Çè„Åã„Çã„Çà„ÅÜ„Å™ÂÄ§„ÅØÂèéÈõÜ„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ  \nCookie„ÇíÁÑ°ÂäπÂåñ„Åô„Çã„Åì„Å®„ÅßGoogle Analytics„ÅÆÂèéÈõÜ„ÇíÊãíÂê¶„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ  \nË©≥„Åó„Åè„ÅØ„Åì„Åì„Å∏‚Üí https://policies.google.com/technologies/partner-sites?hl=ja\n\n## „ÉÜ„Éº„Éû„ÅØÔºü\n- https://github.com/SatoMasuda/hexo-theme-indigo\n    - „ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ\n- Ëá™ÂàÜÁî®„Å´Êõ∏„ÅçÊèõ„Åà„Åü„ÅÆ„ÅØ\n    - ‰Ωø„Çè„Å™„ÅÑÈÉ®ÂàÜ„Çí„Ç≥„É°„É≥„Éà„Ç¢„Ç¶„Éà„Åó„Åü„Çä„Åó„Åü„ÄÇ\n    - ‰∏ÄÈÉ®Êó•Êú¨Ë™û„Å´„Åó„Åü„ÄÇ\n    - „Éà„ÉÉ„Éó„Éö„Éº„Ç∏„Å´üç£„Å®„Åãü•≥„Å®„ÅãÊµÅ„Çå„Çã„Çà„ÅÜ„Å´„Åó„Å¶„Åø„Åü„ÄÇejs„ÅØ„Çè„Åã„Çâ„Çì„ÅÆ„ÅßHTML„Å£„ÅΩ„ÅÑ„Å®„Åì„Çç„Å´`<style>`„Å®`<script>`„Çí„Éô„ÇøÊõ∏„Åç„Åó„Å¶„ÅÑ„Çã„ÄÇ\n    - „Éï„Ç©„É≥„Éà„Å´Koruri„Çí‰Ωø„Å£„Å¶„Åø„Åü„ÄÇ„Å†„ÅÑ„Åó„ÇÖ„Åç\n    - ÊúÄÂæå„Å´ÊñáÂ≠óÊï∞„ÇíË°®Á§∫„Åï„Åõ„Å¶„Åø„Åü„Çä\n\n## „ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØÔºü\n- https://github.com/takusan23/BibourokuDev\n    - „Åì„Çå„Åß„Éé„Éº„ÉàPC„Åß„ÇÇ„Éá„Çπ„ÇØ„Éà„ÉÉ„ÉóPC„Åß„ÇÇ‰ΩúÊ•≠„Åß„Åç„Çã„ÇÑ„Çì„Å£„Å¶ÊÄù„Å£„Åü„Åë„Å©„Å™„Çì„Åã„ÅÜ„Åæ„ÅèË°å„Å£„Å¶„ÅÑ„Å™„ÅÑ„ÄÇ\n\n## „Åä„Åæ„Åë„ÅÆ„Éö„Éº„Ç∏„ÅÆ„Ç≤„Éº„É†„ÅÆ„ÇΩ„Éº„Çπ„ÅØÔºü\n- https://github.com/takusan23/AkashicEngine-FlappyBird\n    - AkashicEngine+TypeScript„Åß‰Ωú„Å£„Åü","updated":"2020-05-02T17:58:13.881Z","path":"about/index.html","comments":1,"layout":"page","_id":"ck9rbqvhl002bh8vuhg7cgadb","content":"<h1 id=\"„Åì„ÅÆ„Çµ„Ç§„Éà„Å´„Å§„ÅÑ„Å¶\"><a href=\"#„Åì„ÅÆ„Çµ„Ç§„Éà„Å´„Å§„ÅÑ„Å¶\" class=\"headerlink\" title=\"„Åì„ÅÆ„Çµ„Ç§„Éà„Å´„Å§„ÅÑ„Å¶\"></a>„Åì„ÅÆ„Çµ„Ç§„Éà„Å´„Å§„ÅÑ„Å¶</h1><p>„Åì„ÅÆ„Çµ„Ç§„Éà„ÅØQiita„ÅÆ‰ª£Êõø„Å®„ÅãËá™‰Ωú„Ç¢„Éó„É™„Å´„Å§„ÅÑ„Å¶ÈÅ©ÂΩì„Å´„Åã„Åè„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ<br>Hexo„Å®„ÅÑ„ÅÜ„ÇÑ„Å§„Çí‰Ωø„Å£„Å¶„ÅÑ„Çã„ÄÇnpm„Åß„Ç§„É≥„Çπ„Éà„Éº„É´„Åß„Åç„Çã„ÅÆ„ÅßÁ∞°Âçò„ÄÇ</p>\n<h1 id=\"„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº\"><a href=\"#„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº\" class=\"headerlink\" title=\"„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº\"></a>„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº</h1><p>Google Analytics„ÇíÁΩÆ„ÅÑ„Å¶„Åæ„Åô„ÄÇ„Åì„Çå„ÅØÁßÅ„Åå„Åì„ÅÆ„Çµ„Ç§„Éà„ÇíË¶ã„Å¶„Åè„Çå„Åü‰∫∫„Åå‰Ωï‰∫∫„ÅÑ„Çã„ÅãÁ≠â„ÇíË¶ã„Åü„ÅÑ„Åü„ÇÅ„Å´ÁΩÆ„Åç„Åæ„Åó„Åü„ÄÇ<br>Google Analytics„ÅØ„Éá„Éº„Çø„ÅÆÂèéÈõÜ„ÅßCookie„ÇíÂà©Áî®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ<br>„Éá„Éº„ÇøÂèéÈõÜ„ÅØÂåøÂêç„ÅßË°å„Çè„Çå„Å¶„Åä„Çä„ÄÅÂÄã‰∫∫„Åå„Çè„Åã„Çã„Çà„ÅÜ„Å™ÂÄ§„ÅØÂèéÈõÜ„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ<br>Cookie„ÇíÁÑ°ÂäπÂåñ„Åô„Çã„Åì„Å®„ÅßGoogle Analytics„ÅÆÂèéÈõÜ„ÇíÊãíÂê¶„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ<br>Ë©≥„Åó„Åè„ÅØ„Åì„Åì„Å∏‚Üí <a href=\"https://policies.google.com/technologies/partner-sites?hl=ja\" target=\"_blank\" rel=\"noopener\">https://policies.google.com/technologies/partner-sites?hl=ja</a></p>\n<h2 id=\"„ÉÜ„Éº„Éû„ÅØÔºü\"><a href=\"#„ÉÜ„Éº„Éû„ÅØÔºü\" class=\"headerlink\" title=\"„ÉÜ„Éº„Éû„ÅØÔºü\"></a>„ÉÜ„Éº„Éû„ÅØÔºü</h2><ul>\n<li><a href=\"https://github.com/SatoMasuda/hexo-theme-indigo\" target=\"_blank\" rel=\"noopener\">https://github.com/SatoMasuda/hexo-theme-indigo</a><ul>\n<li>„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ</li>\n</ul>\n</li>\n<li>Ëá™ÂàÜÁî®„Å´Êõ∏„ÅçÊèõ„Åà„Åü„ÅÆ„ÅØ<ul>\n<li>‰Ωø„Çè„Å™„ÅÑÈÉ®ÂàÜ„Çí„Ç≥„É°„É≥„Éà„Ç¢„Ç¶„Éà„Åó„Åü„Çä„Åó„Åü„ÄÇ</li>\n<li>‰∏ÄÈÉ®Êó•Êú¨Ë™û„Å´„Åó„Åü„ÄÇ</li>\n<li>„Éà„ÉÉ„Éó„Éö„Éº„Ç∏„Å´üç£„Å®„Åãü•≥„Å®„ÅãÊµÅ„Çå„Çã„Çà„ÅÜ„Å´„Åó„Å¶„Åø„Åü„ÄÇejs„ÅØ„Çè„Åã„Çâ„Çì„ÅÆ„ÅßHTML„Å£„ÅΩ„ÅÑ„Å®„Åì„Çç„Å´<code>&lt;style&gt;</code>„Å®<code>&lt;script&gt;</code>„Çí„Éô„ÇøÊõ∏„Åç„Åó„Å¶„ÅÑ„Çã„ÄÇ</li>\n<li>„Éï„Ç©„É≥„Éà„Å´Koruri„Çí‰Ωø„Å£„Å¶„Åø„Åü„ÄÇ„Å†„ÅÑ„Åó„ÇÖ„Åç</li>\n<li>ÊúÄÂæå„Å´ÊñáÂ≠óÊï∞„ÇíË°®Á§∫„Åï„Åõ„Å¶„Åø„Åü„Çä</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØÔºü\"><a href=\"#„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØÔºü\" class=\"headerlink\" title=\"„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØÔºü\"></a>„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØÔºü</h2><ul>\n<li><a href=\"https://github.com/takusan23/BibourokuDev\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/BibourokuDev</a><ul>\n<li>„Åì„Çå„Åß„Éé„Éº„ÉàPC„Åß„ÇÇ„Éá„Çπ„ÇØ„Éà„ÉÉ„ÉóPC„Åß„ÇÇ‰ΩúÊ•≠„Åß„Åç„Çã„ÇÑ„Çì„Å£„Å¶ÊÄù„Å£„Åü„Åë„Å©„Å™„Çì„Åã„ÅÜ„Åæ„ÅèË°å„Å£„Å¶„ÅÑ„Å™„ÅÑ„ÄÇ</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"„Åä„Åæ„Åë„ÅÆ„Éö„Éº„Ç∏„ÅÆ„Ç≤„Éº„É†„ÅÆ„ÇΩ„Éº„Çπ„ÅØÔºü\"><a href=\"#„Åä„Åæ„Åë„ÅÆ„Éö„Éº„Ç∏„ÅÆ„Ç≤„Éº„É†„ÅÆ„ÇΩ„Éº„Çπ„ÅØÔºü\" class=\"headerlink\" title=\"„Åä„Åæ„Åë„ÅÆ„Éö„Éº„Ç∏„ÅÆ„Ç≤„Éº„É†„ÅÆ„ÇΩ„Éº„Çπ„ÅØÔºü\"></a>„Åä„Åæ„Åë„ÅÆ„Éö„Éº„Ç∏„ÅÆ„Ç≤„Éº„É†„ÅÆ„ÇΩ„Éº„Çπ„ÅØÔºü</h2><ul>\n<li><a href=\"https://github.com/takusan23/AkashicEngine-FlappyBird\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/AkashicEngine-FlappyBird</a><ul>\n<li>AkashicEngine+TypeScript„Åß‰Ωú„Å£„Åü</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"„Åì„ÅÆ„Çµ„Ç§„Éà„Å´„Å§„ÅÑ„Å¶\"><a href=\"#„Åì„ÅÆ„Çµ„Ç§„Éà„Å´„Å§„ÅÑ„Å¶\" class=\"headerlink\" title=\"„Åì„ÅÆ„Çµ„Ç§„Éà„Å´„Å§„ÅÑ„Å¶\"></a>„Åì„ÅÆ„Çµ„Ç§„Éà„Å´„Å§„ÅÑ„Å¶</h1><p>„Åì„ÅÆ„Çµ„Ç§„Éà„ÅØQiita„ÅÆ‰ª£Êõø„Å®„ÅãËá™‰Ωú„Ç¢„Éó„É™„Å´„Å§„ÅÑ„Å¶ÈÅ©ÂΩì„Å´„Åã„Åè„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ<br>Hexo„Å®„ÅÑ„ÅÜ„ÇÑ„Å§„Çí‰Ωø„Å£„Å¶„ÅÑ„Çã„ÄÇnpm„Åß„Ç§„É≥„Çπ„Éà„Éº„É´„Åß„Åç„Çã„ÅÆ„ÅßÁ∞°Âçò„ÄÇ</p>\n<h1 id=\"„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº\"><a href=\"#„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº\" class=\"headerlink\" title=\"„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº\"></a>„Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº</h1><p>Google Analytics„ÇíÁΩÆ„ÅÑ„Å¶„Åæ„Åô„ÄÇ„Åì„Çå„ÅØÁßÅ„Åå„Åì„ÅÆ„Çµ„Ç§„Éà„ÇíË¶ã„Å¶„Åè„Çå„Åü‰∫∫„Åå‰Ωï‰∫∫„ÅÑ„Çã„ÅãÁ≠â„ÇíË¶ã„Åü„ÅÑ„Åü„ÇÅ„Å´ÁΩÆ„Åç„Åæ„Åó„Åü„ÄÇ<br>Google Analytics„ÅØ„Éá„Éº„Çø„ÅÆÂèéÈõÜ„ÅßCookie„ÇíÂà©Áî®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ<br>„Éá„Éº„ÇøÂèéÈõÜ„ÅØÂåøÂêç„ÅßË°å„Çè„Çå„Å¶„Åä„Çä„ÄÅÂÄã‰∫∫„Åå„Çè„Åã„Çã„Çà„ÅÜ„Å™ÂÄ§„ÅØÂèéÈõÜ„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ<br>Cookie„ÇíÁÑ°ÂäπÂåñ„Åô„Çã„Åì„Å®„ÅßGoogle Analytics„ÅÆÂèéÈõÜ„ÇíÊãíÂê¶„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ<br>Ë©≥„Åó„Åè„ÅØ„Åì„Åì„Å∏‚Üí <a href=\"https://policies.google.com/technologies/partner-sites?hl=ja\" target=\"_blank\" rel=\"noopener\">https://policies.google.com/technologies/partner-sites?hl=ja</a></p>\n<h2 id=\"„ÉÜ„Éº„Éû„ÅØÔºü\"><a href=\"#„ÉÜ„Éº„Éû„ÅØÔºü\" class=\"headerlink\" title=\"„ÉÜ„Éº„Éû„ÅØÔºü\"></a>„ÉÜ„Éº„Éû„ÅØÔºü</h2><ul>\n<li><a href=\"https://github.com/SatoMasuda/hexo-theme-indigo\" target=\"_blank\" rel=\"noopener\">https://github.com/SatoMasuda/hexo-theme-indigo</a><ul>\n<li>„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ</li>\n</ul>\n</li>\n<li>Ëá™ÂàÜÁî®„Å´Êõ∏„ÅçÊèõ„Åà„Åü„ÅÆ„ÅØ<ul>\n<li>‰Ωø„Çè„Å™„ÅÑÈÉ®ÂàÜ„Çí„Ç≥„É°„É≥„Éà„Ç¢„Ç¶„Éà„Åó„Åü„Çä„Åó„Åü„ÄÇ</li>\n<li>‰∏ÄÈÉ®Êó•Êú¨Ë™û„Å´„Åó„Åü„ÄÇ</li>\n<li>„Éà„ÉÉ„Éó„Éö„Éº„Ç∏„Å´üç£„Å®„Åãü•≥„Å®„ÅãÊµÅ„Çå„Çã„Çà„ÅÜ„Å´„Åó„Å¶„Åø„Åü„ÄÇejs„ÅØ„Çè„Åã„Çâ„Çì„ÅÆ„ÅßHTML„Å£„ÅΩ„ÅÑ„Å®„Åì„Çç„Å´<code>&lt;style&gt;</code>„Å®<code>&lt;script&gt;</code>„Çí„Éô„ÇøÊõ∏„Åç„Åó„Å¶„ÅÑ„Çã„ÄÇ</li>\n<li>„Éï„Ç©„É≥„Éà„Å´Koruri„Çí‰Ωø„Å£„Å¶„Åø„Åü„ÄÇ„Å†„ÅÑ„Åó„ÇÖ„Åç</li>\n<li>ÊúÄÂæå„Å´ÊñáÂ≠óÊï∞„ÇíË°®Á§∫„Åï„Åõ„Å¶„Åø„Åü„Çä</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØÔºü\"><a href=\"#„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØÔºü\" class=\"headerlink\" title=\"„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØÔºü\"></a>„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØÔºü</h2><ul>\n<li><a href=\"https://github.com/takusan23/BibourokuDev\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/BibourokuDev</a><ul>\n<li>„Åì„Çå„Åß„Éé„Éº„ÉàPC„Åß„ÇÇ„Éá„Çπ„ÇØ„Éà„ÉÉ„ÉóPC„Åß„ÇÇ‰ΩúÊ•≠„Åß„Åç„Çã„ÇÑ„Çì„Å£„Å¶ÊÄù„Å£„Åü„Åë„Å©„Å™„Çì„Åã„ÅÜ„Åæ„ÅèË°å„Å£„Å¶„ÅÑ„Å™„ÅÑ„ÄÇ</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"„Åä„Åæ„Åë„ÅÆ„Éö„Éº„Ç∏„ÅÆ„Ç≤„Éº„É†„ÅÆ„ÇΩ„Éº„Çπ„ÅØÔºü\"><a href=\"#„Åä„Åæ„Åë„ÅÆ„Éö„Éº„Ç∏„ÅÆ„Ç≤„Éº„É†„ÅÆ„ÇΩ„Éº„Çπ„ÅØÔºü\" class=\"headerlink\" title=\"„Åä„Åæ„Åë„ÅÆ„Éö„Éº„Ç∏„ÅÆ„Ç≤„Éº„É†„ÅÆ„ÇΩ„Éº„Çπ„ÅØÔºü\"></a>„Åä„Åæ„Åë„ÅÆ„Éö„Éº„Ç∏„ÅÆ„Ç≤„Éº„É†„ÅÆ„ÇΩ„Éº„Çπ„ÅØÔºü</h2><ul>\n<li><a href=\"https://github.com/takusan23/AkashicEngine-FlappyBird\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/AkashicEngine-FlappyBird</a><ul>\n<li>AkashicEngine+TypeScript„Åß‰Ωú„Å£„Åü</li>\n</ul>\n</li>\n</ul>\n"},{"_content":"<!doctype html>\n<!-- Generated by akashic-cli-export-html@0.6.2. -->\n<!-- Options: {\"strip\":true,\"minify\":true,\"bundle\":true} -->\n<html>\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n<title>game</title>\n<script>\n\n\t!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var e;e=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,e.engineFilesV2_1_37=t()}}(function(){var t;return function(){function t(e,i,r){function n(s,a){if(!i[s]){if(!e[s]){var h=\"function\"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var c=new Error(\"Cannot find module '\"+s+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){return n(e[s][1][t]||t)},u,u.exports,t,e,i,r)}return i[s].exports}for(var o=\"function\"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}return t}()({1:[function(t,e,i){e.exports=t(\"./lib/main.node\")},{\"./lib/main.node\":2}],2:[function(t,e,i){(function(){\"use strict\";var t,i=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(t){!function(t){t[t.Unspecified=0]=\"Unspecified\",t[t.RetryLimitExceeded=1]=\"RetryLimitExceeded\",t[t.NetworkError=2]=\"NetworkError\",t[t.ClientError=3]=\"ClientError\",t[t.ServerError=4]=\"ServerError\"}(t.AssetLoadErrorType||(t.AssetLoadErrorType={}))}(t||(t={}));var t;!function(t){!function(e){function i(t,e){var i=new Error(t);return i.name=\"AssertionError\",i.cause=e,i}function r(t,e,i,r){var n=\"Type mismatch on \"+t+\", expected type is \"+e;if(arguments.length>2)try{var o;o=i&&i.constructor&&i.constructor.name?i.constructor.name:typeof i,n+=\", actual type is \"+(o.length>40?o.substr(0,40):o)}catch(t){}n+=\".\";var s=new Error(n);return s.name=\"TypeMismatchError\",s.cause=r,s.expected=e,s.actual=i,s}function n(e,i,r,n){void 0===i&&(i=!0),void 0===r&&(r=t.AssetLoadErrorType.Unspecified);var o=new Error(e);return o.name=\"AssetLoadError\",o.cause=n,o.retriable=i,o.type=r,o}e.createAssertionError=i,e.createTypeMismatchError=r,e.createAssetLoadError=n}(t.ExceptionFactory||(t.ExceptionFactory={}))}(t||(t={}));var t;!function(t){var e=function(){function e(){}return e.prototype.createSurfaceAtlas=function(e,i){return new t.SurfaceAtlas(this.createSurface(e,i))},e.prototype.createTrimmedSurface=function(t,e){var i=e||{x:0,y:0,width:t.width,height:t.height},r=this.createSurface(i.width,i.height),n=r.renderer();return n.begin(),n.drawImage(t,i.x,i.y,i.width,i.height,0,0),n.end(),r},e}();t.ResourceFactory=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this._value=t}return t.prototype._cachedValue=function(){return this._value},t}();t.RequireCachedValue=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.seed=t,this[0]=this}return t}();t.RandomGenerator=e}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this.id=e,this.originalPath=i,this.path=this._assetPathFilter(i),this.onDestroyed=new t.Trigger}return e.prototype.destroy=function(){this.onDestroyed.fire(this),this.id=void 0,this.originalPath=void 0,this.path=void 0,this.onDestroyed.destroy(),this.onDestroyed=void 0},e.prototype.destroyed=function(){return void 0===this.id},e.prototype.inUse=function(){return!1},e.prototype._assetPathFilter=function(t){return t},e}();t.Asset=e;var r=function(t){function e(e,i,r,n){var o=t.call(this,e,i)||this;return o.width=r,o.height=n,o}return i(e,t),e.prototype.initialize=function(t){this.hint=t},e}(e);t.ImageAsset=r;var n=function(t){function e(e,i,r,n,o,s,a){var h=t.call(this,e,i,r,n)||this;return h.realWidth=0,h.realHeight=0,h._system=o,h._loop=s,h._useRealSize=a,h}return i(e,t),e.prototype.play=function(t){return this.getPlayer().play(this),this.getPlayer()},e.prototype.stop=function(){this.getPlayer().stop()},e.prototype.destroy=function(){this._system=void 0,t.prototype.destroy.call(this)},e}(r);t.VideoAsset=n;var o=function(t){function e(e,i,r,n,o,s){var a=t.call(this,e,i)||this;return a.duration=r,a.loop=o,a.hint=s,a._system=n,a.data=void 0,a}return i(e,t),e.prototype.play=function(){var t=this._system.createPlayer();return t.play(this),this._lastPlayedPlayer=t,t},e.prototype.stop=function(){for(var t=this._system.findPlayers(this),e=0;e<t.length;++e)t[e].stop()},e.prototype.inUse=function(){return this._system.findPlayers(this).length>0},e.prototype.destroy=function(){this._system&&this.stop(),this.data=void 0,this._system=void 0,this._lastPlayedPlayer=void 0,t.prototype.destroy.call(this)},e}(e);t.AudioAsset=o;var s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.data=void 0,r}return i(e,t),e.prototype.destroy=function(){this.data=void 0,t.prototype.destroy.call(this)},e}(e);t.TextAsset=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.destroy=function(){this.script=void 0,t.prototype.destroy.call(this)},e}(e);t.ScriptAsset=a}(t||(t={}));var t;!function(t){function e(t){t=t||{};var e={music:{loop:!0,hint:{streaming:!0}},sound:{loop:!1,hint:{streaming:!1}}};for(var i in e)i in t||(t[i]=e[i]);return t}var i=function(){function t(t,e){this.asset=t,this.handlers=[e],this.errorCount=0,this.loading=!1}return t}(),r=function(){function r(t,i,r,n){this.game=t,this.configuration=this._normalize(i||{},e(r)),this._assets={},this._liveAssetVirtualPathTable={},this._liveAbsolutePathTable={},this._moduleMainScripts=n||{},this._refCounts={},this._loadings={}}return r.prototype.destroy=function(){for(var t=Object.keys(this._refCounts),e=0;e<t.length;++e)this._releaseAsset(t[e]);this.game=void 0,this.configuration=void 0,this._assets=void 0,this._liveAssetVirtualPathTable=void 0,this._liveAbsolutePathTable=void 0,this._refCounts=void 0,this._loadings=void 0},r.prototype.destroyed=function(){return void 0===this.game},r.prototype.retryLoad=function(e){if(!this._loadings.hasOwnProperty(e.id))throw t.ExceptionFactory.createAssertionError(\"AssetManager#retryLoad: invalid argument.\");var i=this._loadings[e.id];if(i.errorCount>r.MAX_ERROR_COUNT){if(!this.configuration[e.id])return;throw t.ExceptionFactory.createAssertionError(\"AssetManager#retryLoad: too many retrying.\")}i.loading||(i.loading=!0,e._load(this))},r.prototype.globalAssetIds=function(){var t=[],e=this.configuration;for(var i in e)e.hasOwnProperty(i)&&e[i].global&&t.push(i);return t},r.prototype.requestAsset=function(t,e){var r,n=\"string\"==typeof t?t:t.id,o=!1;if(this._assets.hasOwnProperty(n))++this._refCounts[n],e._onAssetLoad(this._assets[n]);else if(this._loadings.hasOwnProperty(n))r=this._loadings[n],r.handlers.push(e),++this._refCounts[n],o=!0;else{var s=this._createAssetFor(t);r=new i(s,e),this._loadings[n]=r,this._refCounts[n]=1,o=!0,r.loading=!0,s._load(this)}return o},r.prototype.unrefAsset=function(t){var e=\"string\"==typeof t?t:t.id;--this._refCounts[e]>0||this._releaseAsset(e)},r.prototype.requestAssets=function(t,e){for(var i=0,r=0,n=t.length;r<n;++r)this.requestAsset(t[r],e)&&++i;return i},r.prototype.unrefAssets=function(t){for(var e=0,i=t.length;e<i;++e)this.unrefAsset(t[e])},r.prototype._normalize=function(e,i){var r={};if(!(e instanceof Object))throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: invalid arguments.\");for(var n in e)if(e.hasOwnProperty(n)){var o=Object.create(e[n]);if(!o.path)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: No path given for: \"+n);if(!o.virtualPath)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: No virtualPath given for: \"+n);if(!o.type)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: No type given for: \"+n);if(\"image\"===o.type){if(\"number\"!=typeof o.width)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong width given for the image asset: \"+n);if(\"number\"!=typeof o.height)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong height given for the image asset: \"+n)}if(\"audio\"===o.type){void 0===o.duration&&(o.duration=0);var s=i[o.systemId];void 0===o.loop&&(o.loop=!!s&&!!s.loop),void 0===o.hint&&(o.hint=s?s.hint:{})}if(\"video\"===o.type&&!o.useRealSize){if(\"number\"!=typeof o.width)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong width given for the video asset: \"+n);if(\"number\"!=typeof o.height)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong height given for the video asset: \"+n);o.useRealSize=!1}o.global||(o.global=!1),r[n]=o}return r},r.prototype._createAssetFor=function(e){var i,r,n;if(\"string\"==typeof e)i=e,n=this.configuration[i],r=this.configuration[i].path;else{var o=e;i=o.id,n=o,r=o.uri}var s=this.game.resourceFactory;if(!n)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_createAssetFor: unknown asset ID: \"+i);switch(n.type){case\"image\":var a=s.createImageAsset(i,r,n.width,n.height);return a.initialize(n.hint),a;case\"audio\":var h=n.systemId?this.game.audio[n.systemId]:this.game.audio[this.game.defaultAudioSystemId];return s.createAudioAsset(i,r,n.duration,h,n.loop,n.hint);case\"text\":return s.createTextAsset(i,r);case\"script\":return s.createScriptAsset(i,r);case\"video\":return s.createVideoAsset(i,r,n.width,n.height,new t.VideoSystem,n.loop,n.useRealSize);default:throw t.ExceptionFactory.createAssertionError(\"AssertionError#_createAssetFor: unknown asset type \"+n.type+\" for asset ID: \"+i)}},r.prototype._releaseAsset=function(e){var i,r=this._assets[e]||this._loadings[e]&&this._loadings[e].asset;if(r)if(i=r.path,r.inUse())if(r instanceof t.AudioAsset)r._system.requestDestroy(r);else{if(!(r instanceof t.VideoAsset))throw t.ExceptionFactory.createAssertionError(\"AssetManager#unrefAssets: Unsupported in-use \"+r.id);r.destroy()}else r.destroy();if(delete this._refCounts[e],delete this._loadings[e],delete this._assets[e],this.configuration[e]){var n=this.configuration[e].virtualPath;n&&this._liveAssetVirtualPathTable.hasOwnProperty(n)&&delete this._liveAssetVirtualPathTable[n],i&&this._liveAbsolutePathTable.hasOwnProperty(i)&&delete this._liveAbsolutePathTable[i]}},r.prototype._countLoadingAsset=function(){return Object.keys(this._loadings).length},r.prototype._onAssetError=function(e,i){if(!this.destroyed()&&!e.destroyed()){var n=this._loadings[e.id],o=n.handlers;n.loading=!1,++n.errorCount,n.errorCount>r.MAX_ERROR_COUNT&&i.retriable&&(i=t.ExceptionFactory.createAssetLoadError(\"Retry limit exceeded\",!1,t.AssetLoadErrorType.RetryLimitExceeded,i)),i.retriable||delete this._loadings[e.id];for(var s=0;s<o.length;++s)o[s]._onAssetError(e,i,this)}},r.prototype._onAssetLoad=function(e){if(!this.destroyed()&&!e.destroyed()){var i=this._loadings[e.id];if(i.loading=!1,delete this._loadings[e.id],this._assets[e.id]=e,this.configuration[e.id]){var r=this.configuration[e.id].virtualPath;if(this._liveAssetVirtualPathTable.hasOwnProperty(r)){if(this._liveAssetVirtualPathTable[r].path!==e.path)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_onAssetLoad(): duplicated asset path\")}else this._liveAssetVirtualPathTable[r]=e;this._liveAbsolutePathTable.hasOwnProperty(e.path)||(this._liveAbsolutePathTable[e.path]=r)}for(var n=i.handlers,o=0;o<n.length;++o)n[o]._onAssetLoad(e)}},r.MAX_ERROR_COUNT=3,r}();t.AssetManager=r}(t||(t={}));var t;!function(t){function e(e,i,r){var n,o,s=e._assetManager._liveAssetVirtualPathTable,a=e._assetManager._moduleMainScripts;if(-1===i.indexOf(\"/\")&&e._assetManager._assets.hasOwnProperty(i)&&(n=e._assetManager._assets[i],o=e._assetManager._liveAbsolutePathTable[n.path]),/^\\.\\/|^\\.\\.\\/|^\\//.test(i)){if(r){if(!r._virtualDirname)throw t.ExceptionFactory.createAssertionError(\"g._require: require from DynamicAsset is not supported\");o=t.PathUtil.resolvePath(r._virtualDirname,i)}else{if(!/^\\.\\//.test(i))throw t.ExceptionFactory.createAssertionError(\"g._require: entry point path must start with './'\");o=i.substring(2)}if(e._scriptCaches.hasOwnProperty(o))return e._scriptCaches[o]._cachedValue();if(e._scriptCaches.hasOwnProperty(o+\".js\"))return e._scriptCaches[o+\".js\"]._cachedValue();n||(n=t.Util.findAssetByPathAsFile(o,s)),n||(n=t.Util.findAssetByPathAsDirectory(o,s))}else if(a[i]&&(o=a[i],n=e._assetManager._liveAssetVirtualPathTable[o]),!n){var h=r?r.paths:[];h.push(\"node_modules\");for(var c=0;c<h.length;++c){var u=h[c];if(o=t.PathUtil.resolvePath(u,i),n=t.Util.findAssetByPathAsFile(o,s))break;if(n=t.Util.findAssetByPathAsDirectory(o,s))break}}if(n){if(e._scriptCaches.hasOwnProperty(o))return e._scriptCaches[o]._cachedValue();if(n instanceof t.ScriptAsset){var l=new t.ScriptAssetContext(e,n);return e._scriptCaches[o]=l,l._executeScript(r)}if(n instanceof t.TextAsset&&n&&\".json\"===t.PathUtil.resolveExtname(i)){return(e._scriptCaches[o]=new t.RequireCachedValue(JSON.parse(n.data)))._cachedValue()}}throw t.ExceptionFactory.createAssertionError(\"g._require: can not find module: \"+i)}t._require=e;var i=function(){function e(e,i,r){var n=this,o=t.PathUtil.resolveDirname(r),s=e._assetManager._liveAbsolutePathTable[r],a=s?t.PathUtil.resolveDirname(s):void 0,h=Object.create(t,{game:{value:e,enumerable:!0},filename:{value:r,enumerable:!0},dirname:{value:o,enumerable:!0},module:{value:this,writable:!0,enumerable:!0,configurable:!0}});this.id=i,this.filename=r,this.exports={},this.parent=null,this.loaded=!1,this.children=[],this.paths=a?t.PathUtil.makeNodeModulePaths(a):[],this._dirname=o,this._virtualDirname=a,this._g=h,this.require=function(i){return\"g\"===i?h:t._require(e,i,n)}}return e}();t.Module=i}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this._game=e,this._asset=i,this._module=new t.Module(e,i.path,i.path),this._g=this._module._g,this._started=!1}return e.prototype._cachedValue=function(){if(!this._started)throw t.ExceptionFactory.createAssertionError(\"ScriptAssetContext#_cachedValue: not executed yet.\");return this._module.exports},e.prototype._executeScript=function(t){return this._started?this._module.exports:(t&&(this._module.parent=t,t.children.push(this._module)),this._started=!0,this._asset.execute(this._g),this._module.loaded=!0,this._module.exports)},e}();t.ScriptAssetContext=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,n,o,s){void 0===t?(this._modified=!1,this._matrix=[1,0,0,1,0,0]):\"number\"==typeof t?(this._modified=!1,this._matrix=new Array(6),null!=o&&null!=s?this.updateWithAnchor(t,e,i,r,n,0,0,o,s):this.update(t,e,i,r,n,0,0)):(this._modified=t._modified,this._matrix=[t._matrix[0],t._matrix[1],t._matrix[2],t._matrix[3],t._matrix[4],t._matrix[5]])}return t.prototype.update=function(t,e,i,r,n,o,s){var a=n*Math.PI/180,h=Math.cos(a),c=Math.sin(a),u=h*i,l=c*i,d=c*r,p=h*r,f=t/2,_=e/2;this._matrix[0]=u,this._matrix[1]=l,this._matrix[2]=-d,this._matrix[3]=p,this._matrix[4]=-u*f+d*_+f+o,this._matrix[5]=-l*f-p*_+_+s},t.prototype.updateWithAnchor=function(t,e,i,r,n,o,s,a,h){var c=n*Math.PI/180,u=Math.cos(c),l=Math.sin(c),d=u*i,p=l*i,f=l*r,_=u*r,g=a*t,y=h*e;this._matrix[0]=d,this._matrix[1]=p,this._matrix[2]=-f,this._matrix[3]=_,this._matrix[4]=-d*g+f*y+o,this._matrix[5]=-p*g-_*y+s},t.prototype.updateByInverse=function(t,e,i,r,n,o,s){var a=n*Math.PI/180,h=Math.cos(a),c=Math.sin(a),u=h/i,l=c/r,d=c/i,p=h/r,f=t/2,_=e/2;this._matrix[0]=u,this._matrix[1]=-l,this._matrix[2]=d,this._matrix[3]=p,this._matrix[4]=-u*(f+o)-d*(_+s)+f,this._matrix[5]=l*(f+o)-p*(_+s)+_},t.prototype.updateByInverseWithAnchor=function(t,e,i,r,n,o,s,a,h){var c=n*Math.PI/180,u=Math.cos(c),l=Math.sin(c),d=u/i,p=l/r,f=l/i,_=u/r,g=a*t,y=h*e;this._matrix[0]=d,this._matrix[1]=-p,this._matrix[2]=f,this._matrix[3]=_,this._matrix[4]=-d*o-f*s+g,this._matrix[5]=p*o-_*s+y},t.prototype.multiply=function(t){var e=this._matrix,i=t._matrix,r=e[0],n=e[1],o=e[2],s=e[3];e[0]=r*i[0]+o*i[1],e[1]=n*i[0]+s*i[1],e[2]=r*i[2]+o*i[3],e[3]=n*i[2]+s*i[3],e[4]=r*i[4]+o*i[5]+e[4],e[5]=n*i[4]+s*i[5]+e[5]},t.prototype.multiplyNew=function(t){var e=this.clone();return e.multiply(t),e},t.prototype.reset=function(t,e){this._matrix[0]=1,this._matrix[1]=0,this._matrix[2]=0,this._matrix[3]=1,this._matrix[4]=t||0,this._matrix[5]=e||0},t.prototype.clone=function(){return new t(this)},t.prototype.multiplyInverseForPoint=function(t){var e=this._matrix,i=1/(e[0]*e[3]+e[2]*-e[1]);return{x:e[3]*i*t.x+-e[2]*i*t.y+(e[5]*e[2]-e[4]*e[3])*i,y:e[0]*i*t.y+-e[1]*i*t.x+(-e[5]*e[0]+e[4]*e[1])*i}},t.prototype.scale=function(t,e){var i=this._matrix;i[0]*=t,i[1]*=e,i[2]*=t,i[3]*=e,i[4]*=t,i[5]*=e},t.prototype.multiplyPoint=function(t){var e=this._matrix;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t}();t.PlainMatrix=e}(t||(t={}));var t;!function(t){!function(e){function i(t,e,i,r){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-r,2))}function r(t,i){return e.distance(t.x,t.y,i.x,i.y)}function n(t,i){return e.distance(t.x+t.width/2,t.y+t.height/2,i.x+i.width/2,i.y+i.height/2)}function o(e,i,r,n,o,s,a){return void 0===e?new t.PlainMatrix:new t.PlainMatrix(e,i,r,n,o,s,a)}function s(e,i,r){var n=i.x,o=i.y,s=0,a=0,h=i.width,c=i.height,u=i.calculateBoundingRect(r);if(!u)throw t.ExceptionFactory.createAssertionError(\"Util#createSpriteFromE: camera must look e\");h=u.right-u.left,c=u.bottom-u.top,u.left<i.x&&(s=i.x-u.left),u.top<i.y&&(a=i.y-u.top),i.moveTo(s,a),i._matrix&&(i._matrix._modified=!0);var l=e.game.resourceFactory.createSurface(Math.ceil(h),Math.ceil(c)),d=l.renderer();d.begin(),i.render(d,r),d.end();var p=new t.Sprite({scene:e,src:l,width:h,height:c});return p.moveTo(u.left,u.top),i.moveTo(n,o),i._matrix&&(i._matrix._modified=!0),p}function a(e,i,r){var n=e.game.resourceFactory.createSurface(Math.ceil(i.game.width),Math.ceil(i.game.height)),o=n.renderer();o.begin();for(var s=i.children,a=0;a<s.length;++a)s[a].render(o,r);return o.end(),new t.Sprite({scene:e,src:n,width:i.game.width,height:i.game.height})}function h(e){if(!e)return e;if(e instanceof t.Surface)return e;if(e instanceof t.ImageAsset)return e.asSurface();throw t.ExceptionFactory.createTypeMismatchError(\"Util#asSurface\",\"ImageAsset|Surface\",e)}function c(t,e){return e.hasOwnProperty(t)?e[t]:e.hasOwnProperty(t+\".js\")?e[t+\".js\"]:void 0}function u(i,r){var n;if(n=i+\"/package.json\",r.hasOwnProperty(n)&&r[n]instanceof t.TextAsset){var o=JSON.parse(r[n].data);if(o&&\"string\"==typeof o.main){var s=e.findAssetByPathAsFile(t.PathUtil.resolvePath(i,o.main),r);if(s)return s}}if(n=i+\"/index.js\",r.hasOwnProperty(n))return r[n]}function l(t,e){var i=t.charCodeAt(e);if(55296<=i&&i<=56319){return i<<16|t.charCodeAt(e+1)}return 56320<=i&&i<=57343?null:i}function d(t,e){e.isDynamic&&(e.animatingStarted.add(t._onAnimatingStarted,t),e.animatingStopped.add(t._onAnimatingStopped,t),e.isPlaying()&&t._onAnimatingStarted())}function p(t,e,i){t._onAnimatingStopped(),!e.destroyed()&&e.isDynamic&&(e.animatingStarted.remove(t._onAnimatingStarted,t),e.animatingStopped.remove(t._onAnimatingStopped,t)),i.isDynamic&&(i.animatingStarted.add(t._onAnimatingStarted,t),i.animatingStopped.add(t._onAnimatingStopped,t),i.isPlaying()&&t._onAnimatingStarted())}e.distance=i,e.distanceBetweenOffsets=r,e.distanceBetweenAreas=n,e.createMatrix=o,e.createSpriteFromE=s,e.createSpriteFromScene=a,e.asSurface=h,e.findAssetByPathAsFile=c,e.findAssetByPathAsDirectory=u,e.charCodeAt=l,e.setupAnimatingHandler=d,e.migrateAnimatingHandler=p}(t.Util||(t.Util={}))}(t||(t={}));var t;!function(t){!function(e){function i(t,e,i,r,n,o,s,a){return t<=n+s&&n<=t+i&&e<=o+a&&o<=e+r}function r(t,i){return e.intersect(t.x,t.y,t.width,t.height,i.x,i.y,i.width,i.height)}function n(e,i,r,n,o){return void 0===o&&(o=1),o>=t.Util.distance(e,i,r,n)}function o(e,i,r){return void 0===r&&(r=1),r>=t.Util.distanceBetweenAreas(e,i)}e.intersect=i,e.intersectAreas=r,e.within=n,e.withinAreas=o}(t.Collision||(t.Collision={}))}(t||(t={}));var t;!function(t){var e=function(){function t(){this._handlers=[],this.length=0}return t.prototype.add=function(t,e){if(\"function\"==typeof t)this._handlers.push({func:t,owner:e,once:!1,name:void 0});else{var i=t;\"number\"==typeof i.index?this._handlers.splice(i.index,0,{func:i.func,owner:i.owner,once:!1,name:i.name}):this._handlers.push({func:i.func,owner:i.owner,once:!1,name:i.name})}this.length=this._handlers.length},t.prototype.addOnce=function(t,e){if(\"function\"==typeof t)this._handlers.push({func:t,owner:e,once:!0,name:void 0});else{var i=t;\"number\"==typeof i.index?this._handlers.splice(i.index,0,{func:i.func,owner:i.owner,once:!0,name:i.name}):this._handlers.push({func:i.func,owner:i.owner,once:!0,name:i.name})}this.length=this._handlers.length},t.prototype.handle=function(t,e,i){this.add(e?{owner:t,func:e,name:i}:{func:t})},t.prototype.fire=function(t){if(this._handlers&&this._handlers.length){for(var e=this._handlers.concat(),i=0;i<e.length;i++){var r=e[i];if(r.func.call(r.owner,t)||r.once){var n=this._handlers.indexOf(r);-1!==n&&this._handlers.splice(n,1)}}this._handlers&&(this.length=this._handlers.length)}},t.prototype.contains=function(t,e){for(var i=\"function\"==typeof t?{func:t,owner:e}:t,r=0;r<this._handlers.length;r++)if(this._comparePartial(i,this._handlers[r]))return!0;return!1},t.prototype.remove=function(t,e){for(var i=\"function\"==typeof t?{func:t,owner:e}:t,r=0;r<this._handlers.length;r++){var n=this._handlers[r];if(i.func===n.func&&i.owner===n.owner&&i.name===n.name)return this._handlers.splice(r,1),void--this.length}},t.prototype.removeAll=function(t){var e=[];if(t)for(var i=0;i<this._handlers.length;i++){var r=this._handlers[i];this._comparePartial(t,r)||e.push(r)}this._handlers=e,this.length=this._handlers.length},t.prototype.destroy=function(){this._handlers=null,this.length=null},t.prototype.destroyed=function(){return null===this._handlers},t.prototype._comparePartial=function(t,e){return(void 0===t.func||t.func===e.func)&&((void 0===t.owner||t.owner===e.owner)&&(void 0===t.name||t.name===e.name))},t}();t.Trigger=e;var r=function(t){function e(e,i,r){var n=t.call(this)||this;return n.chain=e,n.filter=i,n.filterOwner=r,n._isActivated=!1,n}return i(e,t),e.prototype.add=function(e,i){t.prototype.add.call(this,e,i),this._isActivated||(this.chain.add(this._onChainTriggerFired,this),this._isActivated=!0)},e.prototype.addOnce=function(e,i){t.prototype.addOnce.call(this,e,i),this._isActivated||(this.chain.add(this._onChainTriggerFired,this),this._isActivated=!0)},e.prototype.remove=function(e,i){t.prototype.remove.call(this,e,i),0===this.length&&this._isActivated&&(this.chain.remove(this._onChainTriggerFired,this),this._isActivated=!1)},e.prototype.removeAll=function(e){t.prototype.removeAll.call(this,e),0===this.length&&this._isActivated&&(this.chain.remove(this._onChainTriggerFired,this),this._isActivated=!1)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.chain.remove(this._onChainTriggerFired,this),this.filter=null,this.filterOwner=null,this._isActivated=!1},e.prototype._onChainTriggerFired=function(t){this.filter&&!this.filter.call(this.filterOwner,t)||this.fire(t)},e}(e);t.ChainTrigger=r}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this.interval=e,this._scaledInterval=Math.round(e*i),this.elapsed=new t.Trigger,this._scaledElapsed=0}return e.prototype.tick=function(){for(this._scaledElapsed+=1e3;this._scaledElapsed>=this._scaledInterval&&this.elapsed;)this.elapsed.fire(),this._scaledElapsed-=this._scaledInterval},e.prototype.canDelete=function(){return!this.elapsed||0===this.elapsed.length},e.prototype.destroy=function(){this.interval=void 0,this.elapsed.destroy(),this.elapsed=void 0,this._scaledInterval=0,this._scaledElapsed=0},e.prototype.destroyed=function(){return void 0===this.elapsed},e}();t.Timer=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,n){this._timer=t,this._handler=e,this._handlerOwner=i,this._fired=r,this._firedOwner=n,this._timer.elapsed.add(this._fire,this)}return t.prototype.destroy=function(){this._timer.elapsed.remove(this._fire,this),this._timer=void 0,this._handler=void 0,this._handlerOwner=void 0,this._fired=void 0,this._firedOwner=void 0},t.prototype.destroyed=function(){return void 0===this._timer},t.prototype._fire=function(){this._handler.call(this._handlerOwner),this._fired&&this._fired.call(this._firedOwner,this)},t}();t.TimerIdentifier=e;var i=function(){function i(t,e){this._timers=[],this._trigger=t,this._identifiers=[],this._fps=e,this._registered=!1}return i.prototype.destroy=function(){for(var t=0;t<this._identifiers.length;++t)this._identifiers[t].destroy();for(var t=0;t<this._timers.length;++t)this._timers[t].destroy();this._timers=void 0,this._trigger=void 0,this._identifiers=void 0,this._fps=void 0},i.prototype.destroyed=function(){return void 0===this._timers},i.prototype.createTimer=function(e){if(this._registered||(this._trigger.add(this._tick,this),this._registered=!0),e<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#createTimer: invalid interval\");e<1&&(e=1);for(var i=Math.min(1e3,e*this._fps),r=0;r<this._timers.length;++r)if(this._timers[r].interval===e&&this._timers[r]._scaledElapsed<i)return this._timers[r];var n=new t.Timer(e,this._fps);return this._timers.push(n),n},i.prototype.deleteTimer=function(e){if(e.canDelete()){var i=this._timers.indexOf(e);if(i<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#deleteTimer: can not find timer\");if(this._timers.splice(i,1),e.destroy(),!this._timers.length){if(!this._registered)throw t.ExceptionFactory.createAssertionError(\"TimerManager#deleteTimer: handler is not handled\");this._trigger.remove(this._tick,this),this._registered=!1}}},i.prototype.setTimeout=function(t,i,r){var n=this.createTimer(i),o=new e(n,t,r,this._onTimeoutFired,this);return this._identifiers.push(o),o},i.prototype.clearTimeout=function(t){this._clear(t)},i.prototype.setInterval=function(t,i,r){var n=this.createTimer(i),o=new e(n,t,r);return this._identifiers.push(o),o},i.prototype.clearInterval=function(t){this._clear(t)},i.prototype._tick=function(){for(var t=this._timers.concat(),e=0;e<t.length;++e)t[e].tick()},i.prototype._onTimeoutFired=function(e){var i=this._identifiers.indexOf(e);if(i<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#_onTimeoutFired: can not find identifier\");this._identifiers.splice(i,1);var r=e._timer;e.destroy(),this.deleteTimer(r)},i.prototype._clear=function(e){var i=this._identifiers.indexOf(e);if(i<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#_clear: can not find identifier\");if(e.destroyed())throw t.ExceptionFactory.createAssertionError(\"TimerManager#_clear: invalid identifier\");this._identifiers.splice(i,1);var r=e._timer;e.destroy(),this.deleteTimer(r)},i}();t.TimerManager=i}(t||(t={}));var t;!function(t){var e=function(){function e(e){this.played=new t.Trigger,this.stopped=new t.Trigger,this.currentAudio=void 0,this.volume=e.volume,this._muted=e._muted,this._playbackRate=e._playbackRate,this._system=e}return e.prototype.play=function(t){this.currentAudio=t,this.played.fire({player:this,audio:t})},e.prototype.stop=function(){var t=this.currentAudio;t&&(this.currentAudio=void 0,this.stopped.fire({player:this,audio:t}))},e.prototype.canHandleStopped=function(){return!0},e.prototype.changeVolume=function(t){this.volume=t},e.prototype._changeMuted=function(t){this._muted=t},e.prototype._changePlaybackRate=function(t){this._playbackRate=t},e.prototype._supportsPlaybackRate=function(){return!1},e.prototype._onVolumeChanged=function(){},e}();t.AudioPlayer=e}(t||(t={}));var t;!function(t){var e=function(){function e(t,e){var i=e._audioSystemManager;this.id=t,this.game=e,this._volume=1,this._destroyRequestedAssets={},this._muted=i._muted,this._playbackRate=i._playbackRate}return Object.defineProperty(e.prototype,\"volume\",{get:function(){return this._volume},set:function(e){if(e<0||e>1||isNaN(e)||\"number\"!=typeof e)throw t.ExceptionFactory.createAssertionError(\"AudioSystem#volume: expected: 0.0-1.0, actual: \"+e);this._volume=e,this._onVolumeChanged()},enumerable:!0,configurable:!0}),e.prototype.requestDestroy=function(t){this._destroyRequestedAssets[t.id]=t},e.prototype._reset=function(){this.stopAll(),this._volume=1,this._destroyRequestedAssets={},this._muted=this.game._audioSystemManager._muted,this._playbackRate=this.game._audioSystemManager._playbackRate},e.prototype._setMuted=function(t){var e=this._muted;this._muted=!!t,this._muted!==e&&this._onMutedChanged()},e.prototype._setPlaybackRate=function(e){if(e<0||isNaN(e)||\"number\"!=typeof e)throw t.ExceptionFactory.createAssertionError(\"AudioSystem#playbackRate: expected: greater or equal to 0.0, actual: \"+e);var i=this._playbackRate;this._playbackRate=e,this._playbackRate!==i&&this._onPlaybackRateChanged()},e}();t.AudioSystem=e;var r=function(e){function r(t,i){var r=e.call(this,t,i)||this;return r._player=void 0,r._suppressingAudio=void 0,r}return i(r,e),Object.defineProperty(r.prototype,\"player\",{get:function(){return this._player||(this._player=this.game.resourceFactory.createAudioPlayer(this),this._player.played.handle(this,this._onPlayerPlayed),this._player.stopped.handle(this,this._onPlayerStopped)),this._player},set:function(t){this._player=t},enumerable:!0,configurable:!0}),r.prototype.findPlayers=function(t){return this.player.currentAudio&&this.player.currentAudio.id===t.id?[this.player]:[]},r.prototype.createPlayer=function(){return this.player},r.prototype.stopAll=function(){this._player&&this._player.stop()},r.prototype._reset=function(){e.prototype._reset.call(this),this._player&&(this._player.played.remove({owner:this,func:this._onPlayerPlayed}),this._player.stopped.remove({owner:this,func:this._onPlayerStopped})),this._player=void 0,this._suppressingAudio=void 0},r.prototype._onVolumeChanged=function(){this.player.changeVolume(this._volume)},r.prototype._onMutedChanged=function(){this.player._changeMuted(this._muted)},r.prototype._onPlaybackRateChanged=function(){var t=this.player;t._changePlaybackRate(this._playbackRate),t._supportsPlaybackRate()||this._onUnsupportedPlaybackRateChanged()},r.prototype._onUnsupportedPlaybackRateChanged=function(){if(1===this._playbackRate&&this._suppressingAudio){var t=this._suppressingAudio;this._suppressingAudio=void 0,t.destroyed()||this.player._changeMuted(!1)}},r.prototype._onPlayerPlayed=function(e){if(e.player!==this._player)throw t.ExceptionFactory.createAssertionError(\"MusicAudioSystem#_onPlayerPlayed: unexpected audio player\");e.player._supportsPlaybackRate()||1!==this._playbackRate&&(e.player._changeMuted(!0),this._suppressingAudio=e.audio)},r.prototype._onPlayerStopped=function(t){this._suppressingAudio&&(this._suppressingAudio=void 0,this.player._changeMuted(!1)),this._destroyRequestedAssets[t.audio.id]&&(delete this._destroyRequestedAssets[t.audio.id],t.audio.destroy())},r}(e);t.MusicAudioSystem=r;var n=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.players=[],r}return i(e,t),e.prototype.createPlayer=function(){var t=this.game.resourceFactory.createAudioPlayer(this);return t.canHandleStopped()&&this.players.push(t),t.played.handle(this,this._onPlayerPlayed),t.stopped.handle(this,this._onPlayerStopped),t},e.prototype.findPlayers=function(t){for(var e=[],i=0;i<this.players.length;++i)this.players[i].currentAudio&&this.players[i].currentAudio.id===t.id&&e.push(this.players[i]);return e},e.prototype.stopAll=function(){for(var t=this.players.concat(),e=0;e<t.length;++e)t[e].stop()},e.prototype._reset=function(){t.prototype._reset.call(this);for(var e=0;e<this.players.length;++e){var i=this.players[e];i.played.remove({owner:this,func:this._onPlayerPlayed}),i.stopped.remove({owner:this,func:this._onPlayerStopped})}this.players=[]},e.prototype._onMutedChanged=function(){for(var t=this.players,e=0;e<t.length;++e)t[e]._changeMuted(this._muted)},e.prototype._onPlaybackRateChanged=function(){for(var t=this.players,e=0;e<t.length;++e)t[e]._changePlaybackRate(this._playbackRate),t[e]._supportsPlaybackRate()||1===this._playbackRate||t[e].stop()},e.prototype._onPlayerPlayed=function(t){\nt.player._supportsPlaybackRate()||1!==this._playbackRate&&t.player.stop()},e.prototype._onPlayerStopped=function(t){var e=this.players.indexOf(t.player);e<0||(t.player.stopped.remove({owner:this,func:this._onPlayerStopped}),this.players.splice(e,1),this._destroyRequestedAssets[t.audio.id]&&(delete this._destroyRequestedAssets[t.audio.id],t.audio.destroy()))},e.prototype._onVolumeChanged=function(){for(var t=0;t<this.players.length;++t)this.players[t].changeVolume(this._volume)},e}(e);t.SoundAudioSystem=n}(t||(t={}));var t;!function(t){var e=function(){function e(e){this._loop=!!e,this.played=new t.Trigger,this.stopped=new t.Trigger,this.currentVideo=void 0,this.volume=1}return e.prototype.play=function(t){this.currentVideo=t,this.played.fire({player:this,video:t}),t.asSurface().animatingStarted.fire()},e.prototype.stop=function(){var t=this.currentVideo;this.stopped.fire({player:this,video:t}),t.asSurface().animatingStopped.fire()},e.prototype.changeVolume=function(t){this.volume=t},e}();t.VideoPlayer=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t}();t.VideoSystem=e}(t||(t={}));var t;!function(t){var e=function(){function e(t){t?(this.x=t.x||0,this.y=t.y||0,this.width=t.width||0,this.height=t.height||0,this.opacity=\"opacity\"in t?t.opacity:1,this.scaleX=\"scaleX\"in t?t.scaleX:1,this.scaleY=\"scaleY\"in t?t.scaleY:1,this.angle=t.angle||0,this.compositeOperation=t.compositeOperation,this.anchorX=t.anchorX,this.anchorY=t.anchorY,this._matrix=void 0):(this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.scaleX=1,this.scaleY=1,this.angle=0,this.compositeOperation=void 0,this.anchorX=void 0,this.anchorY=void 0,this._matrix=void 0)}return e.prototype.moveTo=function(e,i){if(\"number\"==typeof e&&\"number\"!=typeof i)throw t.ExceptionFactory.createAssertionError(\"Object2D#moveTo: arguments must be CommonOffset or pair of x and y as a number.\");\"number\"==typeof e?(this.x=e,this.y=i):(this.x=e.x,this.y=e.y)},e.prototype.moveBy=function(t,e){this.x+=t,this.y+=e},e.prototype.resizeTo=function(e,i){if(\"number\"==typeof e&&\"number\"!=typeof i)throw t.ExceptionFactory.createAssertionError(\"Object2D#resizeTo: arguments must be CommonSize or pair of width and height as a number.\");\"number\"==typeof e?(this.width=e,this.height=i):(this.width=e.width,this.height=e.height)},e.prototype.resizeBy=function(t,e){this.width+=t,this.height+=e},e.prototype.scale=function(t){this.scaleX=t,this.scaleY=t},e.prototype.anchor=function(t,e){this.anchorX=t,this.anchorY=e},e.prototype.getMatrix=function(){if(this._matrix){if(!this._matrix._modified)return this._matrix}else this._matrix=t.Util.createMatrix();return this._updateMatrix(),this._matrix._modified=!1,this._matrix},e.prototype._updateMatrix=function(){null!=this.anchorX&&null!=this.anchorY?this._matrix.updateWithAnchor(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y,this.anchorX,this.anchorY):this.angle||1!==this.scaleX||1!==this.scaleY?this._matrix.update(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y):this._matrix.reset(this.x,this.y)},e}();t.Object2D=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;if(r.children=void 0,r.parent=void 0,r._touchable=!1,r.state=0,r._hasTouchableChildren=!1,r._update=void 0,r._message=void 0,r._pointDown=void 0,r._pointMove=void 0,r._pointUp=void 0,r._targetCameras=void 0,r.tag=i.tag,r.shaderProgram=i.shaderProgram,r.local=i.scene.local!==t.LocalTickMode.NonLocal||!!i.local,i.children)for(var n=0;n<i.children.length;++n)r.append(i.children[n]);return i.parent&&i.parent.append(r),i.targetCameras&&(r.targetCameras=i.targetCameras),\"touchable\"in i&&(r.touchable=i.touchable),i.hidden&&r.hide(),r.id=i.id,i.scene.register(r),r}return i(r,e),Object.defineProperty(r.prototype,\"update\",{get:function(){return this._update||(this._update=new t.ChainTrigger(this.scene.update)),this._update},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"message\",{get:function(){return this._message||(this._message=new t.ChainTrigger(this.scene.message)),this._message},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"pointDown\",{get:function(){return this._pointDown||(this._pointDown=new t.ChainTrigger(this.scene.pointDownCapture,this._isTargetOperation,this)),this._pointDown},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"pointUp\",{get:function(){return this._pointUp||(this._pointUp=new t.ChainTrigger(this.scene.pointUpCapture,this._isTargetOperation,this)),this._pointUp},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"pointMove\",{get:function(){return this._pointMove||(this._pointMove=new t.ChainTrigger(this.scene.pointMoveCapture,this._isTargetOperation,this)),this._pointMove},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"targetCameras\",{get:function(){return this._targetCameras||(this._targetCameras=[])},set:function(t){this._targetCameras=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"touchable\",{get:function(){return this._touchable},set:function(t){this._touchable!==t&&(this._touchable=t,t?this._enableTouchPropagation():this._disableTouchPropagation())},enumerable:!0,configurable:!0}),r.prototype.render=function(t,e){if(this.state&=-5,!(1&this.state)){var i=this._targetCameras;if(!(i&&i.length>0)||e&&-1!==i.indexOf(e)){if(8&this.state){t.translate(this.x,this.y);var r=this.renderSelf(t,e);if(r&&this.children)for(var n=this.children,o=n.length,s=0;s<o;++s)n[s].render(t,e);return void t.translate(-this.x,-this.y)}t.save(),this.angle||1!==this.scaleX||1!==this.scaleY||null!=this.anchorX||null!=this.anchorY?t.transform(this.getMatrix()._matrix):t.translate(this.x,this.y),1!==this.opacity&&t.opacity(this.opacity),void 0!==this.compositeOperation&&t.setCompositeOperation(this.compositeOperation),void 0!==this.shaderProgram&&t.isSupportedShaderProgram()&&t.setShaderProgram(this.shaderProgram);var r=this.renderSelf(t,e);if(r&&this.children)for(var n=this.children,s=0;s<n.length;++s)n[s].render(t,e);t.restore()}}},r.prototype.renderSelf=function(t,e){return!0},r.prototype.game=function(){return this.scene.game},r.prototype.append=function(t){this.insertBefore(t,void 0)},r.prototype.insertBefore=function(t,e){t.parent&&t.remove(),this.children||(this.children=[]),t.parent=this;var i=-1;void 0!==e&&(i=this.children.indexOf(e))>-1?this.children.splice(i,0,t):this.children.push(t),(t._touchable||t._hasTouchableChildren)&&(this._hasTouchableChildren=!0,this._enableTouchPropagation()),this.modified(!0)},r.prototype.remove=function(e){if(void 0===e)return void this.parent.remove(this);var i=this.children?this.children.indexOf(e):-1;if(i<0)throw t.ExceptionFactory.createAssertionError(\"E#remove: invalid child\");this.children[i].parent=void 0,this.children.splice(i,1),(e._touchable||e._hasTouchableChildren)&&(this._findTouchableChildren(this)||(this._hasTouchableChildren=!1,this._disableTouchPropagation())),this.modified(!0)},r.prototype.destroy=function(){if(this.parent&&this.remove(),this.children){for(var e=this.children.length-1;e>=0;--e)this.children[e].destroy();if(0!==this.children.length)throw t.ExceptionFactory.createAssertionError(\"E#destroy: can not destroy all children, \"+this.children.length);this.children=void 0}this._update&&(this._update.destroy(),this._update=void 0),this._message&&(this._message.destroy(),this._message=void 0),this._pointDown&&(this._pointDown.destroy(),this._pointDown=void 0),this._pointMove&&(this._pointMove.destroy(),this._pointMove=void 0),this._pointUp&&(this._pointUp.destroy(),this._pointUp=void 0),this.scene.unregister(this)},r.prototype.destroyed=function(){return void 0===this.scene},r.prototype.modified=function(t){this._matrix&&(this._matrix._modified=!0),this.angle||1!==this.scaleX||1!==this.scaleY||null!=this.anchorX||null!=this.anchorY||1!==this.opacity||void 0!==this.compositeOperation||void 0!==this.shaderProgram?this.state&=-9:this.state|=8,4&this.state||(this.state|=4,this.parent&&this.parent.modified(!0))},r.prototype.shouldFindChildrenByPoint=function(t){return!0},r.prototype.findPointSourceByPoint=function(t,e,i,r){if(!(1&this.state)){var n=this._targetCameras;if(!(n&&n.length>0)||r&&-1!==n.indexOf(r)){e=e?e.multiplyNew(this.getMatrix()):this.getMatrix().clone();var o=e.multiplyInverseForPoint(t);if((this._hasTouchableChildren||i&&this.children&&this.children.length)&&this.shouldFindChildrenByPoint(o))for(var s=this.children.length-1;s>=0;--s){var a=this.children[s];if(i||a._touchable||a._hasTouchableChildren){var h=a.findPointSourceByPoint(t,e,i,r);if(h)return h}}if(i||this._touchable)return 0<=o.x&&this.width>o.x&&0<=o.y&&this.height>o.y?{target:this,point:o}:void 0}}},r.prototype.visible=function(){return 1!=(1&this.state)},r.prototype.show=function(){1&this.state&&(this.state&=-2,this.parent&&this.parent.modified(!0))},r.prototype.hide=function(){1&this.state||(this.state|=1,this.parent&&this.parent.modified(!0))},r.prototype.calculateBoundingRect=function(t){return this._calculateBoundingRect(void 0,t)},r.prototype._calculateBoundingRect=function(t,e){var i=this.getMatrix();if(t&&(i=t.multiplyNew(i)),this.visible()&&(!e||this._targetCameras&&-1!==this._targetCameras.indexOf(e))){for(var r={left:0,right:this.width,top:0,bottom:this.height},n=[{x:r.left,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.top},{x:r.right,y:r.bottom}],o=i.multiplyPoint(n[0]),s={left:o.x,right:o.x,top:o.y,bottom:o.y},a=1;a<n.length;++a)o=i.multiplyPoint(n[a]),s.left>o.x&&(s.left=o.x),s.right<o.x&&(s.right=o.x),s.top>o.y&&(s.top=o.y),s.bottom<o.y&&(s.bottom=o.y);if(void 0!==this.children)for(var a=0;a<this.children.length;++a){var h=this.children[a]._calculateBoundingRect(i,e);h&&(s.left>h.left&&(s.left=h.left),s.right<h.right&&(s.right=h.right),s.top>h.top&&(s.top=h.top),s.bottom<h.bottom&&(s.bottom=h.bottom))}return s}},r.prototype._enableTouchPropagation=function(){for(var t=this.parent;t instanceof r&&!t._hasTouchableChildren;)t._hasTouchableChildren=!0,t=t.parent},r.prototype._disableTouchPropagation=function(){for(var t=this.parent;t instanceof r&&t._hasTouchableChildren&&!this._findTouchableChildren(t);)t._hasTouchableChildren=!1,t=t.parent},r.prototype._isTargetOperation=function(e){return!(1&this.state)&&(e instanceof t.PointEvent&&(this._touchable&&e.target===this))},r.prototype._findTouchableChildren=function(t){if(t.children)for(var e=0;e<t.children.length;++e){if(t.children[e].touchable)return t.children[e];var i=this._findTouchableChildren(t.children[e]);if(i)return i}},r}(t.Object2D);t.E=e}(t||(t={}));var t;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i._shouldRenderChildren=!0,i._cache=void 0,i._renderer=void 0,i._renderedCamera=void 0,i}return i(e,t),e.prototype.invalidate=function(){this.state&=-3,this.modified()},e.prototype.renderSelf=function(t,i){var r=e.PADDING;if(this._renderedCamera!==i&&(this.state&=-3,this._renderedCamera=i),!(2&this.state)){this._cacheSize=this.calculateCacheSize();var n=Math.ceil(this._cacheSize.width)+2*r,o=Math.ceil(this._cacheSize.height)+2*r,s=!this._cache||this._cache.width<n||this._cache.height<o;s&&(this._cache&&!this._cache.destroyed()&&this._cache.destroy(),this._cache=this.scene.game.resourceFactory.createSurface(n,o),this._renderer=this._cache.renderer());var a=this._renderer;a.begin(),s||a.clear(),a.save(),a.translate(r,r),this.renderCache(a,i),a.restore(),this.state|=2,a.end()}return this._cache&&this._cacheSize.width>0&&this._cacheSize.height>0&&(t.translate(-r,-r),this.renderSelfFromCache(t),t.translate(r,r)),this._shouldRenderChildren},e.prototype.renderSelfFromCache=function(t){t.drawImage(this._cache,0,0,this._cacheSize.width+e.PADDING,this._cacheSize.height+e.PADDING,0,0)},e.prototype.destroy=function(){this._cache&&!this._cache.destroyed()&&this._cache.destroy(),this._cache=void 0,t.prototype.destroy.call(this)},e.prototype.calculateCacheSize=function(){return{width:this.width,height:this.height}},e.PADDING=1,e}(t.E);t.CacheableE=e}(t||(t={}));var t;!function(t){!function(t){t[t.Slots=1]=\"Slots\",t[t.Scores=2]=\"Scores\",t[t.Counts=3]=\"Counts\",t[t.Values=4]=\"Values\"}(t.StorageRegion||(t.StorageRegion={}));!function(t){t[t.Asc=0]=\"Asc\",t[t.Desc=1]=\"Desc\"}(t.StorageOrder||(t.StorageOrder={}));!function(t){t[t.Equal=1]=\"Equal\",t[t.GreaterThan=2]=\"GreaterThan\",t[t.LessThan=3]=\"LessThan\"}(t.StorageCondition||(t.StorageCondition={}));!function(t){t[t.Incr=1]=\"Incr\",t[t.Decr=2]=\"Decr\"}(t.StorageCountsOperation||(t.StorageCountsOperation={}));var e=function(){function t(t,e){this._keys=t,this._values=e}return t.prototype.get=function(t){if(void 0===this._values)return[];if(\"number\"==typeof t)return this._values[t];var e=this._keys.indexOf(t);if(-1!==e)return this._values[e];for(var i=0;i<this._keys.length;++i){var r=this._keys[i];if(r.region===t.region&&r.regionKey===t.regionKey&&r.userId===t.userId&&r.gameId===t.gameId)return this._values[i]}return[]},t.prototype.getOne=function(t){var e=this.get(t);if(e)return e[0]},t}();t.StorageValueStore=e;var i=function(){function t(t,i,r){this._loaded=!1,this._storage=t,this._valueStore=new e(i),this._handler=void 0,this._valueStoreSerialization=r}return t.prototype._load=function(t){this._handler=t,this._storage._load&&this._storage._load.call(this._storage,this._valueStore._keys,this,this._valueStoreSerialization)},t.prototype._onLoaded=function(t,e){this._valueStore._values=t,this._loaded=!0,e&&(this._valueStoreSerialization=e),this._handler&&this._handler._onStorageLoaded()},t.prototype._onError=function(t){this._handler&&this._handler._onStorageLoadError(t)},t}();t.StorageLoader=i;var r=function(){function t(t){this._game=t}return t.prototype.write=function(t,e,i){this._write&&this._write(t,e,i)},t.prototype.requestValuesForJoinPlayer=function(t){this._requestedKeysForJoinPlayer=t},t.prototype._createLoader=function(t,e){return new i(this,t,e)},t.prototype._registerWrite=function(t){this._write=t},t.prototype._registerLoad=function(t){this._load=t},t}();t.Storage=r}(t||(t={}));var t;!function(t){var e=function(){function e(t){this.waitingAssetsCount=t.assetIds.length,this._scene=t.scene,this._assetManager=t.assetManager,this._assetIds=t.assetIds,this._assets=[],this._handler=t.handler,this._handlerOwner=t.handlerOwner||null,this._direct=!!t.direct,this._requested=!1}return e.prototype.request=function(){return 0!==this.waitingAssetsCount&&(!!this._requested||(this._requested=!0,this._assetManager.requestAssets(this._assetIds,this),!0))},e.prototype.destroy=function(){this._requested&&this._assetManager.unrefAssets(this._assets),this.waitingAssetsCount=0,this._scene=void 0,this._assetIds=void 0,this._handler=void 0,this._requested=!1},e.prototype.destroyed=function(){return!this._scene},e.prototype.callHandler=function(){this._handler.call(this._handlerOwner)},e.prototype._onAssetError=function(t,e,i){if(!this.destroyed()&&!this._scene.destroyed()){var r={asset:t,error:e,cancelRetry:!1};this._scene.assetLoadFailed.fire(r),e.retriable&&!r.cancelRetry?this._assetManager.retryLoad(t):this._assetManager.configuration[t.id]&&(this._scene.game.terminateGame(),this._scene.game._abortGame()),this._scene.assetLoadCompleted.fire(t)}},e.prototype._onAssetLoad=function(e){if(!this.destroyed()&&!this._scene.destroyed()){if(this._scene.assets[e.id]=e,this._scene.assetLoaded.fire(e),this._scene.assetLoadCompleted.fire(e),this._assets.push(e),--this.waitingAssetsCount<0)throw t.ExceptionFactory.createAssertionError(\"SceneAssetHolder#_onAssetLoad: broken waitingAssetsCount\");this.waitingAssetsCount>0||(this._direct?this.callHandler():this._scene.game._callSceneAssetHolderHandler(this))}},e}();t.SceneAssetHolder=e;var i;!function(t){t[t.Destroyed=0]=\"Destroyed\",t[t.Standby=1]=\"Standby\",t[t.Active=2]=\"Active\",t[t.Deactive=3]=\"Deactive\",t[t.BeforeDestroyed=4]=\"BeforeDestroyed\"}(i=t.SceneState||(t.SceneState={}));var r;!function(t){t[t.Initial=0]=\"Initial\",t[t.Ready=1]=\"Ready\",t[t.ReadyFired=2]=\"ReadyFired\",t[t.LoadedFired=3]=\"LoadedFired\"}(r=t.SceneLoadState||(t.SceneLoadState={}));var n=function(){function n(n){var o,s,a,h;o=n.game,h=n.assetIds,n.storageKeys?(this._storageLoader=o.storage._createLoader(n.storageKeys,n.storageValuesSerialization),this.storageValues=this._storageLoader._valueStore):(this._storageLoader=void 0,this.storageValues=void 0),s=void 0===n.local?t.LocalTickMode.NonLocal:!1===n.local?t.LocalTickMode.NonLocal:!0===n.local?t.LocalTickMode.FullLocal:n.local,a=void 0!==n.tickGenerationMode?n.tickGenerationMode:t.TickGenerationMode.ByClock,this.name=n.name,h||(h=[]),this.game=o,this.local=s,this.tickGenerationMode=a,this.loaded=new t.Trigger,this._ready=new t.Trigger,this.assets={},this._loaded=!1,this._prefetchRequested=!1,this._loadingState=r.Initial,this.update=new t.Trigger,this._timer=new t.TimerManager(this.update,this.game.fps),this.assetLoaded=new t.Trigger,this.assetLoadFailed=new t.Trigger,this.assetLoadCompleted=new t.Trigger,this.message=new t.Trigger,this.pointDownCapture=new t.Trigger,this.pointMoveCapture=new t.Trigger,this.pointUpCapture=new t.Trigger,this.operation=new t.Trigger,this.children=[],this.state=i.Standby,this.stateChanged=new t.Trigger,this._assetHolders=[],this._sceneAssetHolder=new e({scene:this,assetManager:this.game._assetManager,assetIds:h,handler:this._onSceneAssetsLoad,handlerOwner:this,direct:!0})}return n.prototype.modified=function(t){this.game.modified=!0},n.prototype.destroy=function(){this.state=i.BeforeDestroyed,this.stateChanged.fire(this.state);var t=this.game.db;for(var e in t)t.hasOwnProperty(e)&&t[e].scene===this&&t[e].destroy();var t=this.game._localDb;for(var e in t)t.hasOwnProperty(e)&&t[e].scene===this&&t[e].destroy();this._timer.destroy(),this.update.destroy(),this.message.destroy(),this.pointDownCapture.destroy(),this.pointMoveCapture.destroy(),this.pointUpCapture.destroy(),this.operation.destroy(),this.loaded.destroy(),this.assetLoaded.destroy(),this.assetLoadFailed.destroy(),this.assetLoadCompleted.destroy(),this.assets={};for(var r=0;r<this._assetHolders.length;++r)this._assetHolders[r].destroy();this._sceneAssetHolder.destroy(),this._storageLoader=void 0,this.game=void 0,this.state=i.Destroyed,this.stateChanged.fire(this.state),this.stateChanged.destroy()},n.prototype.destroyed=function(){return void 0===this.game},n.prototype.createTimer=function(t){return this._timer.createTimer(t)},n.prototype.deleteTimer=function(t){this._timer.deleteTimer(t)},n.prototype.setInterval=function(t,e,i){var r=this._timer;return\"number\"==typeof t?(this.game.logger.warn(\"[deprecated] Scene#setInterval(): this arguments ordering is now deprecated. Specify the function first.\"),null!=i?r.setInterval(i,t,e):r.setInterval(e,t,null)):r.setInterval(t,e,i)},n.prototype.clearInterval=function(t){this._timer.clearInterval(t)},n.prototype.setTimeout=function(t,e,i){var r=this._timer;return\"number\"==typeof t?(this.game.logger.warn(\"[deprecated] Scene#setTimeout(): this arguments ordering is now deprecated. Specify the function first.\"),null!=i?r.setTimeout(i,t,e):r.setTimeout(e,t,null)):r.setTimeout(t,e,i)},n.prototype.clearTimeout=function(t){this._timer.clearTimeout(t)},n.prototype.isCurrentScene=function(){return this.game.scene()===this},n.prototype.gotoScene=function(e,i){if(!this.isCurrentScene())throw t.ExceptionFactory.createAssertionError(\"Scene#gotoScene: this scene is not the current scene\");i?this.game.pushScene(e):this.game.replaceScene(e)},n.prototype.end=function(){if(!this.isCurrentScene())throw t.ExceptionFactory.createAssertionError(\"Scene#end: this scene is not the current scene\");this.game.popScene()},n.prototype.register=function(t){this.game.register(t),t.scene=this},n.prototype.unregister=function(t){t.scene=void 0,this.game.unregister(t)},n.prototype.append=function(t){this.insertBefore(t,void 0)},n.prototype.insertBefore=function(t,e){t.parent&&t.remove(),t.parent=this;var i=-1;void 0!==e&&(i=this.children.indexOf(e))>-1?this.children.splice(i,0,t):this.children.push(t),this.modified(!0)},n.prototype.remove=function(t){var e=this.children.indexOf(t);-1!==e&&(this.children[e].parent=void 0,this.children.splice(e,1),this.modified(!0))},n.prototype.findPointSourceByPoint=function(e,i,r){var n=this.local!==t.LocalTickMode.NonLocal,o=this.children,s=void 0;r&&r instanceof t.Camera2D&&(s=r.getMatrix());for(var a=o.length-1;a>=0;--a){var h=o[a].findPointSourceByPoint(e,s,i,r);if(h)return h.local=h.target.local||n,h}return{target:void 0,point:void 0,local:n}},n.prototype.prefetch=function(){this._loaded||this._prefetchRequested||(this._prefetchRequested=!0,this._sceneAssetHolder.request())},n.prototype.serializeStorageValues=function(){if(this._storageLoader)return this._storageLoader._valueStoreSerialization},n.prototype.requestAssets=function(i,n){if(this._loadingState<r.ReadyFired)throw t.ExceptionFactory.createAssertionError(\"Scene#requestAsset(): can be called after loaded.\");var o=new e({scene:this,assetManager:this.game._assetManager,assetIds:i,handler:n});this._assetHolders.push(o),o.request()},n.prototype._activate=function(){this.state=i.Active,this.stateChanged.fire(this.state)},n.prototype._deactivate=function(){this.state=i.Deactive,this.stateChanged.fire(this.state)},n.prototype._needsLoading=function(){return this._sceneAssetHolder.waitingAssetsCount>0||this._storageLoader&&!this._storageLoader._loaded},n.prototype._load=function(){if(!this._loaded){this._loaded=!0;var t=this._sceneAssetHolder.request();this._storageLoader&&(this._storageLoader._load(this),t=!0),t||this._notifySceneReady()}},n.prototype._onSceneAssetsLoad=function(){this._loaded&&(this._storageLoader&&!this._storageLoader._loaded||this._notifySceneReady())},n.prototype._onStorageLoadError=function(t){this.game.terminateGame(),this.game._abortGame()},n.prototype._onStorageLoaded=function(){0===this._sceneAssetHolder.waitingAssetsCount&&this._notifySceneReady()},n.prototype._notifySceneReady=function(){this._loadingState=r.Ready,this.game._fireSceneReady(this)},n.prototype._fireReady=function(){this._ready.fire(this),this._loadingState=r.ReadyFired},n.prototype._fireLoaded=function(){this.loaded.fire(this),this._loadingState=r.LoadedFired},n}();t.Scene=n}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=this;return i.local=!0,r=e.call(this,i)||this,r.targetReset=new t.Trigger,r.targetReady=new t.Trigger,r.targetAssetLoaded=new t.Trigger,r._explicitEnd=!!i.explicitEnd,r._targetScene=void 0,r}return i(r,e),r.prototype.destroy=function(){this._clearTargetScene(),e.prototype.destroy.call(this)},r.prototype.reset=function(e){this._clearTargetScene(),this._targetScene=e,this._loadingState<t.SceneLoadState.LoadedFired?this.loaded.addOnce(this._doReset,this):this._doReset()},r.prototype.getTargetWaitingAssetsCount=function(){return this._targetScene?this._targetScene._sceneAssetHolder.waitingAssetsCount:0},r.prototype.end=function(){if(!this._targetScene||this._targetScene._loadingState<t.SceneLoadState.Ready){var e=this._targetScene?t.SceneLoadState[this._targetScene._loadingState]:\"(no scene)\",i=\"LoadingScene#end(): the target scene is in invalid state: \"+e;throw t.ExceptionFactory.createAssertionError(i)}this.game.popScene(!0),this.game._fireSceneLoaded(this._targetScene),this._clearTargetScene()},r.prototype._clearTargetScene=function(){this._targetScene&&(this._targetScene._ready.removeAll({owner:this}),this._targetScene.assetLoaded.removeAll({owner:this}),this._targetScene=void 0)},r.prototype._doReset=function(){this.targetReset.fire(this._targetScene),this._targetScene._loadingState<t.SceneLoadState.ReadyFired?(this._targetScene._ready.add(this._fireTriggerOnTargetReady,this),this._targetScene.assetLoaded.add(this._fireTriggerOnTargetAssetLoad,this),this._targetScene._load()):this._fireTriggerOnTargetReady(this._targetScene)},r.prototype._fireTriggerOnTargetAssetLoad=function(t){this.targetAssetLoaded.fire(t)},r.prototype._fireTriggerOnTargetReady=function(t){this.targetReady.fire(t),this._explicitEnd||this.end()},r}(t.Scene);t.LoadingScene=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._canceller=new t.Object2D,r}return i(r,e),r.prototype.renderSelf=function(t,e){if(!this.children)return!1;if(e){var i=e,r=this._canceller;i.x===r.x&&i.y===r.y&&i.angle===r.angle&&i.scaleX===r.scaleX&&i.scaleY===r.scaleY||(r.x=i.x,r.y=i.y,r.angle=i.angle,r.scaleX=i.scaleX,r.scaleY=i.scaleY,r._matrix&&(r._matrix._modified=!0)),t.save(),t.transform(r.getMatrix()._matrix)}for(var n=this.children,o=0;o<n.length;++o)n[o].render(t,e);return e&&t.restore(),!1},r}(t.E),r=function(r){function n(t){var e=r.call(this,{game:t.game,name:\"akashic:default-loading-scene\"})||this;return e._barWidth=Math.min(t.game.width,Math.max(100,t.game.width/2)),e._barHeight=5,e._gauge=void 0,e._gaugeUpdateCount=0,e._totalWaitingAssetCount=0,e.loaded.handle(e,e._onLoaded),e.targetReset.handle(e,e._onTargetReset),e.targetAssetLoaded.handle(e,e._onTargetAssetLoaded),e}return i(n,r),n.prototype._onLoaded=function(){var i;return this.append(new e({scene:this,children:[new t.FilledRect({scene:this,width:this.game.width,height:this.game.height,cssColor:\"rgba(0, 0, 0, 0.8)\",children:[new t.FilledRect({scene:this,x:(this.game.width-this._barWidth)/2,y:(this.game.height-this._barHeight)/2,width:this._barWidth,height:this._barHeight,cssColor:\"gray\",children:[i=new t.FilledRect({scene:this,width:0,height:this._barHeight,cssColor:\"white\"})]})]})]})),i.update.handle(this,this._onUpdateGuage),this._gauge=i,!0},n.prototype._onUpdateGuage=function(){++this._gaugeUpdateCount;var t=Math.round(205+50*Math.sin(this._gaugeUpdateCount/this.game.fps*(2/3)*(2*Math.PI)));this._gauge.cssColor=\"rgb(\"+t+\",\"+t+\",\"+t+\")\",this._gauge.modified()},n.prototype._onTargetReset=function(t){this._gauge&&(this._gauge.width=0,this._gauge.modified()),this._totalWaitingAssetCount=t._sceneAssetHolder.waitingAssetsCount},n.prototype._onTargetAssetLoaded=function(t){var e=this._targetScene._sceneAssetHolder.waitingAssetsCount;this._gauge.width=Math.ceil((1-e/this._totalWaitingAssetCount)*this._barWidth),this._gauge.modified()},n}(t.LoadingScene);t.DefaultLoadingScene=r}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r.surface=t.Util.asSurface(i.src),\"width\"in i||(r.width=r.surface.width),\"height\"in i||(r.height=r.surface.height),r.srcWidth=\"srcWidth\"in i?i.srcWidth:r.width,r.srcHeight=\"srcHeight\"in i?i.srcHeight:r.height,r.srcX=i.srcX||0,r.srcY=i.srcY||0,r._stretchMatrix=void 0,r._beforeSurface=r.surface,t.Util.setupAnimatingHandler(r,r.surface),r._invalidateSelf(),r}return i(r,e),r.prototype._onUpdate=function(){this.modified()},r.prototype._onAnimatingStarted=function(){this.update.contains(this._onUpdate,this)||this.update.add(this._onUpdate,this)},r.prototype._onAnimatingStopped=function(){this.destroyed()||this.update.remove(this._onUpdate,this)},r.prototype.renderSelf=function(t,e){return this.srcWidth<=0||this.srcHeight<=0||(this._stretchMatrix&&(t.save(),t.transform(this._stretchMatrix._matrix)),t.drawImage(this.surface,this.srcX,this.srcY,this.srcWidth,this.srcHeight,0,0),this._stretchMatrix&&t.restore(),!0)},r.prototype.invalidate=function(){this._invalidateSelf(),this.modified()},r.prototype.destroy=function(t){this.surface&&!this.surface.destroyed()&&(t?this.surface.destroy():this.surface.isDynamic&&(this.surface.animatingStarted.remove(this._onAnimatingStarted,this),this.surface.animatingStopped.remove(this._onAnimatingStopped,this))),this.surface=void 0,e.prototype.destroy.call(this)},r.prototype._invalidateSelf=function(){this.width===this.srcWidth&&this.height===this.srcHeight?this._stretchMatrix=void 0:(this._stretchMatrix=t.Util.createMatrix(),this._stretchMatrix.scale(this.width/this.srcWidth,this.height/this.srcHeight)),this.surface!==this._beforeSurface&&(t.Util.migrateAnimatingHandler(this,this._beforeSurface,this.surface),this._beforeSurface=this.surface)},r}(t.E);t.Sprite=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._lastUsedIndex=0,r.frameNumber=i.frameNumber||0,r.frames=\"frames\"in i?i.frames:[0],r.interval=i.interval,r._timer=void 0,r.loop=null==i.loop||i.loop,r.finished=new t.Trigger,r._modifiedSelf(),r}return i(r,e),r.createBySprite=function(t,e,i){var n=new r({scene:t.scene,src:t.surface,width:void 0===e?t.width:e,height:void 0===i?t.height:i});return n.srcHeight=void 0===i?t.srcHeight:i,n.srcWidth=void 0===e?t.srcWidth:e,n},r.prototype.start=function(){void 0===this.interval&&(this.interval=1e3/this.game().fps),this._timer&&this._free(),this._timer=this.scene.createTimer(this.interval),this._timer.elapsed.add(this._onElapsed,this)},r.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t)},r.prototype.stop=function(){this._timer&&this._free()},r.prototype.modified=function(t){this._modifiedSelf(t),e.prototype.modified.call(this,t)},r.prototype._onElapsed=function(){this.frameNumber===this.frames.length-1?this.loop?this.frameNumber=0:(this.stop(),this.finished.fire()):this.frameNumber++,this.modified()},r.prototype._free=function(){this._timer&&(this._timer.elapsed.remove(this._onElapsed,this),this._timer.canDelete()&&this.scene.deleteTimer(this._timer),this._timer=void 0)},r.prototype._changeFrame=function(){var t=this.frames[this.frameNumber],e=Math.floor(this.surface.width/this.srcWidth);this.srcX=t%e*this.srcWidth,this.srcY=Math.floor(t/e)*this.srcHeight,this._lastUsedIndex=t},r.prototype._modifiedSelf=function(t){this._lastUsedIndex!==this.frames[this.frameNumber]&&this._changeFrame()},r}(t.Sprite);t.FrameSprite=e}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Unknown=0]=\"Unknown\",t[t.Join=1]=\"Join\",t[t.Leave=2]=\"Leave\",t[t.Timestamp=3]=\"Timestamp\",t[t.Seed=4]=\"Seed\",t[t.PointDown=5]=\"PointDown\",t[t.PointMove=6]=\"PointMove\",t[t.PointUp=7]=\"PointUp\",t[t.Message=8]=\"Message\",t[t.Operation=9]=\"Operation\"}(e=t.EventType||(t.EventType={}));var r=function(){function t(t,e,i,r,n,o){this.priority=o,this.local=n,this.player=r,this.pointerId=t,this.target=e,this.point=i}return t}();t.PointEvent=r;var n=function(t){function r(i,r,n,o,s,a){var h=t.call(this,i,r,n,o,s,a)||this;return h.type=e.PointDown,h}return i(r,t),r}(r);t.PointDownEvent=n;var o=function(t){function r(i,r,n,o,s,a,h,c){var u=t.call(this,i,r,n,a,h,c)||this;return u.type=e.PointUp,u.prevDelta=o,u.startDelta=s,u}return i(r,t),r}(r);t.PointUpEvent=o;var s=function(t){function r(i,r,n,o,s,a,h,c){var u=t.call(this,i,r,n,a,h,c)||this;return u.type=e.PointMove,u.prevDelta=o,u.startDelta=s,u}return i(r,t),r}(r);t.PointMoveEvent=s;var a=function(){function t(t,i,r,n){this.type=e.Message,this.priority=n,this.local=r,this.player=i,this.data=t}return t}();t.MessageEvent=a;var h=function(){function t(t,i,r,n,o){this.type=e.Operation,this.priority=o,this.local=n,this.player=r,this.code=t,this.data=i}return t}();t.OperationEvent=h;var c=function(){function t(t,i,r){this.type=e.Join,this.priority=r,this.player=t,this.storageValues=i}return t}();t.JoinEvent=c;var u=function(){function t(t,i){this.type=e.Leave,this.priority=i,this.player=t}return t}();t.LeaveEvent=u;var l=function(){function t(t,i,r){this.type=e.Timestamp,this.priority=r,this.player=i,this.timestamp=t}return t}();t.TimestampEvent=l;var d=function(){function t(t,i){this.type=e.Seed,this.priority=i,this.generator=t}return t}();t.SeedEvent=d}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Error=0]=\"Error\",t[t.Warn=1]=\"Warn\",t[t.Info=2]=\"Info\",t[t.Debug=3]=\"Debug\"}(e=t.LogLevel||(t.LogLevel={}));var i=function(){function i(e){this.game=e,this.logging=new t.Trigger}return i.prototype.destroy=function(){this.game=void 0,this.logging.destroy(),this.logging=void 0},i.prototype.destroyed=function(){return!this.game},i.prototype.error=function(t,i){this.logging.fire({game:this.game,level:e.Error,message:t,cause:i})},i.prototype.warn=function(t,i){this.logging.fire({game:this.game,level:e.Warn,\nmessage:t,cause:i})},i.prototype.info=function(t,i){this.logging.fire({game:this.game,level:e.Info,message:t,cause:i})},i.prototype.debug=function(t,i){this.logging.fire({game:this.game,level:e.Debug,message:t,cause:i})},i}();t.Logger=i}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,n,o){e=this._normalizeConfiguration(e),this.fps=e.fps,this.width=e.width,this.height=e.height,this.renderers=[],this.scenes=[],this.random=null,this.age=0,this.assetBase=r||\"\",this.resourceFactory=i,this.selfId=n||void 0,this.playId=void 0,this._audioSystemManager=new t.AudioSystemManager(this),this.audio={music:new t.MusicAudioSystem(\"music\",this),sound:new t.SoundAudioSystem(\"sound\",this)},this.defaultAudioSystemId=\"sound\",this.storage=new t.Storage(this),this.assets={},this.surfaceAtlasSet=void 0,this.join=new t.Trigger,this.leave=new t.Trigger,this.seed=new t.Trigger,this._eventTriggerMap={},this._eventTriggerMap[t.EventType.Join]=this.join,this._eventTriggerMap[t.EventType.Leave]=this.leave,this._eventTriggerMap[t.EventType.Seed]=this.seed,this._eventTriggerMap[t.EventType.Message]=void 0,this._eventTriggerMap[t.EventType.PointDown]=void 0,this._eventTriggerMap[t.EventType.PointMove]=void 0,this._eventTriggerMap[t.EventType.PointUp]=void 0,this._eventTriggerMap[t.EventType.Operation]=void 0,this.resized=new t.Trigger,this.skippingChanged=new t.Trigger,this.isLastTickLocal=!0,this.lastOmittedLocalTickCount=0,this._loaded=new t.Trigger,this._started=new t.Trigger,this.isLoaded=!1,this.snapshotRequest=new t.Trigger,this.external={},this.logger=new t.Logger(this),this._main=e.main,this._mainParameter=void 0,this._configuration=e,this._assetManager=new t.AssetManager(this,e.assets,e.audio,e.moduleMainScripts);var s=e.operationPlugins||[];this._operationPluginManager=new t.OperationPluginManager(this,o,s),this._operationPluginOperated=new t.Trigger,this._operationPluginManager.operated.add(this._operationPluginOperated.fire,this._operationPluginOperated),this._sceneChanged=new t.Trigger,this._sceneChanged.add(this._updateEventTriggers,this),this._initialScene=new t.Scene({game:this,assetIds:this._assetManager.globalAssetIds(),local:!0,name:\"akashic:initial-scene\"}),this._initialScene.loaded.add(this._onInitialSceneLoaded,this),this._reset({age:0})}return Object.defineProperty(e.prototype,\"focusingCamera\",{get:function(){return this._focusingCamera},set:function(t){t!==this._focusingCamera&&(this.modified&&this.render(this._focusingCamera),this._focusingCamera=t)},enumerable:!0,configurable:!0}),e.prototype.pushScene=function(t){this._sceneChangeRequests.push({type:0,scene:t})},e.prototype.replaceScene=function(t,e){this._sceneChangeRequests.push({type:1,scene:t,preserveCurrent:e})},e.prototype.popScene=function(t){this._sceneChangeRequests.push({type:2,preserveCurrent:t})},e.prototype.scene=function(){if(this.scenes.length)return this.scenes[this.scenes.length-1]},e.prototype.tick=function(t,e){var i=void 0;if(this._isTerminated)return!1;if(this.isLastTickLocal=!t,this.lastOmittedLocalTickCount=e||0,this.scenes.length){if(i=this.scenes[this.scenes.length-1],this.events.length){var r=this.events;this.events=[];for(var n=0;n<r.length;++n){var o=this._eventTriggerMap[r[n].type];o&&o.fire(r[n])}}i.update.fire(),t&&++this.age}return!!this._sceneChangeRequests.length&&(this._flushSceneChangeRequests(),i!==this.scenes[this.scenes.length-1])},e.prototype.render=function(t){t||(t=this.focusingCamera);for(var e=this.renderers,i=0;i<e.length;++i)e[i].draw(this,t);this.modified=!1},e.prototype.findPointSource=function(t,e){return e||(e=this.focusingCamera),this.scene().findPointSourceByPoint(t,!1,e)},e.prototype.register=function(e){if(e.local){if(void 0===e.id)e.id=--this._localIdx;else{if(e.id>0)throw t.ExceptionFactory.createAssertionError(\"Game#register: invalid local id: \"+e.id);if(this._localDb.hasOwnProperty(String(e.id)))throw t.ExceptionFactory.createAssertionError(\"Game#register: conflicted id: \"+e.id);this._localIdx>e.id&&(this._localIdx=e.id)}this._localDb[e.id]=e}else{if(void 0===e.id)e.id=++this._idx;else{if(e.id<0)throw t.ExceptionFactory.createAssertionError(\"Game#register: invalid non-local id: \"+e.id);if(this.db.hasOwnProperty(String(e.id)))throw t.ExceptionFactory.createAssertionError(\"Game#register: conflicted id: \"+e.id);this._idx<e.id&&(this._idx=e.id)}this.db[e.id]=e}},e.prototype.unregister=function(t){t.local?delete this._localDb[t.id]:delete this.db[t.id]},e.prototype.leaveGame=function(){this._leaveGame()},e.prototype.terminateGame=function(){this._leaveGame(),this._isTerminated=!0},e.prototype._fireSceneReady=function(t){this._sceneChangeRequests.push({type:3,scene:t})},e.prototype._fireSceneLoaded=function(e){e._loadingState<t.SceneLoadState.LoadedFired&&this._sceneChangeRequests.push({type:4,scene:e})},e.prototype._callSceneAssetHolderHandler=function(t){this._sceneChangeRequests.push({type:5,assetHolder:t})},e.prototype._normalizeConfiguration=function(e){if(!e)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: invalid arguments\");if(\"assets\"in e||(e.assets={}),\"fps\"in e||(e.fps=30),\"number\"!=typeof e.fps)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: fps must be given as a number\");if(!(0<=e.fps&&e.fps<=60))throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: fps must be a number in (0, 60].\");if(\"number\"!=typeof e.width)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: width must be given as a number\");if(\"number\"!=typeof e.height)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: height must be given as a number\");return e},e.prototype._setAudioPlaybackRate=function(t){this._audioSystemManager._setPlaybackRate(t)},e.prototype._setMuted=function(t){this._audioSystemManager._setMuted(t)},e.prototype._decodeOperationPluginOperation=function(t,e){var i=this._operationPluginManager.plugins;return i[t]&&i[t].decode?i[t].decode(e):e},e.prototype._reset=function(e){if(this._operationPluginManager.stopAll(),this.scene()){for(;this.scene()!==this._initialScene;)this.popScene(),this._flushSceneChangeRequests();this.isLoaded||this.scenes.pop()}switch(e&&(void 0!==e.age&&(this.age=e.age),void 0!==e.randGen&&(this.random=e.randGen)),this._audioSystemManager._reset(),this._loaded.removeAll({func:this._start,owner:this}),this.join.removeAll(),this.leave.removeAll(),this.seed.removeAll(),this.resized.removeAll(),this.skippingChanged.removeAll(),this._idx=0,this._localIdx=0,this._cameraIdx=0,this.db={},this._localDb={},this.events=[],this.modified=!0,this.loadingScene=void 0,this._focusingCamera=void 0,this._scriptCaches={},this.snapshotRequest.removeAll(),this._sceneChangeRequests=[],this._isTerminated=!1,this.vars={},this.surfaceAtlasSet&&this.surfaceAtlasSet.destroy(),this.surfaceAtlasSet=new t.SurfaceAtlasSet({game:this}),this._configuration.defaultLoadingScene){case\"none\":this._defaultLoadingScene=new t.LoadingScene({game:this});break;default:this._defaultLoadingScene=new t.DefaultLoadingScene({game:this})}},e.prototype._destroy=function(){if(this._operationPluginManager.destroy(),this.scene())for(;this.scene()!==this._initialScene;)this.popScene(),this._flushSceneChangeRequests();this._initialScene.destroy(),this.loadingScene&&!this.loadingScene.destroyed()&&this.loadingScene.destroy(),this._defaultLoadingScene.destroyed()||this._defaultLoadingScene.destroy(),this.db=void 0,this.renderers=void 0,this.scenes=void 0,this.random=void 0,this.events=void 0,this.join.destroy(),this.join=void 0,this.leave.destroy(),this.leave=void 0,this.seed.destroy(),this.seed=void 0,this.modified=!1,this.age=0,this.assets=void 0,this.isLoaded=!1,this.loadingScene=void 0,this.assetBase=\"\",this.selfId=void 0;for(var t=Object.keys(this.audio),e=0;e<t.length;++e)this.audio[t[e]].stopAll();this.audio=void 0,this.defaultAudioSystemId=void 0,this.logger.destroy(),this.logger=void 0,this.snapshotRequest.destroy(),this.snapshotRequest=void 0,this.resourceFactory=void 0,this.storage=void 0,this.playId=void 0,this.operationPlugins=void 0,this.resized.destroy(),this.resized=void 0,this.skippingChanged.destroy(),this.skippingChanged=void 0,this._eventTriggerMap=void 0,this._initialScene=void 0,this._defaultLoadingScene=void 0,this._sceneChanged.destroy(),this._sceneChanged=void 0,this._scriptCaches=void 0,this._loaded.destroy(),this._loaded=void 0,this._started.destroy(),this._started=void 0,this._main=void 0,this._mainParameter=void 0,this._assetManager.destroy(),this._assetManager=void 0,this._audioSystemManager._game=void 0,this._audioSystemManager=void 0,this._operationPluginManager=void 0,this._operationPluginOperated.destroy(),this._operationPluginOperated=void 0,this._idx=0,this._localDb={},this._localIdx=0,this._cameraIdx=0,this._isTerminated=!0,this._focusingCamera=void 0,this._configuration=void 0,this._sceneChangeRequests=[],this.surfaceAtlasSet.destroy(),this.surfaceAtlasSet=void 0},e.prototype._loadAndStart=function(t){this._mainParameter=t||{},this.isLoaded?this._start():(this._loaded.add(this._start,this),this.pushScene(this._initialScene),this._flushSceneChangeRequests())},e.prototype._startLoadingGlobalAssets=function(){if(this.isLoaded)throw t.ExceptionFactory.createAssertionError(\"Game#_startLoadingGlobalAssets: already loaded.\");this.pushScene(this._initialScene),this._flushSceneChangeRequests()},e.prototype._updateEventTriggers=function(e){if(this.modified=!0,!e)return this._eventTriggerMap[t.EventType.Message]=void 0,this._eventTriggerMap[t.EventType.PointDown]=void 0,this._eventTriggerMap[t.EventType.PointMove]=void 0,this._eventTriggerMap[t.EventType.PointUp]=void 0,void(this._eventTriggerMap[t.EventType.Operation]=void 0);this._eventTriggerMap[t.EventType.Message]=e.message,this._eventTriggerMap[t.EventType.PointDown]=e.pointDownCapture,this._eventTriggerMap[t.EventType.PointMove]=e.pointMoveCapture,this._eventTriggerMap[t.EventType.PointUp]=e.pointUpCapture,this._eventTriggerMap[t.EventType.Operation]=e.operation,e._activate()},e.prototype._onInitialSceneLoaded=function(){this._initialScene.loaded.remove(this._onInitialSceneLoaded,this),this.assets=this._initialScene.assets,this.isLoaded=!0,this._loaded.fire()},e.prototype._abortGame=function(){},e.prototype._flushSceneChangeRequests=function(){do{var e=this._sceneChangeRequests;this._sceneChangeRequests=[];for(var i=0;i<e.length;++i){var r=e[i];switch(r.type){case 0:var n=this.scene();n&&n._deactivate(),this._doPushScene(r.scene);break;case 1:this._doPopScene(r.preserveCurrent,!1),this._doPushScene(r.scene);break;case 2:this._doPopScene(r.preserveCurrent,!0);break;case 3:r.scene.destroyed()||r.scene._fireReady();break;case 4:r.scene.destroyed()||r.scene._fireLoaded();break;case 5:r.assetHolder.callHandler();break;default:throw t.ExceptionFactory.createAssertionError(\"Game#_flushSceneChangeRequests: unknown scene change request.\")}}}while(this._sceneChangeRequests.length>0)},e.prototype._doPopScene=function(e,i){var r=this.scenes.pop();if(r===this._initialScene)throw t.ExceptionFactory.createAssertionError(\"Game#_doPopScene: invalid call; attempting to pop the initial scene\");e||r.destroy(),i&&this._sceneChanged.fire(this.scene())},e.prototype._start=function(){if(this._operationPluginManager.initialize(),this.operationPlugins=this._operationPluginManager.plugins,!this._main){if(this._mainParameter.snapshot){if(!this.assets.snapshotLoader)throw t.ExceptionFactory.createAssertionError(\"Game#_start: global asset 'snapshotLoader' not found.\");t._require(this,\"snapshotLoader\")(this._mainParameter.snapshot),this._flushSceneChangeRequests()}else{if(!this.assets.mainScene)throw t.ExceptionFactory.createAssertionError(\"Game#_start: global asset 'mainScene' not found.\");var e=t._require(this,\"mainScene\")();this.pushScene(e),this._flushSceneChangeRequests()}return void this._started.fire()}var i=t._require(this,this._main);if(!i||\"function\"!=typeof i)throw t.ExceptionFactory.createAssertionError(\"Game#_start: Entry point '\"+this._main+\"' not found.\");i(this._mainParameter),this._flushSceneChangeRequests(),this._started.fire()},e.prototype._doPushScene=function(e,i){if(i||(i=this.loadingScene||this._defaultLoadingScene),this.scenes.push(e),e._needsLoading()&&e._loadingState<t.SceneLoadState.LoadedFired){if(this._defaultLoadingScene._needsLoading())throw t.ExceptionFactory.createAssertionError(\"Game#_doPushScene: _defaultLoadingScene must not depend on any assets/storages.\");this._doPushScene(i,this._defaultLoadingScene),i.reset(e)}else this._sceneChanged.fire(e),e._loaded||(e._load(),this._fireSceneLoaded(e));this.modified=!0},e}();t.Game=e}(t||(t={}));var t;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i.game=e.game,i.local=!!e.local,i.name=e.name,i._modifiedCount=0,i.width=e.game.width,i.height=e.game.height,i.id=i.local?void 0:i.game._cameraIdx++,i}return i(e,t),e.deserialize=function(t,i){var r=t;r.param.game=i;var n=new e(r.param);return n.id=r.id,n},e.prototype.modified=function(){this._modifiedCount=(this._modifiedCount+1)%32768,this._matrix&&(this._matrix._modified=!0),this.game.modified=!0},e.prototype.serialize=function(){return{id:this.id,param:{game:void 0,local:this.local,name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,opacity:this.opacity,scaleX:this.scaleX,scaleY:this.scaleY,angle:this.angle,compositeOperation:this.compositeOperation}}},e.prototype._applyTransformToRenderer=function(t){this.angle||1!==this.scaleX||1!==this.scaleY||null!=this.anchorX||null!=this.anchorY?t.transform(this.getMatrix()._matrix):t.translate(-this.x,-this.y),1!==this.opacity&&t.opacity(this.opacity)},e.prototype._updateMatrix=function(){null!=this.anchorX&&null!=this.anchorY?this._matrix.updateByInverseWithAnchor(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y,this.anchorX,this.anchorY):this.angle||1!==this.scaleX||1!==this.scaleY?this._matrix.updateByInverse(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y):this._matrix.reset(-this.x,-this.y)},e}(t.Object2D);t.Camera2D=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.prototype.draw=function(t,e){var i=t.scene();if(i){this.begin(),this.save(),this.clear(),e&&(this.save(),e._applyTransformToRenderer(this));for(var r=i.children,n=0;n<r.length;++n)r[n].render(this,e);e&&this.restore(),this.restore(),this.end()}},t.prototype.begin=function(){},t.prototype.end=function(){},t}();t.Renderer=e}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,n){if(void 0===n&&(n=!1),e%1!=0||i%1!=0)throw t.ExceptionFactory.createAssertionError(\"Surface#constructor: width and height must be integers\");this.width=e,this.height=i,r&&(this._drawable=r),this.isDynamic=n,this.isDynamic?(this.animatingStarted=new t.Trigger,this.animatingStopped=new t.Trigger):(this.animatingStarted=void 0,this.animatingStopped=void 0)}return e.prototype.destroy=function(){this.animatingStarted&&this.animatingStarted.destroy(),this.animatingStopped&&this.animatingStopped.destroy(),this._destroyed=!0},e.prototype.destroyed=function(){return!!this._destroyed},e}();t.Surface=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r.text=i.text,r.font=i.font,r.textAlign=\"textAlign\"in i?i.textAlign:t.TextAlign.Left,r.glyphs=new Array(i.text.length),r.fontSize=i.fontSize,r.maxWidth=i.maxWidth,r.widthAutoAdjust=!(\"widthAutoAdjust\"in i)||i.widthAutoAdjust,r.textColor=i.textColor,r._textWidth=0,r._game=void 0,r._overhangLeft=0,r._overhangRight=0,r._invalidateSelf(),r}return i(r,e),r.prototype.aligning=function(t,e){this.width=t,this.widthAutoAdjust=!1,this.textAlign=e},r.prototype.invalidate=function(){this._invalidateSelf(),e.prototype.invalidate.call(this)},r.prototype.renderSelfFromCache=function(e){var i;switch(this.textAlign){case t.TextAlign.Center:i=this.widthAutoAdjust?this._overhangLeft:0;break;case t.TextAlign.Right:i=this.widthAutoAdjust?this._overhangLeft:this._overhangRight;break;default:i=this._overhangLeft}e.drawImage(this._cache,0,0,this._cacheSize.width+t.CacheableE.PADDING,this._cacheSize.height+t.CacheableE.PADDING,i,0)},r.prototype.renderCache=function(e){if(!(!this.fontSize||this.height<=0||this._textWidth<=0)){var i=this.maxWidth>0&&this.maxWidth<this._textWidth?this.maxWidth/this._textWidth:1,r=0;switch(this.textAlign){case t.TextAlign.Center:r=this.width/2-(this._textWidth+this._overhangLeft)/2*i;break;case t.TextAlign.Right:r=this.width-(this._textWidth+this._overhangLeft)*i;break;default:r-=this._overhangLeft*i}e.translate(r,0),1!==i&&e.transform([i,0,0,1,0,0]),e.save();for(var n=this.fontSize/this.font.size,o=0;o<this.glyphs.length;++o){var s=this.glyphs[o],a=s.advanceWidth*n,h=s.code;s.isSurfaceValid||(s=this.font.glyphForCharacter(h))?(s.surface&&(e.save(),e.transform([n,0,0,n,0,0]),e.drawImage(s.surface,s.x,s.y,s.width,s.height,s.offsetX,s.offsetY),e.restore()),e.translate(a,0)):this._outputOfWarnLogWithNoGlyph(h,\"renderCache()\")}e.restore(),e.save(),this.textColor&&(e.setCompositeOperation(t.CompositeOperation.SourceAtop),e.fillRect(0,0,this._textWidth,this.height,this.textColor)),e.restore()}},r.prototype.destroy=function(){e.prototype.destroy.call(this)},r.prototype._invalidateSelf=function(){if(this.glyphs.length=0,this._textWidth=0,!this.fontSize)return void(this.height=0);for(var e=this.text.length-1,i=this.text.length-1;i>=0;--i){var r=t.Util.charCodeAt(this.text,i);if(r){var n=this.font.glyphForCharacter(r);if(n&&0!==n.width&&0!==n.advanceWidth){e=i;break}}}for(var o=0,s=this.font.size>0?this.fontSize/this.font.size:0,i=0;i<=e;++i){var a=t.Util.charCodeAt(this.text,i);if(a){var n=this.font.glyphForCharacter(a);if(n){if(!(n.width<0||n.height<0||n.x<0||n.y<0)){this.glyphs.push(n);var h=0;0===i&&(this._overhangLeft=Math.min(n.offsetX,0),h=-this._overhangLeft),i===e&&(this._overhangRight=Math.max(n.width+n.offsetX-n.advanceWidth,0),h+=this._overhangRight),this._textWidth+=(n.advanceWidth+h)*s;var c=n.offsetY+n.height;o<c&&(o=c)}}else this._outputOfWarnLogWithNoGlyph(a,\"_invalidateSelf()\")}}this.widthAutoAdjust&&(this.width=this._textWidth),this.height=o*s},r.prototype._outputOfWarnLogWithNoGlyph=function(t,e){var i=4294901760&t?String.fromCharCode((4294901760&t)>>>16,65535&t):String.fromCharCode(t);this.game().logger.warn(\"Label#\"+e+\": failed to get a glyph for '\"+i+\"' (BitmapFont might not have the glyph or DynamicFont might create a glyph larger than its atlas).\")},r}(t.CacheableE);t.Label=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,n,o,s,a,h,c){void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=r),void 0===c&&(c=!!h),this.code=t,this.x=e,this.y=i,this.width=r,this.height=n,this.offsetX=o,this.offsetY=s,this.advanceWidth=a,this.surface=h,this.isSurfaceValid=c,this._atlas=null}return t.prototype.renderingWidth=function(t){return this.width&&this.height?t/this.height*this.width:0},t}();t.Glyph=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;if(\"string\"!=typeof i.cssColor)throw t.ExceptionFactory.createTypeMismatchError(\"ColorBox#constructor(cssColor)\",\"string\",i.cssColor);return r.cssColor=i.cssColor,r}return i(r,e),r.prototype.renderSelf=function(t){return t.fillRect(0,0,this.width,this.height,this.cssColor),!0},r}(t.E);t.FilledRect=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._oldWidth=i.width,r._oldHeight=i.height,r.backgroundImage=t.Util.asSurface(i.backgroundImage),r.backgroundEffector=i.backgroundEffector,r._shouldRenderChildren=!1,r._padding=i.padding,r._initialize(),r._paddingChanged=!1,r._bgSurface=void 0,r._bgRenderer=void 0,r}return i(r,e),Object.defineProperty(r.prototype,\"padding\",{get:function(){return this._padding},set:function(t){this._padding=t,this._paddingChanged=!0},enumerable:!0,configurable:!0}),r.prototype.modified=function(t){t&&(this.state&=-3),e.prototype.modified.call(this)},r.prototype.shouldFindChildrenByPoint=function(t){var e=this._normalizedPadding;return e.left<t.x&&this.width-e.right>t.x&&e.top<t.y&&this.height-e.bottom>t.y},r.prototype.renderCache=function(t,e){this.width<=0||this.height<=0||(this._renderBackground(),this._renderChildren(e),this._bgSurface?t.drawImage(this._bgSurface,0,0,this.width,this.height,0,0):this.backgroundImage&&t.drawImage(this.backgroundImage,0,0,this.width,this.height,0,0),this._childrenArea.width<=0||this._childrenArea.height<=0||(t.save(),0===this._childrenArea.x&&0===this._childrenArea.y||t.translate(this._childrenArea.x,this._childrenArea.y),t.drawImage(this._childrenSurface,0,0,this._childrenArea.width,this._childrenArea.height,0,0),t.restore()))},r.prototype.destroy=function(t){t&&this.backgroundImage&&!this.backgroundImage.destroyed()&&this.backgroundImage.destroy(),this._bgSurface&&!this._bgSurface.destroyed()&&this._bgSurface.destroy(),this._childrenSurface&&!this._childrenSurface.destroyed()&&this._childrenSurface.destroy(),this.backgroundImage=void 0,this._bgSurface=void 0,this._childrenSurface=void 0,e.prototype.destroy.call(this)},r.prototype._renderBackground=function(){if(this.backgroundImage&&this.backgroundEffector){var t=this.backgroundEffector.render(this.backgroundImage,this.width,this.height);this._bgSurface!==t&&(this._bgSurface&&!this._bgSurface.destroyed()&&this._bgSurface.destroy(),this._bgSurface=t)}else this._bgSurface=void 0},r.prototype._renderChildren=function(t){var e=this._oldWidth!==this.width||this._oldHeight!==this.height||this._paddingChanged;if(e&&(this._initialize(),this._paddingChanged=!1,this._oldWidth=this.width,this._oldHeight=this.height),this._childrenRenderer.begin(),e||this._childrenRenderer.clear(),this.children)for(var i=this.children,r=0;r<i.length;++r)i[r].render(this._childrenRenderer,t);this._childrenRenderer.end()},r.prototype._initialize=function(){var t,e=void 0===this._padding?0:this._padding;t=\"number\"==typeof e?{top:e,bottom:e,left:e,right:e}:this._padding,this._childrenArea={x:t.left,y:t.top,width:this.width-t.left-t.right,height:this.height-t.top-t.bottom};var i=this.scene.game.resourceFactory;this._childrenSurface&&!this._childrenSurface.destroyed()&&this._childrenSurface.destroy(),this._childrenSurface=i.createSurface(Math.ceil(this._childrenArea.width),Math.ceil(this._childrenArea.height)),this._childrenRenderer=this._childrenSurface.renderer(),this._normalizedPadding=t},r.prototype._calculateBoundingRect=function(t,e){var i=this.getMatrix();if(t&&(i=t.multiplyNew(i)),this.visible()&&(!e||this._targetCameras&&-1!==this._targetCameras.indexOf(e))){for(var r={left:0,right:this.width,top:0,bottom:this.height},n=[{x:r.left,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.top},{x:r.right,y:r.bottom}],o=i.multiplyPoint(n[0]),s={left:o.x,right:o.x,top:o.y,bottom:o.y},a=1;a<n.length;++a)o=i.multiplyPoint(n[a]),s.left>o.x&&(s.left=o.x),s.right<o.x&&(s.right=o.x),s.top>o.y&&(s.top=o.y),s.bottom<o.y&&(s.bottom=o.y);return s}},r}(t.CacheableE);t.Pane=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i){this._code=t,this._handler=i,this._handlerOwner=e}return t.prototype.onOperation=function(t){var e;t instanceof Array?e={_code:this._code,data:t}:(e=t,e._code=this._code),this._handler.call(this._handlerOwner,e)},t}(),i=function(){function i(e,i,r){this.operated=new t.Trigger,this.plugins={},this._game=e,this._viewInfo=i,this._infos=r,this._initialized=!1}return i.prototype.initialize=function(){this._initialized||(this._initialized=!0,this._loadOperationPlugins()),this._doAutoStart()},i.prototype.destroy=function(){this.stopAll(),this.operated.destroy(),this.operated=void 0,this.plugins=void 0,this._game=void 0,this._viewInfo=void 0,this._infos=void 0},i.prototype.stopAll=function(){if(this._initialized)for(var t=0;t<this._infos.length;++t){var e=this._infos[t];e._plugin&&e._plugin.stop()}},i.prototype._doAutoStart=function(){for(var t=0;t<this._infos.length;++t){var e=this._infos[t];!e.manualStart&&e._plugin&&e._plugin.start()}},i.prototype._loadOperationPlugins=function(){for(var i=0;i<this._infos.length;++i){var r=this._infos[i];if(r.script){var n=t._require(this._game,r.script);if(n.isSupported()){var o=new n(this._game,this._viewInfo,r.option),s=r.code;if(this.plugins[s])throw new Error(\"Plugin#code conflicted for code: \"+s);this.plugins[s]=o,r._plugin=o;var a=new e(s,this.operated,this.operated.fire);o.operationTrigger.handle(a,a.onOperation)}}}},i}();t.OperationPluginManager=i}(t||(t={}));var t;t||(t={});var t;!function(t){var e=function(){function e(){}return e.prototype.measureText=function(e){for(var i,r=0,n=0,o=0,s=0;s<e.length;s++){var a=t.Util.charCodeAt(e,s);if(a){var h=this.glyphForCharacter(a);!h||h.x<0||h.y<0||h.width<0||h.height<0||(0===s&&(n=-h.offsetX),i=h,r+=h.advanceWidth)}}return i&&(o=r+i.offsetX+i.width-i.advanceWidth),{width:r,actualBoundingBoxLeft:n,actualBoundingBoxRight:o}},e}();t.Font=e}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Normal=0]=\"Normal\",t[t.Bold=1]=\"Bold\"}(e=t.FontWeight||(t.FontWeight={}));var r=function(r){function n(i){var n=r.call(this)||this;if(n.fontFamily=i.fontFamily,n.size=i.size,n.hint=\"hint\"in i?i.hint:{},n.fontColor=\"fontColor\"in i?i.fontColor:\"black\",n.fontWeight=\"fontWeight\"in i?i.fontWeight:e.Normal,n.strokeWidth=\"strokeWidth\"in i?i.strokeWidth:0,n.strokeColor=\"strokeColor\"in i?i.strokeColor:\"black\",n.strokeOnly=\"strokeOnly\"in i&&i.strokeOnly,n._resourceFactory=i.game.resourceFactory,n._glyphFactory=n._resourceFactory.createGlyphFactory(n.fontFamily,n.size,n.hint.baselineHeight,n.fontColor,n.strokeWidth,n.strokeColor,n.strokeOnly,n.fontWeight),n._glyphs={},n._destroyed=!1,n._isSurfaceAtlasSetOwner=!1,i.surfaceAtlasSet?n._atlasSet=i.surfaceAtlasSet:i.hint?(n._isSurfaceAtlasSetOwner=!0,n._atlasSet=new t.SurfaceAtlasSet({game:i.game,hint:n.hint})):n._atlasSet=i.game.surfaceAtlasSet,n._atlasSet.addAtlas(),n.hint.presetChars)for(var o=0,s=n.hint.presetChars.length;o<s;o++){var a=t.Util.charCodeAt(n.hint.presetChars,o);a&&n.glyphForCharacter(a)}return n}return i(n,r),n.prototype.glyphForCharacter=function(t){var e=this._glyphs[t];if(!e||!e.isSurfaceValid){if(e=this._glyphFactory.create(t),e.surface){var i=this._atlasSet.addGlyph(e);if(!i)return null;e._atlas=i,e._atlas._accessScore+=1}this._glyphs[t]=e}for(var r=0;r<this._atlasSet.getAtlasNum();r++){this._atlasSet.getAtlas(r)._accessScore/=2}return e},n.prototype.asBitmapFont=function(e){var i=this;if(1!==this._atlasSet.getAtlasNum())return null;var r;e&&(r=t.Util.charCodeAt(e,0),this.glyphForCharacter(r));var n={};Object.keys(this._glyphs).forEach(function(t){var e=Number(t),r=i._glyphs[e],o={x:r.x,y:r.y,width:r.width,height:r.height,offsetX:r.offsetX,offsetY:r.offsetY,advanceWidth:r.advanceWidth};n[e]=o});var o=n[r],s=this._atlasSet.getAtlas(0).duplicateSurface(this._resourceFactory);return new t.BitmapFont({src:s,map:n,defaultGlyphWidth:0,defaultGlyphHeight:this.size,missingGlyph:o})},n.prototype.destroy=function(){this._isSurfaceAtlasSetOwner&&this._atlasSet.destroy(),this._glyphs=null,this._glyphFactory=null,this._destroyed=!0},n.prototype.destroyed=function(){return this._destroyed},n}(t.Font);t.DynamicFont=r}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this)||this;return r.surface=t.Util.asSurface(i.src),r.map=i.map,r.defaultGlyphWidth=i.defaultGlyphWidth,r.defaultGlyphHeight=i.defaultGlyphHeight,r.missingGlyph=i.missingGlyph,r.size=i.defaultGlyphHeight,r}return i(r,e),r.prototype.glyphForCharacter=function(e){var i=this.map[e]||this.missingGlyph;if(!i)return null;var r=void 0===i.width?this.defaultGlyphWidth:i.width,n=void 0===i.height?this.defaultGlyphHeight:i.height,o=i.offsetX||0,s=i.offsetY||0,a=void 0===i.advanceWidth?r:i.advanceWidth,h=0===r||0===n?void 0:this.surface;return new t.Glyph(e,i.x,i.y,r,n,o,s,a,h,!0)},r.prototype.destroy=function(){this.surface&&!this.surface.destroyed()&&this.surface.destroy(),this.map=void 0},r.prototype.destroyed=function(){return!this.map},r}(t.Font);t.BitmapFont=e}(t||(t={}));var t;!function(t){function e(t,e,i){for(;t;){if(t.width>=e&&t.height>=i)return t;t=t.next}return null}function i(t){return{width:Math.ceil(Math.min(t.initialAtlasWidth,t.maxAtlasWidth)),height:Math.ceil(Math.min(t.initialAtlasHeight,t.maxAtlasHeight))}}var r=function(){function t(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r,this.prev=null,this.next=null}return t}();t.SurfaceAtlasSlot=r;var n=function(){function t(t){this._surface=t,this._emptySurfaceAtlasSlotHead=new r(0,0,this._surface.width,this._surface.height),this._accessScore=0,this._usedRectangleAreaSize={width:0,height:0}}return t.prototype._acquireSurfaceAtlasSlot=function(t,i){t+=1,i+=1;var n=e(this._emptySurfaceAtlasSlotHead,t,i);if(!n)return null;var o,s,a=n.width-t,h=n.height-i;a<=h?(o=new r(n.x+t,n.y,a,i),s=new r(n.x,n.y+i,n.width,h)):(o=new r(n.x,n.y+i,t,h),s=new r(n.x+t,n.y,a,n.height)),o.prev=n.prev,o.next=s,null===o.prev?this._emptySurfaceAtlasSlotHead=o:o.prev.next=o,s.prev=o,s.next=n.next,s.next&&(s.next.prev=s);var c=new r(n.x,n.y,t,i);return this._updateUsedRectangleAreaSize(c),c},t.prototype._updateUsedRectangleAreaSize=function(t){var e=t.x+t.width,i=t.y+t.height;e>this._usedRectangleAreaSize.width&&(this._usedRectangleAreaSize.width=e),i>this._usedRectangleAreaSize.height&&(this._usedRectangleAreaSize.height=i)},t.prototype.addSurface=function(t){var e=this._acquireSurfaceAtlasSlot(t.width,t.height);if(!e)return null;var i=this._surface.renderer();return i.begin(),i.drawImage(t.surface,t.x,t.y,t.width,t.height,e.x,e.y),i.end(),e},t.prototype.destroy=function(){this._surface.destroy()},t.prototype.destroyed=function(){return this._surface.destroyed()},t.prototype.duplicateSurface=function(t){var e=this._surface,i=t.createSurface(this._usedRectangleAreaSize.width,this._usedRectangleAreaSize.height),r=i.renderer();return r.begin(),r.drawImage(e,0,0,this._usedRectangleAreaSize.width,this._usedRectangleAreaSize.height,0,0),r.end(),i},t}();t.SurfaceAtlas=n;var o=function(){function t(e){this._surfaceAtlases=[],this._atlasGlyphsTable=[],this._resourceFactory=e.game.resourceFactory,this._currentAtlasIndex=0;var r=e.hint?e.hint:{};this._maxAtlasNum=r.maxAtlasNum?r.maxAtlasNum:t.INITIAL_MAX_SURFACEATLAS_NUM,r.initialAtlasWidth=r.initialAtlasWidth?r.initialAtlasWidth:512,r.initialAtlasHeight=r.initialAtlasHeight?r.initialAtlasHeight:512,r.maxAtlasWidth=r.maxAtlasWidth?r.maxAtlasWidth:512,r.maxAtlasHeight=r.maxAtlasHeight?r.maxAtlasHeight:512,this._atlasSize=i(r)}return t.prototype._deleteAtlas=function(t){for(var e=this._removeLeastFrequentlyUsedAtlas(t),i=e.surfaceAtlases,r=0;r<i.length;++r)i[r].destroy()},t.prototype._removeLeastFrequentlyUsedAtlas=function(t){for(var e=[],i=[],r=0;r<t;++r){for(var n=Number.MAX_VALUE,o=-1,s=0;s<this._surfaceAtlases.length;++s)this._surfaceAtlases[s]._accessScore<=n&&(n=this._surfaceAtlases[s]._accessScore,o=s);var a=this._surfaceAtlases.splice(o,1)[0];e.push(a),i.push(this._atlasGlyphsTable.splice(o,1)[0])}return{surfaceAtlases:e,glyphs:i}},t.prototype._moveGlyphSurface=function(t){for(var e=0;e<this._surfaceAtlases.length;++e){var i=(this._currentAtlasIndex+e)%this._surfaceAtlases.length,r=this._surfaceAtlases[i],n=r.addSurface(t);if(n)return this._currentAtlasIndex=i,t.surface.destroy(),t.surface=r._surface,t.x=n.x,t.y=n.y,this._atlasGlyphsTable[i]||(this._atlasGlyphsTable[i]=[]),this._atlasGlyphsTable[i].push(t),r}return null},t.prototype._reallocateAtlas=function(){if(this._surfaceAtlases.length>=this._maxAtlasNum){for(var t=this._removeLeastFrequentlyUsedAtlas(1),e=t.surfaceAtlases[0],i=t.glyphs[0],r=0;r<i.length;r++){var n=i[r];n.surface=null,n.isSurfaceValid=!1,n._atlas=null}e.destroy()}this._surfaceAtlases.push(this._resourceFactory.createSurfaceAtlas(this._atlasSize.width,this._atlasSize.height)),this._currentAtlasIndex=this._surfaceAtlases.length-1},t.prototype.addAtlas=function(){this._surfaceAtlases.length>=this._maxAtlasNum&&this._deleteAtlas(1),\nthis._surfaceAtlases.push(this._resourceFactory.createSurfaceAtlas(this._atlasSize.width,this._atlasSize.height))},t.prototype.getAtlas=function(t){return this._surfaceAtlases[t]},t.prototype.getAtlasNum=function(){return this._surfaceAtlases.length},t.prototype.getMaxAtlasNum=function(){return this._maxAtlasNum},t.prototype.changeMaxAtlasNum=function(t){if(this._maxAtlasNum=t,this._surfaceAtlases.length>this._maxAtlasNum){var e=this._surfaceAtlases.length-this._maxAtlasNum;this._deleteAtlas(e)}},t.prototype.getAtlasSize=function(){return this._atlasSize},t.prototype.addGlyph=function(t){if(t.width>this._atlasSize.width||t.height>this._atlasSize.height)return null;var e=this._moveGlyphSurface(t);return e||(this._reallocateAtlas(),e=this._moveGlyphSurface(t)),e},t.prototype.destroy=function(){for(var t=0;t<this._surfaceAtlases.length;++t)this._surfaceAtlases[t].destroy();this._surfaceAtlases=void 0,this._resourceFactory=void 0,this._atlasGlyphsTable=void 0},t.prototype.destroyed=function(){return void 0===this._surfaceAtlases},t.INITIAL_MAX_SURFACEATLAS_NUM=10,t}();t.SurfaceAtlasSet=o}(t||(t={}));var t;!function(t){var e=function(){function t(t){this._game=t,this._muted=!1,this._playbackRate=1}return t.prototype._reset=function(){this._muted=!1,this._playbackRate=1;var t=this._game.audio;for(var e in t)t.hasOwnProperty(e)&&t[e]._reset()},t.prototype._setMuted=function(t){if(this._muted!==t){this._muted=t;var e=this._game.audio;for(var i in e)e.hasOwnProperty(i)&&e[i]._setMuted(t)}},t.prototype._setPlaybackRate=function(t){if(this._playbackRate!==t){this._playbackRate=t;var e=this._game.audio;for(var i in e)e.hasOwnProperty(i)&&e[i]._setPlaybackRate(t)}},t}();t.AudioSystemManager=e}(t||(t={}));var t;!function(t){!function(t){t[t.SourceOver=0]=\"SourceOver\",t[t.SourceAtop=1]=\"SourceAtop\",t[t.Lighter=2]=\"Lighter\",t[t.Copy=3]=\"Copy\",t[t.ExperimentalSourceIn=4]=\"ExperimentalSourceIn\",t[t.ExperimentalSourceOut=5]=\"ExperimentalSourceOut\",t[t.ExperimentalDestinationAtop=6]=\"ExperimentalDestinationAtop\",t[t.ExperimentalDestinationIn=7]=\"ExperimentalDestinationIn\",t[t.DestinationOut=8]=\"DestinationOut\",t[t.DestinationOver=9]=\"DestinationOver\",t[t.Xor=10]=\"Xor\"}(t.CompositeOperation||(t.CompositeOperation={}))}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,n,o,s,a,h){void 0===r&&(r=i),void 0===n&&(n=\"black\"),void 0===o&&(o=0),void 0===s&&(s=\"black\"),void 0===a&&(a=!1),void 0===h&&(h=t.FontWeight.Normal),this.fontFamily=e,this.fontSize=i,this.fontWeight=h,this.baselineHeight=r,this.fontColor=n,this.strokeWidth=o,this.strokeColor=s,this.strokeOnly=a}return e}();t.GlyphFactory=e}(t||(t={}));var t;!function(t){!function(t){t[t.NonLocal=0]=\"NonLocal\",t[t.FullLocal=1]=\"FullLocal\",t[t.InterpolateLocal=2]=\"InterpolateLocal\"}(t.LocalTickMode||(t.LocalTickMode={}))}(t||(t={}));var t;!function(t){var e=function(){function t(t,e){void 0===e&&(e=4),this.game=t,this.borderWidth=\"number\"==typeof e?{top:e,bottom:e,left:e,right:e}:e}return t.prototype.render=function(t,e,i){var r=!0;this._surface&&this._surface.width===e&&this._surface.height===i&&this._beforeSrcSurface===t?r=!1:(this._surface=this.game.resourceFactory.createSurface(Math.ceil(e),Math.ceil(i)),this._beforeSrcSurface=t);var n=this._surface.renderer();n.begin(),r||n.clear();var o=this.borderWidth.left,s=t.width-this.borderWidth.right,a=this.borderWidth.top,h=t.height-this.borderWidth.bottom,c=this.borderWidth.left,u=e-this.borderWidth.right,l=this.borderWidth.top,d=i-this.borderWidth.bottom,p=[{x:0,y:0,width:this.borderWidth.left,height:this.borderWidth.top},{x:s,y:0,width:this.borderWidth.right,height:this.borderWidth.top},{x:0,y:h,width:this.borderWidth.left,height:this.borderWidth.bottom},{x:s,y:h,width:this.borderWidth.right,height:this.borderWidth.bottom}],f=[{x:0,y:0},{x:u,y:0},{x:0,y:d},{x:u,y:d}],_=0;for(_=0;_<p.length;++_){var g=p[_];n.save(),n.translate(f[_].x,f[_].y),n.drawImage(t,g.x,g.y,g.width,g.height,0,0),n.restore()}var y=[{x:o,y:0,width:s-o,height:this.borderWidth.top},{x:0,y:a,width:this.borderWidth.left,height:h-a},{x:s,y:a,width:this.borderWidth.right,height:h-a},{x:o,y:h,width:s-o,height:this.borderWidth.bottom}],m=[{x:c,y:0,width:u-c,height:this.borderWidth.top},{x:0,y:l,width:this.borderWidth.left,height:d-l},{x:u,y:l,width:this.borderWidth.right,height:d-l},{x:c,y:d,width:u-c,height:this.borderWidth.bottom}];for(_=0;_<y.length;++_){var v=y[_],T=m[_];n.save(),n.translate(T.x,T.y),n.transform([T.width/v.width,0,0,T.height/v.height,0,0]),n.drawImage(t,v.x,v.y,v.width,v.height,0,0),n.restore()}var A=s-o,x=h-a,w=u-c,S=d-l;return n.save(),n.translate(c,l),n.transform([w/A,0,0,S/x,0,0]),n.drawImage(t,o,a,A,x,0,0),n.restore(),n.end(),this._surface},t}();t.NinePatchSurfaceEffector=e}(t||(t={}));var t;!function(t){!function(e){function i(i,r){function n(t){var e=t.split(\"/\");return\"\"===e[e.length-1]&&e.pop(),e}if(\"\"===r)return i;for(var o=e.splitPath(i),s=n(o.path).concat(n(r)),a=[],h=0;h<s.length;++h){var c=s[h];switch(c){case\"..\":var u=a.pop();if(void 0===u||\"\"===u||\".\"===u)throw t.ExceptionFactory.createAssertionError(\"PathUtil.resolvePath: invalid arguments\");break;case\".\":0===a.length&&a.push(\".\");break;case\"\":a=[\"\"];break;default:a.push(c)}}return o.host+a.join(\"/\")}function r(t){var e=t.lastIndexOf(\"/\");return-1===e?t:t.substr(0,e)}function n(t){for(var e=t.length-1;e>=0;--e){var i=t.charAt(e);if(\".\"===i)return t.substr(e);if(\"/\"===i)return\"\"}return\"\"}function o(t){var i=e.splitPath(t),r=i.host;t=i.path,\"/\"===t[t.length-1]&&(t=t.slice(0,t.length-1));for(var n=t.split(\"/\"),o=n.indexOf(\"node_modules\"),s=o>0?o-1:0,a=[],h=n.length-1;h>=s;--h)if(\"node_modules\"!==n[h]){var c=n.slice(0,h+1);c.push(\"node_modules\");var u=c.join(\"/\");a.push(r+u)}return a}function s(t,e){var i=t.indexOf(\"?\");return-1===i?t+\".\"+e:t.substring(0,i)+\".\"+e+t.substring(i,t.length)}function a(t){var e=\"\",i=t.indexOf(\"//\");if(i>=0){var r=t.indexOf(\"/\",i+2);r>=0?(e=t.slice(0,r),t=t.slice(r)):(e=t,t=\"/\")}else e=\"\";return{host:e,path:t}}e.resolvePath=i,e.resolveDirname=r,e.resolveExtname=n,e.makeNodeModulePaths=o,e.addExtname=s,e.splitPath=a}(t.PathUtil||(t.PathUtil={}))}(t||(t={}));var t;!function(t){!function(t){t[t.SansSerif=0]=\"SansSerif\",t[t.Serif=1]=\"Serif\",t[t.Monospace=2]=\"Monospace\"}(t.FontFamily||(t.FontFamily={}))}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Top=0]=\"Top\",t[t.Middle=1]=\"Middle\",t[t.Alphabetic=2]=\"Alphabetic\",t[t.Bottom=3]=\"Bottom\"}(e=t.TextBaseline||(t.TextBaseline={}));var r=function(r){function n(i){var n=r.call(this,i)||this;return n.text=i.text,n.fontSize=i.fontSize,n.textAlign=\"textAlign\"in i?i.textAlign:t.TextAlign.Left,n.textBaseline=\"textBaseline\"in i?i.textBaseline:e.Alphabetic,n.maxWidth=i.maxWidth,n.textColor=\"textColor\"in i?i.textColor:\"black\",n.fontFamily=\"fontFamily\"in i?i.fontFamily:t.FontFamily.SansSerif,n.strokeWidth=\"strokeWidth\"in i?i.strokeWidth:0,n.strokeColor=\"strokeColor\"in i?i.strokeColor:\"black\",n.strokeOnly=\"strokeOnly\"in i&&i.strokeOnly,n}return i(n,r),n.prototype.renderSelf=function(e,i){if(this.text){var r;switch(this.textAlign){case t.TextAlign.Right:r=this.width;break;case t.TextAlign.Center:r=this.width/2;break;default:r=0}e.drawSystemText(this.text,r,0,this.maxWidth,this.fontSize,this.textAlign,this.textBaseline,this.textColor,this.fontFamily,this.strokeWidth,this.strokeColor,this.strokeOnly)}return!0},n}(t.E);t.SystemLabel=r}(t||(t={}));var t;!function(t){!function(t){t[t.Left=0]=\"Left\",t[t.Center=1]=\"Center\",t[t.Right=2]=\"Right\"}(t.TextAlign||(t.TextAlign={}))}(t||(t={}));var t;!function(t){!function(t){t[t.ByClock=0]=\"ByClock\",t[t.Manual=1]=\"Manual\"}(t.TickGenerationMode||(t.TickGenerationMode={}))}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.initState(t)}return t.deserialize=function(e){var i=new t(0);return i._state0U=e._state0U,i._state0L=e._state0L,i._state1U=e._state1U,i._state1L=e._state1L,i},t.prototype.initState=function(t){t=1812433253*(t^t>>30)+1,this._state0U=t,t=1812433253*(t^t>>30)+2,this._state0L=t,t=1812433253*(t^t>>30)+3,this._state1U=t,t=1812433253*(t^t>>30)+4,this._state1L=t},t.prototype.randomInt=function(){var t=this._state0U,e=this._state0L,i=this._state1U,r=this._state1L;this._state0U=i,this._state0L=r;var n=0,o=0,s=0,a=0;n=t<<23|(-512&e)>>>9,o=e<<23,t^=n,e^=o,n=t^i,o=e^r;s=t>>>17,a=e>>>17|(131071&t)<<15,n^=s,o^=a;s=i>>>26,a=r>>>26|(67108863&i)<<6,n^=s,o^=a,this._state1U=n,this._state1L=o;var h=(o>>>0)+(r>>>0);return s=n+i+(h/2>>>31)>>>0,a=h>>>0,[s,a]},t.prototype.random=function(){var t=this.randomInt();return(4294967296*t[0]+t[1])/0x10000000000000000},t.prototype.nextInt=function(t,e){return Math.floor(t+this.random()*(e-t))},t.prototype.serialize=function(){return{_state0U:this._state0U,_state0L:this._state0L,_state1U:this._state1U,_state1L:this._state1L}},t}();t.Xorshift=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i,r){var n=this;if(void 0===i)throw t.ExceptionFactory.createAssertionError(\"XorshiftRandomGenerator#constructor: seed is undefined\");return n=e.call(this,i)||this,n._xorshift=r?t.Xorshift.deserialize(r):new t.Xorshift(i),n}return i(r,e),r.deserialize=function(t){return new r(t._seed,t._xorshift)},r.prototype.get=function(t,e){return this._xorshift.nextInt(t,e+1)},r.prototype.generate=function(){return this._xorshift.random()},r.prototype.serialize=function(){return{_seed:this.seed,_xorshift:this._xorshift.serialize()}},r}(t.RandomGenerator);t.XorshiftRandomGenerator=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.fragmentShader=t.fragmentShader,this.uniforms=t.uniforms}return t}();t.ShaderProgram=e}(t||(t={})),e.exports=t}).call(this)},{}],3:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0})},{}],4:[function(t,e,i){e.exports=t(\"./lib/index\")},{\"./lib/index\":27}],5:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(e){this.fps=e.fps,this.scaleFactor=e.scaleFactor||1,this.frameTrigger=new r.Trigger,this.rawFrameTrigger=new r.Trigger,this._platform=e.platform,this._maxFramePerOnce=e.maxFramePerOnce,this._deltaTimeBrokenThreshold=e.deltaTimeBrokenThreshold||t.DEFAULT_DELTA_TIME_BROKEN_THRESHOLD,e.frameHandler&&this.frameTrigger.add(e.frameHandler,e.frameHandlerOwner),this.running=!1,this._totalDeltaTime=0,this._onLooperCall_bound=this._onLooperCall.bind(this),this._looper=this._platform.createLooper(this._onLooperCall_bound),this._waitTime=0,this._waitTimeDoubled=0,this._waitTimeMax=0,this._skipFrameWaitTime=0,this._realMaxFramePerOnce=0}return t.prototype.start=function(){this.running||(this._totalDeltaTime=0,this._updateWaitTimes(this.fps,this.scaleFactor),this._looper.start(),this.running=!0)},t.prototype.stop=function(){this.running&&(this._looper.stop(),this.running=!1)},t.prototype.changeScaleFactor=function(t){this.running?(this.stop(),this.scaleFactor=t,this.start()):this.scaleFactor=t},t.prototype._onLooperCall=function(t){var e=t;if(t<=0)return this._waitTime-this._totalDeltaTime;t>this._deltaTimeBrokenThreshold&&(t=this._waitTime);var i=this._totalDeltaTime;if((i+=t)<=this._skipFrameWaitTime)return this._totalDeltaTime=i,this._waitTime-i;for(var r=i<this._waitTimeDoubled?1:i>this._waitTimeMax?this._realMaxFramePerOnce:i/this._waitTime|0,n=r,o={deltaTime:e,interrupt:!1};n>0&&this.running&&!o.interrupt;)--n,this.frameTrigger.fire(o),o.deltaTime=0;return i-=(r-n)*this._waitTime,this.rawFrameTrigger.fire(),this._totalDeltaTime=i,this._waitTime-i},t.prototype._updateWaitTimes=function(e,i){var r=e*i;this._waitTime=1e3/r,this._waitTimeDoubled=Math.max(2e3/r|0,1),this._waitTimeMax=Math.max(i*(1e3*this._maxFramePerOnce/r)|0,1),this._skipFrameWaitTime=this._waitTime*t.ANTICIPATE_RATE|0,this._realMaxFramePerOnce=this._maxFramePerOnce*i},t.ANTICIPATE_RATE=.8,t.DEFAULT_DELTA_TIME_BROKEN_THRESHOLD=150,t}();i.Clock=n},{\"@akashic/akashic-engine\":1}],6:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=(t(\"@akashic/akashic-pdi\"),t(\"@akashic/akashic-engine\")),n=t(\"./PointEventResolver\"),o=function(){function t(t){this._amflow=t.amflow,this._isLocalReceiver=!0,this._isReceiver=!1,this._isSender=!1,this._isDiscarder=!1,this._defaultEventPriority=0,this._buffer=[],this._joinLeaveBuffer=[],this._localBuffer=[],this._filters=null,this._unfilteredLocalEvents=[],this._unfilteredEvents=[],this._pointEventResolver=new n.PointEventResolver({game:t.game}),this._onEvent_bound=this.onEvent.bind(this)}return t.isEventLocal=function(t){switch(t[0]){case 0:return t[5];case 1:return t[3];case 2:case 32:return t[4];case 33:return t[7];case 34:case 35:return t[11];case 64:return t[5];default:throw r.ExceptionFactory.createAssertionError(\"EventBuffer.isEventLocal\")}},t.prototype.setMode=function(t){null!=t.isLocalReceiver&&(this._isLocalReceiver=t.isLocalReceiver),null!=t.isReceiver&&this._isReceiver!==t.isReceiver&&(this._isReceiver=t.isReceiver,t.isReceiver?this._amflow.onEvent(this._onEvent_bound):this._amflow.offEvent(this._onEvent_bound)),null!=t.isSender&&(this._isSender=t.isSender),null!=t.isDiscarder&&(this._isDiscarder=t.isDiscarder),null!=t.defaultEventPriority&&(this._defaultEventPriority=t.defaultEventPriority)},t.prototype.getMode=function(){return{isLocalReceiver:this._isLocalReceiver,isReceiver:this._isReceiver,isSender:this._isSender,isDiscarder:this._isDiscarder,defaultEventPriority:this._defaultEventPriority}},t.prototype.onEvent=function(e){if(t.isEventLocal(e))return void(this._isLocalReceiver&&!this._isDiscarder&&this._unfilteredLocalEvents.push(e));this._isReceiver&&!this._isDiscarder&&this._unfilteredEvents.push(e),this._isSender&&(null==e[1]&&(e[1]=this._defaultEventPriority),this._amflow.sendEvent(e))},t.prototype.onPointEvent=function(t){var e;switch(t.type){case 0:e=this._pointEventResolver.pointDown(t);break;case 1:e=this._pointEventResolver.pointMove(t);break;case 2:e=this._pointEventResolver.pointUp(t)}e&&this.onEvent(e)},t.prototype.addEventDirect=function(e){if(t.isEventLocal(e)){if(!this._isLocalReceiver||this._isDiscarder)return;return void this._localBuffer.push(e)}this._isReceiver&&!this._isDiscarder&&(0===e[0]||1===e[0]?this._joinLeaveBuffer.push(e):this._buffer.push(e)),this._isSender&&(null==e[1]&&(e[1]=this._defaultEventPriority),this._amflow.sendEvent(e))},t.prototype.readEvents=function(){var t=this._buffer;return 0===t.length?null:(this._buffer=[],t)},t.prototype.readJoinLeaves=function(){var t=this._joinLeaveBuffer;return 0===t.length?null:(this._joinLeaveBuffer=[],t)},t.prototype.readLocalEvents=function(){var t=this._localBuffer;return 0===t.length?null:(this._localBuffer=[],t)},t.prototype.addFilter=function(t,e){this._filters||(this._filters=[]),this._filters.push({func:t,handleEmpty:!!e})},t.prototype.removeFilter=function(t){if(this._filters){if(!t)return void(this._filters=null);for(var e=this._filters.length-1;e>=0;--e)this._filters[e].func===t&&this._filters.splice(e,1)}},t.prototype.processEvents=function(e){var i=this._unfilteredLocalEvents,r=this._unfilteredEvents;this._unfilteredLocalEvents=[];var n=i;if(!e&&r.length>0&&(n=n.length>0?n.concat(r):r,this._unfilteredEvents=[]),this._filters)for(var o=0;o<this._filters.length;++o){var s=this._filters[o];(n.length>0||s.handleEmpty)&&(n=this._filters[o].func(n)||[])}for(var o=0;o<n.length;++o){var a=n[o];t.isEventLocal(a)?this._localBuffer.push(a):0===a[0]||1===a[0]?this._joinLeaveBuffer.push(a):this._buffer.push(a)}},t}();i.EventBuffer=o},{\"./PointEventResolver\":17,\"@akashic/akashic-engine\":1,\"@akashic/akashic-pdi\":3}],7:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t){this._game=t.game,this._playerTable={}}return t.prototype.toGameEvent=function(t){var e,i,n,o,s,a,h,c,u=t[0],l=t[1],d=t[2],p=this._playerTable[d]||{id:d};switch(u){case 0:p={id:d,name:t[3]},this._playerTable[d]=p;var f=void 0;if(t[4]){var _=[],g=[];t[4].map(function(t){_.push(t.readKey),g.push(t.values)}),f=new r.StorageValueStore(_,g)}return new r.JoinEvent(p,f,l);case 1:return delete this._playerTable[p.id],new r.LeaveEvent(p,l);case 2:return c=t[3],new r.TimestampEvent(c,p,l);case 32:return h=t[4],new r.MessageEvent(t[3],p,h,l);case 33:return h=t[7],e=t[3],i=t[6],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:t[4],y:t[5]},new r.PointDownEvent(e,n,o,p,h,l);case 34:return h=t[11],e=t[3],i=t[10],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:t[4],y:t[5]},s={x:t[6],y:t[7]},a={x:t[8],y:t[9]},new r.PointMoveEvent(e,n,o,a,s,p,h,l);case 35:return h=t[11],e=t[3],i=t[10],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:t[4],y:t[5]},s={x:t[6],y:t[7]},a={x:t[8],y:t[9]},new r.PointUpEvent(e,n,o,a,s,p,h,l);case 64:h=t[5];var y=t[3],m=t[4],v=this._game._decodeOperationPluginOperation(y,m);return new r.OperationEvent(y,v,p,h,l);default:throw r.ExceptionFactory.createAssertionError(\"EventConverter#toGameEvent\")}},t.prototype.toPlaylogEvent=function(t,e){var i,n;switch(t.type){case r.EventType.Join:case r.EventType.Leave:throw r.ExceptionFactory.createAssertionError(\"EventConverter#toPlaylogEvent: Invalid type: \"+r.EventType[t.type]);case r.EventType.Timestamp:var o=t;return n=e?o.player.id:this._game.player.id,[2,o.priority,n,o.timestamp];case r.EventType.PointDown:var s=t;return i=s.target?s.target.id:null,n=e?s.player.id:this._game.player.id,[33,s.priority,n,s.pointerId,s.point.x,s.point.y,i,!!s.local];case r.EventType.PointMove:var a=t;return i=a.target?a.target.id:null,n=e?a.player.id:this._game.player.id,[34,a.priority,n,a.pointerId,a.point.x,a.point.y,a.startDelta.x,a.startDelta.y,a.prevDelta.x,a.prevDelta.y,i,!!a.local];case r.EventType.PointUp:var h=t;return i=h.target?h.target.id:null,n=e?h.player.id:this._game.player.id,[35,h.priority,n,h.pointerId,h.point.x,h.point.y,h.startDelta.x,h.startDelta.y,h.prevDelta.x,h.prevDelta.y,i,!!h.local];case r.EventType.Message:var c=t;return n=e?c.player.id:this._game.player.id,[32,c.priority,n,c.data,!!c.local];case r.EventType.Operation:var u=t;return n=e?u.player.id:this._game.player.id,[64,u.priority,n,u.code,u.data,!!u.local];default:throw r.ExceptionFactory.createAssertionError(\"Unknown type: \"+t.type)}},t.prototype.makePlaylogOperationEvent=function(t){var e=this._game.player.id;return[64,null!=t.priority?t.priority:0,e,t._code,t.data,!!t.local]},t}();i.EventConverter=n},{\"@akashic/akashic-engine\":1}],8:[function(t,e,i){arguments[4][3][0].apply(i,arguments)},{dup:3}],9:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r;!function(t){t[t.Active=0]=\"Active\",t[t.Passive=1]=\"Passive\"}(r||(r={})),i.default=r},{}],10:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e){var i=t.call(this,e.configuration,e.resourceFactory,e.assetBase,e.player.id,e.operationPluginViewInfo)||this;return i.agePassedTrigger=new n.Trigger,i.targetTimeReachedTrigger=new n.Trigger,i.skippingChangedTrigger=new n.Trigger,i.abortTrigger=new n.Trigger,i.player=e.player,i.raiseEventTrigger=new n.Trigger,i.raiseTickTrigger=new n.Trigger,i.snapshotTrigger=new n.Trigger,i.isSnapshotSaver=!!e.isSnapshotSaver,i._getCurrentTimeFunc=null,i._eventFilterFuncs=null,i._notifyPassedAgeTable={},i._notifiesTargetTimeReached=!1,i._isSkipAware=!1,i._gameArgs=e.gameArgs,i._globalGameArgs=e.globalGameArgs,i.skippingChangedTrigger.add(i._onSkippingChanged,i),i}return r(e,t),e.prototype.requestNotifyAgePassed=function(t){this._notifyPassedAgeTable[t]=!0},e.prototype.cancelNotifyAgePassed=function(t){delete this._notifyPassedAgeTable[t]},e.prototype.requestNotifyTargetTimeReached=function(){this._notifiesTargetTimeReached=!0},e.prototype.cancelNofityTargetTimeReached=function(){this._notifiesTargetTimeReached=!1},e.prototype.fireAgePassedIfNeeded=function(){var t=this.age-1;return!!this._notifyPassedAgeTable[t]&&(delete this._notifyPassedAgeTable[t],this.agePassedTrigger.fire(t),!0)},e.prototype.setCurrentTimeFunc=function(t){this._getCurrentTimeFunc=t},e.prototype.setEventFilterFuncs=function(t){this._eventFilterFuncs=t},e.prototype.setStorageFunc=function(t){this.storage._registerLoad(t.storageGetFunc),this.storage._registerWrite(t.storagePutFunc),this.storage.requestValuesForJoinPlayer=t.requestValuesForJoinFunc},e.prototype.getIsSkipAware=function(){return this._isSkipAware},e.prototype.setIsSkipAware=function(t){this._isSkipAware=t},e.prototype.getCurrentTime=function(){return Math.floor(this._getCurrentTimeFunc())},e.prototype.raiseEvent=function(t){this.raiseEventTrigger.fire(t)},e.prototype.raiseTick=function(t){if(!this.scene()||this.scene().tickGenerationMode!==n.TickGenerationMode.Manual)throw n.ExceptionFactory.createAssertionError(\"Game#raiseTick(): tickGenerationMode for the current scene is not Manual.\");this.raiseTickTrigger.fire(t)},e.prototype.addEventFilter=function(t,e){this._eventFilterFuncs.addFilter(t,e)},e.prototype.removeEventFilter=function(t){this._eventFilterFuncs.removeFilter(t)},e.prototype.shouldSaveSnapshot=function(){return this.isSnapshotSaver},e.prototype.isActiveInstance=function(){return this.shouldSaveSnapshot()},e.prototype.saveSnapshot=function(t,e){void 0===e&&(e=this._getCurrentTimeFunc()),this.shouldSaveSnapshot()&&this.snapshotTrigger.fire({frame:this.age,timestamp:e,data:{randGenSer:this.random[0].serialize(),gameSnapshot:t}})},e.prototype._destroy=function(){this.agePassedTrigger.destroy(),this.agePassedTrigger=null,this.targetTimeReachedTrigger.destroy(),this.targetTimeReachedTrigger=null,this.skippingChangedTrigger.destroy(),this.skippingChangedTrigger=null,this.abortTrigger.destroy(),this.abortTrigger=null,this.player=null,this.raiseEventTrigger.destroy(),this.raiseEventTrigger=null,this.raiseTickTrigger.destroy(),this.raiseTickTrigger=null,this.snapshotTrigger.destroy(),this.snapshotTrigger=null,this.isSnapshotSaver=!1,this._getCurrentTimeFunc=null,this._eventFilterFuncs=null,this._notifyPassedAgeTable=null,this._gameArgs=null,this._globalGameArgs=null,t.prototype._destroy.call(this)},e.prototype._restartWithSnapshot=function(t){var e=t.data;if(this._eventFilterFuncs.removeFilter(),null!=e.seed){var i=new n.XorshiftRandomGenerator(e.seed);this._reset({age:t.frame,randGen:i}),this._loadAndStart({args:this._gameArgs,globalArgs:this._globalGameArgs})}else{var i=new n.XorshiftRandomGenerator(0,e.randGenSer);this._reset({age:t.frame,randGen:i}),this._loadAndStart({snapshot:e.gameSnapshot})}},e.prototype._leaveGame=function(){},e.prototype._abortGame=function(){this.abortTrigger.fire()},e.prototype._onRawTargetTimeReached=function(t){this._notifiesTargetTimeReached&&(this._notifiesTargetTimeReached=!1,this.targetTimeReachedTrigger.fire(t))},e.prototype._onSkippingChanged=function(t){this._isSkipAware&&this.skippingChanged.fire(t)},e}(n.Game);i.Game=o},{\"@akashic/akashic-engine\":1}],11:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"es6-promise\"),n=t(\"@akashic/akashic-engine\"),o=t(\"./ExecutionMode\"),s=t(\"./Game\"),a=t(\"./EventBuffer\"),h=t(\"./GameLoop\"),c=t(\"./PdiUtil\"),u=function(){function t(t){this.errorTrigger=new n.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this.configurationLoadedTrigger=new n.Trigger,this.gameCreatedTrigger=new n.Trigger,this._platform=t.platform,this._loadConfigurationFunc=c.PdiUtil.makeLoadConfigurationFunc(t.platform),this._player=t.player,this._rendererRequirement=null,this._playId=null,this._game=null,this._gameLoop=null,this._eventBuffer=null,this._openedAmflow=!1,this._playToken=null,this._permission=null,this._hidden=!1,this._destroyed=!1}return t.prototype.initialize=function(t,e){this.doInitialize(t).then(function(){e()},e)},t.prototype.changeState=function(t,e){var i=this,r=this._gameLoop&&this._gameLoop.running;r&&this._gameLoop.stop(),this.initialize(t,function(t){if(t)return void e(t);r&&i._gameLoop.start(),e()})},t.prototype.startGame=function(){if(!this._gameLoop)return void this.errorTrigger.fire(new Error(\"Not initialized\"));this._gameLoop.start()},t.prototype.stopGame=function(){this._gameLoop&&this._gameLoop.stop()},t.prototype.setNextAge=function(t){this._gameLoop.setNextAge(t)},t.prototype.getPermission=function(){return this._permission},t.prototype.getDriverConfiguration=function(){return{playId:this._playId,playToken:this._playToken,executionMode:this._gameLoop?this._gameLoop.getExecutionMode():void 0,eventBufferMode:this._eventBuffer?this._eventBuffer.getMode():void 0}},t.prototype.getLoopConfiguration=function(){return this._gameLoop?this._gameLoop.getLoopConfiguration():null},t.prototype.getHidden=function(){return this._hidden},t.prototype.resetPrimarySurface=function(t,e,i){i=i||(this._rendererRequirement?this._rendererRequirement.rendererCandidates:null);var r=this._game,n=this._platform,o=n.getPrimarySurface();r.renderers=r.renderers.filter(function(t){return t!==o.renderer()}),n.setRendererRequirement({primarySurfaceWidth:t,primarySurfaceHeight:e,rendererCandidates:i}),this._rendererRequirement={primarySurfaceWidth:t,primarySurfaceHeight:e,rendererCandidates:i},r.renderers.push(n.getPrimarySurface().renderer()),r.width=t,r.height=e,r.resized.fire({width:t,height:e}),r.modified=!0},t.prototype.doInitialize=function(t){var e=this,i=new r.Promise(function(i,r){if(e._gameLoop&&e._gameLoop.running)return r(new Error(\"Game is running. Must be stopped.\"));e._gameLoop&&t.loopConfiguration&&e._gameLoop.setLoopConfiguration(t.loopConfiguration),null!=t.hidden&&(e._hidden=t.hidden,e._game&&e._game._setMuted(t.hidden)),i()}).then(function(){return e._assertLive(),e._doSetDriverConfiguration(t.driverConfiguration)});return t.configurationUrl?i.then(function(){return e._assertLive(),e._loadConfiguration(t.configurationUrl,t.assetBase,t.configurationBase)}).then(function(i){return e._assertLive(),e._createGame(i,e._player,t)}):i},t.prototype.destroy=function(){var t=this;return new r.Promise(function(e,i){t.stopGame(),t._game&&(t._game._destroy(),t._game=null),t.errorTrigger.destroy(),t.errorTrigger=null,t.configurationLoadedTrigger.destroy(),t.configurationLoadedTrigger=null,t.gameCreatedTrigger.destroy(),t.gameCreatedTrigger=null,t._platform.destroy?t._platform.destroy():t._platform.setRendererRequirement(void 0),t._platform=null,t._loadConfigurationFunc=null,t._player=null,t._rendererRequirement=null,t._playId=null,t._gameLoop=null,t._eventBuffer=null,t._openedAmflow=!1,t._playToken=null,t._permission=null,t._hidden=!1,t._destroyed=!0,e()})},t.prototype._doSetDriverConfiguration=function(t){var e=this;if(null==t)return r.Promise.resolve();void 0===t.playId&&(t.playId=this._playId),void 0===t.playToken&&(t.playToken=this._playToken),void 0===t.eventBufferMode&&(t.executionMode===o.default.Active?t.eventBufferMode={isReceiver:!0,isSender:!1}:t.executionMode===o.default.Passive&&(t.eventBufferMode={isReceiver:!1,isSender:!0}));var i=r.Promise.resolve();return this._playId!==t.playId&&(i=i.then(function(){return e._assertLive(),e._doOpenAmflow(t.playId)})),this._playToken!==t.playToken&&(i=i.then(function(){return e._assertLive(),e._doAuthenticate(t.playToken)})),i.then(function(){e._assertLive(),null!=t.eventBufferMode&&(null==t.eventBufferMode.defaultEventPriority&&(t.eventBufferMode.defaultEventPriority=e._permission.maxEventPriority),e._eventBuffer&&e._eventBuffer.setMode(t.eventBufferMode)),null!=t.executionMode&&e._gameLoop&&e._gameLoop.setExecutionMode(t.executionMode)})},t.prototype._doCloseAmflow=function(){var t=this;return new r.Promise(function(e,i){if(!t._openedAmflow)return e();t._platform.amflow.close(function(r){t._openedAmflow=!1;var n=t._getCallbackError(r);if(n)return i(n);e()})})},t.prototype._doOpenAmflow=function(t){var e=this;return void 0===t?r.Promise.resolve():this._doCloseAmflow().then(function(){return e._assertLive(),new r.Promise(function(i,r){if(null===t)return i();e._platform.amflow.open(t,function(n){var o=e._getCallbackError(n);if(o)return r(o);e._openedAmflow=!0,e._playId=t,e._game&&e._updateGamePlayId(e._game),i()})})})},t.prototype._doAuthenticate=function(t){var e=this;return null==t?r.Promise.resolve():new r.Promise(function(i,r){e._platform.amflow.authenticate(t,function(n,o){var s=e._getCallbackError(n);if(s)return r(s);e._playToken=t,e._permission=o,e._game&&(e._game.isSnapshotSaver=e._permission.writeTick),i()})})},t.prototype._loadConfiguration=function(t,e,i){var n=this;return new r.Promise(function(r,o){n._loadConfigurationFunc(t,e,i,function(t,e){var i=n._getCallbackError(t);if(i)return o(i);n.configurationLoadedTrigger.fire(e),r(e)})})},t.prototype._putZerothStartPoint=function(t){var e=this;return new r.Promise(function(i,r){var n={frame:0,timestamp:t.startedAt,data:t};e._platform.amflow.putStartPoint(n,function(t){var n=e._getCallbackError(t);if(n)return r(n);i()})})},t.prototype._getZerothStartPointData=function(){var t=this;return new r.Promise(function(e,i){t._platform.amflow.getStartPoint({frame:0},function(r,n){var o=t._getCallbackError(r);if(o)return i(o);var s=n.data;if(\"number\"!=typeof s.seed)return i(new Error(\"GameDriver#_getRandomSeed: No seed found.\"));e(s)})})},t.prototype._createGame=function(t,e,i){var c,u=this,l=i.driverConfiguration.executionMode===o.default.Active&&this._permission.writeTick;return c=l?this._putZerothStartPoint({seed:Date.now(),globalArgs:i.globalGameArgs,fps:t.fps,startedAt:Date.now()}):r.Promise.resolve(),c=c.then(function(){return u._assertLive(),u._getZerothStartPointData()}),c.then(function(r){u._assertLive();var c=u._platform,l=i.driverConfiguration||{eventBufferMode:{isReceiver:!0,isSender:!1},executionMode:o.default.Active},d=r.seed,p=i.gameArgs,f=r.globalArgs,_=r.startedAt,g={primarySurfaceWidth:t.width,primarySurfaceHeight:t.height,rendererCandidates:t.renderers};c.setRendererRequirement(g);var y=new s.Game({configuration:t,player:e,resourceFactory:c.getResourceFactory(),assetBase:i.assetBase,isSnapshotSaver:u._permission.writeTick,operationPluginViewInfo:c.getOperationPluginViewInfo?c.getOperationPluginViewInfo():null,gameArgs:p,globalGameArgs:f}),m=new a.EventBuffer({game:y,amflow:c.amflow});m.setMode(l.eventBufferMode),c.setPlatformEventHandler(m),y.setEventFilterFuncs({addFilter:m.addFilter.bind(m),removeFilter:m.removeFilter.bind(m)}),y.renderers.push(c.getPrimarySurface().renderer());var v=new h.GameLoop({game:y,amflow:c.amflow,platform:c,executionMode:l.executionMode,eventBuffer:m,configuration:i.loopConfiguration,startedAt:_,profiler:i.profiler});v.rawTargetTimeReachedTrigger.add(y._onRawTargetTimeReached,y),y.setCurrentTimeFunc(v.getCurrentTime.bind(v)),y._reset({age:0,randGen:new n.XorshiftRandomGenerator(d)}),u._updateGamePlayId(y),u._hidden&&y._setMuted(!0),y.snapshotTrigger.add(function(t){u._platform.amflow.putStartPoint(t,function(t){var e=u._getCallbackError(t);e&&u.errorTrigger.fire(e)})}),u._game=y,u._eventBuffer=m,u._gameLoop=v,u._rendererRequirement=g,u.gameCreatedTrigger.fire(y),u._game._loadAndStart({args:i.gameArgs||void 0})})},t.prototype._updateGamePlayId=function(t){var e=this;t.playId=this._playId,t.external.send=function(t){e._platform.sendToExternal(e._playId,t)}},t.prototype._assertLive=function(){if(this._destroyed)throw new Error(\"GAME_DESTROYED\")},t.prototype._getCallbackError=function(t){return t||(this._destroyed?new Error(\"GAME_DESTROYED\"):null)},t}();i.GameDriver=u},{\"./EventBuffer\":6,\"./ExecutionMode\":9,\"./Game\":10,\"./GameLoop\":12,\"./PdiUtil\":16,\"@akashic/akashic-engine\":1,\"es6-promise\":83}],12:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0})\n;var r=t(\"@akashic/akashic-engine\"),n=t(\"./constants\"),o=t(\"./LoopMode\"),s=t(\"./LoopRenderMode\"),a=t(\"./ExecutionMode\"),h=t(\"./Clock\"),c=t(\"./ProfilerClock\"),u=t(\"./EventConverter\"),l=t(\"./TickController\"),d=function(){function t(t){this.errorTrigger=new r.Trigger,this.rawTargetTimeReachedTrigger=new r.Trigger,this.running=!1,this._currentTime=t.startedAt,this._frameTime=1e3/t.game.fps,this._omittedTickDuration=0,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner);var e=t.configuration;this._startedAt=t.startedAt,this._targetTimeFunc=e.targetTimeFunc||null,this._targetTimeOffset=e.targetTimeOffset||null,this._originDate=e.originDate||null,this._realTargetTimeOffset=null!=this._originDate?this._originDate:(this._targetTimeOffset||0)+this._startedAt,this._delayIgnoreThreshold=e.delayIgnoreThreshold||n.DEFAULT_DELAY_IGNORE_THRESHOLD,this._skipTicksAtOnce=e.skipTicksAtOnce||n.DEFAULT_SKIP_TICKS_AT_ONCE,this._skipThreshold=e.skipThreshold||n.DEFAULT_SKIP_THRESHOLD,this._skipThresholdTime=this._skipThreshold*this._frameTime,this._jumpTryThreshold=e.jumpTryThreshold||n.DEFAULT_JUMP_TRY_THRESHOLD,this._jumpIgnoreThreshold=e.jumpIgnoreThreshold||n.DEFAULT_JUMP_IGNORE_THRESHOLD,this._pollingTickThreshold=e._pollingTickThreshold||n.DEFAULT_POLLING_TICK_THRESHOLD,this._playbackRate=e.playbackRate||1;var i=null!=e.loopRenderMode?e.loopRenderMode:s.default.AfterRawFrame;this._loopRenderMode=null,this._omitInterpolatedTickOnReplay=null==e.omitInterpolatedTickOnReplay||e.omitInterpolatedTickOnReplay,this._loopMode=e.loopMode,this._amflow=t.amflow,this._game=t.game,this._eventBuffer=t.eventBuffer,this._executionMode=t.executionMode,this._sceneTickMode=null,this._sceneLocalMode=null,this._targetAge=null!=e.targetAge?e.targetAge:null,this._waitingStartPoint=!1,this._lastRequestedStartPointAge=-1,this._lastRequestedStartPointTime=-1,this._waitingNextTick=!1,this._consumedLatestTick=!1,this._skipping=!1,this._lastPollingTickTime=0,t.profiler?this._clock=new c.ProfilerClock({fps:t.game.fps,scaleFactor:this._playbackRate,platform:t.platform,maxFramePerOnce:5,profiler:t.profiler}):this._clock=new h.Clock({fps:t.game.fps,scaleFactor:this._playbackRate,platform:t.platform,maxFramePerOnce:5}),this._tickController=new l.TickController({amflow:t.amflow,clock:this._clock,game:t.game,eventBuffer:t.eventBuffer,executionMode:t.executionMode,startedAt:t.startedAt,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._eventConverter=new u.EventConverter({game:t.game}),this._tickBuffer=this._tickController.getBuffer(),this._onGotStartPoint_bound=this._onGotStartPoint.bind(this),this._setLoopRenderMode(i),this._game.setIsSkipAware(null==e.skipAwareGame||e.skipAwareGame),this._game.setStorageFunc(this._tickController.storageFunc()),this._game.raiseEventTrigger.add(this._onGameRaiseEvent,this),this._game.raiseTickTrigger.add(this._onGameRaiseTick,this),this._game._started.add(this._onGameStarted,this),this._game._operationPluginOperated.add(this._onGameOperationPluginOperated,this),this._tickBuffer.gotNextTickTrigger.add(this._onGotNextFrameTick,this),this._tickBuffer.gotNoTickTrigger.add(this._onGotNoTick,this),this._tickBuffer.start(),this._updateGamePlaybackRate(),this._handleSceneChange()}return t.prototype.start=function(){this.running=!0,this._clock.start()},t.prototype.stop=function(){this._clock.stop(),this.running=!1},t.prototype.setNextAge=function(t){this._tickController.setNextAge(t)},t.prototype.getExecutionMode=function(){return this._executionMode},t.prototype.setExecutionMode=function(t){this._executionMode=t,this._tickController.setExecutionMode(t)},t.prototype.getLoopConfiguration=function(){return{loopMode:this._loopMode,delayIgnoreThreshold:this._delayIgnoreThreshold,skipTicksAtOnce:this._skipTicksAtOnce,skipThreshold:this._skipThreshold,skipAwareGame:this._game.getIsSkipAware(),jumpTryThreshold:this._jumpTryThreshold,jumpIgnoreThreshold:this._jumpIgnoreThreshold,playbackRate:this._playbackRate,loopRenderMode:this._loopRenderMode,targetTimeFunc:this._targetTimeFunc,targetTimeOffset:this._targetTimeOffset,originDate:this._originDate,omitInterpolatedTickOnReplay:this._omitInterpolatedTickOnReplay,targetAge:this._targetAge}},t.prototype.setLoopConfiguration=function(t){null!=t.loopMode&&(this._loopMode=t.loopMode),null!=t.delayIgnoreThreshold&&(this._delayIgnoreThreshold=t.delayIgnoreThreshold),null!=t.skipTicksAtOnce&&(this._skipTicksAtOnce=t.skipTicksAtOnce),null!=t.skipThreshold&&(this._skipThreshold=t.skipThreshold,this._skipThresholdTime=this._skipThreshold*this._frameTime),null!=t.skipAwareGame&&this._game.setIsSkipAware(t.skipAwareGame),null!=t.jumpTryThreshold&&(this._jumpTryThreshold=t.jumpTryThreshold),null!=t.jumpIgnoreThreshold&&(this._jumpIgnoreThreshold=t.jumpIgnoreThreshold),null!=t.playbackRate&&(this._playbackRate=t.playbackRate,this._clock.changeScaleFactor(this._playbackRate),this._updateGamePlaybackRate()),null!=t.loopRenderMode&&this._setLoopRenderMode(t.loopRenderMode),null!=t.targetTimeFunc&&(this._targetTimeFunc=t.targetTimeFunc),null!=t.targetTimeOffset&&(this._targetTimeOffset=t.targetTimeOffset),null!=t.originDate&&(this._originDate=t.originDate),this._realTargetTimeOffset=null!=this._originDate?this._originDate:(this._targetTimeOffset||0)+this._startedAt,null!=t.omitInterpolatedTickOnReplay&&(this._omitInterpolatedTickOnReplay=t.omitInterpolatedTickOnReplay),null!=t.targetAge&&(this._targetAge!==t.targetAge&&(this._waitingNextTick=!1),this._targetAge=t.targetAge)},t.prototype.addTickList=function(t){this._tickBuffer.addTickList(t)},t.prototype.getCurrentTime=function(){return this._currentTime},t.prototype._startSkipping=function(){this._skipping=!0,this._updateGamePlaybackRate(),this._game.skippingChangedTrigger.fire(!0)},t.prototype._stopSkipping=function(){this._skipping=!1,this._updateGamePlaybackRate(),this._game.skippingChangedTrigger.fire(!1)},t.prototype._updateGamePlaybackRate=function(){var t=this._skipping?this._playbackRate*this._skipTicksAtOnce:this._playbackRate;this._game._setAudioPlaybackRate(t)},t.prototype._handleSceneChange=function(){var t=this._game.scene(),e=t?t.local:r.LocalTickMode.FullLocal,i=t?t.tickGenerationMode:r.TickGenerationMode.ByClock;if(this._sceneLocalMode!==e||this._sceneTickMode!==i)switch(this._sceneLocalMode=e,this._sceneTickMode=i,this._clock.frameTrigger.remove(this._onFrame,this),this._clock.frameTrigger.remove(this._onLocalFrame,this),e){case r.LocalTickMode.FullLocal:this._tickController.stopTick(),this._clock.frameTrigger.add(this._onLocalFrame,this);break;case r.LocalTickMode.NonLocal:case r.LocalTickMode.InterpolateLocal:i===r.TickGenerationMode.ByClock?this._tickController.startTick():this._tickController.startTickOnce(),this._clock.frameTrigger.add(this._onFrame,this);break;default:return void this.errorTrigger.fire(new Error(\"Unknown LocalTickMode: \"+e))}},t.prototype._onLocalFrame=function(){this._doLocalTick()},t.prototype._doLocalTick=function(){var t=this._game,e=this._eventBuffer.readLocalEvents();if(this._currentTime+=this._frameTime,e)for(var i=0,r=e.length;i<r;++i)t.events.push(this._eventConverter.toGameEvent(e[i]));var n=t.tick(!1,Math.floor(this._omittedTickDuration/this._frameTime));this._omittedTickDuration=0,n&&this._handleSceneChange()},t.prototype._onFrame=function(t){if(this._loopMode===o.default.Replay&&this._targetTimeFunc){var e=this._targetTimeFunc(),i=e+this._realTargetTimeOffset,r=this._currentTime;this._onFrameForTimedReplay(i,t),r===this._currentTime&&r<=i&&i<=r+this._frameTime&&this.rawTargetTimeReachedTrigger.fire(e)}else this._onFrameNormal(t)},t.prototype._onFrameForTimedReplay=function(t,e){var i=!1,n=this._game,o=t-this._currentTime,s=o/this._frameTime;if((s>this._jumpTryThreshold||s<0)&&!this._waitingStartPoint&&this._lastRequestedStartPointTime<this._currentTime&&(this._waitingStartPoint=!0,this._lastRequestedStartPointTime=t,this._amflow.getStartPoint({timestamp:t},this._onGotStartPoint_bound)),s<=0)return void(this._skipping&&this._stopSkipping());this._skipping||(s>this._skipThreshold||0===this._tickBuffer.currentAge)&&(this._tickBuffer.hasNextTick()||this._omitInterpolatedTickOnReplay&&this._consumedLatestTick)&&this._startSkipping();for(var a=0;a<this._skipTicksAtOnce;++a){var h=this._currentTime+this._frameTime;if(!this._tickBuffer.hasNextTick()){this._waitingNextTick||(this._startWaitingNextTick(),this._consumedLatestTick||this._tickBuffer.requestTicks()),this._omitInterpolatedTickOnReplay&&this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&(this._consumedLatestTick&&(this._currentTime=t-this._frameTime),t>h&&this._doLocalTick());break}var c=this._tickBuffer.readNextTickTime();if(null==c&&(c=h),t<h){if(!(c<=t))break;h=t}else if(h<c){if(!this._omitInterpolatedTickOnReplay||!this._skipping){this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick();continue}if(t<=c){this._omittedTickDuration+=t-this._currentTime,this._currentTime=Math.floor(t/this._frameTime)*this._frameTime;break}h=c,this._omittedTickDuration+=c-this._currentTime}this._currentTime=h;var u=this._tickBuffer.consume(),l=-1,d=this._eventBuffer.readLocalEvents();if(d)for(var p=0,f=d.length;p<f;++p)n.events.push(this._eventConverter.toGameEvent(d[p]));if(\"number\"==typeof u)l=u,i=n.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime));else{l=u[0];var _=u[1];if(_)for(var p=0,f=_.length;p<f;++p)n.events.push(this._eventConverter.toGameEvent(_[p]));i=n.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime))}if(this._omittedTickDuration=0,n._notifyPassedAgeTable[l]&&n.fireAgePassedIfNeeded()){e.interrupt=!0;break}if(i){this._handleSceneChange();break}}this._skipping&&t-this._currentTime<this._frameTime&&this._stopSkipping()},t.prototype._onFrameNormal=function(t){var e=!1,i=this._game;if(!this._skipping&&t.deltaTime>this._skipThresholdTime&&(this._startSkipping(),this._waitingNextTick&&this._stopSkipping()),this._waitingNextTick)return void(this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick());var n,s,a=this._tickBuffer.currentAge;if(this._loopMode===o.default.Realtime?(n=this._tickBuffer.knownLatestAge+1,s=n-a):null===this._targetAge?(n=null,s=1):this._targetAge===a?(n=this._targetAge=null,s=1):(n=this._targetAge,s=n-a),(s>this._jumpTryThreshold||s<0)&&!this._waitingStartPoint&&this._lastRequestedStartPointAge<a&&(this._waitingStartPoint=!0,this._lastRequestedStartPointAge=n,this._amflow.getStartPoint({frame:n},this._onGotStartPoint_bound)),s<=0)return 0===s&&(0===a&&this._tickBuffer.requestTicks(),this._startWaitingNextTick()),this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick(),void(this._skipping&&this._stopSkipping());!this._skipping&&(s>this._skipThreshold||0===a)&&this._tickBuffer.hasNextTick()&&this._startSkipping();for(var h=!this._skipping&&s<=this._delayIgnoreThreshold?1:Math.min(s,this._skipTicksAtOnce),c=0;c<h;++c){var u=this._currentTime+this._frameTime,l=this._tickBuffer.readNextTickTime();if(null!=l&&u<l){if(!(this._loopMode===o.default.Realtime||this._omitInterpolatedTickOnReplay&&this._skipping)){if(this._sceneLocalMode===r.LocalTickMode.InterpolateLocal){this._doLocalTick();continue}break}u=Math.ceil(l/this._frameTime)*this._frameTime,this._omittedTickDuration+=u-this._currentTime}this._currentTime=u;var d=this._tickBuffer.consume(),p=-1;if(null==d){this._tickBuffer.requestTicks(),this._startWaitingNextTick();break}var f=this._eventBuffer.readLocalEvents();if(f)for(var _=0,g=f.length;_<g;++_)i.events.push(this._eventConverter.toGameEvent(f[_]));if(\"number\"==typeof d)p=d,e=i.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime));else{p=d[0];var y=d[1];if(y)for(var m=0,g=y.length;m<g;++m)i.events.push(this._eventConverter.toGameEvent(y[m]));e=i.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime))}if(this._omittedTickDuration=0,i._notifyPassedAgeTable[p]&&i.fireAgePassedIfNeeded()){t.interrupt=!0;break}if(e){this._handleSceneChange();break}}this._skipping&&n-this._tickBuffer.currentAge<1&&this._stopSkipping()},t.prototype._onGotNextFrameTick=function(){this._consumedLatestTick=!1,this._waitingNextTick&&this._loopMode!==o.default.FrameByFrame&&this._stopWaitingNextTick()},t.prototype._onGotNoTick=function(){this._waitingNextTick&&(this._consumedLatestTick=!0)},t.prototype._onGotStartPoint=function(t,e){if(this._waitingStartPoint=!1,t)return void this.errorTrigger.fire(t);if(this._targetTimeFunc&&this._loopMode!==o.default.Realtime){var i=this._targetTimeFunc()+this._realTargetTimeOffset;if(i<e.timestamp)return;var r=this._currentTime;if(r<=i&&e.timestamp<r+this._jumpIgnoreThreshold*this._frameTime)return}else{var n=this._loopMode===o.default.Realtime?this._tickBuffer.knownLatestAge+1:this._targetAge;if(null===n||n<e.frame)return;var s=this._tickBuffer.currentAge;if(s<=n&&e.frame<s+this._jumpIgnoreThreshold)return}this._clock.frameTrigger.remove(this._onEventsProcessed,this),this._skipping&&this._stopSkipping(),this._tickBuffer.setCurrentAge(e.frame),this._currentTime=e.timestamp||e.data.timestamp||0,this._waitingNextTick=!1,this._consumedLatestTick=!1,this._lastRequestedStartPointAge=-1,this._lastRequestedStartPointTime=-1,this._omittedTickDuration=0,this._game._restartWithSnapshot(e),this._handleSceneChange()},t.prototype._onGameStarted=function(){this._clock.frameTrigger.add({index:0,owner:this,func:this._onEventsProcessed})},t.prototype._onEventsProcessed=function(){this._eventBuffer.processEvents(this._sceneLocalMode===r.LocalTickMode.FullLocal)},t.prototype._setLoopRenderMode=function(t){if(t!==this._loopRenderMode)switch(this._loopRenderMode=t,t){case s.default.AfterRawFrame:this._clock.rawFrameTrigger.add(this._renderOnRawFrame,this);break;case s.default.None:this._clock.rawFrameTrigger.remove(this._renderOnRawFrame,this);break;default:this.errorTrigger.fire(new Error(\"GameLoop#_setLoopRenderMode: unknown mode: \"+t))}},t.prototype._renderOnRawFrame=function(){var t=this._game;t.modified&&t.scenes.length>0&&t.render()},t.prototype._onGameRaiseEvent=function(t){var e=this._eventConverter.toPlaylogEvent(t);this._eventBuffer.onEvent(e)},t.prototype._onGameRaiseTick=function(t){if(this._executionMode===a.default.Active){if(t)for(var e=0;e<t.length;++e)this._eventBuffer.addEventDirect(this._eventConverter.toPlaylogEvent(t[e]));this._tickController.forceGenerateTick()}},t.prototype._onGameOperationPluginOperated=function(t){var e=this._eventConverter.makePlaylogOperationEvent(t);this._eventBuffer.onEvent(e)},t.prototype._onPollingTick=function(){var t=Date.now();t-this._lastPollingTickTime>this._pollingTickThreshold&&(this._lastPollingTickTime=t,this._tickBuffer.requestTicks())},t.prototype._startWaitingNextTick=function(){this._waitingNextTick=!0,this._clock.rawFrameTrigger.add(this._onPollingTick,this),this._lastPollingTickTime=Date.now(),this._skipping&&this._stopSkipping()},t.prototype._stopWaitingNextTick=function(){this._waitingNextTick=!1,this._clock.rawFrameTrigger.remove(this._onPollingTick,this)},t}();i.GameLoop=d},{\"./Clock\":5,\"./EventConverter\":7,\"./ExecutionMode\":9,\"./LoopMode\":14,\"./LoopRenderMode\":15,\"./ProfilerClock\":18,\"./TickController\":21,\"./constants\":26,\"@akashic/akashic-engine\":1}],13:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t,e,i,r){this.joinResolver=e,this.pev=t,0===t[0]&&r?(this.resolved=!1,i.getStorageData(r,this._onGotStorageData.bind(this))):this.resolved=!0}return t.prototype._onGotStorageData=function(t,e){if(this.resolved=!0,t)return void this.joinResolver.errorTrigger.fire(t);this.pev[4]=e},t}();i.JoinLeaveRequest=n;var o=function(){function t(t){this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this._amflow=t.amflow,this._keysForJoin=null,this._requested=[]}return t.prototype.request=function(t){this._requested.push(new n(t,this,this._amflow,this._keysForJoin))},t.prototype.readResolved=function(){var t=this._requested.length;if(0===t||!this._requested[0].resolved)return null;for(var e=[],i=0;i<t;++i){var r=this._requested[i];if(!r.resolved)break;e.push(r.pev)}return this._requested.splice(0,i),e},t.prototype.setRequestValuesForJoin=function(t){this._keysForJoin=t},t}();i.JoinResolver=o},{\"@akashic/akashic-engine\":1}],14:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r;!function(t){t[t.Realtime=0]=\"Realtime\",t[t.Replay=1]=\"Replay\",t[t.FrameByFrame=2]=\"FrameByFrame\"}(r||(r={})),i.default=r},{}],15:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r;!function(t){t[t.AfterRawFrame=0]=\"AfterRawFrame\",t[t.None=1]=\"None\"}(r||(r={})),i.default=r},{}],16:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"es6-promise\"),n=t(\"@akashic/akashic-engine\");!function(t){function e(e){function i(i,s,a,h){e.loadGameConfiguration(i,function(e,c){if(e)return void h(e,null);try{c=t._resolveConfigurationBasePath(c,null!=s?s:n.PathUtil.resolveDirname(i))}catch(t){return void h(t,null)}if(!c.definitions)return void h(null,c);var u=c.definitions.map(function(t){if(\"string\"==typeof t){var e=null!=a?n.PathUtil.resolvePath(a,t):t;return o(e,void 0,a)}var e=null!=a?n.PathUtil.resolvePath(a,t.url):t.url;return o(e,t.basePath,a)});r.Promise.all(u).then(function(e){return h(null,e.reduce(t._mergeGameConfiguration))}).catch(function(t){return h(t,null)})})}function o(t,e,n){return new r.Promise(function(r,o){i(t,e,n,function(t,e){t?o(t):r(e)})})}return i}function i(t,e){function i(t,e){var i=n.PathUtil.resolvePath(t,e);if(0!==i.indexOf(t))throw n.ExceptionFactory.createAssertionError(\"PdiUtil._resolveConfigurationBasePath: invalid path: \"+e);return i}var r=t.assets;if(r instanceof Object)for(var o in r)r.hasOwnProperty(o)&&\"path\"in r[o]&&(r[o].virtualPath=r[o].virtualPath||r[o].path,r[o].path=i(e,r[o].path));return t.globalScripts&&(t.globalScripts.forEach(function(t){if(r.hasOwnProperty(t))throw n.ExceptionFactory.createAssertionError(\"PdiUtil._resolveConfigurationBasePath: asset ID already exists: \"+t);r[t]={type:/\\.json$/i.test(t)?\"text\":\"script\",virtualPath:t,path:i(e,t),global:!0}}),delete t.globalScripts),t}function o(e,i){for(var r=Object.keys(i),n=0,o=r.length;n<o;++n){var s=r[n],a=i[s];if(typeof a===typeof e[s])switch(typeof a){case\"string\":case\"number\":case\"boolean\":e[s]=a;break;case\"object\":null==a?e[s]=a:Array.isArray(a)?e[s]=e[s].concat(a):t._mergeObject(e[s],a);break;default:throw new Error(\"PdiUtil._mergeObject(): unknown type\")}else e[s]=a}return e}function s(e,i){return t._mergeObject(e,i)}t.makeLoadConfigurationFunc=e,t._resolveConfigurationBasePath=i,t._mergeObject=o,t._mergeGameConfiguration=s}(i.PdiUtil||(i.PdiUtil={}))},{\"@akashic/akashic-engine\":1,\"es6-promise\":83}],17:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this._game=t.game,this._pointEventMap={}}return t.prototype.pointDown=function(t){var e=this._game.player,i=this._game.findPointSource(t.offset),r=i.point?i.point:t.offset,n=i.target?i.target.id:null;this._pointEventMap[t.identifier]={targetId:n,local:i.local,point:r,start:{x:t.offset.x,y:t.offset.y},prev:{x:t.offset.x,y:t.offset.y}};var o=[33,2,e.id,t.identifier,r.x,r.y,n];return i.local&&o.push(i.local),o},t.prototype.pointMove=function(t){var e=this._game.player,i=this._pointEventMap[t.identifier];if(!i)return null;var r={x:0,y:0},n={x:0,y:0};this._pointMoveAndUp(i,t.offset,r,n);var o=[34,2,e.id,t.identifier,i.point.x,i.point.y,n.x,n.y,r.x,r.y,i.targetId];return i.local&&o.push(i.local),o},t.prototype.pointUp=function(t){var e=this._game.player,i=this._pointEventMap[t.identifier];if(!i)return null;var r={x:0,y:0},n={x:0,y:0};this._pointMoveAndUp(i,t.offset,r,n),delete this._pointEventMap[t.identifier];var o=[35,2,e.id,t.identifier,i.point.x,i.point.y,n.x,n.y,r.x,r.y,i.targetId];return i.local&&o.push(i.local),o},t.prototype._pointMoveAndUp=function(t,e,i,r){r.x=e.x-t.start.x,r.y=e.y-t.start.y,i.x=e.x-t.prev.x,i.y=e.y-t.prev.y,t.prev.x=e.x,t.prev.y=e.y},t}();i.PointEventResolver=r},{}],18:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./Clock\"),o=function(t){function e(e){var i=t.call(this,e)||this;return i._profiler=e.profiler,i}return r(e,t),e.prototype._onLooperCall=function(t){var e=t;if(t<=0)return this._waitTime-this._totalDeltaTime;t>this._deltaTimeBrokenThreshold&&(t=this._waitTime);var i=this._totalDeltaTime;if((i+=t)<=this._skipFrameWaitTime)return this._totalDeltaTime=i,this._waitTime-i;this._profiler.timeEnd(1),this._profiler.time(1);var r=i<this._waitTimeDoubled?1:i>this._waitTimeMax?this._realMaxFramePerOnce:i/this._waitTime|0,n=r,o={deltaTime:e,interrupt:!1};for(this._profiler.setValue(0,n-1);n>0&&this.running&&!o.interrupt;)--n,this._profiler.time(2),this.frameTrigger.fire(o),this._profiler.timeEnd(2),o.deltaTime=0;return i-=(r-n)*this._waitTime,this._profiler.time(3),this.rawFrameTrigger.fire(),this._profiler.timeEnd(3),this._totalDeltaTime=i,this._profiler.flush(),this._waitTime-i},e}(n.Clock);i.ProfilerClock=o},{\"./Clock\":5}],19:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./ExecutionMode\"),o=function(){function t(t){this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this.getStorageFunc=this._getStorage.bind(this),this.putStorageFunc=this._putStorage.bind(this),this.requestValuesForJoinFunc=this._requestValuesForJoin.bind(this),this._game=t.game,this._amflow=t.amflow,this._tickGenerator=t.tickGenerator,this._tickBuffer=t.tickBuffer,this._executionMode=null,this.setExecutionMode(t.executionMode),this._unresolvedLoaders={},this._unresolvedStorages={},this._onStoragePut_bound=this._onStoragePut.bind(this)}return t.prototype.setExecutionMode=function(t){if(this._executionMode!==t){this._executionMode=t;var e=this._tickBuffer,i=this._tickGenerator;t===n.default.Active?(e.gotStorageTrigger.remove(this._onGotStorageOnTick,this),i.gotStorageTrigger.add(this._onGotStorageOnTick,this)):(i.gotStorageTrigger.remove(this._onGotStorageOnTick,this),e.gotStorageTrigger.add(this._onGotStorageOnTick,this))}},t.prototype._onGotStorageOnTick=function(t){var e=t.age,i=t.storageData,r=this._unresolvedLoaders[e];if(!r)return void(this._unresolvedStorages[e]=i);delete this._unresolvedLoaders[e];var n=e,o=i.map(function(t){return t.values});r._onLoaded(o,n)},t.prototype._getStorage=function(t,e,i){var r;null!=i?(r=i,this._tickBuffer.requestTicks(r,1)):this._executionMode===n.default.Active?r=this._tickGenerator.requestStorageTick(t):(r=this._game.age,this._tickBuffer.requestTicks(r,1));var o=this._unresolvedStorages[r];if(!o)return void(this._unresolvedLoaders[r]=e);delete this._unresolvedStorages[r];var s=r,a=o.map(function(t){return t.values});e._onLoaded(a,s)},t.prototype._putStorage=function(t,e,i){this._executionMode===n.default.Active&&this._amflow.putStorageData(t,e,i,this._onStoragePut_bound)},t.prototype._requestValuesForJoin=function(t){this._tickGenerator.setRequestValuesForJoin(t)},t.prototype._onStoragePut=function(t){t&&this.errorTrigger.fire(t)},t}();i.StorageResolver=o},{\"./ExecutionMode\":9,\"@akashic/akashic-engine\":1}],20:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./ExecutionMode\"),o=function(){function t(e){this.currentAge=0,this.knownLatestAge=-1,this.gotNextTickTrigger=new r.Trigger,this.gotNoTickTrigger=new r.Trigger,this.gotStorageTrigger=new r.Trigger,this._amflow=e.amflow,this._prefetchThreshold=e.prefetchThreshold||t.DEFAULT_PREFETCH_THRESHOLD,this._sizeRequestOnce=e.sizeRequestOnce||t.DEFAULT_SIZE_REQUEST_ONCE,this._executionMode=e.executionMode,this._startedAt=e.startedAt||0,this._oldTimestampThreshold=null!=e.startedAt?e.startedAt-864e6:0,this._receiving=!1,this._tickRanges=[],this._nearestAbsentAge=this.currentAge,this._nextTickTimeCache=null,this._addTick_bound=this.addTick.bind(this),this._onTicks_bound=this._onTicks.bind(this)}return t.prototype.start=function(){this._receiving=!0,this._updateAmflowReceiveState()},t.prototype.stop=function(){this._receiving=!1,this._updateAmflowReceiveState()},t.prototype.setExecutionMode=function(t){this._executionMode!==t&&(this._dropUntil(this.knownLatestAge+1),this.knownLatestAge=this.currentAge,this._nextTickTimeCache=null,this._nearestAbsentAge=this.currentAge,this._executionMode=t,this._updateAmflowReceiveState())},t.prototype.setCurrentAge=function(t){this._dropUntil(t),this._nextTickTimeCache=null,this.currentAge=t,this._nearestAbsentAge=this._findNearestAbscentAge(t)},t.prototype.hasNextTick=function(){return this.currentAge!==this._nearestAbsentAge},t.prototype.consume=function(){if(this.currentAge===this._nearestAbsentAge)return null;var t=this.currentAge,e=this._tickRanges[0];return t===e.start?(this._nextTickTimeCache=null,++this.currentAge,++e.start,t+this._prefetchThreshold===this._nearestAbsentAge&&this.requestTicks(this._nearestAbsentAge,this._sizeRequestOnce),e.start===e.end&&this._tickRanges.shift(),e.ticks.length>0&&e.ticks[0][0]===t?e.ticks.shift():t):(this._dropUntil(this.currentAge),this.consume())},t.prototype.readNextTickTime=function(){if(null!=this._nextTickTimeCache)return this._nextTickTimeCache;if(this.currentAge===this._nearestAbsentAge)return null;var t=this.currentAge,e=this._tickRanges[0];if(t===e.start){if(0===e.ticks.length)return null;var i=e.ticks[0];if(i[0]!==t)return null;var r=i[1];if(!r)return null;for(var n=0;n<r.length;++n)if(2===r[n][0]){var o=r[n][3];return o<this._oldTimestampThreshold&&(o+=this._startedAt),this._nextTickTimeCache=o,o}return null}return this._dropUntil(this.currentAge),this.readNextTickTime()},t.prototype.requestTicks=function(t,e){void 0===t&&(t=this.currentAge),void 0===e&&(e=this._sizeRequestOnce),this._executionMode===n.default.Passive&&this._amflow.getTickList(t,t+e,this._onTicks_bound)},t.prototype.addTick=function(t){var e=t[0],i=this.currentAge===e&&this._nearestAbsentAge===e;this.knownLatestAge<e&&(this.knownLatestAge=e),t[2]&&this.gotStorageTrigger.fire({age:t[0],storageData:t[2]});for(var r=this._tickRanges.length-1;r>=0;--r){var n=this._tickRanges[r];if(e>=n.start)break}var o=this._tickRanges[r+1];if(r<0)this._tickRanges.unshift(this._createTickRangeFromTick(t));else{var n=this._tickRanges[r];e===n.end?(++n.end,t[1]&&n.ticks.push(t)):e>n.end&&this._tickRanges.splice(r+1,0,this._createTickRangeFromTick(t))}this._nearestAbsentAge===e&&(++this._nearestAbsentAge,o&&this._nearestAbsentAge===o.start&&(this._nearestAbsentAge=this._findNearestAbscentAge(this._nearestAbsentAge))),i&&this.gotNextTickTrigger.fire()},t.prototype.addTickList=function(t){var e=t[0],i=t[1]+1,r=t[2],n=e,o=i;this.knownLatestAge<i-1&&(this.knownLatestAge=i-1);var s=0,a=this._tickRanges.length;for(s=0;s<a;++s){var h=this._tickRanges[s];if(e<h.start)break}var c=s;if(s>0){--s;var u=this._tickRanges[s].end;e<u&&(e=u)}for(;s<a;++s){var h=this._tickRanges[s];if(i<=h.end)break}if(s<a){var l=this._tickRanges[s].start;i>l&&(i=l)}if(e>=i)return{start:e,end:e,ticks:[]};r||(r=[]),n===e&&o===i||(r=r.filter(function(t){var r=t[0];return e<=r&&r<i}));for(var d=0;d<r.length;++d){var p=r[d];p[2]&&this.gotStorageTrigger.fire({age:p[0],storageData:p[2]})}var f={start:e,end:i,ticks:r},_=Math.max(0,s-c);return this._tickRanges.splice(c,_,f),e<=this._nearestAbsentAge&&this._nearestAbsentAge<i&&(this._nearestAbsentAge=this._findNearestAbscentAge(this._nearestAbsentAge)),f},t.prototype._updateAmflowReceiveState=function(){this._receiving&&this._executionMode===n.default.Passive?this._amflow.onTick(this._addTick_bound):this._amflow.offTick(this._addTick_bound)},t.prototype._onTicks=function(t,e){if(t)throw new Error;if(!e)return void this.gotNoTickTrigger.fire();var i=this.currentAge===this._nearestAbsentAge,r=this.addTickList(e);i&&r.start<=this.currentAge&&this.currentAge<r.end&&this.gotNextTickTrigger.fire(),r.ticks.length||this.gotNoTickTrigger.fire()},t.prototype._findNearestAbscentAge=function(t){for(var e=0,i=this._tickRanges.length;e<i&&!(t<=this._tickRanges[e].end);++e);for(;e<i;++e){var r=this._tickRanges[e];if(t<r.start)break;t=r.end}return t},t.prototype._dropUntil=function(t){var e;for(e=0;e<this._tickRanges.length&&!(t<this._tickRanges[e].end);++e);if(this._tickRanges=this._tickRanges.slice(e),0!==this._tickRanges.length){var i=this._tickRanges[0];if(!(t<i.start)){for(i.start=t,e=0;e<i.ticks.length&&!(t<=i.ticks[e][0]);++e);i.ticks=i.ticks.slice(e)}}},t.prototype._createTickRangeFromTick=function(t){var e=t[0],i={start:e,end:e+1,ticks:[]};return t[1]&&i.ticks.push(t),i},t.DEFAULT_PREFETCH_THRESHOLD=1800,t.DEFAULT_SIZE_REQUEST_ONCE=9e3,t}();i.TickBuffer=o},{\"./ExecutionMode\":9,\"@akashic/akashic-engine\":1}],21:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./ExecutionMode\"),o=t(\"./TickBuffer\"),s=t(\"./TickGenerator\"),a=t(\"./StorageResolver\"),h=function(){function t(t){this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this._amflow=t.amflow,this._clock=t.clock,this._started=!1,this._executionMode=t.executionMode,this._generator=new s.TickGenerator({amflow:t.amflow,eventBuffer:t.eventBuffer,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._buffer=new o.TickBuffer({amflow:t.amflow,executionMode:t.executionMode,startedAt:t.startedAt}),this._storageResolver=new a.StorageResolver({game:t.game,amflow:t.amflow,tickGenerator:this._generator,tickBuffer:this._buffer,executionMode:t.executionMode,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._generator.tickTrigger.add(this._onTickGenerated,this),this._clock.frameTrigger.add(this._generator.next,this._generator)}return t.prototype.startTick=function(){this._started=!0,this._updateGeneratorState()},t.prototype.stopTick=function(){this._started=!1,this._updateGeneratorState()},t.prototype.startTickOnce=function(){this._started=!0,this._generator.tickTrigger.addOnce(this._stopTriggerOnTick,this),this._updateGeneratorState()},t.prototype.setNextAge=function(t){this._generator.setNextAge(t)},t.prototype.forceGenerateTick=function(){this._generator.forceNext()},t.prototype.getBuffer=function(){return this._buffer},t.prototype.storageFunc=function(){return{storageGetFunc:this._storageResolver.getStorageFunc,storagePutFunc:this._storageResolver.putStorageFunc,requestValuesForJoinFunc:this._storageResolver.requestValuesForJoinFunc}},t.prototype.setExecutionMode=function(t){this._executionMode!==t&&(this._executionMode=t,this._updateGeneratorState(),this._buffer.setExecutionMode(t),this._storageResolver.setExecutionMode(t))},t.prototype._stopTriggerOnTick=function(){this.stopTick()},t.prototype._updateGeneratorState=function(){var t=this._started&&this._executionMode===n.default.Active;this._generator.startStopGenerate(t)},t.prototype._onTickGenerated=function(t){this._amflow.sendTick(t),this._buffer.addTick(t)},t}();i.TickController=h},{\"./ExecutionMode\":9,\"./StorageResolver\":19,\"./TickBuffer\":20,\"./TickGenerator\":22,\"@akashic/akashic-engine\":1}],22:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./JoinResolver\"),o=function(){function t(t){this.tickTrigger=new r.Trigger,this.gotStorageTrigger=new r.Trigger,this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this._amflow=t.amflow,\nthis._eventBuffer=t.eventBuffer,this._joinResolver=new n.JoinResolver({amflow:t.amflow,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._nextAge=0,this._storageDataForNext=null,this._generatingTick=!1,this._waitingStorage=!1,this._onGotStorageData_bound=this._onGotStorageData.bind(this)}return t.prototype.next=function(){if(this._generatingTick&&!this._waitingStorage){var t=this._eventBuffer.readJoinLeaves();if(t)for(var e=0;e<t.length;++e)this._joinResolver.request(t[e]);var i=this._eventBuffer.readEvents(),r=this._joinResolver.readResolved();r&&(i?i.push.apply(i,r):i=r);var n=this._storageDataForNext;this._storageDataForNext=null,this.tickTrigger.fire([this._nextAge++,i,n])}},t.prototype.forceNext=function(){if(this._waitingStorage)return void this.errorTrigger.fire(new Error(\"TickGenerator#forceNext(): cannot generate tick while waiting storage.\"));var t=this._generatingTick;this._generatingTick=!0,this.next(),this._generatingTick=t},t.prototype.startStopGenerate=function(t){this._generatingTick=t},t.prototype.startTick=function(){this._generatingTick=!0},t.prototype.stopTick=function(){this._generatingTick=!1},t.prototype.setNextAge=function(t){if(this._waitingStorage)return void this.errorTrigger.fire(new Error(\"TickGenerator#setNextAge(): cannot change the next age while waiting storage.\"));this._nextAge=t},t.prototype.requestStorageTick=function(t){if(this._waitingStorage){var e=r.ExceptionFactory.createAssertionError(\"TickGenerator#requestStorageTick(): Unsupported: multiple storage request\");return this.errorTrigger.fire(e),-1}return this._waitingStorage=!0,this._amflow.getStorageData(t,this._onGotStorageData_bound),this._nextAge},t.prototype.setRequestValuesForJoin=function(t){this._joinResolver.setRequestValuesForJoin(t)},t.prototype._onGotStorageData=function(t,e){if(this._waitingStorage=!1,t)return void this.errorTrigger.fire(t);this._storageDataForNext=e,this.gotStorageTrigger.fire({age:this._nextAge,storageData:e})},t}();i.TickGenerator=o},{\"./JoinResolver\":13,\"@akashic/akashic-engine\":1}],23:[function(t,e,i){\"use strict\";function r(t){return t&&\"object\"==typeof t?Array.isArray(t)?t.map(r):Object.keys(t).reduce(function(e,i){return e[i]=r(t[i]),e},{}):t}Object.defineProperty(i,\"__esModule\",{value:!0});var n=function(){function t(t){this._playId=t.playId,this._putStorageDataSyncFunc=t.putStorageDataSyncFunc||function(){throw new Error(\"Implementation not given\")},this._getStorageDataSyncFunc=t.getStorageDataSyncFunc||function(){throw new Error(\"Implementation not given\")},this._tickHandlers=[],this._eventHandlers=[],this._events=[],this._tickList=null,t.startPoints?(this._tickList=t.tickList,this._startPoints=t.startPoints):this._startPoints=[]}return t.prototype.dump=function(){return{tickList:this._tickList,startPoints:this._startPoints}},t.prototype.open=function(t,e){var i=this;setTimeout(function(){if(t!==i._playId)return void e(new Error(\"MemoryAmflowClient#open: unknown playId\"));e(null)},0)},t.prototype.close=function(t){setTimeout(function(){t(null)},0)},t.prototype.authenticate=function(e,i){setTimeout(function(){switch(e){case t.TOKEN_ACTIVE:i(null,{writeTick:!0,readTick:!0,subscribeTick:!1,sendEvent:!1,subscribeEvent:!0,maxEventPriority:2});break;case t.TOKEN_PASSIVE:i(null,{writeTick:!1,readTick:!0,subscribeTick:!0,sendEvent:!0,subscribeEvent:!1,maxEventPriority:2});break;default:i(null,{writeTick:!0,readTick:!0,subscribeTick:!0,sendEvent:!0,subscribeEvent:!0,maxEventPriority:2})}},0)},t.prototype.sendTick=function(t){if(t=r(t),this._tickList){if(this._tickList[0]<=t[0]&&t[0]<=this._tickList[1])throw new Error(\"illegal age tick\");this._tickList[1]=t[0]}else this._tickList=[t[0],t[0],[]];(t[1]||t[2])&&this._tickList[2].push(t),this._tickHandlers.forEach(function(e){return e(t)})},t.prototype.onTick=function(t){this._tickHandlers.push(t)},t.prototype.offTick=function(t){this._tickHandlers=this._tickHandlers.filter(function(e){return e!==t})},t.prototype.sendEvent=function(t){if(t=r(t),0===this._eventHandlers.length)return void this._events.push(t);this._eventHandlers.forEach(function(e){return e(t)})},t.prototype.onEvent=function(t){var e=this;this._eventHandlers.push(t),this._events.length>0&&(this._events.forEach(function(t){e._eventHandlers.forEach(function(e){return e(t)})}),this._events=[])},t.prototype.offEvent=function(t){this._eventHandlers=this._eventHandlers.filter(function(e){return e!==t})},t.prototype.getTickList=function(t,e,i){if(!this._tickList)return void setTimeout(function(){return i(null,null)},0);t=Math.max(t,this._tickList[0]),e=Math.min(e,this._tickList[1]);var r=this._tickList[2].filter(function(i){var r=i[0];return t<=r&&r<=e}),n=[t,e,r];setTimeout(function(){return i(null,n)},0)},t.prototype.putStartPoint=function(t,e){var i=this;setTimeout(function(){i._startPoints.push(t),e(null)},0)},t.prototype.getStartPoint=function(t,e){var i=this;setTimeout(function(){if(!i._startPoints||0===i._startPoints.length)return void e(new Error(\"no startpoint\"));var r=0;if(null!=t.frame)for(var n=i._startPoints[0].frame,o=1;o<i._startPoints.length;++o){var s=i._startPoints[o].frame;s<=t.frame&&n<s&&(n=s,r=o)}else for(var a=i._startPoints[0].timestamp,o=1;o<i._startPoints.length;++o){var h=i._startPoints[o].timestamp;h<=t.timestamp&&a<h&&(a=h,r=o)}e(null,i._startPoints[r])},0)},t.prototype.putStorageData=function(t,e,i,r){var n=this;setTimeout(function(){try{n._putStorageDataSyncFunc(t,e,i),r(null)}catch(t){r(t)}},0)},t.prototype.getStorageData=function(t,e){var i=this;setTimeout(function(){try{var r=i._getStorageDataSyncFunc(t);e(null,r)}catch(t){e(t)}},0)},t.prototype.dropAfter=function(t){if(this._tickList){var e=this._tickList[0],i=this._tickList[1];t<=e?(this._tickList=null,this._startPoints=[]):t<=i&&(this._tickList[1]=t-1,this._tickList[2]=this._tickList[2].filter(function(i){var r=i[0];return e<=r&&r<=t-1}),this._startPoints=this._startPoints.filter(function(e){return e.frame<t}))}},t.TOKEN_ACTIVE=\"mamfc-token:active\",t.TOKEN_PASSIVE=\"mamfc-token:passive\",t}();i.MemoryAmflowClient=n,i._cloneDeep=r},{}],24:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this._amflow=t.amflow,this._tickList=t.tickList,this._startPoints=t.startPoints}return t.prototype.dropAfter=function(t){if(this._tickList){var e=this._tickList[0],i=this._tickList[1],r=this._tickList[2];t<=e?(this._tickList=null,this._startPoints=[]):t<=i&&(this._tickList[1]=t-1,this._tickList[2]=this._sliceTicks(r,i,t-1),this._startPoints=this._startPoints.filter(function(e){return e.frame<t}))}},t.prototype.open=function(t,e){this._amflow.open(t,e)},t.prototype.close=function(t){this._amflow.close(t)},t.prototype.authenticate=function(t,e){this._amflow.authenticate(t,e)},t.prototype.sendTick=function(t){this._amflow.sendTick(t)},t.prototype.onTick=function(t){this._amflow.onTick(t)},t.prototype.offTick=function(t){this._amflow.offTick(t)},t.prototype.sendEvent=function(t){this._amflow.sendEvent(t)},t.prototype.onEvent=function(t){this._amflow.onEvent(t)},t.prototype.offEvent=function(t){this._amflow.offEvent(t)},t.prototype.getTickList=function(t,e,i){var r=this;if(!this._tickList)return void this._amflow.getTickList(t,e,i);var n=this._tickList[0],o=this._tickList[1],s=this._tickList[2],a=n<=t&&t<=o,h=n<=e&&e<=o;a&&h?setTimeout(function(){i(null,[t,e,r._sliceTicks(s,t,e)])},0):this._amflow.getTickList(t,e,function(c,u){if(c)return void i(c);if(u)if(a||h)if(a){var l=r._sliceTicks(s,t,e).concat(u[2]||[]);i(null,[t,u[1],l])}else{var l=(u[2]||[]).concat(r._sliceTicks(s,t,e));i(null,[u[0],e,l])}else if(e<n||o<t)i(null,u);else{var l=u[2];if(l){var d=r._sliceTicks(l,t,n-1),p=r._sliceTicks(l,o+1,e);l=d.concat(s,p)}else l=s;i(null,[t,e,l])}else a||h?a?i(null,[t,o,r._sliceTicks(s,t,e)]):i(null,[n,e,r._sliceTicks(s,t,e)]):e<n||o<t?i(null,u):i(null,[n,o,r._sliceTicks(s,t,e)])})},t.prototype.putStartPoint=function(t,e){this._amflow.putStartPoint(t,e)},t.prototype.getStartPoint=function(t,e){var i=this,r=0;if(this._startPoints.length>0)if(null!=t.frame)for(var n=this._startPoints[0].frame,o=1;o<this._startPoints.length;++o){var s=this._startPoints[o].frame;s<=t.frame&&n<s&&(n=s,r=o)}else for(var a=this._startPoints[0].timestamp,o=1;o<this._startPoints.length;++o){var h=this._startPoints[o].timestamp;h<=t.timestamp&&a<h&&(a=h,r=o)}var c=this._tickList?this._tickList[1]:-1;t.frame>c?this._amflow.getStartPoint(t,function(t,n){if(t)return void e(t);c<n.frame?e(null,n):e(null,i._startPoints[r])}):setTimeout(function(){e(null,i._startPoints[r])},0)},t.prototype.putStorageData=function(t,e,i,r){this._amflow.putStorageData(t,e,i,r)},t.prototype.getStorageData=function(t,e){this._amflow.getStorageData(t,e)},t.prototype._sliceTicks=function(t,e,i){return t.filter(function(t){var r=t[0];return e<=r&&r<=i})},t}();i.ReplayAmflowProxy=r},{}],25:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(e){this._interval=null!=e.interval?e.interval:t.DEFAULT_INTERVAL,null!=e.limit?this._limit=e.limit>=t.DEFAULT_LIMIT?e.limit:t.DEFAULT_LIMIT:this._limit=t.DEFAULT_LIMIT,this._calculateProfilerValueTrigger=new r.Trigger,e.getValueHandler&&this._calculateProfilerValueTrigger.add(e.getValueHandler,e.getValueHandlerOwner),this._reset()}return t.prototype.time=function(t){this._beforeTimes[t]=this._getCurrentTime()},t.prototype.timeEnd=function(t){var e=this._getCurrentTime(),i=null!=this._beforeTimes[t]?e-this._beforeTimes[t]:0;this._values[t].push({time:e,value:i})},t.prototype.flush=function(){var e=this._getCurrentTime();if(0===this._beforeFlushTime&&(this._beforeFlushTime=e),this._beforeFlushTime+this._interval<e&&(this._calculateProfilerValueTrigger.fire(this.getProfilerValue(this._interval)),this._beforeFlushTime=e),this._values[1].length>this._limit)for(var i in this._values)this._values.hasOwnProperty(i)&&(this._values[i]=this._values[i].slice(-t.BACKUP_MARGIN))},t.prototype.setValue=function(t,e){this._values[t].push({time:this._getCurrentTime(),value:e})},t.prototype.getProfilerValue=function(t){var e=this._calculateProfilerValue(1,t);return{skippedFrameCount:this._calculateProfilerValue(0,t),rawFrameInterval:e,framePerSecond:{ave:1e3/e.ave,max:1e3/e.min,min:1e3/e.max},frameTime:this._calculateProfilerValue(2,t),renderingTime:this._calculateProfilerValue(3,t)}},t.prototype._reset=function(){this._startTime=this._getCurrentTime(),this._beforeFlushTime=0,this._beforeTimes=[],this._beforeTimes[1]=0,this._beforeTimes[2]=0,this._beforeTimes[3]=0,this._beforeTimes[0]=0,this._values=[],this._values[1]=[],this._values[2]=[],this._values[3]=[],this._values[0]=[]},t.prototype._calculateProfilerValue=function(t,e){for(var i=this._getCurrentTime()-e,r=0,n=0,o=0,s=Number.MAX_VALUE,a=this._values[t].length-1;a>=0&&!(0<n&&this._values[t][a].time<i);--a){var h=this._values[t][a].value;o<h&&(o=h),h<s&&(s=h),r+=h,++n}return{ave:r/n,max:o,min:s}},t.prototype._getCurrentTime=function(){return+new Date},t.DEFAULT_INTERVAL=1e3,t.DEFAULT_LIMIT=1e3,t.BACKUP_MARGIN=100,t}();i.SimpleProfiler=n},{\"@akashic/akashic-engine\":1}],26:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0}),i.DEFAULT_DELAY_IGNORE_THRESHOLD=6,i.DEFAULT_SKIP_TICKS_AT_ONCE=100,i.DEFAULT_SKIP_THRESHOLD=100,i.DEFAULT_JUMP_TRY_THRESHOLD=3e4,i.DEFAULT_JUMP_IGNORE_THRESHOLD=15e3,i.DEFAULT_POLLING_TICK_THRESHOLD=1e4},{}],27:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t(\"./constants\"));var r=t(\"./EventIndex\");i.EventIndex=r;var n=t(\"./LoopMode\");i.LoopMode=n.default;var o=t(\"./LoopRenderMode\");i.LoopRenderMode=o.default;var s=t(\"./ExecutionMode\");i.ExecutionMode=s.default;var a=t(\"./GameDriver\");i.GameDriver=a.GameDriver;var h=t(\"./Game\");i.Game=h.Game;var c=t(\"./auxiliary/ReplayAmflowProxy\");i.ReplayAmflowProxy=c.ReplayAmflowProxy;var u=t(\"./auxiliary/MemoryAmflowClient\");i.MemoryAmflowClient=u.MemoryAmflowClient;var l=t(\"./auxiliary/SimpleProfiler\");i.SimpleProfiler=l.SimpleProfiler},{\"./EventIndex\":8,\"./ExecutionMode\":9,\"./Game\":10,\"./GameDriver\":11,\"./LoopMode\":14,\"./LoopRenderMode\":15,\"./auxiliary/MemoryAmflowClient\":23,\"./auxiliary/ReplayAmflowProxy\":24,\"./auxiliary/SimpleProfiler\":25,\"./constants\":26}],28:[function(t,e,i){e.exports=t(\"./lib/full/index\")},{\"./lib/full/index\":63}],29:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(){this.audioAssets=[],this._masterVolume=1}return t.prototype.registerAudioAsset=function(t){-1===this.audioAssets.indexOf(t)&&this.audioAssets.push(t)},t.prototype.removeAudioAsset=function(t){var e=this.audioAssets.indexOf(t);-1===e&&this.audioAssets.splice(e,1)},t.prototype.setMasterVolume=function(t){this._masterVolume=t;for(var e=0;e<this.audioAssets.length;e++)this.audioAssets[e]._lastPlayedPlayer&&this.audioAssets[e]._lastPlayedPlayer.notifyMasterVolumeChanged()},t.prototype.getMasterVolume=function(){return this._masterVolume},t}();i.AudioManager=r},{}],30:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./InputHandlerLayer\"),o=function(){function t(t){this.container=null,this.surface=null,this.inputHandlerLayer=null,this.rootView=null,this.useResizeForScaling=!1,this.pointEventTrigger=new r.Trigger,this._rendererReq=null,this._disablePreventDefault=!1,this.resourceFactory=t}return t.prototype.initialize=function(t){this._rendererReq=t.rendererRequirement,this._disablePreventDefault=!!t.disablePreventDefault,this._loadView()},t.prototype.setRootView=function(t){t!==this.rootView&&(this.rootView&&(this.unloadView(),this._loadView()),this.rootView=t,this._appendToRootView(t))},t.prototype.resetView=function(t){this.unloadView(),this._rendererReq=t,this._loadView(),this._appendToRootView(this.rootView)},t.prototype.getRenderer=function(){if(!this.surface)throw new Error(\"this container has no surface\");return this.surface.renderer()},t.prototype.changeScale=function(t,e){this.useResizeForScaling?this.surface.changePhysicalScale(t,e):this.surface.changeVisualScale(t,e),this.inputHandlerLayer._inputHandler.setScale(t,e)},t.prototype.unloadView=function(){if(this.inputHandlerLayer.disablePointerEvent(),this.rootView)for(;this.rootView.firstChild;)this.rootView.removeChild(this.rootView.firstChild)},t.prototype._loadView=function(){var t=this._rendererReq,e=t.primarySurfaceWidth,i=t.primarySurfaceHeight,r=this._disablePreventDefault;this.container=document.createDocumentFragment(),this.inputHandlerLayer?(this.inputHandlerLayer.setViewSize({width:e,height:i}),this.inputHandlerLayer.pointEventTrigger.removeAll(),this.surface&&!this.surface.destroyed()&&(this.inputHandlerLayer.view.removeChild(this.surface.canvas),this.surface.destroy())):this.inputHandlerLayer=new n.InputHandlerLayer({width:e,height:i,disablePreventDefault:r}),this.surface=this.resourceFactory.createPrimarySurface(e,i),this.inputHandlerLayer.view.appendChild(this.surface.getHTMLElement()),this.container.appendChild(this.inputHandlerLayer.view)},t.prototype._appendToRootView=function(t){t.appendChild(this.container),this.inputHandlerLayer.enablePointerEvent(),this.inputHandlerLayer.pointEventTrigger.add(this.pointEventTrigger.fire,this.pointEventTrigger)},t}();i.ContainerController=o},{\"./InputHandlerLayer\":31,\"@akashic/akashic-engine\":1}],31:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./handler/TouchHandler\"),o=function(){function t(t){this.view=this._createInputView(t.width,t.height),this._inputHandler=void 0,this.pointEventTrigger=new r.Trigger,this._disablePreventDefault=!!t.disablePreventDefault}return t.prototype.enablePointerEvent=function(){var t=this;this._inputHandler=new n.TouchHandler(this.view,this._disablePreventDefault),this._inputHandler.pointTrigger.add(function(e){t.pointEventTrigger.fire(e)}),this._inputHandler.start()},t.prototype.disablePointerEvent=function(){this._inputHandler&&this._inputHandler.stop()},t.prototype.setOffset=function(t){var e=\"position:relative; left:\"+t.x+\"px; top:\"+t.y+\"px\";this._inputHandler.inputView.setAttribute(\"style\",e)},t.prototype.setViewSize=function(t){var e=this.view;e.style.width=t.width+\"px\",e.style.height=t.height+\"px\"},t.prototype._createInputView=function(t,e){var i=document.createElement(\"div\");return i.setAttribute(\"tabindex\",\"1\"),i.className=\"input-handler\",i.setAttribute(\"style\",\"display:inline-block; outline:none;\"),i.style.width=t+\"px\",i.style.height=e+\"px\",i},t}();i.InputHandlerLayer=o},{\"./handler/TouchHandler\":62,\"@akashic/akashic-engine\":1}],32:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./RafLooper\"),n=t(\"./ResourceFactory\"),o=t(\"./ContainerController\"),s=t(\"./plugin/AudioPluginManager\"),a=t(\"./AudioManager\"),h=t(\"./plugin/AudioPluginRegistry\"),c=t(\"./asset/XHRTextAsset\"),u=function(){function t(t){this.containerView=t.containerView,this.audioPluginManager=new s.AudioPluginManager,t.audioPlugins&&this.audioPluginManager.tryInstallPlugin(t.audioPlugins),this.audioPluginManager.tryInstallPlugin(h.AudioPluginRegistry.getRegisteredAudioPlugins()),this._audioManager=new a.AudioManager,this.amflow=t.amflow,this._platformEventHandler=null,this._resourceFactory=t.resourceFactory||new n.ResourceFactory({audioPluginManager:this.audioPluginManager,platform:this,audioManager:this._audioManager}),this.containerController=new o.ContainerController(this._resourceFactory),this._rendererReq=null,this._disablePreventDefault=!!t.disablePreventDefault}return t.prototype.setPlatformEventHandler=function(t){this.containerController&&(this.containerController.pointEventTrigger.removeAll({owner:this._platformEventHandler}),this.containerController.pointEventTrigger.add(t.onPointEvent,t)),this._platformEventHandler=t},t.prototype.loadGameConfiguration=function(t,e){var i=new c.XHRTextAsset(\"(game.json)\",t);i._load({_onAssetLoad:function(t){e(null,JSON.parse(i.data))},_onAssetError:function(t,i){e(i,null)}})},t.prototype.getResourceFactory=function(){return this._resourceFactory},t.prototype.setRendererRequirement=function(t){if(!t)return void(this.containerController&&this.containerController.unloadView());this._rendererReq=t,this._resourceFactory._rendererCandidates=this._rendererReq.rendererCandidates,this.containerController&&!this.containerController.inputHandlerLayer?(this.containerController.initialize({rendererRequirement:t,disablePreventDefault:this._disablePreventDefault}),this.containerController.setRootView(this.containerView),this._platformEventHandler&&this.containerController.pointEventTrigger.add(this._platformEventHandler.onPointEvent,this._platformEventHandler)):this.containerController.resetView(t)},t.prototype.getPrimarySurface=function(){return this.containerController.surface},t.prototype.getOperationPluginViewInfo=function(){var t=this;return{type:\"pdi-browser\",view:this.containerController.inputHandlerLayer.view,getScale:function(){return t.containerController.inputHandlerLayer._inputHandler.getScale()}}},t.prototype.createLooper=function(t){return new r.RafLooper(t)},t.prototype.sendToExternal=function(t,e){},t.prototype.registerAudioPlugins=function(t){return this.audioPluginManager.tryInstallPlugin(t)},t.prototype.setScale=function(t,e){this.containerController.changeScale(t,e)},t.prototype.notifyViewMoved=function(){},t.prototype.setMasterVolume=function(t){this._audioManager&&this._audioManager.setMasterVolume(t)},t.prototype.getMasterVolume=function(){if(this._audioManager)return this._audioManager.getMasterVolume()},t.prototype.destroy=function(){this.setRendererRequirement(void 0),this.setMasterVolume(0)},t}();i.Platform=u},{\"./AudioManager\":29,\"./ContainerController\":30,\"./RafLooper\":33,\"./ResourceFactory\":34,\"./asset/XHRTextAsset\":39,\"./plugin/AudioPluginManager\":64,\"./plugin/AudioPluginRegistry\":65}],33:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this._fun=t,this._timerId=void 0,this._prev=0}return t.prototype.start=function(){var t=this,e=function(i){null!=t._timerId&&(t._timerId=requestAnimationFrame(e),t._fun(i-t._prev),t._prev=i)},i=function(i){t._timerId=requestAnimationFrame(e),t._fun(0),t._prev=i};this._timerId=requestAnimationFrame(i)},t.prototype.stop=function(){cancelAnimationFrame(this._timerId),this._timerId=void 0,this._prev=0},t}();i.RafLooper=r},{}],34:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./asset/HTMLImageAsset\"),s=t(\"./asset/HTMLVideoAsset\"),a=t(\"./asset/XHRTextAsset\"),h=t(\"./asset/XHRScriptAsset\"),c=t(\"./canvas/GlyphFactory\"),u=t(\"./canvas/shims/SurfaceFactory\"),l=function(t){function e(e){var i=t.call(this)||this;return i._audioPluginManager=e.audioPluginManager,i._audioManager=e.audioManager,i._platform=e.platform,i._surfaceFactory=new u.SurfaceFactory,i}return r(e,t),e.prototype.createAudioAsset=function(t,e,i,r,n,o){var s=this._audioPluginManager.getActivePlugin(),a=s.createAsset(t,e,i,r,n,o);return a.onDestroyed&&(this._audioManager.registerAudioAsset(a),a.onDestroyed.add(this._onAudioAssetDestroyed,this)),a},e.prototype.createAudioPlayer=function(t){return this._audioPluginManager.getActivePlugin().createPlayer(t,this._audioManager)},e.prototype.createImageAsset=function(t,e,i,r){return new o.HTMLImageAsset(t,e,i,r)},e.prototype.createVideoAsset=function(t,e,i,r,n,o,a){return new s.HTMLVideoAsset(t,e,i,r,n,o,a)},e.prototype.createTextAsset=function(t,e){return new a.XHRTextAsset(t,e)},e.prototype.createScriptAsset=function(t,e){return new h.XHRScriptAsset(t,e)},e.prototype.createPrimarySurface=function(t,e){return this._surfaceFactory.createPrimarySurface(t,e,this._rendererCandidates)},e.prototype.createSurface=function(t,e){return this._surfaceFactory.createBackSurface(t,e,this._rendererCandidates)},e.prototype.createGlyphFactory=function(t,e,i,r,n,o,s,a){return new c.GlyphFactory(t,e,i,r,n,o,s,a)},e.prototype._onAudioAssetDestroyed=function(t){this._audioManager.removeAudioAsset(t)},e}(n.ResourceFactory);i.ResourceFactory=l},{\"./asset/HTMLImageAsset\":35,\"./asset/HTMLVideoAsset\":36,\"./asset/XHRScriptAsset\":38,\"./asset/XHRTextAsset\":39,\"./canvas/GlyphFactory\":42,\"./canvas/shims/SurfaceFactory\":48,\"@akashic/akashic-engine\":1}],35:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i,r){return t.call(this,e,i,r)||this}return r(e,t),e.prototype.renderer=function(){throw n.ExceptionFactory.createAssertionError(\"ImageAssetSurface cannot be rendered.\")},e.prototype.isPlaying=function(){return!1},e}(n.Surface);i.ImageAssetSurface=o;var s=function(t){function e(e,i,r,n){var o=t.call(this,e,i,r,n)||this;return o.data=void 0,o._surface=void 0,o}return r(e,t),e.prototype.destroy=function(){this._surface&&!this._surface.destroyed()&&this._surface.destroy(),this.data=void 0,this._surface=void 0,t.prototype.destroy.call(this)},e.prototype._load=function(t){var e=this,i=new Image;this.hint&&this.hint.untainted&&(i.crossOrigin=\"anonymous\"),i.onerror=function(){t._onAssetError(e,n.ExceptionFactory.createAssetLoadError(\"HTMLImageAsset unknown loading error\"))},i.onload=function(){e.data=i,t._onAssetLoad(e)},i.src=this.path},e.prototype.asSurface=function(){if(!this.data)throw n.ExceptionFactory.createAssertionError(\"ImageAssetImpl#asSurface: not yet loaded.\");return this._surface?this._surface:(this._surface=new o(this.width,this.height,this.data),this._surface)},e}(n.ImageAsset);i.HTMLImageAsset=s},{\"@akashic/akashic-engine\":1}],36:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./HTMLVideoPlayer\"),s=function(t){function e(e,i,r){return t.call(this,e,i,r,!0)||this}return r(e,t),e.prototype.renderer=function(){throw n.ExceptionFactory.createAssertionError(\"VideoAssetSurface cannot be rendered.\")},e.prototype.isPlaying=function(){return!1},e}(n.Surface),a=function(t){function e(e,i,r,n,a,h,c){var u=t.call(this,e,i,r,n,a,h,c)||this;return u._player=new o.HTMLVideoPlayer,u._surface=new s(r,n,null),u}return r(e,t),e.prototype.inUse=function(){return!1},e.prototype._load=function(t){var e=this;setTimeout(function(){t._onAssetLoad(e)},0)},e.prototype.getPlayer=function(){return this._player},e.prototype.asSurface=function(){return this._surface},e}(n.VideoAsset);i.HTMLVideoAsset=a},{\"./HTMLVideoPlayer\":37,\"@akashic/akashic-engine\":1}],37:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e){var i=t.call(this,e)||this;return i.isDummy=!0,i}return r(e,t),e.prototype.play=function(t){},e.prototype.stop=function(){},e.prototype.changeVolume=function(t){},e}(n.VideoPlayer);i.HTMLVideoPlayer=o},{\"@akashic/akashic-engine\":1}],38:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"../utils/XHRLoader\"),s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.script=void 0,r}return r(e,t),e.prototype._load=function(t){var e=this;(new o.XHRLoader).get(this.path,function(i,r){if(i)return void t._onAssetError(e,i);e.script=r+\"\\n\",t._onAssetLoad(e)})},e.prototype.execute=function(t){return this._wrap()(t),t.module.exports},e.prototype._wrap=function(){return new Function(\"g\",e.PRE_SCRIPT+this.script+e.POST_SCRIPT)},e.PRE_SCRIPT=\"(function(exports, require, module, __filename, __dirname) {\",e.POST_SCRIPT=\"\\n})(g.module.exports, g.module.require, g.module, g.filename, g.dirname);\",e}(n.ScriptAsset);i.XHRScriptAsset=s},{\"../utils/XHRLoader\":82,\"@akashic/akashic-engine\":1}],39:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"../utils/XHRLoader\"),s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.data=void 0,r}return r(e,t),e.prototype._load=function(t){var e=this;(new o.XHRLoader).get(this.path,function(i,r){if(i)return void t._onAssetError(e,i);e.data=r,t._onAssetLoad(e)})},e}(n.TextAsset);i.XHRTextAsset=s},{\"../utils/XHRLoader\":82,\"@akashic/akashic-engine\":1}],40:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this.matrix=t?new Float32Array(t.matrix):new Float32Array([1,0,0,1,0,0])}return t.prototype.scale=function(t,e){var i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this},t.prototype.translate=function(t,e){var i=this.matrix;return i[4]+=i[0]*t+i[2]*e,i[5]+=i[1]*t+i[3]*e,this},t.prototype.transform=function(t){var e=this.matrix,i=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],n=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],s=t[4]*e[0]+t[5]*e[2]+e[4],a=t[4]*e[1]+t[5]*e[3]+e[5];return e[0]=i,e[1]=r,e[2]=n,e[3]=o,e[4]=s,e[5]=a,this},t.prototype.setTransform=function(t){var e=this.matrix;e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5]},t.prototype.copyFrom=function(t){return this.matrix.set(t.matrix),this},t}();i.AffineTransformer=r},{}],41:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i){var r=this,n=document.createElement(\"canvas\");return r=t.call(this,e,i,n)||this,n.width=e,n.height=i,r.canvas=n,r._renderer=void 0,r}return r(e,t),e.prototype.destroy=function(){this.canvas.width=1,this.canvas.height=1,this.canvas=null,this._renderer=null,t.prototype.destroy.call(this)},e.prototype.getHTMLElement=function(){return this.canvas},e.prototype.changeVisualScale=function(t,e){var i=this.canvas.style;\"transform\"in i?(i.transformOrigin=\"0 0\",i.transform=\"scale(\"+t+\",\"+e+\")\"):\"webkitTransform\"in i?(i.webkitTransformOrigin=\"0 0\",i.webkitTransform=\"scale(\"+t+\",\"+e+\")\"):(i.width=Math.floor(t*this.width)+\"px\",i.height=Math.floor(e*this.width)+\"px\")},e}(n.Surface);i.CanvasSurface=o},{\"@akashic/akashic-engine\":1}],42:[function(t,e,i){\"use strict\";function r(t,e,i,r,n,o,s,a,h,c,d,f){var _=e<p._environmentMinimumFontSize?e/p._environmentMinimumFontSize:1,g=Math.ceil((e+2*n)*_),y=Math.ceil((e+2*o)*_),m=new l.Context2DSurface(g,y),v=m.canvas,T=v.getContext(\"2d\"),A=4294901760&t?String.fromCharCode((4294901760&t)>>>16,65535&t):String.fromCharCode(t),x=f===u.FontWeight.Bold?\"bold \":\"\";T.save(),T.font=x+e+\"px \"+i,T.textAlign=\"left\",T.textBaseline=\"alphabetic\",T.lineJoin=\"bevel\",1!==_&&T.scale(_,_),h>0&&(T.lineWidth=h,T.strokeStyle=c,T.strokeText(A,n,o+r)),d||(T.fillStyle=a,T.fillText(A,n,o+r));var w=T.measureText(A).width;return T.restore(),{surface:m,advanceWidth:w,imageData:s?T.getImageData(0,0,v.width,v.height):void 0}}function n(t){for(var e=t.width,i=t.height,r=0,n=0,o=0,s=0,a=t.height;s<a;s=s+1|0)for(var h=0,c=t.width;h<c;h=h+1|0){var u=t.data[o+3];0!==u&&(h<e&&(e=h),h>r&&(r=h),s<i&&(i=s),s>n&&(n=s)),o+=4}return e===t.width?{x:0,y:0,width:0,height:0}:{x:e,y:i,width:r-e+1,height:n-i+1}}function o(t){return 0===t.width||0===t.height}function s(t){switch(t){case u.FontFamily.Monospace:return\"monospace\";case u.FontFamily.Serif:return\"serif\";default:return\"sans-serif\"}}function a(t){return-1!==d.indexOf(t)?t:'\"'+t+'\"'}function h(t){return\"number\"==typeof t?s(t):\"string\"==typeof t?a(t):t.map(function(t){return\"string\"==typeof t?a(t):s(t)}).join(\",\")}var c=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{\n__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var u=t(\"@akashic/akashic-engine\"),l=t(\"./context2d/Context2DSurface\"),d=[\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\"],p=function(t){function e(i,r,n,o,a,c,l,d){var p=t.call(this,i,r,n,o,a,c,l,d)||this;p._glyphAreas={},p._cssFontFamily=h(i);var f=s(u.FontFamily.SansSerif);return-1===p._cssFontFamily.indexOf(f)&&(p._cssFontFamily+=\",\"+f),p._marginW=Math.ceil(.3*p.fontSize+p.strokeWidth/2),p._marginH=Math.ceil(.3*p.fontSize+p.strokeWidth/2),void 0===e._environmentMinimumFontSize&&(e._environmentMinimumFontSize=p.measureMinimumFontSize()),p}return c(e,t),e.prototype.create=function(t){var e,i=this._glyphAreas[t];return i||(e=r(t,this.fontSize,this._cssFontFamily,this.baselineHeight,this._marginW,this._marginH,!0,this.fontColor,this.strokeWidth,this.strokeColor,this.strokeOnly,this.fontWeight),i=n(e.imageData),i.advanceWidth=e.advanceWidth,this._glyphAreas[t]=i),o(i)?(e&&e.surface.destroy(),new u.Glyph(t,0,0,0,0,0,0,i.advanceWidth,void 0,!0)):(e||(e=r(t,this.fontSize,this._cssFontFamily,this.baselineHeight,this._marginW,this._marginH,!1,this.fontColor,this.strokeWidth,this.strokeColor,this.strokeOnly,this.fontWeight)),new u.Glyph(t,i.x,i.y,i.width,i.height,i.x-this._marginW,i.y-this._marginH,i.advanceWidth,e.surface,!0))},e.prototype.measureMinimumFontSize=function(){var t=1,e=document.createElement(\"canvas\"),i=e.getContext(\"2d\");i.textAlign=\"left\",i.textBaseline=\"alphabetic\",i.lineJoin=\"bevel\";var r;i.font=t+\"px sans-serif\";var n=i.measureText(\"M\").width;do{r=n,t+=1,i.font=t+\"px sans-serif\",n=i.measureText(\"M\").width}while(r===n||t>50);return t},e}(u.GlyphFactory);i.GlyphFactory=p},{\"./context2d/Context2DSurface\":47,\"@akashic/akashic-engine\":1}],43:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});!function(t){function e(t){if(0!=(t&t-1)){for(var e=1;e<t;)e*=2;return e}return t}function i(t){return Math.min(Math.max(t,0),1)}function r(t){var e=!1;return t&&0<t.length&&(e=\"webgl\"===t[0]),e}t.toPowerOfTwo=e,t.clamp=i,t.usedWebGL=r}(i.RenderingHelper||(i.RenderingHelper={}))},{}],44:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"../AffineTransformer\"),n=function(){function t(t){t?(this.fillStyle=t.fillStyle,this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer=new r.AffineTransformer(t.transformer)):(this.fillStyle=\"#000000\",this.globalAlpha=1,this.globalCompositeOperation=\"source-over\",this.transformer=new r.AffineTransformer)}return t}();i.CanvasRenderingState=n},{\"../AffineTransformer\":40}],45:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./CanvasRenderingState\"),n=function(){function t(t){this._stateStack=[],this._modifiedTransform=!1,this._context=t;var e=new r.CanvasRenderingState;this._currentFillStyle=e.fillStyle,this._currentGlobalAlpha=e.globalAlpha,this._currentGlobalCompositeOperation=e.globalCompositeOperation,this.pushState(e)}return Object.defineProperty(t.prototype,\"fillStyle\",{get:function(){return this.currentState().fillStyle},set:function(t){this.currentState().fillStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"globalAlpha\",{get:function(){return this.currentState().globalAlpha},set:function(t){this.currentState().globalAlpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"globalCompositeOperation\",{get:function(){return this.currentState().globalCompositeOperation},set:function(t){this.currentState().globalCompositeOperation=t},enumerable:!0,configurable:!0}),t.prototype.getCanvasRenderingContext2D=function(){return this._context},t.prototype.clearRect=function(t,e,i,r){this.prerender(),this._context.clearRect(t,e,i,r)},t.prototype.save=function(){var t=new r.CanvasRenderingState(this.currentState());this.pushState(t)},t.prototype.restore=function(){this.popState()},t.prototype.scale=function(t,e){this.currentState().transformer.scale(t,e),this._modifiedTransform=!0},t.prototype.drawImage=function(t,e,i,r,n,o,s,a,h){this.prerender(),this._context.drawImage(t,e,i,r,n,o,s,a,h)},t.prototype.fillRect=function(t,e,i,r){this.prerender(),this._context.fillRect(t,e,i,r)},t.prototype.fillText=function(t,e,i,r){this.prerender(),this._context.fillText(t,e,i,r)},t.prototype.strokeText=function(t,e,i,r){this.prerender(),this._context.strokeText(t,e,i,r)},t.prototype.translate=function(t,e){this.currentState().transformer.translate(t,e),this._modifiedTransform=!0},t.prototype.transform=function(t,e,i,r,n,o){this.currentState().transformer.transform([t,e,i,r,n,o]),this._modifiedTransform=!0},t.prototype.setTransform=function(t,e,i,r,n,o){this.currentState().transformer.setTransform([t,e,i,r,n,o]),this._modifiedTransform=!0},t.prototype.setGlobalAlpha=function(t){this.currentState().globalAlpha=t},t.prototype.getImageData=function(t,e,i,r){return this._context.getImageData(t,e,i,r)},t.prototype.putImageData=function(t,e,i,r,n,o,s){this._context.putImageData(t,e,i,r,n,o,s)},t.prototype.prerender=function(){var t=this.currentState();if(t.fillStyle!==this._currentFillStyle&&(this._context.fillStyle=t.fillStyle,this._currentFillStyle=t.fillStyle),t.globalAlpha!==this._currentGlobalAlpha&&(this._context.globalAlpha=t.globalAlpha,this._currentGlobalAlpha=t.globalAlpha),t.globalCompositeOperation!==this._currentGlobalCompositeOperation&&(this._context.globalCompositeOperation=t.globalCompositeOperation,this._currentGlobalCompositeOperation=t.globalCompositeOperation),this._modifiedTransform){var e=t.transformer;this._context.setTransform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this._modifiedTransform=!1}},t.prototype.pushState=function(t){this._stateStack.push(t)},t.prototype.popState=function(){this._stateStack.length<=1||(this._stateStack.pop(),this._modifiedTransform=!0)},t.prototype.currentState=function(){return this._stateStack[this._stateStack.length-1]},t}();i.CanvasSurfaceContext=n},{\"./CanvasRenderingState\":44}],46:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e){var i=t.call(this)||this;return i.surface=e,i.context=e.context(),i.canvasRenderingContext2D=i.context.getCanvasRenderingContext2D(),i}return r(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this.canvasRenderingContext2D.save(),this.context.save()},e.prototype.end=function(){this.canvasRenderingContext2D.restore(),this.context.restore(),t.prototype.end.call(this)},e.prototype.clear=function(){this.context.clearRect(0,0,this.surface.width,this.surface.height)},e.prototype.drawImage=function(t,e,i,r,n,o,s){this.context.drawImage(t._drawable,e,i,r,n,o,s,r,n)},e.prototype.drawSprites=function(t,e,i,r,n,o,s,a){for(var h=0;h<a;++h)this.drawImage(t,e[h],i[h],r[h],n[h],o[h],s[h])},e.prototype.drawSystemText=function(t,e,i,r,o,s,a,h,c,u,l,d){var p,f,_,g=this.canvasRenderingContext2D;switch(this.context.prerender(),g.save(),c){case n.FontFamily.Monospace:p=\"monospace\";break;case n.FontFamily.Serif:p=\"serif\";break;default:p=\"sans-serif\"}switch(g.font=o+\"px \"+p,s){case n.TextAlign.Right:f=\"right\";break;case n.TextAlign.Center:f=\"center\";break;default:f=\"left\"}switch(g.textAlign=f,a){case n.TextBaseline.Top:_=\"top\";break;case n.TextBaseline.Middle:_=\"middle\";break;case n.TextBaseline.Bottom:_=\"bottom\";break;default:_=\"alphabetic\"}g.textBaseline=_,g.lineJoin=\"bevel\",u>0&&(g.lineWidth=u,g.strokeStyle=l,void 0===r?g.strokeText(t,e,i):g.strokeText(t,e,i,r)),d||(g.fillStyle=h,g.fillText(t,e,i,r)),g.restore()},e.prototype.translate=function(t,e){this.context.translate(t,e)},e.prototype.transform=function(t){this.context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},e.prototype.opacity=function(t){this.context.globalAlpha*=t},e.prototype.save=function(){this.context.save()},e.prototype.restore=function(){this.context.restore()},e.prototype.fillRect=function(t,e,i,r,n){this.context.fillStyle=n,this.context.fillRect(t,e,i,r)},e.prototype.setCompositeOperation=function(t){var e;switch(t){case n.CompositeOperation.SourceAtop:e=\"source-atop\";break;case n.CompositeOperation.Lighter:e=\"lighter\";break;case n.CompositeOperation.Copy:e=\"copy\";break;case n.CompositeOperation.ExperimentalSourceIn:e=\"source-in\";break;case n.CompositeOperation.ExperimentalSourceOut:e=\"source-out\";break;case n.CompositeOperation.ExperimentalDestinationAtop:e=\"destination-atop\";break;case n.CompositeOperation.ExperimentalDestinationIn:e=\"destination-in\";break;case n.CompositeOperation.DestinationOut:e=\"destination-out\";break;case n.CompositeOperation.DestinationOver:e=\"destination-over\";break;case n.CompositeOperation.Xor:e=\"xor\";break;default:e=\"source-over\"}this.context.globalCompositeOperation=e},e.prototype.setOpacity=function(t){this.context.globalAlpha=t},e.prototype.setTransform=function(t){this.context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},e.prototype.setShaderProgram=function(t){throw n.ExceptionFactory.createAssertionError(\"Context2DRenderer#setShaderProgram() is not implemented\")},e.prototype.isSupportedShaderProgram=function(){return!1},e.prototype._getImageData=function(t,e,i,r){return this.context.getImageData(t,e,i,r)},e.prototype._putImageData=function(t,e,i,r,n,o,s){void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=t.width),void 0===s&&(s=t.height),this.context.putImageData(t,e,i,r,n,o,s)},e}(n.Renderer);i.Context2DRenderer=o},{\"@akashic/akashic-engine\":1}],47:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./Context2DRenderer\"),o=t(\"./CanvasSurfaceContext\"),s=t(\"../CanvasSurface\"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.context=function(){return this._context||(this._context=new o.CanvasSurfaceContext(this.canvas.getContext(\"2d\"))),this._context},e.prototype.renderer=function(){return this._renderer||(this._renderer=new n.Context2DRenderer(this)),this._renderer},e.prototype.changePhysicalScale=function(t,e){this.canvas.width=this.width*t,this.canvas.height=this.height*e,this._context.scale(t,e)},e.prototype.isPlaying=function(){return!1},e}(s.CanvasSurface);i.Context2DSurface=a},{\"../CanvasSurface\":41,\"./CanvasSurfaceContext\":45,\"./Context2DRenderer\":46}],48:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"../RenderingHelper\"),n=t(\"../context2d/Context2DSurface\"),o=t(\"../webgl/WebGLSharedObject\"),s=function(){function t(){}return t.prototype.createPrimarySurface=function(t,e,i){return r.RenderingHelper.usedWebGL(i)?(this._shared||(this._shared=new o.WebGLSharedObject(t,e)),this._shared.getPrimarySurface()):new n.Context2DSurface(t,e)},t.prototype.createBackSurface=function(t,e,i){return r.RenderingHelper.usedWebGL(i)?this._shared.createBackSurface(t,e):new n.Context2DSurface(t,e)},t}();i.SurfaceFactory=s},{\"../RenderingHelper\":43,\"../context2d/Context2DSurface\":47,\"../webgl/WebGLSharedObject\":57}],49:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./WebGLBackSurfaceRenderer\"),o=t(\"./WebGLPrimarySurface\"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.renderer=function(){return this._renderer||(this._renderer=new n.WebGLBackSurfaceRenderer(this,this._shared)),this._renderer},e.prototype.destroy=function(){this._renderer&&this._renderer.destroy(),this._renderer=void 0,this._drawable=void 0,t.prototype.destroy.call(this)},e}(o.WebGLPrimarySurface);i.WebGLBackSurface=s},{\"./WebGLBackSurfaceRenderer\":50,\"./WebGLPrimarySurface\":52}],50:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./WebGLRenderer\"),o=t(\"./WebGLRenderingState\"),s=function(t){function e(e,i){var r=t.call(this,i,i.createRenderTarget(e.width,e.height))||this;return e._drawable={texture:r._renderTarget.texture,textureOffsetX:0,textureOffsetY:0,textureWidth:e.width,textureHeight:e.height},r}return r(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this.save();var e=new o.WebGLRenderingState(this.currentState()),i=e.transformer.matrix;i[1]*=-1,i[3]*=-1,i[5]=-i[5]+this._renderTarget.height,this.currentState().copyFrom(e),this._shared.pushRenderTarget(this._renderTarget)},e.prototype.end=function(){this.restore(),this._shared.popRenderTarget(),t.prototype.end.call(this)},e}(n.WebGLRenderer);i.WebGLBackSurfaceRenderer=s},{\"./WebGLRenderer\":54,\"./WebGLRenderingState\":55}],51:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"../RenderingHelper\");!function(t){function e(e){var i=\"string\"==typeof e?t._toColor(e):[e[0],e[1],e[2],e[3]];return i[3]=r.RenderingHelper.clamp(i[3]),i[0]=r.RenderingHelper.clamp(i[0])*i[3],i[1]=r.RenderingHelper.clamp(i[1])*i[3],i[2]=r.RenderingHelper.clamp(i[2])*i[3],i}function i(t){var e=t[0]%360,i=t[1],r=t[2]>50?100-t[2]:t[2],n=t[3],o=r+r*i,s=r-r*i;return e<60?[o,e/60*(o-s)+s,s,n]:e<120?[(120-e)/60*(o-s)+s,o,s,n]:e<180?[s,o,(e-120)/60*(o-s)+s,n]:e<240?[s,(240-e)/60*(o-s)+s,o,n]:e<300?[(e-240)/60*(o-s)+s,s,o,n]:[o,s,(360-e)/60*(o-s)+s,n]}function n(e){var i=e.toUpperCase().replace(/\\s+/g,\"\"),n=t.colorMap[i];if(n)return n;if(i.match(/^#([\\dA-F])([\\dA-F])([\\dA-F])$/))return[parseInt(RegExp.$1,16)/15,parseInt(RegExp.$2,16)/15,parseInt(RegExp.$3,16)/15,1];if(i.match(/^#([\\dA-F]{2})([\\dA-F]{2})([\\dA-F]{2})$/))return[parseInt(RegExp.$1,16)/255,parseInt(RegExp.$2,16)/255,parseInt(RegExp.$3,16)/255,1];if(i.match(/^RGB\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)$/))return[parseInt(RegExp.$1,10)/255,parseInt(RegExp.$2,10)/255,parseInt(RegExp.$3,10)/255,1];if(i.match(/^RGBA\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3}),(\\d(\\.\\d*)?)\\)$/))return[parseInt(RegExp.$1,10)/255,parseInt(RegExp.$2,10)/255,parseInt(RegExp.$3,10)/255,parseFloat(RegExp.$4)];if(i.match(/^HSL\\((\\d{1,3}),(\\d{1,3})%,(\\d{1,3})%\\)$/))return t._hsl2rgb([parseInt(RegExp.$1,10),r.RenderingHelper.clamp(parseInt(RegExp.$2,10)/100),r.RenderingHelper.clamp(parseInt(RegExp.$3,10)/100),1]);if(i.match(/^HSLA\\((\\d{1,3}),(\\d{1,3})%,(\\d{1,3})%,(\\d(\\.\\d*)?)\\)$/))return t._hsl2rgb([parseInt(RegExp.$1,10),r.RenderingHelper.clamp(parseInt(RegExp.$2,10)/100),r.RenderingHelper.clamp(parseInt(RegExp.$3,10)/100),parseFloat(RegExp.$4)]);throw Error(\"illigal cssColor format: \"+i)}t.colorMap={ALICEBLUE:[240/255,248/255,1,1],ANTIQUEWHITE:[250/255,235/255,215/255,1],AQUA:[0,1,1,1],AQUAMARINE:[127/255,1,212/255,1],AZURE:[240/255,1,1,1],BEIGE:[245/255,245/255,220/255,1],BISQUE:[1,228/255,196/255,1],BLACK:[0,0,0,1],BLANCHEDALMOND:[1,235/255,205/255,1],BLUE:[0,0,1,1],BLUEVIOLET:[138/255,43/255,226/255,1],BROWN:[165/255,42/255,42/255,1],BURLYWOOD:[222/255,184/255,135/255,1],CADETBLUE:[95/255,158/255,160/255,1],CHARTREUSE:[127/255,1,0,1],CHOCOLATE:[210/255,105/255,30/255,1],CORAL:[1,127/255,80/255,1],CORNFLOWERBLUE:[100/255,149/255,237/255,1],CORNSILK:[1,248/255,220/255,1],CRIMSON:[220/255,20/255,60/255,1],CYAN:[0,1,1,1],DARKBLUE:[0,0,139/255,1],DARKCYAN:[0,139/255,139/255,1],DARKGOLDENROD:[184/255,134/255,11/255,1],DARKGRAY:[169/255,169/255,169/255,1],DARKGREEN:[0,100/255,0,1],DARKGREY:[169/255,169/255,169/255,1],DARKKHAKI:[189/255,183/255,107/255,1],DARKMAGENTA:[139/255,0,139/255,1],DARKOLIVEGREEN:[85/255,107/255,47/255,1],DARKORANGE:[1,140/255,0,1],DARKORCHID:[.6,50/255,.8,1],DARKRED:[139/255,0,0,1],DARKSALMON:[233/255,150/255,122/255,1],DARKSEAGREEN:[143/255,188/255,143/255,1],DARKSLATEBLUE:[72/255,61/255,139/255,1],DARKSLATEGRAY:[47/255,79/255,79/255,1],DARKSLATEGREY:[47/255,79/255,79/255,1],DARKTURQUOISE:[0,206/255,209/255,1],DARKVIOLET:[148/255,0,211/255,1],DEEPPINK:[1,20/255,147/255,1],DEEPSKYBLUE:[0,191/255,1,1],DIMGRAY:[105/255,105/255,105/255,1],DIMGREY:[105/255,105/255,105/255,1],DODGERBLUE:[30/255,144/255,1,1],FIREBRICK:[178/255,34/255,34/255,1],FLORALWHITE:[1,250/255,240/255,1],FORESTGREEN:[34/255,139/255,34/255,1],FUCHSIA:[1,0,1,1],GAINSBORO:[220/255,220/255,220/255,1],GHOSTWHITE:[248/255,248/255,1,1],GOLD:[1,215/255,0,1],GOLDENROD:[218/255,165/255,32/255,1],GRAY:[128/255,128/255,128/255,1],GREEN:[0,128/255,0,1],GREENYELLOW:[173/255,1,47/255,1],GREY:[128/255,128/255,128/255,1],HONEYDEW:[240/255,1,240/255,1],HOTPINK:[1,105/255,180/255,1],INDIANRED:[205/255,92/255,92/255,1],INDIGO:[75/255,0,130/255,1],IVORY:[1,1,240/255,1],KHAKI:[240/255,230/255,140/255,1],LAVENDER:[230/255,230/255,250/255,1],LAVENDERBLUSH:[1,240/255,245/255,1],LAWNGREEN:[124/255,252/255,0,1],LEMONCHIFFON:[1,250/255,205/255,1],LIGHTBLUE:[173/255,216/255,230/255,1],LIGHTCORAL:[240/255,128/255,128/255,1],LIGHTCYAN:[224/255,1,1,1],LIGHTGOLDENRODYELLOW:[250/255,250/255,210/255,1],LIGHTGRAY:[211/255,211/255,211/255,1],LIGHTGREEN:[144/255,238/255,144/255,1],LIGHTGREY:[211/255,211/255,211/255,1],LIGHTPINK:[1,182/255,193/255,1],LIGHTSALMON:[1,160/255,122/255,1],LIGHTSEAGREEN:[32/255,178/255,170/255,1],LIGHTSKYBLUE:[135/255,206/255,250/255,1],LIGHTSLATEGRAY:[119/255,136/255,.6,1],LIGHTSLATEGREY:[119/255,136/255,.6,1],LIGHTSTEELBLUE:[176/255,196/255,222/255,1],LIGHTYELLOW:[1,1,224/255,1],LIME:[0,1,0,1],LIMEGREEN:[50/255,205/255,50/255,1],LINEN:[250/255,240/255,230/255,1],MAGENTA:[1,0,1,1],MAROON:[128/255,0,0,1],MEDIUMAQUAMARINE:[.4,205/255,170/255,1],MEDIUMBLUE:[0,0,205/255,1],MEDIUMORCHID:[186/255,85/255,211/255,1],MEDIUMPURPLE:[147/255,112/255,219/255,1],MEDIUMSEAGREEN:[60/255,179/255,113/255,1],MEDIUMSLATEBLUE:[123/255,104/255,238/255,1],MEDIUMSPRINGGREEN:[0,250/255,154/255,1],MEDIUMTURQUOISE:[72/255,209/255,.8,1],MEDIUMVIOLETRED:[199/255,21/255,133/255,1],MIDNIGHTBLUE:[25/255,25/255,112/255,1],MINTCREAM:[245/255,1,250/255,1],MISTYROSE:[1,228/255,225/255,1],MOCCASIN:[1,228/255,181/255,1],NAVAJOWHITE:[1,222/255,173/255,1],NAVY:[0,0,128/255,1],OLDLACE:[253/255,245/255,230/255,1],OLIVE:[128/255,128/255,0,1],OLIVEDRAB:[107/255,142/255,35/255,1],ORANGE:[1,165/255,0,1],ORANGERED:[1,69/255,0,1],ORCHID:[218/255,112/255,214/255,1],PALEGOLDENROD:[238/255,232/255,170/255,1],PALEGREEN:[152/255,251/255,152/255,1],PALETURQUOISE:[175/255,238/255,238/255,1],PALEVIOLETRED:[219/255,112/255,147/255,1],PAPAYAWHIP:[1,239/255,213/255,1],PEACHPUFF:[1,218/255,185/255,1],PERU:[205/255,133/255,63/255,1],PINK:[1,192/255,203/255,1],PLUM:[221/255,160/255,221/255,1],POWDERBLUE:[176/255,224/255,230/255,1],PURPLE:[128/255,0,128/255,1],RED:[1,0,0,1],ROSYBROWN:[188/255,143/255,143/255,1],ROYALBLUE:[65/255,105/255,225/255,1],SADDLEBROWN:[139/255,69/255,19/255,1],SALMON:[250/255,128/255,114/255,1],SANDYBROWN:[244/255,164/255,96/255,1],SEAGREEN:[46/255,139/255,87/255,1],SEASHELL:[1,245/255,238/255,1],SIENNA:[160/255,82/255,45/255,1],SILVER:[192/255,192/255,192/255,1],SKYBLUE:[135/255,206/255,235/255,1],SLATEBLUE:[106/255,90/255,205/255,1],SLATEGRAY:[112/255,128/255,144/255,1],SLATEGREY:[112/255,128/255,144/255,1],SNOW:[1,250/255,250/255,1],SPRINGGREEN:[0,1,127/255,1],STEELBLUE:[70/255,130/255,180/255,1],TAN:[210/255,180/255,140/255,1],TEAL:[0,128/255,128/255,1],THISTLE:[216/255,191/255,216/255,1],TOMATO:[1,99/255,71/255,1],TURQUOISE:[64/255,224/255,208/255,1],VIOLET:[238/255,130/255,238/255,1],WHEAT:[245/255,222/255,179/255,1],WHITE:[1,1,1,1],WHITESMOKE:[245/255,245/255,245/255,1],YELLOW:[1,1,0,1],YELLOWGREEN:[154/255,205/255,50/255,1]},t.get=e,t._hsl2rgb=i,t._toColor=n}(i.WebGLColor||(i.WebGLColor={}))},{\"../RenderingHelper\":43}],52:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"../CanvasSurface\"),o=t(\"./WebGLPrimarySurfaceRenderer\"),s=function(t){function e(e,i,r){var n=t.call(this,i,r)||this;return n.canvas.style.position=\"absolute\",n._shared=e,n}return r(e,t),e.prototype.renderer=function(){return this._renderer||(this._renderer=new o.WebGLPrimarySurfaceRenderer(this._shared,this._shared.getPrimaryRenderTarget(this.width,this.height))),this._renderer},e.prototype.changePhysicalScale=function(t,e){var i=Math.ceil(this.width*t),r=Math.ceil(this.height*e);this.canvas.width=i,this.canvas.height=r,this.renderer().changeViewportSize(i,r)},e.prototype.isPlaying=function(){return!1},e}(n.CanvasSurface);i.WebGLPrimarySurface=s},{\"../CanvasSurface\":41,\"./WebGLPrimarySurfaceRenderer\":53}],53:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./WebGLRenderer\"),o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r._shared.pushRenderTarget(r._renderTarget),r}return r(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this._shared.begin()},e}(n.WebGLRenderer);i.WebGLPrimarySurfaceRenderer=o},{\"./WebGLRenderer\":54}],54:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./WebGLColor\"),s=t(\"./WebGLRenderingState\"),a=function(t){function e(i,r){var n=t.call(this)||this;return n._stateStack=[],n._stateStackPointer=0,n._capacity=0,n._reallocation(e.DEFAULT_CAPACITY),n._whiteColor=[1,1,1,1],n._shared=i,n._renderTarget=r,n}return r(e,t),e.prototype.clear=function(){this._shared.clear()},e.prototype.end=function(){this._shared.end()},e.prototype.save=function(){this._pushState()},e.prototype.restore=function(){this._popState()},e.prototype.translate=function(t,e){this.currentState().transformer.translate(t,e)},e.prototype.transform=function(t){this.currentState().transformer.transform(t)},e.prototype.opacity=function(t){this.currentState().globalAlpha*=t},e.prototype.setCompositeOperation=function(t){this.currentState().globalCompositeOperation=t},e.prototype.currentState=function(){return this._stateStack[this._stateStackPointer]},e.prototype.fillRect=function(t,e,i,r,n){this._shared.draw(this.currentState(),this._shared.getFillRectSurfaceTexture(),0,0,i,r,t,e,o.WebGLColor.get(n))},e.prototype.drawSprites=function(t,e,i,r,n,o,s,a){for(var h=0;h<a;++h)this.drawImage(t,e[h],i[h],r[h],n[h],o[h],s[h])},e.prototype.drawImage=function(t,e,i,r,o,s,a){if(!t._drawable)throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#drawImage: no drawable surface.\");if(t._drawable.texture instanceof WebGLTexture||this._shared.makeTextureForSurface(t),!t._drawable.texture)throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#drawImage: could not create a texture.\");this._shared.draw(this.currentState(),t._drawable,e,i,r,o,s,a,this._whiteColor)},e.prototype.drawSystemText=function(t,e,i,r,n,o,s,a,h,c,u,l){},e.prototype.setTransform=function(t){this.currentState().transformer.setTransform(t)},e.prototype.setOpacity=function(t){this.currentState().globalAlpha=t},e.prototype.setShaderProgram=function(t){this.currentState().shaderProgram=this._shared.initializeShaderProgram(t)},e.prototype.isSupportedShaderProgram=function(){return!0},e.prototype.changeViewportSize=function(t,e){var i=this._renderTarget;this._renderTarget={width:i.width,height:i.height,viewportWidth:t,viewportHeight:e,texture:i.texture,framebuffer:i.framebuffer}},e.prototype.destroy=function(){this._shared.requestDeleteRenderTarget(this._renderTarget),this._shared=void 0,this._renderTarget=void 0,this._whiteColor=void 0},e.prototype._getImageData=function(){throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#_getImageData() is not implemented\")},e.prototype._putImageData=function(t,e,i,r,o,s,a){throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#_putImageData() is not implemented\")},e.prototype._pushState=function(){var t=this.currentState();++this._stateStackPointer,this._isOverCapacity()&&this._reallocation(this._stateStackPointer+1),this.currentState().copyFrom(t)},e.prototype._popState=function(){if(!(this._stateStackPointer>0))throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#restore: state stack under-flow.\");this.currentState().shaderProgram=null,--this._stateStackPointer},e.prototype._isOverCapacity=function(){return this._capacity<=this._stateStackPointer},e.prototype._reallocation=function(t){var e=this._capacity;if(e<t){t<2*e?this._capacity*=2:this._capacity=t;for(var i=e;i<this._capacity;++i)this._stateStack.push(new s.WebGLRenderingState)}},e.DEFAULT_CAPACITY=16,e}(n.Renderer);i.WebGLRenderer=a},{\"./WebGLColor\":51,\"./WebGLRenderingState\":55,\"@akashic/akashic-engine\":1}],55:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"../AffineTransformer\"),o=function(){function t(t){t?(this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer=new n.AffineTransformer(t.transformer),this.shaderProgram=t.shaderProgram):(this.globalAlpha=1,this.globalCompositeOperation=r.CompositeOperation.SourceOver,this.transformer=new n.AffineTransformer,this.shaderProgram=null)}return t.prototype.copyFrom=function(t){return this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer.copyFrom(t.transformer),this.shaderProgram=t.shaderProgram,this},t}();i.WebGLRenderingState=o},{\"../AffineTransformer\":40,\"@akashic/akashic-engine\":1}],56:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(e,i,r){var n=t._DEFAULT_VERTEX_SHADER,i=i||t._DEFAULT_FRAGMENT_SHADER,o=t._makeShaderProgram(e,n,i);this.program=o,this._context=e,this._aVertex=e.getAttribLocation(this.program,\"aVertex\"),this._uColor=e.getUniformLocation(this.program,\"uColor\"),this._uAlpha=e.getUniformLocation(this.program,\"uAlpha\"),this._uSampler=e.getUniformLocation(this.program,\"uSampler\"),this._uniforms=r,this._uniformCaches=[],this._uniformSetterTable={float:this._uniform1f.bind(this),int:this._uniform1i.bind(this),float_v:this._uniform1fv.bind(this),int_v:this._uniform1iv.bind(this),vec2:this._uniform2fv.bind(this),vec3:this._uniform3fv.bind(this),vec4:this._uniform4fv.bind(this),ivec2:this._uniform2iv.bind(this),ivec3:this._uniform3iv.bind(this),ivec4:this._uniform4iv.bind(this),mat2:this._uniformMatrix2fv.bind(this),mat3:this._uniformMatrix3fv.bind(this),mat4:this._uniformMatrix4fv.bind(this)}}return t._makeShader=function(t,e,i){var r=t.createShader(e);if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var n=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error(n)}return r},t._makeShaderProgram=function(e,i,r){var n=e.createProgram(),o=t._makeShader(e,e.VERTEX_SHADER,i);e.attachShader(n,o),e.deleteShader(o);var s=t._makeShader(e,e.FRAGMENT_SHADER,r);if(e.attachShader(n,s),e.deleteShader(s),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var a=e.getProgramInfoLog(n);throw e.deleteProgram(n),new Error(a)}return n},t.prototype.set_aVertex=function(t){this._context.bindBuffer(this._context.ARRAY_BUFFER,t),this._context.enableVertexAttribArray(this._aVertex),this._context.vertexAttribPointer(this._aVertex,4,this._context.FLOAT,!1,0,0)},t.prototype.set_uColor=function(t){this._context.uniform4f(this._uColor,t[0],t[1],t[2],t[3])},t.prototype.set_uAlpha=function(t){this._context.uniform1f(this._uAlpha,t)},t.prototype.set_uSampler=function(t){this._context.uniform1i(this._uSampler,t)},t.prototype.updateUniforms=function(){for(var t=0;t<this._uniformCaches.length;++t){var e=this._uniformCaches[t],i=this._uniforms[e.name].value;(e.isArray||i!==e.beforeValue)&&(e.update(e.loc,i),e.beforeValue=i)}},t.prototype.initializeUniforms=function(){var t=this,e=[],i=this._uniforms;null!=i&&Object.keys(i).forEach(function(n){var o=i[n].type,s=Array.isArray(i[n].value);!s||\"int\"!==o&&\"float\"!==o||(o+=\"_v\");var a=t._uniformSetterTable[o];if(!a)throw r.ExceptionFactory.createAssertionError(\"WebGLShaderProgram#initializeUniforms: Uniform type '\"+o+\"' is not supported.\");e.push({name:n,update:a,beforeValue:null,isArray:s,loc:t._context.getUniformLocation(t.program,n)})}),this._uniformCaches=e},t.prototype.use=function(){this._context.useProgram(this.program)},t.prototype.unuse=function(){this._context.useProgram(null)},t.prototype.destroy=function(){this._context.deleteProgram(this.program)},t.prototype._uniform1f=function(t,e){this._context.uniform1f(t,e)},t.prototype._uniform1i=function(t,e){this._context.uniform1i(t,e)},t.prototype._uniform1fv=function(t,e){this._context.uniform1fv(t,e)},t.prototype._uniform1iv=function(t,e){this._context.uniform1iv(t,e)},t.prototype._uniform2fv=function(t,e){this._context.uniform2fv(t,e)},t.prototype._uniform3fv=function(t,e){this._context.uniform3fv(t,e)},t.prototype._uniform4fv=function(t,e){this._context.uniform4fv(t,e)},t.prototype._uniform2iv=function(t,e){this._context.uniform2iv(t,e)},t.prototype._uniform3iv=function(t,e){this._context.uniform3iv(t,e)},t.prototype._uniform4iv=function(t,e){this._context.uniform4iv(t,e)},t.prototype._uniformMatrix2fv=function(t,e){this._context.uniformMatrix2fv(t,!1,e)},t.prototype._uniformMatrix3fv=function(t,e){this._context.uniformMatrix3fv(t,!1,e)},t.prototype._uniformMatrix4fv=function(t,e){this._context.uniformMatrix4fv(t,!1,e)},t._DEFAULT_VERTEX_SHADER=\"#version 100\\nprecision mediump float;\\nattribute vec4 aVertex;\\nvarying vec2 vTexCoord;\\nvarying vec4 vColor;\\nuniform vec4 uColor;\\nuniform float uAlpha;\\nvoid main() {    gl_Position = vec4(aVertex.xy, 0.0, 1.0);    vTexCoord = aVertex.zw;    vColor = uColor * uAlpha;}\",\nt._DEFAULT_FRAGMENT_SHADER=\"#version 100\\nprecision mediump float;\\nvarying vec2 vTexCoord;\\nvarying vec4 vColor;\\nuniform sampler2D uSampler;\\nvoid main() {    gl_FragColor = texture2D(uSampler, vTexCoord) * vColor;}\",t}();i.WebGLShaderProgram=n},{\"@akashic/akashic-engine\":1}],57:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./WebGLShaderProgram\"),o=t(\"./WebGLTextureAtlas\"),s=t(\"./WebGLPrimarySurface\"),a=t(\"./WebGLBackSurface\"),h=function(){function t(t,e){var i=new s.WebGLPrimarySurface(this,t,e),n=i.canvas.getContext(\"webgl\",{depth:!1,preserveDrawingBuffer:!0});if(!n)throw r.ExceptionFactory.createAssertionError(\"WebGLSharedObject#constructor: could not initialize WebGLRenderingContext\");this._surface=i,this._context=n,this._init()}return t.prototype.getFillRectSurfaceTexture=function(){return this._fillRectSurfaceTexture},t.prototype.getPrimarySurface=function(){return this._surface},t.prototype.createBackSurface=function(t,e){return new a.WebGLBackSurface(this,t,e)},t.prototype.pushRenderTarget=function(t){this._commit(),this._renderTargetStack.push(t),this._context.bindFramebuffer(this._context.FRAMEBUFFER,t.framebuffer),this._context.viewport(0,0,t.viewportWidth,t.viewportHeight)},t.prototype.popRenderTarget=function(){this._commit(),this._renderTargetStack.pop();var t=this.getCurrentRenderTarget();this._context.bindFramebuffer(this._context.FRAMEBUFFER,t.framebuffer),this._context.viewport(0,0,t.viewportWidth,t.viewportHeight)},t.prototype.getCurrentRenderTarget=function(){return this._renderTargetStack[this._renderTargetStack.length-1]},t.prototype.begin=function(){this.clear(),this._currentShaderProgram.use(),this._currentShaderProgram.set_aVertex(this._vertices),this._currentShaderProgram.set_uColor(this._currentColor),this._currentShaderProgram.set_uAlpha(this._currentAlpha),this._currentShaderProgram.set_uSampler(0),this._currentShaderProgram.updateUniforms()},t.prototype.clear=function(){this._context.clear(this._context.COLOR_BUFFER_BIT)},t.prototype.draw=function(t,e,i,r,n,o,s,a,h){this._numSprites>=this._maxSpriteCount&&this._commit();var c;if(c=e===this._fillRectSurfaceTexture||null==t.shaderProgram||null==t.shaderProgram._program?this._defaultShaderProgram:t.shaderProgram._program,this._currentShaderProgram!==c&&(this._commit(),this._currentShaderProgram=c,this._currentShaderProgram.use(),this._currentShaderProgram.updateUniforms(),this._currentCompositeOperation=null,this._currentAlpha=null,this._currentColor=[],this._currentTexture=null),this._currentTexture!==e.texture&&(this._currentTexture=e.texture,this._commit(),this._context.bindTexture(this._context.TEXTURE_2D,e.texture)),this._currentColor[0]===h[0]&&this._currentColor[1]===h[1]&&this._currentColor[2]===h[2]&&this._currentColor[3]===h[3]||(this._currentColor=h,this._commit(),this._currentShaderProgram.set_uColor(h)),this._currentAlpha!==t.globalAlpha&&(this._currentAlpha=t.globalAlpha,this._commit(),this._currentShaderProgram.set_uAlpha(t.globalAlpha)),this._currentCompositeOperation!==t.globalCompositeOperation){this._currentCompositeOperation=t.globalCompositeOperation,this._commit();var u=this._compositeOps[this._currentCompositeOperation];this._context.blendFunc(u[0],u[1])}var l=1/e.textureWidth,d=1/e.textureHeight,p=e.textureOffsetX,f=e.textureOffsetY,_=l*(p+i+n),g=d*(f+r+o),y=l*(p+i),m=d*(f+r);this._register(this._transformVertex(s,a,n,o,t.transformer),[y,m,_,m,_,g,y,m,_,g,y,g])},t.prototype.end=function(){if(this._commit(),this._deleteRequestedTargets.length>0){for(var t=0;t<this._deleteRequestedTargets.length;++t)this.deleteRenderTarget(this._deleteRequestedTargets[t]);this._deleteRequestedTargets=[]}},t.prototype.makeTextureForSurface=function(t){this._textureAtlas.makeTextureForSurface(this,t)},t.prototype.disposeTexture=function(t){this._currentTexture===t&&this._commit()},t.prototype.assignTexture=function(t,e,i,n){if(this._context.bindTexture(this._context.TEXTURE_2D,n),t instanceof HTMLVideoElement)throw r.ExceptionFactory.createAssertionError(\"WebGLRenderer#assignTexture: HTMLVideoElement is not supported.\");this._context.texSubImage2D(this._context.TEXTURE_2D,0,e,i,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture)},t.prototype.clearTexture=function(t,e,i,r){this._context.bindTexture(this._context.TEXTURE_2D,r),this._context.texSubImage2D(this._context.TEXTURE_2D,0,0,0,e,i,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture)},t.prototype.makeTextureRaw=function(t,e,i){void 0===i&&(i=null);var r=this._context.createTexture();return this._context.bindTexture(this._context.TEXTURE_2D,r),this._context.pixelStorei(this._context.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_S,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_T,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MAG_FILTER,this._context.NEAREST),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MIN_FILTER,this._context.NEAREST),this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,t,e,0,this._context.RGBA,this._context.UNSIGNED_BYTE,i),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture),r},t.prototype.makeTexture=function(t){var e=this._context.createTexture();return this._context.bindTexture(this._context.TEXTURE_2D,e),this._context.pixelStorei(this._context.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_S,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_T,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MAG_FILTER,this._context.NEAREST),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MIN_FILTER,this._context.NEAREST),t instanceof HTMLImageElement?this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t):t instanceof HTMLCanvasElement?this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t):t instanceof ImageData&&this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture),e},t.prototype.getPrimaryRenderTarget=function(t,e){return this._renderTarget},t.prototype.createRenderTarget=function(t,e){var i=this._context,r=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,r);var n=i.createTexture();i.bindTexture(i.TEXTURE_2D,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,null),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,n,0),i.bindTexture(i.TEXTURE_2D,this._currentTexture);var o=this.getCurrentRenderTarget();return i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer),{width:t,height:e,viewportWidth:t,viewportHeight:e,framebuffer:r,texture:n}},t.prototype.requestDeleteRenderTarget=function(t){this._deleteRequestedTargets.push(t)},t.prototype.deleteRenderTarget=function(t){var e=this._context;this.getCurrentRenderTarget()===t&&this._commit(),e.deleteFramebuffer(t.framebuffer),e.deleteTexture(t.texture)},t.prototype.getContext=function(){return this._context},t.prototype.getDefaultShaderProgram=function(){return this._defaultShaderProgram},t.prototype.initializeShaderProgram=function(t){if(t&&!t._program){var e=new n.WebGLShaderProgram(this._context,t.fragmentShader,t.uniforms);e.initializeUniforms(),t._program=e}return t},t.prototype._init=function(){var t,e=new n.WebGLShaderProgram(this._context);this._textureAtlas=new o.WebGLTextureAtlas,this._fillRectTexture=this.makeTextureRaw(1,1,new Uint8Array([255,255,255,255])),this._fillRectSurfaceTexture={texture:this._fillRectTexture,textureWidth:1,textureHeight:1,textureOffsetX:0,textureOffsetY:0},this._renderTarget={width:this._surface.width,height:this._surface.height,viewportWidth:this._surface.width,viewportHeight:this._surface.height,framebuffer:null,texture:null},this._maxSpriteCount=1024,this._vertices=this._makeBuffer(24*this._maxSpriteCount*4),this._verticesCache=new Float32Array(24*this._maxSpriteCount),this._numSprites=0,this._currentTexture=null,this._currentColor=[1,1,1,1],this._currentAlpha=1,this._currentCompositeOperation=r.CompositeOperation.SourceOver,this._currentShaderProgram=e,this._defaultShaderProgram=e,this._renderTargetStack=[],this._deleteRequestedTargets=[],this._currentShaderProgram.use();try{this._currentShaderProgram.set_aVertex(this._vertices),this._currentShaderProgram.set_uColor(this._currentColor),this._currentShaderProgram.set_uAlpha(this._currentAlpha),this._currentShaderProgram.set_uSampler(0)}finally{this._currentShaderProgram.unuse()}this._context.enable(this._context.BLEND),this._context.activeTexture(this._context.TEXTURE0),this._context.bindTexture(this._context.TEXTURE_2D,this._fillRectTexture),this._compositeOps=(t={},t[r.CompositeOperation.SourceAtop]=[this._context.DST_ALPHA,this._context.ONE_MINUS_SRC_ALPHA],t[r.CompositeOperation.ExperimentalSourceIn]=[this._context.DST_ALPHA,this._context.ZERO],t[r.CompositeOperation.ExperimentalSourceOut]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ZERO],t[r.CompositeOperation.SourceOver]=[this._context.ONE,this._context.ONE_MINUS_SRC_ALPHA],t[r.CompositeOperation.ExperimentalDestinationAtop]=[this._context.ONE_MINUS_DST_ALPHA,this._context.SRC_ALPHA],t[r.CompositeOperation.ExperimentalDestinationIn]=[this._context.ZERO,this._context.SRC_ALPHA],t[r.CompositeOperation.DestinationOut]=[this._context.ZERO,this._context.ONE_MINUS_SRC_ALPHA],t[r.CompositeOperation.DestinationOver]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ONE],t[r.CompositeOperation.Lighter]=[this._context.ONE,this._context.ONE],t[r.CompositeOperation.Copy]=[this._context.ONE,this._context.ZERO],t[r.CompositeOperation.Xor]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ONE_MINUS_SRC_ALPHA],t);var i=this._compositeOps[this._currentCompositeOperation];this._context.blendFunc(i[0],i[1])},t.prototype._makeBuffer=function(t){var e=this._context.createBuffer();return this._context.bindBuffer(this._context.ARRAY_BUFFER,e),this._context.bufferData(this._context.ARRAY_BUFFER,t,this._context.DYNAMIC_DRAW),e},t.prototype._transformVertex=function(t,e,i,r,n){var o=this.getCurrentRenderTarget(),s=2/o.width,a=-2/o.height,h=n.matrix,c=s*i*h[0],u=a*i*h[1],l=s*r*h[2],d=a*r*h[3],p=s*(t*h[0]+e*h[2]+h[4])-1,f=a*(t*h[1]+e*h[3]+h[5])+1;return[p,f,c+p,u+f,c+l+p,u+d+f,p,f,c+l+p,u+d+f,l+p,d+f]},t.prototype._register=function(t,e){var i=6*this._numSprites;++this._numSprites;for(var r=0;r<6;++r)this._verticesCache[4*(r+i)+0]=t[2*r+0],this._verticesCache[4*(r+i)+1]=t[2*r+1],this._verticesCache[4*(r+i)+2]=e[2*r+0],this._verticesCache[4*(r+i)+3]=e[2*r+1]},t.prototype._commit=function(){this._numSprites>0&&(this._context.bindBuffer(this._context.ARRAY_BUFFER,this._vertices),this._context.bufferSubData(this._context.ARRAY_BUFFER,0,this._verticesCache.subarray(0,24*this._numSprites)),this._context.drawArrays(this._context.TRIANGLES,0,6*this._numSprites),this._numSprites=0)},t}();i.WebGLSharedObject=h},{\"./WebGLBackSurface\":49,\"./WebGLPrimarySurface\":52,\"./WebGLShaderProgram\":56,\"./WebGLTextureAtlas\":58,\"@akashic/akashic-engine\":1}],58:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./WebGLTextureMap\"),n=t(\"../RenderingHelper\"),o=function(){function t(){this._maps=[],this._insertPos=0,this.emptyTexturePixels=new Uint8Array(t.TEXTURE_SIZE*t.TEXTURE_SIZE*4)}return t.prototype.clear=function(){for(var t=0;t<this._maps.length;++t)this._maps[t].dispose()},t.prototype.showOccupancy=function(){for(var t=0;t<this._maps.length;++t)console.log(\"occupancy[\"+t+\"]: \"+this._maps[t].occupancy())},t.prototype.makeTextureForSurface=function(e,i){var r=i._drawable;if(r&&!r.texture){var o=r.width,s=r.height;if(o>=t.TEXTURE_SIZE||s>=t.TEXTURE_SIZE){var a=n.RenderingHelper.toPowerOfTwo(r.width),h=n.RenderingHelper.toPowerOfTwo(r.height);if(a!==r.width||h!==r.height){var c=document.createElement(\"canvas\");c.width=a,c.height=h;var u=c.getContext(\"2d\");u.globalCompositeOperation=\"copy\",u.drawImage(r,0,0),r=u.getImageData(0,0,a,h)}return i._drawable.texture=e.makeTexture(r),i._drawable.textureOffsetX=0,i._drawable.textureOffsetY=0,i._drawable.textureWidth=a,void(i._drawable.textureHeight=h)}this._assign(e,i,this._maps)}},t.prototype._assign=function(e,i,n){for(var o,s=0;s<n.length;++s)if(o=n[(s+this._insertPos)%n.length].insert(i))return this._register(e,o,i._drawable),void(this._insertPos=s);o=null,n.length>=t.TEXTURE_COUNT&&(o=n.shift(),e.disposeTexture(o.texture),o.dispose(),e.clearTexture(this.emptyTexturePixels,t.TEXTURE_SIZE,t.TEXTURE_SIZE,o.texture)),o||(o=new r.WebGLTextureMap(e.makeTextureRaw(t.TEXTURE_SIZE,t.TEXTURE_SIZE),0,0,t.TEXTURE_SIZE,t.TEXTURE_SIZE)),n.push(o),o=o.insert(i),this._register(e,o,i._drawable)},t.prototype._register=function(e,i,r){r.texture=i.texture,r.textureOffsetX=i.offsetX,r.textureOffsetY=i.offsetY,r.textureWidth=t.TEXTURE_SIZE,r.textureHeight=t.TEXTURE_SIZE,e.assignTexture(r,i.offsetX,i.offsetY,i.texture)},t.TEXTURE_SIZE=1024,t.TEXTURE_COUNT=16,t}();i.WebGLTextureAtlas=o},{\"../RenderingHelper\":43,\"./WebGLTextureMap\":59}],59:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t,e,i,r,n){this.texture=t,this.offsetX=e,this.offsetY=i,this._width=r,this._height=n}return t.prototype.dispose=function(){this._left&&(this._left.dispose(),this._left=null),this._right&&(this._right.dispose(),this._right=null),this._surface&&(this._surface._drawable&&(this._surface._drawable.texture=null),this._surface=null)},t.prototype.capacity=function(){return this._width*this._height},t.prototype.area=function(){if(!this._surface)return 0;var t=this._surface._drawable,e=t.width*t.height;return this._left&&(e+=this._left.area()),this._right&&(e+=this._right.area()),e},t.prototype.occupancy=function(){return this.area()/this.capacity()},t.prototype.insert=function(e){var i=e._drawable,r=i.width+t.TEXTURE_MARGIN,n=i.height+t.TEXTURE_MARGIN;if(this._surface){if(this._left){var o=this._left.insert(e);if(o)return o}if(this._right){var s=this._right.insert(e);if(s)return s}return null}if(this._width<r||this._height<n)return null;var a=this._width-r,h=this._height-n;return a<=h?(this._left=new t(this.texture,this.offsetX+r,this.offsetY,a,n),this._right=new t(this.texture,this.offsetX,this.offsetY+n,this._width,h)):(this._left=new t(this.texture,this.offsetX,this.offsetY+n,r,h),this._right=new t(this.texture,this.offsetX+r,this.offsetY,a,this._height)),this._surface=e,this},t.TEXTURE_MARGIN=1,t}();i.WebGLTextureMap=r},{}],60:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=(t(\"@akashic/akashic-pdi\"),function(){function t(e,i){if(Object.getPrototypeOf&&Object.getPrototypeOf(this)===t.prototype)throw new Error(\"InputAbstractHandler is abstract and should not be directly instantiated\");this.inputView=e,this.pointerEventLock={},this._xScale=1,this._yScale=1,this._disablePreventDefault=!!i,this.pointTrigger=new r.Trigger}return t.isSupported=function(){return!1},t.prototype.start=function(){throw new Error(\"This method is abstract\")},t.prototype.stop=function(){throw new Error(\"This method is abstract\")},t.prototype.setScale=function(t,e){void 0===e&&(e=t),this._xScale=t,this._yScale=e},t.prototype.pointDown=function(t,e){this.pointTrigger.fire({type:0,identifier:t,offset:this.getOffsetFromEvent(e)}),this.pointerEventLock[t]=!0},t.prototype.pointMove=function(t,e){this.pointerEventLock.hasOwnProperty(t+\"\")&&this.pointTrigger.fire({type:1,identifier:t,offset:this.getOffsetFromEvent(e)})},t.prototype.pointUp=function(t,e){this.pointerEventLock.hasOwnProperty(t+\"\")&&(this.pointTrigger.fire({type:2,identifier:t,offset:this.getOffsetFromEvent(e)}),delete this.pointerEventLock[t])},t.prototype.getOffsetFromEvent=function(t){return{x:t.offsetX,y:t.offsetY}},t.prototype.getScale=function(){return{x:this._xScale,y:this._yScale}},t.prototype.getOffsetPositionFromInputView=function(t){var e=this.inputView.getBoundingClientRect(),i=this.getScale();return{offsetX:(t.pageX-Math.round(window.pageXOffset+e.left))/i.x,offsetY:(t.pageY-Math.round(window.pageYOffset+e.top))/i.y}},t}());i.InputAbstractHandler=n},{\"@akashic/akashic-engine\":1,\"@akashic/akashic-pdi\":3}],61:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./InputAbstractHandler\"),o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.onMouseDown=function(t){0===t.button&&(r.pointDown(1,r.getOffsetPositionFromInputView(t)),window.addEventListener(\"mousemove\",r.onMouseMove,!1),window.addEventListener(\"mouseup\",r.onMouseUp,!1),r._disablePreventDefault||(t.stopPropagation(),t.preventDefault()))},r.onMouseMove=function(t){r.pointMove(1,r.getOffsetPositionFromInputView(t)),r._disablePreventDefault||(t.stopPropagation(),t.preventDefault())},r.onMouseUp=function(t){r.pointUp(1,r.getOffsetPositionFromInputView(t)),window.removeEventListener(\"mousemove\",r.onMouseMove,!1),window.removeEventListener(\"mouseup\",r.onMouseUp,!1),r._disablePreventDefault||(t.stopPropagation(),t.preventDefault())},r}return r(e,t),e.prototype.start=function(){this.inputView.addEventListener(\"mousedown\",this.onMouseDown,!1)},e.prototype.stop=function(){this.inputView.removeEventListener(\"mousedown\",this.onMouseDown,!1)},e}(n.InputAbstractHandler);i.MouseHandler=o},{\"./InputAbstractHandler\":60}],62:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./MouseHandler\"),o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.onTouchDown=function(t){for(var e=t.changedTouches,i=0,n=e.length;i<n;i++){var o=e[i];r.pointDown(o.identifier,r.getOffsetPositionFromInputView(o))}r._disablePreventDefault||(t.stopPropagation(),t.cancelable&&t.preventDefault())},r.onTouchMove=function(t){for(var e=t.changedTouches,i=0,n=e.length;i<n;i++){var o=e[i];r.pointMove(o.identifier,r.getOffsetPositionFromInputView(o))}r._disablePreventDefault||(t.stopPropagation(),t.cancelable&&t.preventDefault())},r.onTouchUp=function(t){for(var e=t.changedTouches,i=0,n=e.length;i<n;i++){var o=e[i];r.pointUp(o.identifier,r.getOffsetPositionFromInputView(o))}r._disablePreventDefault||(t.stopPropagation(),t.cancelable&&t.preventDefault())},r}return r(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.inputView.addEventListener(\"touchstart\",this.onTouchDown),this.inputView.addEventListener(\"touchmove\",this.onTouchMove),this.inputView.addEventListener(\"touchend\",this.onTouchUp)},e.prototype.stop=function(){t.prototype.stop.call(this),this.inputView.removeEventListener(\"touchstart\",this.onTouchDown),this.inputView.removeEventListener(\"touchmove\",this.onTouchMove),this.inputView.removeEventListener(\"touchend\",this.onTouchUp)},e}(n.MouseHandler);i.TouchHandler=o},{\"./MouseHandler\":61}],63:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./Platform\");i.Platform=r.Platform;var n=t(\"./ResourceFactory\");i.ResourceFactory=n.ResourceFactory;var o=t(\"@akashic/akashic-engine\");i.g=o;var s=t(\"./plugin/AudioPluginRegistry\");i.AudioPluginRegistry=s.AudioPluginRegistry;var a=t(\"./plugin/AudioPluginManager\");i.AudioPluginManager=a.AudioPluginManager;var h=t(\"./plugin/HTMLAudioPlugin/HTMLAudioPlugin\");i.HTMLAudioPlugin=h.HTMLAudioPlugin;var c=t(\"./plugin/WebAudioPlugin/WebAudioPlugin\");i.WebAudioPlugin=c.WebAudioPlugin;var u=t(\"./plugin/PostMessageAudioPlugin/PostMessageAudioPlugin\");i.PostMessageAudioPlugin=u.PostMessageAudioPlugin;var l=t(\"./plugin/ProxyAudioPlugin/ProxyAudioPlugin\");i.ProxyAudioPlugin=l.ProxyAudioPlugin},{\"./Platform\":32,\"./ResourceFactory\":34,\"./plugin/AudioPluginManager\":64,\"./plugin/AudioPluginRegistry\":65,\"./plugin/HTMLAudioPlugin/HTMLAudioPlugin\":69,\"./plugin/PostMessageAudioPlugin/PostMessageAudioPlugin\":72,\"./plugin/ProxyAudioPlugin/ProxyAudioPlugin\":76,\"./plugin/WebAudioPlugin/WebAudioPlugin\":81,\"@akashic/akashic-engine\":1}],64:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(){this._activePlugin=null}return t.prototype.getActivePlugin=function(){return this._activePlugin},t.prototype.tryInstallPlugin=function(t){for(var e=0,i=t.length;e<i;e++){var r=t[e];if(!r.isSupported)return this._activePlugin=r,!0;var n=r;if(n.isSupported())return this._activePlugin=new n,!0}return!1},t}();i.AudioPluginManager=r},{}],65:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=[];i.AudioPluginRegistry={addPlugin:function(t){-1===r.indexOf(t)&&r.push(t)},getRegisteredAudioPlugins:function(){return r},clear:function(){r=[]}}},{}],66:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._load=function(t){var i=this;if(null==this.path)return this.data=null,void setTimeout(function(){return t._onAssetLoad(i)},0);var r=new Audio,o=function(t,e){r.autoplay=!1,r.preload=\"none\",r.src=t,i._attachAll(r,e),r.preload=\"auto\",a(r,e),r.load()},s={success:function(){i._detachAll(r,s),i.data=r,t._onAssetLoad(i),window.clearInterval(i._intervalId)},error:function(){i._detachAll(r,s),i.data=r,t._onAssetError(i,n.ExceptionFactory.createAssetLoadError(\"HTMLAudioAsset loading error\")),window.clearInterval(i._intervalId)}},a=function(t,e){i._intervalCount=0,i._intervalId=window.setInterval(function(){4===t.readyState?e.success():600===++i._intervalCount&&e.error()},100)},h=this.path.indexOf(\"?\");if(\".aac\"===(h>=0?this.path.substring(0,h):this.path).slice(-4)&&-1!==e.supportedFormats.indexOf(\"mp4\")){var c={success:s.success,error:function(){i._detachAll(r,c),window.clearInterval(i._intervalId),i.path=n.PathUtil.addExtname(i.originalPath,\"mp4\"),o(i.path,s)}};return void o(this.path,c)}o(this.path,s)},e.prototype.cloneElement=function(){return this.data?new Audio(this.data.src):null},e.prototype._assetPathFilter=function(t){return-1!==e.supportedFormats.indexOf(\"ogg\")?n.PathUtil.addExtname(t,\"ogg\"):-1!==e.supportedFormats.indexOf(\"aac\")?n.PathUtil.addExtname(t,\"aac\"):null},e.prototype._attachAll=function(t,e){e.success&&t.addEventListener(\"canplaythrough\",e.success,!1),e.error&&(t.addEventListener(\"stalled\",e.error,!1),t.addEventListener(\"error\",e.error,!1),t.addEventListener(\"abort\",e.error,!1))},e.prototype._detachAll=function(t,e){e.success&&t.removeEventListener(\"canplaythrough\",e.success,!1),e.error&&(t.removeEventListener(\"stalled\",e.error,!1),t.removeEventListener(\"error\",e.error,!1),t.removeEventListener(\"abort\",e.error,!1))},e}(n.AudioAsset);i.HTMLAudioAsset=o},{\"@akashic/akashic-engine\":1}],67:[function(t,e,i){\"use strict\";function r(){s(),o()}function n(){document.addEventListener(\"keydown\",r,!0),document.addEventListener(\"mousedown\",r,!0),document.addEventListener(\"touchend\",r,!0)}function o(){document.removeEventListener(\"keydown\",r),document.removeEventListener(\"mousedown\",r),document.removeEventListener(\"touchend\",r)}function s(){h=2,c.forEach(function(t){return t.play()}),c=[]}var a,h=0,c=[];!function(t){function e(t){function e(){switch(h){case 0:case 1:s()}h=2,clearTimeout(r)}function i(){switch(t.removeEventListener(\"play\",e),h){case 0:c.push(t),h=1,n();break;case 1:c.push(t);break;case 2:t.play()}}switch(h){case 0:t.addEventListener(\"play\",e,!0);var r=setTimeout(i,100);break;case 1:c.push(t)}}t.setupChromeMEIWorkaround=e}(a||(a={})),e.exports=a},{}],68:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./HTMLAudioAutoplayHelper\"),s=function(t){function e(e,i){var r=t.call(this,e)||this;return r._manager=i,r._endedEventHandler=function(){r._onAudioEnded()},r._onPlayEventHandler=function(){r._onPlayEvent()},r._dummyDurationWaitTimer=null,r}return r(e,t),e.prototype.play=function(e){this.currentAudio&&this.stop();var i=e.cloneElement();i?(o.setupChromeMEIWorkaround(i),i.volume=this._calculateVolume(),i.play().catch(function(t){}),i.loop=e.loop,i.addEventListener(\"ended\",this._endedEventHandler,!1),i.addEventListener(\"play\",this._onPlayEventHandler,!1),this._isWaitingPlayEvent=!0,this._audioInstance=i):this._dummyDurationWaitTimer=setTimeout(this._endedEventHandler,e.duration),t.prototype.play.call(this,e)},e.prototype.stop=function(){if(!this.currentAudio)return void t.prototype.stop.call(this);this._clearEndedEventHandler(),this._audioInstance&&(this._isWaitingPlayEvent?this._isStopRequested=!0:(this._audioInstance.pause(),this._audioInstance=null)),t.prototype.stop.call(this)},e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype.notifyMasterVolumeChanged=function(){this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype._onAudioEnded=function(){this._clearEndedEventHandler(),t.prototype.stop.call(this)},e.prototype._clearEndedEventHandler=function(){this._audioInstance&&this._audioInstance.removeEventListener(\"ended\",this._endedEventHandler,!1),null!=this._dummyDurationWaitTimer&&(clearTimeout(this._dummyDurationWaitTimer),this._dummyDurationWaitTimer=null)},e.prototype._onPlayEvent=function(){this._isWaitingPlayEvent&&(this._isWaitingPlayEvent=!1,this._isStopRequested&&(this._isStopRequested=!1,this._audioInstance.pause(),this._audioInstance=null))},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(n.AudioPlayer);i.HTMLAudioPlayer=s},{\"./HTMLAudioAutoplayHelper\":67,\"@akashic/akashic-engine\":1}],69:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./HTMLAudioAsset\"),n=t(\"./HTMLAudioPlayer\"),o=function(){function t(){this._supportedFormats=this._detectSupportedFormats(),r.HTMLAudioAsset.supportedFormats=this.supportedFormats}return t.isSupported=function(){var t=document.createElement(\"audio\"),e=!1;try{e=void 0!==t.canPlayType}catch(t){}return e},Object.defineProperty(t.prototype,\"supportedFormats\",{get:function(){return this._supportedFormats},set:function(t){this._supportedFormats=t,r.HTMLAudioAsset.supportedFormats=t},enumerable:!0,configurable:!0}),t.prototype.createAsset=function(t,e,i,n,o,s){return new r.HTMLAudioAsset(t,e,i,n,o,s)},t.prototype.createPlayer=function(t,e){return new n.HTMLAudioPlayer(t,e)},t.prototype._detectSupportedFormats=function(){if(-1!==navigator.userAgent.indexOf(\"Edge/\"))return[\"aac\"];var t=document.createElement(\"audio\"),e=[];try{for(var i=[\"ogg\",\"aac\",\"mp4\"],r=0,n=i.length;r<n;r++){var o=i[r],s=t.canPlayType(\"audio/\"+o);\"no\"!==s&&\"\"!==s&&e.push(o)}}catch(t){}return e},t}();i.HTMLAudioPlugin=o},{\"./HTMLAudioAsset\":66,\"./HTMLAudioPlayer\":68}],70:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./PostMessageAudioPlugin\"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._load=function(t){var e=this,i={id:this.id,assetPath:this.path,duration:this.duration,loop:this.loop,hint:this.hint};o.PostMessageAudioPlugin.send(\"akashic:AudioAsset#_load\",i),setTimeout(function(){return t._onAssetLoad(e)})},e.prototype.destroy=function(){o.PostMessageAudioPlugin.send(\"akashic:AudioAsset#destroy\",{id:this.id}),t.prototype.destroy.call(this)},e}(n.AudioAsset);i.PostMessageAudioAsset=s},{\"./PostMessageAudioPlugin\":72,\"@akashic/akashic-engine\":1}],71:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./PostMessageAudioPlugin\"),s=function(t){function e(e,i,r){var n=t.call(this,e)||this;return n._manager=i,n.id=r,o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#new\",{id:r}),n}return r(e,t),e.prototype.play=function(t){o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#play\",{id:this.id,assetId:t.id})},e.prototype.stop=function(){o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#stop\",{id:this.id})},e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changeVolume\",{id:this.id,volume:this._calculateVolume()})},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changeVolume\",{id:this.id,volume:this._calculateVolume()})},e.prototype._changePlaybackRate=function(e){t.prototype._changePlaybackRate.call(this,e),o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changePlaybackRate\",{id:this.id,rate:e})},e.prototype.notifyMasterVolumeChanged=function(){o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changeVolume\",{id:this.id,volume:this._calculateVolume()})},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(n.AudioPlayer);i.PostMessageAudioPlayer=s},{\"./PostMessageAudioPlugin\":72,\"@akashic/akashic-engine\":1}],\n72:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r,n=t(\"./PostMessageAudioAsset\"),o=t(\"./PostMessageAudioPlayer\"),s=t(\"./PostMessageHandler\"),a=function(){function t(){this.supportedFormats=void 0,this._playerIdx=0}return t.isSupported=function(){return\"undefined\"!=typeof window&&!!window.postMessage},t.initialize=function(t,e){return r=new s.PostMessageHandler(t,e),r.start(),r},t.send=function(t,e){r.send({type:t,parameters:e})},t.prototype.createAsset=function(t,e,i,r,o,s){return new n.PostMessageAudioAsset(t,e,i,r,o,s)},t.prototype.createPlayer=function(t,e){return new o.PostMessageAudioPlayer(t,e,\"\"+this._playerIdx++)},t}();i.PostMessageAudioPlugin=a},{\"./PostMessageAudioAsset\":70,\"./PostMessageAudioPlayer\":71,\"./PostMessageHandler\":73}],73:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t,e){this.message=new r.Trigger,this.targetWindow=t,this.targetOrigin=e,this.onMessage_bound=this.onMessage.bind(this)}return t.prototype.start=function(){window.addEventListener(\"message\",this.onMessage_bound)},t.prototype.stop=function(){window.removeEventListener(\"message\",this.onMessage_bound)},t.prototype.send=function(t){this.targetWindow.postMessage(t,this.targetOrigin)},t.prototype.onMessage=function(t){t.origin===this.targetOrigin&&this.message.fire(t.data)},t}();i.PostMessageHandler=n},{\"@akashic/akashic-engine\":1}],74:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i,r,n,o,s,a){var h=t.call(this,i,r,n,o,s,a)||this;return h._handlerSet=e,h}return r(e,t),e.prototype.destroy=function(){this._handlerSet.unloadAudioAsset(this.id),t.prototype.destroy.call(this)},e.prototype._load=function(t){var e=this;this._handlerSet.loadAudioAsset({id:this.id,assetPath:this.path,duration:this.duration,loop:this.loop,hint:this.hint},function(i){i?t._onAssetError(e,n.ExceptionFactory.createAssetLoadError(i)):t._onAssetLoad(e)})},e.prototype._assetPathFilter=function(t){return t},e}(n.AudioAsset);i.ProxyAudioAsset=o},{\"@akashic/akashic-engine\":1}],75:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i,r){var n=t.call(this,i)||this;return n._audioPlayerId=null,n._handlerSet=e,n._manager=r,n}return r(e,t),e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._notifyVolumeToHandler()},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._notifyVolumeToHandler()},e.prototype.play=function(i){null!=this._audioPlayerId&&this.stop(),this._audioPlayerId=\"ap\"+e._audioPlayerIdCounter++,this._handlerSet.createAudioPlayer({assetId:i.id,audioPlayerId:this._audioPlayerId,isPlaying:!0,volume:this._calculateVolume(),playbackRate:1}),t.prototype.play.call(this,i)},e.prototype.stop=function(){null!=this._audioPlayerId&&(this._handlerSet.stopAudioPlayer(this._audioPlayerId),this._handlerSet.destroyAudioPlayer(this._audioPlayerId),this._audioPlayerId=null),t.prototype.stop.call(this)},e.prototype.notifyMasterVolumeChanged=function(){this._notifyVolumeToHandler()},e.prototype._notifyVolumeToHandler=function(){null!=this._audioPlayerId&&this._handlerSet.changeAudioVolume(this._audioPlayerId,this._calculateVolume())},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e._audioPlayerIdCounter=0,e}(n.AudioPlayer);i.ProxyAudioPlayer=o},{\"@akashic/akashic-engine\":1}],76:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./ProxyAudioAsset\"),n=t(\"./ProxyAudioPlayer\"),o=function(){function t(t){this.supportedFormats=[],this._handlerSet=t}return t.isSupported=function(){return!0},t.prototype.createAsset=function(t,e,i,n,o,s){return new r.ProxyAudioAsset(this._handlerSet,t,e,i,n,o,s)},t.prototype.createPlayer=function(t,e){return new n.ProxyAudioPlayer(this._handlerSet,t,e)},t}();i.ProxyAudioPlugin=o},{\"./ProxyAudioAsset\":74,\"./ProxyAudioPlayer\":75}],77:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"../../utils/XHRLoader\"),s=t(\"./WebAudioHelper\"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._load=function(t){var e=this;if(null==this.path)return this.data=null,void setTimeout(function(){return t._onAssetLoad(e)},0);var i=function(i){e.data=i,t._onAssetLoad(e)},r=function(){t._onAssetError(e,n.ExceptionFactory.createAssetLoadError(\"WebAudioAsset unknown loading error\"))},a=function(t){s.getAudioContext().decodeAudioData(t,i,r)},h=new o.XHRLoader,c=function(t,e,i){h.getArrayBuffer(t,function(t,r){t?i(t):e(r)})},u=this.path.indexOf(\"?\");if(\".aac\"===(u>=0?this.path.substring(0,u):this.path).slice(-4))return void c(this.path,a,function(t){var i=n.PathUtil.addExtname(e.originalPath,\"mp4\");c(i,function(t){e.path=i,a(t)},r)});c(this.path,a,r)},e.prototype._assetPathFilter=function(t){return-1!==e.supportedFormats.indexOf(\"ogg\")?n.PathUtil.addExtname(t,\"ogg\"):-1!==e.supportedFormats.indexOf(\"aac\")?n.PathUtil.addExtname(t,\"aac\"):null},e.supportedFormats=[],e}(n.AudioAsset);i.WebAudioAsset=a},{\"../../utils/XHRLoader\":82,\"./WebAudioHelper\":79,\"@akashic/akashic-engine\":1}],78:[function(t,e,i){\"use strict\";function r(){a.getAudioContext().resume(),o()}function n(){document.addEventListener(\"keydown\",r,!0),document.addEventListener(\"mousedown\",r,!0),document.addEventListener(\"touchend\",r,!0)}function o(){document.removeEventListener(\"keydown\",r),document.removeEventListener(\"mousedown\",r),document.removeEventListener(\"touchend\",r)}var s,a=t(\"./WebAudioHelper\");!function(t){function e(){var t=a.getAudioContext();if(!t||\"function\"==typeof t.resume){var e=a.createGainNode(t),i=t.createOscillator();i.type=\"sawtooth\",i.frequency.value=440,i.connect(e),i.start(0);var r=t.state;i.disconnect(),\"running\"!==r&&n()}}t.setupChromeMEIWorkaround=e}(s||(s={})),e.exports=s},{\"./WebAudioHelper\":79}],79:[function(t,e,i){\"use strict\";var r,n=window.AudioContext||window.webkitAudioContext;!function(t){function e(){window.__akashic__||Object.defineProperty(window,\"__akashic__\",{value:{},enumerable:!1,configurable:!1,writable:!1});var e=window.__akashic__.audioContext;return e instanceof n||(e=window.__akashic__.audioContext=new n,t._workAroundSafari()),e}function i(t){return t.createGain?t.createGain():t.createGainNode()}function r(t){var e=t.createBufferSource();return e.start?e:(e.start=e.noteOn,e.stop=e.noteOff,e)}function o(){document.addEventListener(\"touchstart\",function e(){document.removeEventListener(\"touchstart\",e),t.getAudioContext().createBufferSource().start(0)},!0)}t.getAudioContext=e,t.createGainNode=i,t.createBufferNode=r,t._workAroundSafari=o}(r||(r={})),e.exports=r},{}],80:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./WebAudioHelper\"),s=function(t){function e(e,i){var r=t.call(this,e)||this;return r._audioContext=o.getAudioContext(),r._manager=i,r._gainNode=o.createGainNode(r._audioContext),r._gainNode.connect(r._audioContext.destination),r._sourceNode=void 0,r._dummyDurationWaitTimer=null,r._endedEventHandler=function(){r._onAudioEnded()},r}return r(e,t),e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._gainNode.gain.value=this._calculateVolume()},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._gainNode.gain.value=this._calculateVolume()},e.prototype.play=function(e){if(this.currentAudio&&this.stop(),e.data){var i=o.createBufferNode(this._audioContext);i.loop=e.loop,i.buffer=e.data,this._gainNode.gain.value=this._calculateVolume(),i.connect(this._gainNode),this._sourceNode=i,this._sourceNode.onended=this._endedEventHandler,this._sourceNode.start(0)}else this._dummyDurationWaitTimer=setTimeout(this._endedEventHandler,e.duration);t.prototype.play.call(this,e)},e.prototype.stop=function(){if(!this.currentAudio)return void t.prototype.stop.call(this);this._clearEndedEventHandler(),this._sourceNode&&this._sourceNode.stop(0),t.prototype.stop.call(this)},e.prototype.notifyMasterVolumeChanged=function(){this._gainNode.gain.value=this._calculateVolume()},e.prototype._onAudioEnded=function(){this._clearEndedEventHandler(),t.prototype.stop.call(this)},e.prototype._clearEndedEventHandler=function(){this._sourceNode&&(this._sourceNode.onended=null),null!=this._dummyDurationWaitTimer&&(clearTimeout(this._dummyDurationWaitTimer),this._dummyDurationWaitTimer=null)},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(n.AudioPlayer);i.WebAudioPlayer=s},{\"./WebAudioHelper\":79,\"@akashic/akashic-engine\":1}],81:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./WebAudioAsset\"),n=t(\"./WebAudioPlayer\"),o=t(\"./WebAudioAutoplayHelper\"),s=function(){function t(){this.supportedFormats=this._detectSupportedFormats(),o.setupChromeMEIWorkaround()}return t.isSupported=function(){return\"AudioContext\"in window||\"webkitAudioContext\"in window},Object.defineProperty(t.prototype,\"supportedFormats\",{get:function(){return this._supportedFormats},set:function(t){this._supportedFormats=t,r.WebAudioAsset.supportedFormats=t},enumerable:!0,configurable:!0}),t.prototype.createAsset=function(t,e,i,n,o,s){return new r.WebAudioAsset(t,e,i,n,o,s)},t.prototype.createPlayer=function(t,e){return new n.WebAudioPlayer(t,e)},t.prototype._detectSupportedFormats=function(){if(-1!==navigator.userAgent.indexOf(\"Edge/\"))return[\"aac\"];var t=document.createElement(\"audio\"),e=[];try{for(var i=[\"ogg\",\"aac\",\"mp4\"],r=0,n=i.length;r<n;r++){var o=i[r],s=t.canPlayType(\"audio/\"+o);\"no\"!==s&&\"\"!==s&&e.push(o)}}catch(t){}return e},t}();i.WebAudioPlugin=s},{\"./WebAudioAsset\":77,\"./WebAudioAutoplayHelper\":78,\"./WebAudioPlayer\":80}],82:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t){void 0===t&&(t={}),this.timeout=t.timeout||15e3}return t.prototype.get=function(t,e){this._getRequestObject({url:t,responseType:\"text\"},e)},t.prototype.getArrayBuffer=function(t,e){this._getRequestObject({url:t,responseType:\"arraybuffer\"},e)},t.prototype._getRequestObject=function(t,e){var i=new XMLHttpRequest;i.open(\"GET\",t.url,!0),i.responseType=t.responseType,i.timeout=this.timeout,i.addEventListener(\"timeout\",function(){e(r.ExceptionFactory.createAssetLoadError(\"loading timeout\"))},!1),i.addEventListener(\"load\",function(){if(i.status>=200&&i.status<300){var n=\"text\"===t.responseType?i.responseText:i.response;e(null,n)}else e(r.ExceptionFactory.createAssetLoadError(\"loading error. status: \"+i.status))},!1),i.addEventListener(\"error\",function(){e(r.ExceptionFactory.createAssetLoadError(\"loading error. status: \"+i.status))},!1),i.send()},t}();i.XHRLoader=n},{\"@akashic/akashic-engine\":1}],83:[function(e,i,r){(function(n,o){!function(e,n){\"object\"==typeof r&&void 0!==i?i.exports=n():\"function\"==typeof t&&t.amd?t(n):e.ES6Promise=n()}(this,function(){\"use strict\";function t(t){var e=typeof t;return null!==t&&(\"object\"===e||\"function\"===e)}function i(t){return\"function\"==typeof t}function r(t){N=t}function s(t){W=t}function a(){return void 0!==U?function(){U(c)}:h()}function h(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;t<H;t+=2){(0,z[t])(z[t+1]),z[t]=void 0,z[t+1]=void 0}H=0}function u(t,e){var i=this,r=new this.constructor(d);void 0===r[K]&&k(r);var n=i._state;if(n){var o=arguments[n-1];W(function(){return E(n,r,o,i._result)})}else w(i,r,t,e);return r}function l(t){var e=this;if(t&&\"object\"==typeof t&&t.constructor===e)return t;var i=new e(d);return v(i,t),i}function d(){}function p(){return new TypeError(\"You cannot resolve a promise with itself\")}function f(){return new TypeError(\"A promises callback cannot return that same promise.\")}function _(t,e,i,r){try{t.call(e,i,r)}catch(t){return t}}function g(t,e,i){W(function(t){var r=!1,n=_(i,e,function(i){r||(r=!0,e!==i?v(t,i):A(t,i))},function(e){r||(r=!0,x(t,e))},\"Settle: \"+(t._label||\" unknown promise\"));!r&&n&&(r=!0,x(t,n))},t)}function y(t,e){e._state===$?A(t,e._result):e._state===Z?x(t,e._result):w(e,void 0,function(e){return v(t,e)},function(e){return x(t,e)})}function m(t,e,r){e.constructor===t.constructor&&r===u&&e.constructor.resolve===l?y(t,e):void 0===r?A(t,e):i(r)?g(t,e,r):A(t,e)}function v(e,i){if(e===i)x(e,p());else if(t(i)){var r=void 0;try{r=i.then}catch(t){return void x(e,t)}m(e,i,r)}else A(e,i)}function T(t){t._onerror&&t._onerror(t._result),S(t)}function A(t,e){t._state===J&&(t._result=e,t._state=$,0!==t._subscribers.length&&W(S,t))}function x(t,e){t._state===J&&(t._state=Z,t._result=e,W(T,t))}function w(t,e,i,r){var n=t._subscribers,o=n.length;t._onerror=null,n[o]=e,n[o+$]=i,n[o+Z]=r,0===o&&t._state&&W(S,t)}function S(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var r=void 0,n=void 0,o=t._result,s=0;s<e.length;s+=3)r=e[s],n=e[s+i],r?E(i,r,n,o):n(o);t._subscribers.length=0}}function E(t,e,r,n){var o=i(r),s=void 0,a=void 0,h=!0;if(o){try{s=r(n)}catch(t){h=!1,a=t}if(e===s)return void x(e,f())}else s=n;e._state!==J||(o&&h?v(e,s):!1===h?x(e,a):t===$?A(e,s):t===Z&&x(e,s))}function b(t,e){try{e(function(e){v(t,e)},function(e){x(t,e)})}catch(e){x(t,e)}}function P(){return Q++}function k(t){t[K]=Q++,t._state=void 0,t._result=void 0,t._subscribers=[]}function R(){return new Error(\"Array Methods must be provided an Array\")}function L(t){return new tt(this,t).promise}function M(t){var e=this;return new e(G(t)?function(i,r){for(var n=t.length,o=0;o<n;o++)e.resolve(t[o]).then(i,r)}:function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})}function C(t){var e=this,i=new e(d);return x(i,t),i}function O(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}function F(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}function I(){var t=void 0;if(void 0!==o)t=o;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(t){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if(\"[object Promise]\"===i&&!e.cast)return}t.Promise=et}var D=void 0;D=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};var G=D,H=0,U=void 0,N=void 0,W=function(t,e){z[H]=t,z[H+1]=e,2===(H+=2)&&(N?N(c):Y())},B=\"undefined\"!=typeof window?window:void 0,j=B||{},V=j.MutationObserver||j.WebKitMutationObserver,q=\"undefined\"==typeof self&&void 0!==n&&\"[object process]\"==={}.toString.call(n),X=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel,z=new Array(1e3),Y=void 0;Y=q?function(){return function(){return n.nextTick(c)}}():V?function(){var t=0,e=new V(c),i=document.createTextNode(\"\");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}():X?function(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}():void 0===B&&\"function\"==typeof e?function(){try{var t=Function(\"return this\")().require(\"vertx\");return U=t.runOnLoop||t.runOnContext,a()}catch(t){return h()}}():h();var K=Math.random().toString(36).substring(2),J=void 0,$=1,Z=2,Q=0,tt=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(d),this.promise[K]||k(this.promise),G(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&A(this.promise,this._result))):x(this.promise,R())}return t.prototype._enumerate=function(t){for(var e=0;this._state===J&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,r=i.resolve;if(r===l){var n=void 0,o=void 0,s=!1;try{n=t.then}catch(t){s=!0,o=t}if(n===u&&t._state!==J)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof n)this._remaining--,this._result[e]=t;else if(i===et){var a=new i(d);s?x(a,o):m(a,t,n),this._willSettleAt(a,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,i){var r=this.promise;r._state===J&&(this._remaining--,t===Z?x(r,i):this._result[e]=i),0===this._remaining&&A(r,this._result)},t.prototype._willSettleAt=function(t,e){var i=this;w(t,void 0,function(t){return i._settledAt($,e,t)},function(t){return i._settledAt(Z,e,t)})},t}(),et=function(){function t(e){this[K]=P(),this._result=this._state=void 0,this._subscribers=[],d!==e&&(\"function\"!=typeof e&&O(),this instanceof t?b(this,e):F())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this,r=e.constructor;return i(t)?e.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):e.then(t,t)},t}();return et.prototype.then=u,et.all=L,et.race=M,et.resolve=l,et.reject=C,et._setScheduler=r,et._setAsap=s,et._asap=W,et.polyfill=I,et.Promise=et,et})}).call(this,e(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{_process:84}],84:[function(t,e,i){function r(){throw new Error(\"setTimeout has not been defined\")}function n(){throw new Error(\"clearTimeout has not been defined\")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(t){if(d===clearTimeout)return clearTimeout(t);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){g&&f&&(g=!1,f.length?_=f.concat(_):y=-1,_.length&&h())}function h(){if(!g){var t=o(a);g=!0;for(var e=_.length;e;){for(f=_,_=[];++y<e;)f&&f[y].run();y=-1,e=_.length}f=null,g=!1,s(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,d,p=e.exports={};!function(){try{l=\"function\"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{d=\"function\"==typeof clearTimeout?clearTimeout:n}catch(t){d=n}}();var f,_=[],g=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];_.push(new c(t,e)),1!==_.length||g||o(h)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title=\"browser\",p.browser=!0,p.env={},p.argv=[],p.version=\"\",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(t){return[]},p.binding=function(t){throw new Error(\"process.binding is not supported\")},p.cwd=function(){return\"/\"},p.chdir=function(t){throw new Error(\"process.chdir is not supported\")},p.umask=function(){return 0}},{}],85:[function(t,e,i){e.exports={gameDriver:t(\"@akashic/game-driver\"),akashicEngine:t(\"@akashic/akashic-engine\"),pdiBrowser:t(\"@akashic/pdi-browser\")}},{\"@akashic/akashic-engine\":1,\"@akashic/game-driver\":4,\"@akashic/pdi-browser\":28}]},{},[85])(85)});\n\n\twindow.engineFiles=engineFilesV2_1_37,window.g=engineFiles.akashicEngine,function(){window.require;window.require=function(i){switch(i){case\"@akashic/akashic-engine\":return engineFiles.akashicEngine;default:return this.call(this,i)}}}();\n\n</script>\n\n<script>\nif (! (\"optionProps\" in window)) {\n\twindow.optionProps = {};\n}\nwindow.optionProps.magnify = false\n\nwindow.g = require(\"@akashic/akashic-engine\");\n</script>\n<script>\nif (! (\"gLocalAssetContainer\" in window)) {\n\twindow.gLocalAssetContainer = {};\n}\n\nif (! (\"__akashic__\" in window)) {\n\twindow.__akashic__ = {};\n}\n\n\n\t\n\t\twindow.gLocalAssetContainer[\"game.json\"] = `{\n\t\"width\": 640,\n\t\"height\": 320,\n\t\"fps\": 30,\n\t\"main\": \"./script/_bootstrap.js\",\n\t\"assets\": {\n\t\t\"main\": {\n\t\t\t\"type\": \"script\",\n\t\t\t\"path\": \"script/main.js\",\n\t\t\t\"global\": true\n\t\t},\n\t\t\"parameterObject\": {\n\t\t\t\"type\": \"script\",\n\t\t\t\"path\": \"script/parameterObject.js\",\n\t\t\t\"global\": true\n\t\t},\n\t\t\"_bootstrap\": {\n\t\t\t\"type\": \"script\",\n\t\t\t\"path\": \"script/_bootstrap.js\",\n\t\t\t\"global\": true\n\t\t},\n\t\t\"tori\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 32,\n\t\t\t\"height\": 32,\n\t\t\t\"path\": \"image/tori.png\"\n\t\t},\n\t\t\"play\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 300,\n\t\t\t\"height\": 150,\n\t\t\t\"path\": \"image/play.png\"\n\t\t},\n\t\t\"title\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 640,\n\t\t\t\"height\": 320,\n\t\t\t\"path\": \"image/title.png\"\n\t\t},\n\t\t\"result\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 640,\n\t\t\t\"height\": 320,\n\t\t\t\"path\": \"image/result.png\"\n\t\t}\n\t},\n\t\"environment\": {\n\t\t\"sandbox-runtime\": \"2\",\n\t\t\"niconico\": {\n\t\t\t\"preferredSessionParameters\": {\n\t\t\t\t\"totalTimeLimit\": 70\n\t\t\t}\n\t\t}\n\t}\n}`;\n\t\n\n\t\n\t\twindow.gLocalAssetContainer[\"main\"] = function(g) {\n\t\t\t!function(e,t,a,i,n){\"use strict\";function s(e){var t=60;e.sessionParameter.totalTimeLimit&&(t=e.sessionParameter.totalTimeLimit),g.game.vars.gameState={score:0};var a=new g.Scene({game:g.game,assetIds:[\"title\",\"play\"]});a.loaded.add(function(){var e=new g.Sprite({scene:a,src:a.assets.title});a.append(e);var t=new g.Sprite({scene:a,src:a.assets.play});t.x=(g.game.width-t.width)/2,t.y=150,t.touchable=!0,t.pointDown.add(function(){i()}),a.append(t)}),g.game.pushScene(a);var i=function(){var e=new g.Scene({game:g.game,assetIds:[\"tori\",\"result\",\"play\"]});e.loaded.add(function(){g.game.vars.gameState.score=0,t=60;var a=new g.FilledRect({scene:e,width:g.game.width,height:g.game.height,cssColor:\"white\"});e.append(a);var n=new g.DynamicFont({game:g.game,fontFamily:g.FontFamily.SansSerif,size:48}),s=new g.Label({scene:e,text:\"SCORE: 0\",font:n,fontSize:n.size/2,textColor:\"black\"});e.append(s);var d=function(){s.text=\"SCORE: \"+g.game.vars.gameState.score,s.invalidate()},o=new g.Sprite({scene:e,src:e.assets.tori,width:e.assets.tori.width,height:e.assets.tori.height});o.x=100,o.y=100,o.modified(),e.append(o);var r=function(){var e=o.y,t=0,a=function(){var a=.45*t*t-10*t+e;o.height+a<g.game.height&&a>0?o.y=a:a<0&&(o.y=0),t++,o.modified()};o.update.remove(a),o.update.add(a)};e.pointDownCapture.add(function(){t>=0&&r()});var c=!1,h=function(){e.pointDownCapture.removeAll(),c=!0;var t=new g.Sprite({scene:e,src:e.assets.result});e.append(t);var a=new g.Sprite({scene:e,src:e.assets.play});a.x=(g.game.width-a.width)/2,a.y=150,a.touchable=!0,a.pointDown.add(function(){i()}),e.append(a);var s=new g.Label({scene:e,text:g.game.vars.gameState.score+\" ÁÇπ\",font:n,textColor:\"black\",fontSize:n.size/2});s.x=(g.game.width-s.width)/2,s.y=a.y-s.height,e.append(s)};e.setInterval(function(){if(!c){var a=new g.FilledRect({scene:e,height:100,width:50,cssColor:\"orange\"});e.append(a),a.x=g.game.width+a.width,a.update.add(function(){t>=0&&(a.x-=10,a.modified(),g.Collision.intersectAreas(a,o)&&h())});var i=new g.FilledRect({scene:e,height:100,width:50,cssColor:\"orange\"});e.append(i),i.x=g.game.width+i.width,i.y=g.game.height-i.height,i.update.add(function(){t>=0&&(i.x-=10,i.modified(),g.Collision.intersectAreas(i,o)&&h())});var n=new g.FilledRect({scene:e,height:g.game.height-(a.height+i.height),width:1,cssColor:\"transparent\"});e.append(n),n.x=g.game.width+i.width+(i.width-n.width),n.y=a.height,n.update.add(function(){t>=0&&(n.x-=10,n.modified()),g.Collision.intersectAreas(n,o)&&(n.destroy(),g.game.vars.gameState.score++,d())})}},1e3)}),g.game.pushScene(e)}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.main=s}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);\n\t\t};\n\t\n\n\t\n\t\twindow.gLocalAssetContainer[\"parameterObject\"] = function(g) {\n\t\t\t!function(e,u,o,r,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0})}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);\n\t\t};\n\t\n\n\t\n\t\twindow.gLocalAssetContainer[\"_bootstrap\"] = function(g) {\n\t\t\t!function(e,a,n,r,d){\"use strict\";var t=a(\"./main\");n.exports=function(e){var a={};Object.keys(e).forEach(function(n){a[n]=e[n]}),a.sessionParameter={},a.isAtsumaru=\"undefined\"!=typeof window&&void 0!==window.RPGAtsumaru,a.random=g.game.random;var n=new g.Scene({game:g.game});n.message.add(function(e){e.data&&\"start\"===e.data.type&&e.data.parameters&&(a.sessionParameter=e.data.parameters,null!=e.data.parameters.randomSeed&&(a.random=new g.XorshiftRandomGenerator(e.data.parameters.randomSeed)),g.game.popScene(),t.main(a))}),n.loaded.add(function(){var e=0;n.update.add(function(){++e>3&&(g.game.popScene(),t.main(a))})}),g.game.pushScene(n)}}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);\n\t\t};\n\t\n\n\n\n</script>\n\n<script>\n\n\tvar __extends=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),LocalScriptAsset=function(t){function o(o,n){var e=t.call(this,o,n)||this;return e.func=window.gLocalAssetContainer[o],e}return __extends(o,t),o.prototype._load=function(t){var o=this;void 0!==this.func?setTimeout(function(){t._onAssetLoad(o)},0):setTimeout(function(){t._onAssetError(o,g.ExceptionFactory.createAssetLoadError(\"can not load script asset\"))},0)},o.prototype.execute=function(t){return this.func(t),t.module.exports},o}(g.ScriptAsset);\n\n\t!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,t.gameStorage=e()}}(function(){return function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){var s=\"function\"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error(\"Cannot find module '\"+a+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){return o(t[a][1][e]||e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var i=\"function\"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){\"use strict\";var n=e(\"@akashic/akashic-engine\"),o=e(\"./validator\"),i=function(){function e(e,t){this._localStorage=e,this._metaData=t}return e.prototype.set=function(e,t,r){o.validateStorageKey(e),this.expandVariables(e);var i=this.storageKeyToStringKey(e),a=this.getValue(i),u=null;switch(e.region){case n.StorageRegion.Values:u=this.createValuesValue(a,t,r);break;case n.StorageRegion.Counts:u=this.createCountsValue(a,t,r);break;case n.StorageRegion.Scores:u=this.createScoresValue(a,t,r);break;case n.StorageRegion.Slots:throw new Error(\"Slots is not supported.\");default:throw new Error(\"Unknown region.\")}if(u){var s=null,c=new Date;s=a?{data:u.data,tag:u.tag,createdAt:a.createdAt,updatedAt:c}:{data:u.data,tag:u.tag,createdAt:c,updatedAt:c},this.setValue(i,s)}},e.prototype.load=function(e){var t=this,r={};Object.keys(this._localStorage).forEach(function(e){if(0===e.indexOf(\"akst:\")){var n=e.slice(\"akst:\".length);r[n]=t.getValue(n)}});var n=[];return e.forEach(function(e){o.validateStorageReadKey(e),t.expandVariables(e);var i=[];if(-1!==e.regionKey.indexOf(\"*\")||\"*\"===e.userId){var a=t.storageReadKeyToRegExp(e);Object.keys(r).forEach(function(e){if(a.test(e)){var n=r[e],o={data:n.data,storageKey:t.stringKeyToStorageKey(e)};null!=n.tag&&(o.tag=n.tag),i.push(o)}}),e.option&&(void 0!==e.option.valueOrder&&t.sortByValue(i,e.option.valueOrder),void 0!==e.option.keyOrder&&t.sortByRegionKey(i,e.option.keyOrder))}else{var u=t.storageKeyToStringKey(e),s=r[u];if(s){var c={data:s.data,storageKey:{region:e.region,regionKey:e.regionKey,userId:e.userId,gameId:e.gameId}};null!=s.tag&&(c.tag=s.tag),i.push(c)}}n.push(i)}),n},e.prototype.clearAll=function(){var e=this;Object.keys(this._localStorage).forEach(function(t){0===t.indexOf(\"akst:\")&&e._localStorage.removeItem(t)})},e.prototype.createValuesValue=function(e,t,r){if(!t)return null;if(r&&null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data){if(r.condition!==n.StorageCondition.Equal)throw new Error(\"Invalid condition.\");if(e.data!==r.comparisonValue)return null}var o={data:t.data};return null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createScoresValue=function(e,t,r){if(!t)return null;if(r&&null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data)switch(r.condition){case n.StorageCondition.Equal:if(e.data!==r.comparisonValue)return null;break;case n.StorageCondition.GreaterThan:if(!(e.data>r.comparisonValue))return null;break;case n.StorageCondition.LessThan:if(!(e.data<r.comparisonValue))return null}var o={data:t.data};return null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createCountsIncrDecrValue=function(e,t,r){var o={data:0},i=0;if(e&&(i=Number(e.data)),null!=r.condition&&null!=r.comparisonValue)switch(r.condition){case n.StorageCondition.Equal:if(i!==r.comparisonValue)return e?null:o;break;case n.StorageCondition.GreaterThan:if(!(i>r.comparisonValue))return e?null:o;break;case n.StorageCondition.LessThan:if(!(i<r.comparisonValue))return e?null:o}if(r.operation===n.StorageCountsOperation.Incr)t&&null!=t.data?o.data=i+Number(t.data):o.data=i+1;else{if(r.operation!==n.StorageCountsOperation.Decr)throw new Error(\"Unknown StorageCountsOperation\");t&&null!=t.data?o.data=i-Number(t.data):o.data=i-1}return t&&null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createCountsValue=function(e,t,r){if(r){if(r.operation===n.StorageCountsOperation.Incr||r.operation===n.StorageCountsOperation.Decr)return this.createCountsIncrDecrValue(e,t,r);if(null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data)switch(r.condition){case n.StorageCondition.Equal:if(e.data!==r.comparisonValue)return null;break;case n.StorageCondition.GreaterThan:if(!(e.data>r.comparisonValue))return null;break;case n.StorageCondition.LessThan:if(!(e.data<r.comparisonValue))return null}}var o={data:t.data};return t&&null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.setValue=function(e,t){this._localStorage.setItem(\"akst:\"+e,JSON.stringify(t))},e.prototype.getValue=function(e){return JSON.parse(this._localStorage.getItem(\"akst:\"+e))},e.prototype.storageKeyToStringKey=function(e){return(e.region||\"\")+\"/\"+(null!=e.gameId?String(e.gameId):\"\")+\"/\"+(null!=e.userId?String(e.userId):\"\")+\"/\"+(e.regionKey||\"\")},e.prototype.stringKeyToStorageKey=function(e){var t=e.split(\"/\"),r={region:Number(t[0]),regionKey:t[3]};return t[1]&&(r.gameId=t[1]),t[2]&&(r.userId=t[2]),r},e.prototype.storageReadKeyToRegExp=function(e){var t=e.region||\"\",r=null!=e.gameId?String(e.gameId):\"\",n=null!=e.userId?String(e.userId):\"\",o=\"\";if(\"*\"===n&&(n=\"[0-9]+\"),-1!==e.regionKey.indexOf(\"*\")){var i=e.regionKey.split(\".\");i.forEach(function(e,t){\"*\"===e?o+=\"[.a-z0-9]*\":-1!==e.indexOf(\"*\")?o+=e.replace(\"*\",\"[a-z0-9]*\"):o+=e,t!==i.length-1&&(o+=\".\")})}else o=e.regionKey.replace(\".\",\".\");return new RegExp(\"^\"+t+\"/\"+r+\"/\"+n+\"/\"+o+\"$\")},e.prototype.sortByValue=function(e,t){e.sort(function(e,r){var o=e.data,i=r.data;if(t===n.StorageOrder.Asc){if(o<i)return-1;if(o>i)return 1}else if(t===n.StorageOrder.Desc){if(o<i)return 1;if(o>i)return-1}return 0})},e.prototype.sortByRegionKey=function(e,t){e.sort(function(e,r){var o=e.storageKey.regionKey,i=r.storageKey.regionKey;if(t===n.StorageOrder.Asc){if(o<i)return-1;if(o>i)return 1}else if(t===n.StorageOrder.Desc){if(o<i)return 1;if(o>i)return-1}return 0})},e.prototype.expandVariables=function(e){e.gameId&&-1!==e.gameId.indexOf(\"$gameId\")&&this._metaData.gameId&&(e.gameId=e.gameId.replace(/\\$gameId/g,this._metaData.gameId))},e}();r.GameStorage=i},{\"./validator\":3,\"@akashic/akashic-engine\":\"@akashic/akashic-engine\"}],2:[function(e,t,r){\"use strict\";var n=e(\"./GameStorage\");r.GameStorage=n.GameStorage},{\"./GameStorage\":1}],3:[function(e,t,r){\"use strict\";function n(e,t){u(e.length>0,\"regionKey is empty.\");var r=e.split(\".\");u(r.length<=c,\"The maximum number of layers in the region key is \"+c+\".\");for(var n=!1,o=0;o<r.length;++o)t?\"*\"===r[o]?(u(!n,\"The only one layer of the region key for reading consists of a wildcard character.\"),n=!0):u(/^(\\*|[a-z])[a-z0-9]{0,31}\\*?$/.test(r[o]),\"The layer of the region key for reading must match '^(*|[a-z])[a-z0-9]{0,31}*?$'.\"):u(/^[a-z][a-z0-9]{0,31}$/.test(r[o]),\"The layer of the region key for writing must match '^[a-z][a-z0-9]{0,31}$'.\")}function o(e,t){void 0===t&&(t=!1),u(e.region===s.StorageRegion.Counts||e.region===s.StorageRegion.Scores||e.region===s.StorageRegion.Values,\"Invalid region.\"),u(e.regionKey,\"regionKey must be set.\"),n(e.regionKey,t),u(e.gameId||e.userId,\"StorageKey must have any one at least from gameId and userId.\"),null!=e.gameId&&(u.equal(typeof e.gameId,\"string\",\"gameId must be a string type.\"),u(e.gameId.length>0,\"gameId is empty.\")),null!=e.userId&&(u.equal(typeof e.userId,\"string\",\"userId must be a string type.\"),u(e.userId.length>0,\"userId is empty.\"),t?\"*\"===e.userId&&(u(e.gameId,'gameId for reading must be set when userId is \"*\".'),u(-1===e.regionKey.indexOf(\"*\"),'regionKey for reading must not include \"*\" when userId is \"*\".')):u(\"*\"!==e.userId,'userId for writing must not include \"*\".'))}function i(e){if(o(e,!0),null!=e.option){var t=e.option;null!=t.keyOrder&&u(t.keyOrder===s.StorageOrder.Asc||t.keyOrder===s.StorageOrder.Desc,\"Invalid keyOrder.\"),null!=t.valueOrder&&u(t.valueOrder===s.StorageOrder.Asc||t.valueOrder===s.StorageOrder.Desc,\"Invalid valueOrder.\")}}function a(e){}var u=e(\"assert\"),s=e(\"@akashic/akashic-engine\"),c=4;r.validateRegionKey=n,r.validateStorageKey=o,r.validateStorageReadKey=i,r.validateStorageWriteOption=a},{\"@akashic/akashic-engine\":\"@akashic/akashic-engine\",assert:4}],4:[function(e,t,r){(function(r){\"use strict\";function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0}function o(e){return r.Buffer&&\"function\"==typeof r.Buffer.isBuffer?r.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function i(e){return Object.prototype.toString.call(e)}function a(e){return!o(e)&&\"function\"==typeof r.ArrayBuffer&&(\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}function u(e){if(b.isFunction(e)){if(E)return e.name;var t=e.toString(),r=t.match(I);return r&&r[1]}}function s(e,t){return\"string\"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(E||!b.isFunction(e))return b.inspect(e);var t=u(e);return\"[Function\"+(t?\": \"+t:\"\")+\"]\"}function l(e){return s(c(e.actual),128)+\" \"+e.operator+\" \"+s(c(e.expected),128)}function f(e,t,r,n,o){throw new x.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:o})}function g(e,t){e||f(e,!0,t,\"==\",x.ok)}function p(e,t,r,u){if(e===t)return!0;if(o(e)&&o(t))return 0===n(e,t);if(b.isDate(e)&&b.isDate(t))return e.getTime()===t.getTime();if(b.isRegExp(e)&&b.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&\"object\"==typeof e||null!==t&&\"object\"==typeof t){if(a(e)&&a(t)&&i(e)===i(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;u=u||{actual:[],expected:[]};var s=u.actual.indexOf(e);return-1!==s&&s===u.expected.indexOf(t)||(u.actual.push(e),u.expected.push(t),y(e,t,r,u))}return r?e===t:e==t}function d(e){return\"[object Arguments]\"==Object.prototype.toString.call(e)}function y(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(b.isPrimitive(e)||b.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=d(e),i=d(t);if(o&&!i||!o&&i)return!1;if(o)return e=O.call(e),t=O.call(t),p(e,t,r);var a,u,s=k(e),c=k(t);if(s.length!==c.length)return!1;for(s.sort(),c.sort(),u=s.length-1;u>=0;u--)if(s[u]!==c[u])return!1;for(u=s.length-1;u>=0;u--)if(a=s[u],!p(e[a],t[a],r,n))return!1;return!0}function h(e,t,r){p(e,t,!0)&&f(e,t,r,\"notDeepStrictEqual\",h)}function m(e,t){if(!e||!t)return!1;if(\"[object RegExp]\"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function v(e){var t;try{e()}catch(e){t=e}return t}function S(e,t,r,n){var o;if(\"function\"!=typeof t)throw new TypeError('\"block\" argument must be a function');\"string\"==typeof r&&(n=r,r=null),o=v(t),n=(r&&r.name?\" (\"+r.name+\").\":\".\")+(n?\" \"+n:\".\"),e&&!o&&f(o,r,\"Missing expected exception\"+n);var i=\"string\"==typeof n,a=!e&&b.isError(o),u=!e&&o&&!r;if((a&&i&&m(o,r)||u)&&f(o,r,\"Got unwanted exception\"+n),e&&o&&r&&!m(o,r)||!e&&o)throw o}var b=e(\"util/\"),w=Object.prototype.hasOwnProperty,O=Array.prototype.slice,E=function(){return\"foo\"===function(){}.name}(),x=t.exports=g,I=/\\s*function\\s+([^\\(\\s]*)\\s*/;x.AssertionError=function(e){this.name=\"AssertionError\",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var t=e.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,o=u(t),i=n.indexOf(\"\\n\"+o);if(i>=0){var a=n.indexOf(\"\\n\",i+1);n=n.substring(a+1)}this.stack=n}}},b.inherits(x.AssertionError,Error),x.fail=f,x.ok=g,x.equal=function(e,t,r){e!=t&&f(e,t,r,\"==\",x.equal)},x.notEqual=function(e,t,r){e==t&&f(e,t,r,\"!=\",x.notEqual)},x.deepEqual=function(e,t,r){p(e,t,!1)||f(e,t,r,\"deepEqual\",x.deepEqual)},x.deepStrictEqual=function(e,t,r){p(e,t,!0)||f(e,t,r,\"deepStrictEqual\",x.deepStrictEqual)},x.notDeepEqual=function(e,t,r){p(e,t,!1)&&f(e,t,r,\"notDeepEqual\",x.notDeepEqual)},x.notDeepStrictEqual=h,x.strictEqual=function(e,t,r){e!==t&&f(e,t,r,\"===\",x.strictEqual)},x.notStrictEqual=function(e,t,r){e===t&&f(e,t,r,\"!==\",x.notStrictEqual)},x.throws=function(e,t,r){S(!0,e,t,r)},x.doesNotThrow=function(e,t,r){S(!1,e,t,r)},x.ifError=function(e){if(e)throw e};var k=Object.keys||function(e){var t=[];for(var r in e)w.call(e,r)&&t.push(r);return t}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"util/\":8}],5:[function(e,t,r){function n(){throw new Error(\"setTimeout has not been defined\")}function o(){throw new Error(\"clearTimeout has not been defined\")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(g===clearTimeout)return clearTimeout(e);if((g===o||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(e);try{return g(e)}catch(t){try{return g.call(null,e)}catch(t){return g.call(this,e)}}}function u(){h&&d&&(h=!1,d.length?y=d.concat(y):m=-1,y.length&&s())}function s(){if(!h){var e=i(u);h=!0;for(var t=y.length;t;){for(d=y,y=[];++m<t;)d&&d[m].run();m=-1,t=y.length}d=null,h=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,g,p=t.exports={};!function(){try{f=\"function\"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{g=\"function\"==typeof clearTimeout?clearTimeout:o}catch(e){g=o}}();var d,y=[],h=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];y.push(new c(e,t)),1!==y.length||h||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title=\"browser\",p.browser=!0,p.env={},p.argv=[],p.version=\"\",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(e){throw new Error(\"process.binding is not supported\")},p.cwd=function(){return\"/\"},p.chdir=function(e){throw new Error(\"process.chdir is not supported\")},p.umask=function(){return 0}},{}],6:[function(e,t,r){\"function\"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],7:[function(e,t,r){t.exports=function(e){return e&&\"object\"==typeof e&&\"function\"==typeof e.copy&&\"function\"==typeof e.fill&&\"function\"==typeof e.readUInt8}},{}],8:[function(e,t,r){(function(t,n){function o(e,t){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&r._extend(n,t),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),s(n,e,n.depth)}function i(e,t){var r=o.styles[t];return r?\"\u001b[\"+o.colors[r][0]+\"m\"+e+\"\u001b[\"+o.colors[r][1]+\"m\":e}function a(e,t){return e}function u(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function s(e,t,n){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return S(o)||(o=s(e,o,n)),o}var i=c(e,t);if(i)return i;var a=Object.keys(t),y=u(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),I(t)&&(a.indexOf(\"message\")>=0||a.indexOf(\"description\")>=0))return l(t);if(0===a.length){if(k(t)){var h=t.name?\": \"+t.name:\"\";return e.stylize(\"[Function\"+h+\"]\",\"special\")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),\"regexp\");if(x(t))return e.stylize(Date.prototype.toString.call(t),\"date\");if(I(t))return l(t)}var m=\"\",v=!1,b=[\"{\",\"}\"];if(d(t)&&(v=!0,b=[\"[\",\"]\"]),k(t)&&(m=\" [Function\"+(t.name?\": \"+t.name:\"\")+\"]\"),O(t)&&(m=\" \"+RegExp.prototype.toString.call(t)),x(t)&&(m=\" \"+Date.prototype.toUTCString.call(t)),I(t)&&(m=\" \"+l(t)),0===a.length&&(!v||0==t.length))return b[0]+m+b[1];if(n<0)return O(t)?e.stylize(RegExp.prototype.toString.call(t),\"regexp\"):e.stylize(\"[Object]\",\"special\");e.seen.push(t);var w;return w=v?f(e,t,n,y,a):a.map(function(r){return g(e,t,n,y,r,v)}),e.seen.pop(),p(w,m,b)}function c(e,t){if(w(t))return e.stylize(\"undefined\",\"undefined\");if(S(t)){var r=\"'\"+JSON.stringify(t).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return e.stylize(r,\"string\")}return v(t)?e.stylize(\"\"+t,\"number\"):y(t)?e.stylize(\"\"+t,\"boolean\"):h(t)?e.stylize(\"null\",\"null\"):void 0}function l(e){return\"[\"+Error.prototype.toString.call(e)+\"]\"}function f(e,t,r,n,o){for(var i=[],a=0,u=t.length;a<u;++a)D(t,String(a))?i.push(g(e,t,r,n,String(a),!0)):i.push(\"\");return o.forEach(function(o){o.match(/^\\d+$/)||i.push(g(e,t,r,n,o,!0))}),i}function g(e,t,r,n,o,i){var a,u,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?u=c.set?e.stylize(\"[Getter/Setter]\",\"special\"):e.stylize(\"[Getter]\",\"special\"):c.set&&(u=e.stylize(\"[Setter]\",\"special\")),D(n,o)||(a=\"[\"+o+\"]\"),u||(e.seen.indexOf(c.value)<0?(u=h(r)?s(e,c.value,null):s(e,c.value,r-1),u.indexOf(\"\\n\")>-1&&(u=i?u.split(\"\\n\").map(function(e){return\"  \"+e}).join(\"\\n\").substr(2):\"\\n\"+u.split(\"\\n\").map(function(e){return\"   \"+e}).join(\"\\n\"))):u=e.stylize(\"[Circular]\",\"special\")),w(a)){if(i&&o.match(/^\\d+$/))return u;a=JSON.stringify(\"\"+o),a.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,\"name\")):(a=a.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),a=e.stylize(a,\"string\"))}return a+\": \"+u}function p(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf(\"\\n\")>=0&&n++,e+t.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60?r[0]+(\"\"===t?\"\":t+\"\\n \")+\" \"+e.join(\",\\n  \")+\" \"+r[1]:r[0]+t+\" \"+e.join(\", \")+\" \"+r[1]}function d(e){return Array.isArray(e)}function y(e){return\"boolean\"==typeof e}function h(e){return null===e}function m(e){return null==e}function v(e){return\"number\"==typeof e}function S(e){return\"string\"==typeof e}function b(e){return\"symbol\"==typeof e}function w(e){return void 0===e}function O(e){return E(e)&&\"[object RegExp]\"===K(e)}function E(e){return\"object\"==typeof e&&null!==e}function x(e){return E(e)&&\"[object Date]\"===K(e)}function I(e){return E(e)&&(\"[object Error]\"===K(e)||e instanceof Error)}function k(e){return\"function\"==typeof e}function T(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"==typeof e||void 0===e}function K(e){return Object.prototype.toString.call(e)}function j(e){return e<10?\"0\"+e.toString(10):e.toString(10)}function V(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(\":\");return[e.getDate(),C[e.getMonth()],t].join(\" \")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;r.format=function(e){if(!S(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(o(arguments[r]));return t.join(\" \")}for(var r=1,n=arguments,i=n.length,a=String(e).replace(A,function(e){if(\"%%\"===e)return\"%\";if(r>=i)return e;switch(e){case\"%s\":return String(n[r++]);case\"%d\":return Number(n[r++]);case\"%j\":try{return JSON.stringify(n[r++])}catch(e){return\"[Circular]\"}default:return e}}),u=n[r];r<i;u=n[++r])h(u)||!E(u)?a+=\" \"+u:a+=\" \"+o(u);return a},r.deprecate=function(e,o){function i(){if(!a){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),a=!0}return e.apply(this,arguments)}if(w(n.process))return function(){return r.deprecate(e,o).apply(this,arguments)};if(!0===t.noDeprecation)return e;var a=!1;return i};var z,q={};r.debuglog=function(e){if(w(z)&&(z=t.env.NODE_DEBUG||\"\"),e=e.toUpperCase(),!q[e])if(new RegExp(\"\\\\b\"+e+\"\\\\b\",\"i\").test(z)){var n=t.pid;q[e]=function(){var t=r.format.apply(r,arguments);console.error(\"%s %d: %s\",e,n,t)}}else q[e]=function(){};return q[e]},r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},r.isArray=d,r.isBoolean=y,r.isNull=h,r.isNullOrUndefined=m,r.isNumber=v,r.isString=S,r.isSymbol=b,r.isUndefined=w,r.isRegExp=O,r.isObject=E,r.isDate=x,r.isError=I,r.isFunction=k,r.isPrimitive=T,r.isBuffer=e(\"./support/isBuffer\");var C=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];r.log=function(){console.log(\"%s - %s\",V(),r.format.apply(r,arguments))},r.inherits=e(\"inherits\"),r._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./support/isBuffer\":7,_process:5,inherits:6}]},{},[2])(2)});\n\n\twindow.addEventListener(\"load\",function(){!function(e){function n(e){if(s.containerController){var n={width:window.innerWidth||document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight},t=Math.min(n.width/e.width,n.height/e.height),o={width:Math.floor(e.width*t),height:Math.floor(e.height*t)};s.containerController.changeScale(t,t);var i={x:Math.floor((n.width-o.width)/2),y:Math.floor((n.height-o.height)/2)};s.containerController.inputHandlerLayer.setOffset(i)}}var t=e,o={id:\"9999\",name:\"sandbox-player\"},i=new gameStorage.GameStorage(window.localStorage,{gameId:t}),a=engineFiles.pdiBrowser,r=engineFiles.gameDriver,d=new r.MemoryAmflowClient({playId:\"sandboxDummyPlayId\",putStorageDataSyncFunc:i.set.bind(i),getStorageDataSyncFunc:function(e){var n=i.load(e);return e.map(function(e,t){return{readKey:e,values:n[t]}})}});if(!0===window.__akashic__.autoSendEvents||\"string\"==typeof window.__akashic__.autoSendEvents){var c=window.__akashic__.sandboxConfigFunc(),l=!0===window.__akashic__.autoSendEvents?c.autoSendEvents:window.__akashic__.autoSendEvents;c&&l&&c.events&&c.events[l]&&c.events[l].forEach(function(e){d.sendEvent(e)})}var u;u=\"file:\"!==location.protocol?[a.WebAudioPlugin,a.HTMLAudioPlugin]:[a.HTMLAudioPlugin];var s=new a.Platform({amflow:d,containerView:document.getElementById(\"container\"),audioPlugins:u});s.loadGameConfiguration=function(e,n){try{var t=window.gLocalAssetContainer[\"game.json\"];t=decodeURIComponent(t),n(null,JSON.parse(t))}catch(e){n(e,null)}},s._resourceFactory.createScriptAsset=function(e,n){return new LocalScriptAsset(e,n)};var w=function(e,n){return new LocalTextAsset(e,n)};\"undefined\"!=typeof LocalTextAsset&&(s._resourceFactory.createTextAsset=w),driver=new r.GameDriver({platform:s,player:o,errorHandler:function(e){console.log(\"ERRORHANDLER:\",e)}}),driver.gameCreatedTrigger.add(function(e){window.optionProps.magnify&&(n(e),window.addEventListener(\"resize\",function(){n(e)}))}),driver.initialize({configurationUrl:\"game.json\",assetBase:\"./\",driverConfiguration:{playId:\"sandboxDummyPlayId\",playToken:\"dummyToken\",executionMode:r.ExecutionMode.Active},loopConfiguration:{loopMode:r.LoopMode.Realtime}},function(e){if(e)throw e;driver.startGame()})}(\"exportHTML\")});\n\n\twindow.g=require(\"@akashic/akashic-engine\"),\"gLocalAssetContainer\"in window||(window.gLocalAssetContainer={}),\"__akashic__\"in window||(window.__akashic__={});\n\n\tvar __extends=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),LocalTextAsset=function(t){function o(o,n){var e=t.call(this,o,n)||this;return e.data=decodeURIComponent(window.gLocalAssetContainer[o]),e}return __extends(o,t),o.prototype._load=function(t){var o=this;void 0!==this.data?setTimeout(function(){t._onAssetLoad(o)},0):setTimeout(function(){t._onAssetError(o,g.ExceptionFactory.createAssetLoadError(\"can not load text asset\"))},0)},o}(g.TextAsset);\n\n</script>\n\n<style type=\"text/css\">\n* {\n\tmargin: 0;\n\tborder: 0;\n\tpadding: 0;\n}\n\nhtml {\n\twidth: 100%;\n\theight: 100%;\n}\n\nbody {\n\toverflow: hidden;\n\twidth: 100%;\n\theight: 100%;\n}\n\n#container {\n\tmargin: 0px;\n\tpadding: 0px;\n\toverflow: hidden;\n\ttouch-action: none;\n\twidth: 100%;\n\theight: 100%;\n\n\t/* iOSË°®Á§∫Â¥©„ÇåÂØæÁ≠ñ: body„ÅÆ„Çµ„Ç§„Ç∫Ë®àÁÆó„Åã„Çâ„Åì„ÅÆË¶ÅÁ¥†„ÇíÈô§Â§ñ */\n\t/* position: absolute; */\n}\n\n#container canvas {\n\tbackground-size: contain;\n}\n\n</style>\n\n\n\n</head>\n<body>\n<div id=\"container\">\n</div>\n<p>AkashicEngine+TypeScript„Åß‰Ωú„Çä„Åæ„Åó„Åü„ÄÇ</p>\n<p><a href=\"https://github.com/takusan23/AkashicEngine-FlappyBird\">„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØ„Åì„Åì<a></p>\n</body>\n</html>\n","source":"omake/index.html","raw":"<!doctype html>\n<!-- Generated by akashic-cli-export-html@0.6.2. -->\n<!-- Options: {\"strip\":true,\"minify\":true,\"bundle\":true} -->\n<html>\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n<title>game</title>\n<script>\n\n\t!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var e;e=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,e.engineFilesV2_1_37=t()}}(function(){var t;return function(){function t(e,i,r){function n(s,a){if(!i[s]){if(!e[s]){var h=\"function\"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var c=new Error(\"Cannot find module '\"+s+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){return n(e[s][1][t]||t)},u,u.exports,t,e,i,r)}return i[s].exports}for(var o=\"function\"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}return t}()({1:[function(t,e,i){e.exports=t(\"./lib/main.node\")},{\"./lib/main.node\":2}],2:[function(t,e,i){(function(){\"use strict\";var t,i=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(t){!function(t){t[t.Unspecified=0]=\"Unspecified\",t[t.RetryLimitExceeded=1]=\"RetryLimitExceeded\",t[t.NetworkError=2]=\"NetworkError\",t[t.ClientError=3]=\"ClientError\",t[t.ServerError=4]=\"ServerError\"}(t.AssetLoadErrorType||(t.AssetLoadErrorType={}))}(t||(t={}));var t;!function(t){!function(e){function i(t,e){var i=new Error(t);return i.name=\"AssertionError\",i.cause=e,i}function r(t,e,i,r){var n=\"Type mismatch on \"+t+\", expected type is \"+e;if(arguments.length>2)try{var o;o=i&&i.constructor&&i.constructor.name?i.constructor.name:typeof i,n+=\", actual type is \"+(o.length>40?o.substr(0,40):o)}catch(t){}n+=\".\";var s=new Error(n);return s.name=\"TypeMismatchError\",s.cause=r,s.expected=e,s.actual=i,s}function n(e,i,r,n){void 0===i&&(i=!0),void 0===r&&(r=t.AssetLoadErrorType.Unspecified);var o=new Error(e);return o.name=\"AssetLoadError\",o.cause=n,o.retriable=i,o.type=r,o}e.createAssertionError=i,e.createTypeMismatchError=r,e.createAssetLoadError=n}(t.ExceptionFactory||(t.ExceptionFactory={}))}(t||(t={}));var t;!function(t){var e=function(){function e(){}return e.prototype.createSurfaceAtlas=function(e,i){return new t.SurfaceAtlas(this.createSurface(e,i))},e.prototype.createTrimmedSurface=function(t,e){var i=e||{x:0,y:0,width:t.width,height:t.height},r=this.createSurface(i.width,i.height),n=r.renderer();return n.begin(),n.drawImage(t,i.x,i.y,i.width,i.height,0,0),n.end(),r},e}();t.ResourceFactory=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this._value=t}return t.prototype._cachedValue=function(){return this._value},t}();t.RequireCachedValue=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.seed=t,this[0]=this}return t}();t.RandomGenerator=e}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this.id=e,this.originalPath=i,this.path=this._assetPathFilter(i),this.onDestroyed=new t.Trigger}return e.prototype.destroy=function(){this.onDestroyed.fire(this),this.id=void 0,this.originalPath=void 0,this.path=void 0,this.onDestroyed.destroy(),this.onDestroyed=void 0},e.prototype.destroyed=function(){return void 0===this.id},e.prototype.inUse=function(){return!1},e.prototype._assetPathFilter=function(t){return t},e}();t.Asset=e;var r=function(t){function e(e,i,r,n){var o=t.call(this,e,i)||this;return o.width=r,o.height=n,o}return i(e,t),e.prototype.initialize=function(t){this.hint=t},e}(e);t.ImageAsset=r;var n=function(t){function e(e,i,r,n,o,s,a){var h=t.call(this,e,i,r,n)||this;return h.realWidth=0,h.realHeight=0,h._system=o,h._loop=s,h._useRealSize=a,h}return i(e,t),e.prototype.play=function(t){return this.getPlayer().play(this),this.getPlayer()},e.prototype.stop=function(){this.getPlayer().stop()},e.prototype.destroy=function(){this._system=void 0,t.prototype.destroy.call(this)},e}(r);t.VideoAsset=n;var o=function(t){function e(e,i,r,n,o,s){var a=t.call(this,e,i)||this;return a.duration=r,a.loop=o,a.hint=s,a._system=n,a.data=void 0,a}return i(e,t),e.prototype.play=function(){var t=this._system.createPlayer();return t.play(this),this._lastPlayedPlayer=t,t},e.prototype.stop=function(){for(var t=this._system.findPlayers(this),e=0;e<t.length;++e)t[e].stop()},e.prototype.inUse=function(){return this._system.findPlayers(this).length>0},e.prototype.destroy=function(){this._system&&this.stop(),this.data=void 0,this._system=void 0,this._lastPlayedPlayer=void 0,t.prototype.destroy.call(this)},e}(e);t.AudioAsset=o;var s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.data=void 0,r}return i(e,t),e.prototype.destroy=function(){this.data=void 0,t.prototype.destroy.call(this)},e}(e);t.TextAsset=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.destroy=function(){this.script=void 0,t.prototype.destroy.call(this)},e}(e);t.ScriptAsset=a}(t||(t={}));var t;!function(t){function e(t){t=t||{};var e={music:{loop:!0,hint:{streaming:!0}},sound:{loop:!1,hint:{streaming:!1}}};for(var i in e)i in t||(t[i]=e[i]);return t}var i=function(){function t(t,e){this.asset=t,this.handlers=[e],this.errorCount=0,this.loading=!1}return t}(),r=function(){function r(t,i,r,n){this.game=t,this.configuration=this._normalize(i||{},e(r)),this._assets={},this._liveAssetVirtualPathTable={},this._liveAbsolutePathTable={},this._moduleMainScripts=n||{},this._refCounts={},this._loadings={}}return r.prototype.destroy=function(){for(var t=Object.keys(this._refCounts),e=0;e<t.length;++e)this._releaseAsset(t[e]);this.game=void 0,this.configuration=void 0,this._assets=void 0,this._liveAssetVirtualPathTable=void 0,this._liveAbsolutePathTable=void 0,this._refCounts=void 0,this._loadings=void 0},r.prototype.destroyed=function(){return void 0===this.game},r.prototype.retryLoad=function(e){if(!this._loadings.hasOwnProperty(e.id))throw t.ExceptionFactory.createAssertionError(\"AssetManager#retryLoad: invalid argument.\");var i=this._loadings[e.id];if(i.errorCount>r.MAX_ERROR_COUNT){if(!this.configuration[e.id])return;throw t.ExceptionFactory.createAssertionError(\"AssetManager#retryLoad: too many retrying.\")}i.loading||(i.loading=!0,e._load(this))},r.prototype.globalAssetIds=function(){var t=[],e=this.configuration;for(var i in e)e.hasOwnProperty(i)&&e[i].global&&t.push(i);return t},r.prototype.requestAsset=function(t,e){var r,n=\"string\"==typeof t?t:t.id,o=!1;if(this._assets.hasOwnProperty(n))++this._refCounts[n],e._onAssetLoad(this._assets[n]);else if(this._loadings.hasOwnProperty(n))r=this._loadings[n],r.handlers.push(e),++this._refCounts[n],o=!0;else{var s=this._createAssetFor(t);r=new i(s,e),this._loadings[n]=r,this._refCounts[n]=1,o=!0,r.loading=!0,s._load(this)}return o},r.prototype.unrefAsset=function(t){var e=\"string\"==typeof t?t:t.id;--this._refCounts[e]>0||this._releaseAsset(e)},r.prototype.requestAssets=function(t,e){for(var i=0,r=0,n=t.length;r<n;++r)this.requestAsset(t[r],e)&&++i;return i},r.prototype.unrefAssets=function(t){for(var e=0,i=t.length;e<i;++e)this.unrefAsset(t[e])},r.prototype._normalize=function(e,i){var r={};if(!(e instanceof Object))throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: invalid arguments.\");for(var n in e)if(e.hasOwnProperty(n)){var o=Object.create(e[n]);if(!o.path)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: No path given for: \"+n);if(!o.virtualPath)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: No virtualPath given for: \"+n);if(!o.type)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: No type given for: \"+n);if(\"image\"===o.type){if(\"number\"!=typeof o.width)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong width given for the image asset: \"+n);if(\"number\"!=typeof o.height)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong height given for the image asset: \"+n)}if(\"audio\"===o.type){void 0===o.duration&&(o.duration=0);var s=i[o.systemId];void 0===o.loop&&(o.loop=!!s&&!!s.loop),void 0===o.hint&&(o.hint=s?s.hint:{})}if(\"video\"===o.type&&!o.useRealSize){if(\"number\"!=typeof o.width)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong width given for the video asset: \"+n);if(\"number\"!=typeof o.height)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong height given for the video asset: \"+n);o.useRealSize=!1}o.global||(o.global=!1),r[n]=o}return r},r.prototype._createAssetFor=function(e){var i,r,n;if(\"string\"==typeof e)i=e,n=this.configuration[i],r=this.configuration[i].path;else{var o=e;i=o.id,n=o,r=o.uri}var s=this.game.resourceFactory;if(!n)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_createAssetFor: unknown asset ID: \"+i);switch(n.type){case\"image\":var a=s.createImageAsset(i,r,n.width,n.height);return a.initialize(n.hint),a;case\"audio\":var h=n.systemId?this.game.audio[n.systemId]:this.game.audio[this.game.defaultAudioSystemId];return s.createAudioAsset(i,r,n.duration,h,n.loop,n.hint);case\"text\":return s.createTextAsset(i,r);case\"script\":return s.createScriptAsset(i,r);case\"video\":return s.createVideoAsset(i,r,n.width,n.height,new t.VideoSystem,n.loop,n.useRealSize);default:throw t.ExceptionFactory.createAssertionError(\"AssertionError#_createAssetFor: unknown asset type \"+n.type+\" for asset ID: \"+i)}},r.prototype._releaseAsset=function(e){var i,r=this._assets[e]||this._loadings[e]&&this._loadings[e].asset;if(r)if(i=r.path,r.inUse())if(r instanceof t.AudioAsset)r._system.requestDestroy(r);else{if(!(r instanceof t.VideoAsset))throw t.ExceptionFactory.createAssertionError(\"AssetManager#unrefAssets: Unsupported in-use \"+r.id);r.destroy()}else r.destroy();if(delete this._refCounts[e],delete this._loadings[e],delete this._assets[e],this.configuration[e]){var n=this.configuration[e].virtualPath;n&&this._liveAssetVirtualPathTable.hasOwnProperty(n)&&delete this._liveAssetVirtualPathTable[n],i&&this._liveAbsolutePathTable.hasOwnProperty(i)&&delete this._liveAbsolutePathTable[i]}},r.prototype._countLoadingAsset=function(){return Object.keys(this._loadings).length},r.prototype._onAssetError=function(e,i){if(!this.destroyed()&&!e.destroyed()){var n=this._loadings[e.id],o=n.handlers;n.loading=!1,++n.errorCount,n.errorCount>r.MAX_ERROR_COUNT&&i.retriable&&(i=t.ExceptionFactory.createAssetLoadError(\"Retry limit exceeded\",!1,t.AssetLoadErrorType.RetryLimitExceeded,i)),i.retriable||delete this._loadings[e.id];for(var s=0;s<o.length;++s)o[s]._onAssetError(e,i,this)}},r.prototype._onAssetLoad=function(e){if(!this.destroyed()&&!e.destroyed()){var i=this._loadings[e.id];if(i.loading=!1,delete this._loadings[e.id],this._assets[e.id]=e,this.configuration[e.id]){var r=this.configuration[e.id].virtualPath;if(this._liveAssetVirtualPathTable.hasOwnProperty(r)){if(this._liveAssetVirtualPathTable[r].path!==e.path)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_onAssetLoad(): duplicated asset path\")}else this._liveAssetVirtualPathTable[r]=e;this._liveAbsolutePathTable.hasOwnProperty(e.path)||(this._liveAbsolutePathTable[e.path]=r)}for(var n=i.handlers,o=0;o<n.length;++o)n[o]._onAssetLoad(e)}},r.MAX_ERROR_COUNT=3,r}();t.AssetManager=r}(t||(t={}));var t;!function(t){function e(e,i,r){var n,o,s=e._assetManager._liveAssetVirtualPathTable,a=e._assetManager._moduleMainScripts;if(-1===i.indexOf(\"/\")&&e._assetManager._assets.hasOwnProperty(i)&&(n=e._assetManager._assets[i],o=e._assetManager._liveAbsolutePathTable[n.path]),/^\\.\\/|^\\.\\.\\/|^\\//.test(i)){if(r){if(!r._virtualDirname)throw t.ExceptionFactory.createAssertionError(\"g._require: require from DynamicAsset is not supported\");o=t.PathUtil.resolvePath(r._virtualDirname,i)}else{if(!/^\\.\\//.test(i))throw t.ExceptionFactory.createAssertionError(\"g._require: entry point path must start with './'\");o=i.substring(2)}if(e._scriptCaches.hasOwnProperty(o))return e._scriptCaches[o]._cachedValue();if(e._scriptCaches.hasOwnProperty(o+\".js\"))return e._scriptCaches[o+\".js\"]._cachedValue();n||(n=t.Util.findAssetByPathAsFile(o,s)),n||(n=t.Util.findAssetByPathAsDirectory(o,s))}else if(a[i]&&(o=a[i],n=e._assetManager._liveAssetVirtualPathTable[o]),!n){var h=r?r.paths:[];h.push(\"node_modules\");for(var c=0;c<h.length;++c){var u=h[c];if(o=t.PathUtil.resolvePath(u,i),n=t.Util.findAssetByPathAsFile(o,s))break;if(n=t.Util.findAssetByPathAsDirectory(o,s))break}}if(n){if(e._scriptCaches.hasOwnProperty(o))return e._scriptCaches[o]._cachedValue();if(n instanceof t.ScriptAsset){var l=new t.ScriptAssetContext(e,n);return e._scriptCaches[o]=l,l._executeScript(r)}if(n instanceof t.TextAsset&&n&&\".json\"===t.PathUtil.resolveExtname(i)){return(e._scriptCaches[o]=new t.RequireCachedValue(JSON.parse(n.data)))._cachedValue()}}throw t.ExceptionFactory.createAssertionError(\"g._require: can not find module: \"+i)}t._require=e;var i=function(){function e(e,i,r){var n=this,o=t.PathUtil.resolveDirname(r),s=e._assetManager._liveAbsolutePathTable[r],a=s?t.PathUtil.resolveDirname(s):void 0,h=Object.create(t,{game:{value:e,enumerable:!0},filename:{value:r,enumerable:!0},dirname:{value:o,enumerable:!0},module:{value:this,writable:!0,enumerable:!0,configurable:!0}});this.id=i,this.filename=r,this.exports={},this.parent=null,this.loaded=!1,this.children=[],this.paths=a?t.PathUtil.makeNodeModulePaths(a):[],this._dirname=o,this._virtualDirname=a,this._g=h,this.require=function(i){return\"g\"===i?h:t._require(e,i,n)}}return e}();t.Module=i}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this._game=e,this._asset=i,this._module=new t.Module(e,i.path,i.path),this._g=this._module._g,this._started=!1}return e.prototype._cachedValue=function(){if(!this._started)throw t.ExceptionFactory.createAssertionError(\"ScriptAssetContext#_cachedValue: not executed yet.\");return this._module.exports},e.prototype._executeScript=function(t){return this._started?this._module.exports:(t&&(this._module.parent=t,t.children.push(this._module)),this._started=!0,this._asset.execute(this._g),this._module.loaded=!0,this._module.exports)},e}();t.ScriptAssetContext=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,n,o,s){void 0===t?(this._modified=!1,this._matrix=[1,0,0,1,0,0]):\"number\"==typeof t?(this._modified=!1,this._matrix=new Array(6),null!=o&&null!=s?this.updateWithAnchor(t,e,i,r,n,0,0,o,s):this.update(t,e,i,r,n,0,0)):(this._modified=t._modified,this._matrix=[t._matrix[0],t._matrix[1],t._matrix[2],t._matrix[3],t._matrix[4],t._matrix[5]])}return t.prototype.update=function(t,e,i,r,n,o,s){var a=n*Math.PI/180,h=Math.cos(a),c=Math.sin(a),u=h*i,l=c*i,d=c*r,p=h*r,f=t/2,_=e/2;this._matrix[0]=u,this._matrix[1]=l,this._matrix[2]=-d,this._matrix[3]=p,this._matrix[4]=-u*f+d*_+f+o,this._matrix[5]=-l*f-p*_+_+s},t.prototype.updateWithAnchor=function(t,e,i,r,n,o,s,a,h){var c=n*Math.PI/180,u=Math.cos(c),l=Math.sin(c),d=u*i,p=l*i,f=l*r,_=u*r,g=a*t,y=h*e;this._matrix[0]=d,this._matrix[1]=p,this._matrix[2]=-f,this._matrix[3]=_,this._matrix[4]=-d*g+f*y+o,this._matrix[5]=-p*g-_*y+s},t.prototype.updateByInverse=function(t,e,i,r,n,o,s){var a=n*Math.PI/180,h=Math.cos(a),c=Math.sin(a),u=h/i,l=c/r,d=c/i,p=h/r,f=t/2,_=e/2;this._matrix[0]=u,this._matrix[1]=-l,this._matrix[2]=d,this._matrix[3]=p,this._matrix[4]=-u*(f+o)-d*(_+s)+f,this._matrix[5]=l*(f+o)-p*(_+s)+_},t.prototype.updateByInverseWithAnchor=function(t,e,i,r,n,o,s,a,h){var c=n*Math.PI/180,u=Math.cos(c),l=Math.sin(c),d=u/i,p=l/r,f=l/i,_=u/r,g=a*t,y=h*e;this._matrix[0]=d,this._matrix[1]=-p,this._matrix[2]=f,this._matrix[3]=_,this._matrix[4]=-d*o-f*s+g,this._matrix[5]=p*o-_*s+y},t.prototype.multiply=function(t){var e=this._matrix,i=t._matrix,r=e[0],n=e[1],o=e[2],s=e[3];e[0]=r*i[0]+o*i[1],e[1]=n*i[0]+s*i[1],e[2]=r*i[2]+o*i[3],e[3]=n*i[2]+s*i[3],e[4]=r*i[4]+o*i[5]+e[4],e[5]=n*i[4]+s*i[5]+e[5]},t.prototype.multiplyNew=function(t){var e=this.clone();return e.multiply(t),e},t.prototype.reset=function(t,e){this._matrix[0]=1,this._matrix[1]=0,this._matrix[2]=0,this._matrix[3]=1,this._matrix[4]=t||0,this._matrix[5]=e||0},t.prototype.clone=function(){return new t(this)},t.prototype.multiplyInverseForPoint=function(t){var e=this._matrix,i=1/(e[0]*e[3]+e[2]*-e[1]);return{x:e[3]*i*t.x+-e[2]*i*t.y+(e[5]*e[2]-e[4]*e[3])*i,y:e[0]*i*t.y+-e[1]*i*t.x+(-e[5]*e[0]+e[4]*e[1])*i}},t.prototype.scale=function(t,e){var i=this._matrix;i[0]*=t,i[1]*=e,i[2]*=t,i[3]*=e,i[4]*=t,i[5]*=e},t.prototype.multiplyPoint=function(t){var e=this._matrix;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t}();t.PlainMatrix=e}(t||(t={}));var t;!function(t){!function(e){function i(t,e,i,r){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-r,2))}function r(t,i){return e.distance(t.x,t.y,i.x,i.y)}function n(t,i){return e.distance(t.x+t.width/2,t.y+t.height/2,i.x+i.width/2,i.y+i.height/2)}function o(e,i,r,n,o,s,a){return void 0===e?new t.PlainMatrix:new t.PlainMatrix(e,i,r,n,o,s,a)}function s(e,i,r){var n=i.x,o=i.y,s=0,a=0,h=i.width,c=i.height,u=i.calculateBoundingRect(r);if(!u)throw t.ExceptionFactory.createAssertionError(\"Util#createSpriteFromE: camera must look e\");h=u.right-u.left,c=u.bottom-u.top,u.left<i.x&&(s=i.x-u.left),u.top<i.y&&(a=i.y-u.top),i.moveTo(s,a),i._matrix&&(i._matrix._modified=!0);var l=e.game.resourceFactory.createSurface(Math.ceil(h),Math.ceil(c)),d=l.renderer();d.begin(),i.render(d,r),d.end();var p=new t.Sprite({scene:e,src:l,width:h,height:c});return p.moveTo(u.left,u.top),i.moveTo(n,o),i._matrix&&(i._matrix._modified=!0),p}function a(e,i,r){var n=e.game.resourceFactory.createSurface(Math.ceil(i.game.width),Math.ceil(i.game.height)),o=n.renderer();o.begin();for(var s=i.children,a=0;a<s.length;++a)s[a].render(o,r);return o.end(),new t.Sprite({scene:e,src:n,width:i.game.width,height:i.game.height})}function h(e){if(!e)return e;if(e instanceof t.Surface)return e;if(e instanceof t.ImageAsset)return e.asSurface();throw t.ExceptionFactory.createTypeMismatchError(\"Util#asSurface\",\"ImageAsset|Surface\",e)}function c(t,e){return e.hasOwnProperty(t)?e[t]:e.hasOwnProperty(t+\".js\")?e[t+\".js\"]:void 0}function u(i,r){var n;if(n=i+\"/package.json\",r.hasOwnProperty(n)&&r[n]instanceof t.TextAsset){var o=JSON.parse(r[n].data);if(o&&\"string\"==typeof o.main){var s=e.findAssetByPathAsFile(t.PathUtil.resolvePath(i,o.main),r);if(s)return s}}if(n=i+\"/index.js\",r.hasOwnProperty(n))return r[n]}function l(t,e){var i=t.charCodeAt(e);if(55296<=i&&i<=56319){return i<<16|t.charCodeAt(e+1)}return 56320<=i&&i<=57343?null:i}function d(t,e){e.isDynamic&&(e.animatingStarted.add(t._onAnimatingStarted,t),e.animatingStopped.add(t._onAnimatingStopped,t),e.isPlaying()&&t._onAnimatingStarted())}function p(t,e,i){t._onAnimatingStopped(),!e.destroyed()&&e.isDynamic&&(e.animatingStarted.remove(t._onAnimatingStarted,t),e.animatingStopped.remove(t._onAnimatingStopped,t)),i.isDynamic&&(i.animatingStarted.add(t._onAnimatingStarted,t),i.animatingStopped.add(t._onAnimatingStopped,t),i.isPlaying()&&t._onAnimatingStarted())}e.distance=i,e.distanceBetweenOffsets=r,e.distanceBetweenAreas=n,e.createMatrix=o,e.createSpriteFromE=s,e.createSpriteFromScene=a,e.asSurface=h,e.findAssetByPathAsFile=c,e.findAssetByPathAsDirectory=u,e.charCodeAt=l,e.setupAnimatingHandler=d,e.migrateAnimatingHandler=p}(t.Util||(t.Util={}))}(t||(t={}));var t;!function(t){!function(e){function i(t,e,i,r,n,o,s,a){return t<=n+s&&n<=t+i&&e<=o+a&&o<=e+r}function r(t,i){return e.intersect(t.x,t.y,t.width,t.height,i.x,i.y,i.width,i.height)}function n(e,i,r,n,o){return void 0===o&&(o=1),o>=t.Util.distance(e,i,r,n)}function o(e,i,r){return void 0===r&&(r=1),r>=t.Util.distanceBetweenAreas(e,i)}e.intersect=i,e.intersectAreas=r,e.within=n,e.withinAreas=o}(t.Collision||(t.Collision={}))}(t||(t={}));var t;!function(t){var e=function(){function t(){this._handlers=[],this.length=0}return t.prototype.add=function(t,e){if(\"function\"==typeof t)this._handlers.push({func:t,owner:e,once:!1,name:void 0});else{var i=t;\"number\"==typeof i.index?this._handlers.splice(i.index,0,{func:i.func,owner:i.owner,once:!1,name:i.name}):this._handlers.push({func:i.func,owner:i.owner,once:!1,name:i.name})}this.length=this._handlers.length},t.prototype.addOnce=function(t,e){if(\"function\"==typeof t)this._handlers.push({func:t,owner:e,once:!0,name:void 0});else{var i=t;\"number\"==typeof i.index?this._handlers.splice(i.index,0,{func:i.func,owner:i.owner,once:!0,name:i.name}):this._handlers.push({func:i.func,owner:i.owner,once:!0,name:i.name})}this.length=this._handlers.length},t.prototype.handle=function(t,e,i){this.add(e?{owner:t,func:e,name:i}:{func:t})},t.prototype.fire=function(t){if(this._handlers&&this._handlers.length){for(var e=this._handlers.concat(),i=0;i<e.length;i++){var r=e[i];if(r.func.call(r.owner,t)||r.once){var n=this._handlers.indexOf(r);-1!==n&&this._handlers.splice(n,1)}}this._handlers&&(this.length=this._handlers.length)}},t.prototype.contains=function(t,e){for(var i=\"function\"==typeof t?{func:t,owner:e}:t,r=0;r<this._handlers.length;r++)if(this._comparePartial(i,this._handlers[r]))return!0;return!1},t.prototype.remove=function(t,e){for(var i=\"function\"==typeof t?{func:t,owner:e}:t,r=0;r<this._handlers.length;r++){var n=this._handlers[r];if(i.func===n.func&&i.owner===n.owner&&i.name===n.name)return this._handlers.splice(r,1),void--this.length}},t.prototype.removeAll=function(t){var e=[];if(t)for(var i=0;i<this._handlers.length;i++){var r=this._handlers[i];this._comparePartial(t,r)||e.push(r)}this._handlers=e,this.length=this._handlers.length},t.prototype.destroy=function(){this._handlers=null,this.length=null},t.prototype.destroyed=function(){return null===this._handlers},t.prototype._comparePartial=function(t,e){return(void 0===t.func||t.func===e.func)&&((void 0===t.owner||t.owner===e.owner)&&(void 0===t.name||t.name===e.name))},t}();t.Trigger=e;var r=function(t){function e(e,i,r){var n=t.call(this)||this;return n.chain=e,n.filter=i,n.filterOwner=r,n._isActivated=!1,n}return i(e,t),e.prototype.add=function(e,i){t.prototype.add.call(this,e,i),this._isActivated||(this.chain.add(this._onChainTriggerFired,this),this._isActivated=!0)},e.prototype.addOnce=function(e,i){t.prototype.addOnce.call(this,e,i),this._isActivated||(this.chain.add(this._onChainTriggerFired,this),this._isActivated=!0)},e.prototype.remove=function(e,i){t.prototype.remove.call(this,e,i),0===this.length&&this._isActivated&&(this.chain.remove(this._onChainTriggerFired,this),this._isActivated=!1)},e.prototype.removeAll=function(e){t.prototype.removeAll.call(this,e),0===this.length&&this._isActivated&&(this.chain.remove(this._onChainTriggerFired,this),this._isActivated=!1)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.chain.remove(this._onChainTriggerFired,this),this.filter=null,this.filterOwner=null,this._isActivated=!1},e.prototype._onChainTriggerFired=function(t){this.filter&&!this.filter.call(this.filterOwner,t)||this.fire(t)},e}(e);t.ChainTrigger=r}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this.interval=e,this._scaledInterval=Math.round(e*i),this.elapsed=new t.Trigger,this._scaledElapsed=0}return e.prototype.tick=function(){for(this._scaledElapsed+=1e3;this._scaledElapsed>=this._scaledInterval&&this.elapsed;)this.elapsed.fire(),this._scaledElapsed-=this._scaledInterval},e.prototype.canDelete=function(){return!this.elapsed||0===this.elapsed.length},e.prototype.destroy=function(){this.interval=void 0,this.elapsed.destroy(),this.elapsed=void 0,this._scaledInterval=0,this._scaledElapsed=0},e.prototype.destroyed=function(){return void 0===this.elapsed},e}();t.Timer=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,n){this._timer=t,this._handler=e,this._handlerOwner=i,this._fired=r,this._firedOwner=n,this._timer.elapsed.add(this._fire,this)}return t.prototype.destroy=function(){this._timer.elapsed.remove(this._fire,this),this._timer=void 0,this._handler=void 0,this._handlerOwner=void 0,this._fired=void 0,this._firedOwner=void 0},t.prototype.destroyed=function(){return void 0===this._timer},t.prototype._fire=function(){this._handler.call(this._handlerOwner),this._fired&&this._fired.call(this._firedOwner,this)},t}();t.TimerIdentifier=e;var i=function(){function i(t,e){this._timers=[],this._trigger=t,this._identifiers=[],this._fps=e,this._registered=!1}return i.prototype.destroy=function(){for(var t=0;t<this._identifiers.length;++t)this._identifiers[t].destroy();for(var t=0;t<this._timers.length;++t)this._timers[t].destroy();this._timers=void 0,this._trigger=void 0,this._identifiers=void 0,this._fps=void 0},i.prototype.destroyed=function(){return void 0===this._timers},i.prototype.createTimer=function(e){if(this._registered||(this._trigger.add(this._tick,this),this._registered=!0),e<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#createTimer: invalid interval\");e<1&&(e=1);for(var i=Math.min(1e3,e*this._fps),r=0;r<this._timers.length;++r)if(this._timers[r].interval===e&&this._timers[r]._scaledElapsed<i)return this._timers[r];var n=new t.Timer(e,this._fps);return this._timers.push(n),n},i.prototype.deleteTimer=function(e){if(e.canDelete()){var i=this._timers.indexOf(e);if(i<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#deleteTimer: can not find timer\");if(this._timers.splice(i,1),e.destroy(),!this._timers.length){if(!this._registered)throw t.ExceptionFactory.createAssertionError(\"TimerManager#deleteTimer: handler is not handled\");this._trigger.remove(this._tick,this),this._registered=!1}}},i.prototype.setTimeout=function(t,i,r){var n=this.createTimer(i),o=new e(n,t,r,this._onTimeoutFired,this);return this._identifiers.push(o),o},i.prototype.clearTimeout=function(t){this._clear(t)},i.prototype.setInterval=function(t,i,r){var n=this.createTimer(i),o=new e(n,t,r);return this._identifiers.push(o),o},i.prototype.clearInterval=function(t){this._clear(t)},i.prototype._tick=function(){for(var t=this._timers.concat(),e=0;e<t.length;++e)t[e].tick()},i.prototype._onTimeoutFired=function(e){var i=this._identifiers.indexOf(e);if(i<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#_onTimeoutFired: can not find identifier\");this._identifiers.splice(i,1);var r=e._timer;e.destroy(),this.deleteTimer(r)},i.prototype._clear=function(e){var i=this._identifiers.indexOf(e);if(i<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#_clear: can not find identifier\");if(e.destroyed())throw t.ExceptionFactory.createAssertionError(\"TimerManager#_clear: invalid identifier\");this._identifiers.splice(i,1);var r=e._timer;e.destroy(),this.deleteTimer(r)},i}();t.TimerManager=i}(t||(t={}));var t;!function(t){var e=function(){function e(e){this.played=new t.Trigger,this.stopped=new t.Trigger,this.currentAudio=void 0,this.volume=e.volume,this._muted=e._muted,this._playbackRate=e._playbackRate,this._system=e}return e.prototype.play=function(t){this.currentAudio=t,this.played.fire({player:this,audio:t})},e.prototype.stop=function(){var t=this.currentAudio;t&&(this.currentAudio=void 0,this.stopped.fire({player:this,audio:t}))},e.prototype.canHandleStopped=function(){return!0},e.prototype.changeVolume=function(t){this.volume=t},e.prototype._changeMuted=function(t){this._muted=t},e.prototype._changePlaybackRate=function(t){this._playbackRate=t},e.prototype._supportsPlaybackRate=function(){return!1},e.prototype._onVolumeChanged=function(){},e}();t.AudioPlayer=e}(t||(t={}));var t;!function(t){var e=function(){function e(t,e){var i=e._audioSystemManager;this.id=t,this.game=e,this._volume=1,this._destroyRequestedAssets={},this._muted=i._muted,this._playbackRate=i._playbackRate}return Object.defineProperty(e.prototype,\"volume\",{get:function(){return this._volume},set:function(e){if(e<0||e>1||isNaN(e)||\"number\"!=typeof e)throw t.ExceptionFactory.createAssertionError(\"AudioSystem#volume: expected: 0.0-1.0, actual: \"+e);this._volume=e,this._onVolumeChanged()},enumerable:!0,configurable:!0}),e.prototype.requestDestroy=function(t){this._destroyRequestedAssets[t.id]=t},e.prototype._reset=function(){this.stopAll(),this._volume=1,this._destroyRequestedAssets={},this._muted=this.game._audioSystemManager._muted,this._playbackRate=this.game._audioSystemManager._playbackRate},e.prototype._setMuted=function(t){var e=this._muted;this._muted=!!t,this._muted!==e&&this._onMutedChanged()},e.prototype._setPlaybackRate=function(e){if(e<0||isNaN(e)||\"number\"!=typeof e)throw t.ExceptionFactory.createAssertionError(\"AudioSystem#playbackRate: expected: greater or equal to 0.0, actual: \"+e);var i=this._playbackRate;this._playbackRate=e,this._playbackRate!==i&&this._onPlaybackRateChanged()},e}();t.AudioSystem=e;var r=function(e){function r(t,i){var r=e.call(this,t,i)||this;return r._player=void 0,r._suppressingAudio=void 0,r}return i(r,e),Object.defineProperty(r.prototype,\"player\",{get:function(){return this._player||(this._player=this.game.resourceFactory.createAudioPlayer(this),this._player.played.handle(this,this._onPlayerPlayed),this._player.stopped.handle(this,this._onPlayerStopped)),this._player},set:function(t){this._player=t},enumerable:!0,configurable:!0}),r.prototype.findPlayers=function(t){return this.player.currentAudio&&this.player.currentAudio.id===t.id?[this.player]:[]},r.prototype.createPlayer=function(){return this.player},r.prototype.stopAll=function(){this._player&&this._player.stop()},r.prototype._reset=function(){e.prototype._reset.call(this),this._player&&(this._player.played.remove({owner:this,func:this._onPlayerPlayed}),this._player.stopped.remove({owner:this,func:this._onPlayerStopped})),this._player=void 0,this._suppressingAudio=void 0},r.prototype._onVolumeChanged=function(){this.player.changeVolume(this._volume)},r.prototype._onMutedChanged=function(){this.player._changeMuted(this._muted)},r.prototype._onPlaybackRateChanged=function(){var t=this.player;t._changePlaybackRate(this._playbackRate),t._supportsPlaybackRate()||this._onUnsupportedPlaybackRateChanged()},r.prototype._onUnsupportedPlaybackRateChanged=function(){if(1===this._playbackRate&&this._suppressingAudio){var t=this._suppressingAudio;this._suppressingAudio=void 0,t.destroyed()||this.player._changeMuted(!1)}},r.prototype._onPlayerPlayed=function(e){if(e.player!==this._player)throw t.ExceptionFactory.createAssertionError(\"MusicAudioSystem#_onPlayerPlayed: unexpected audio player\");e.player._supportsPlaybackRate()||1!==this._playbackRate&&(e.player._changeMuted(!0),this._suppressingAudio=e.audio)},r.prototype._onPlayerStopped=function(t){this._suppressingAudio&&(this._suppressingAudio=void 0,this.player._changeMuted(!1)),this._destroyRequestedAssets[t.audio.id]&&(delete this._destroyRequestedAssets[t.audio.id],t.audio.destroy())},r}(e);t.MusicAudioSystem=r;var n=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.players=[],r}return i(e,t),e.prototype.createPlayer=function(){var t=this.game.resourceFactory.createAudioPlayer(this);return t.canHandleStopped()&&this.players.push(t),t.played.handle(this,this._onPlayerPlayed),t.stopped.handle(this,this._onPlayerStopped),t},e.prototype.findPlayers=function(t){for(var e=[],i=0;i<this.players.length;++i)this.players[i].currentAudio&&this.players[i].currentAudio.id===t.id&&e.push(this.players[i]);return e},e.prototype.stopAll=function(){for(var t=this.players.concat(),e=0;e<t.length;++e)t[e].stop()},e.prototype._reset=function(){t.prototype._reset.call(this);for(var e=0;e<this.players.length;++e){var i=this.players[e];i.played.remove({owner:this,func:this._onPlayerPlayed}),i.stopped.remove({owner:this,func:this._onPlayerStopped})}this.players=[]},e.prototype._onMutedChanged=function(){for(var t=this.players,e=0;e<t.length;++e)t[e]._changeMuted(this._muted)},e.prototype._onPlaybackRateChanged=function(){for(var t=this.players,e=0;e<t.length;++e)t[e]._changePlaybackRate(this._playbackRate),t[e]._supportsPlaybackRate()||1===this._playbackRate||t[e].stop()},e.prototype._onPlayerPlayed=function(t){\nt.player._supportsPlaybackRate()||1!==this._playbackRate&&t.player.stop()},e.prototype._onPlayerStopped=function(t){var e=this.players.indexOf(t.player);e<0||(t.player.stopped.remove({owner:this,func:this._onPlayerStopped}),this.players.splice(e,1),this._destroyRequestedAssets[t.audio.id]&&(delete this._destroyRequestedAssets[t.audio.id],t.audio.destroy()))},e.prototype._onVolumeChanged=function(){for(var t=0;t<this.players.length;++t)this.players[t].changeVolume(this._volume)},e}(e);t.SoundAudioSystem=n}(t||(t={}));var t;!function(t){var e=function(){function e(e){this._loop=!!e,this.played=new t.Trigger,this.stopped=new t.Trigger,this.currentVideo=void 0,this.volume=1}return e.prototype.play=function(t){this.currentVideo=t,this.played.fire({player:this,video:t}),t.asSurface().animatingStarted.fire()},e.prototype.stop=function(){var t=this.currentVideo;this.stopped.fire({player:this,video:t}),t.asSurface().animatingStopped.fire()},e.prototype.changeVolume=function(t){this.volume=t},e}();t.VideoPlayer=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t}();t.VideoSystem=e}(t||(t={}));var t;!function(t){var e=function(){function e(t){t?(this.x=t.x||0,this.y=t.y||0,this.width=t.width||0,this.height=t.height||0,this.opacity=\"opacity\"in t?t.opacity:1,this.scaleX=\"scaleX\"in t?t.scaleX:1,this.scaleY=\"scaleY\"in t?t.scaleY:1,this.angle=t.angle||0,this.compositeOperation=t.compositeOperation,this.anchorX=t.anchorX,this.anchorY=t.anchorY,this._matrix=void 0):(this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.scaleX=1,this.scaleY=1,this.angle=0,this.compositeOperation=void 0,this.anchorX=void 0,this.anchorY=void 0,this._matrix=void 0)}return e.prototype.moveTo=function(e,i){if(\"number\"==typeof e&&\"number\"!=typeof i)throw t.ExceptionFactory.createAssertionError(\"Object2D#moveTo: arguments must be CommonOffset or pair of x and y as a number.\");\"number\"==typeof e?(this.x=e,this.y=i):(this.x=e.x,this.y=e.y)},e.prototype.moveBy=function(t,e){this.x+=t,this.y+=e},e.prototype.resizeTo=function(e,i){if(\"number\"==typeof e&&\"number\"!=typeof i)throw t.ExceptionFactory.createAssertionError(\"Object2D#resizeTo: arguments must be CommonSize or pair of width and height as a number.\");\"number\"==typeof e?(this.width=e,this.height=i):(this.width=e.width,this.height=e.height)},e.prototype.resizeBy=function(t,e){this.width+=t,this.height+=e},e.prototype.scale=function(t){this.scaleX=t,this.scaleY=t},e.prototype.anchor=function(t,e){this.anchorX=t,this.anchorY=e},e.prototype.getMatrix=function(){if(this._matrix){if(!this._matrix._modified)return this._matrix}else this._matrix=t.Util.createMatrix();return this._updateMatrix(),this._matrix._modified=!1,this._matrix},e.prototype._updateMatrix=function(){null!=this.anchorX&&null!=this.anchorY?this._matrix.updateWithAnchor(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y,this.anchorX,this.anchorY):this.angle||1!==this.scaleX||1!==this.scaleY?this._matrix.update(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y):this._matrix.reset(this.x,this.y)},e}();t.Object2D=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;if(r.children=void 0,r.parent=void 0,r._touchable=!1,r.state=0,r._hasTouchableChildren=!1,r._update=void 0,r._message=void 0,r._pointDown=void 0,r._pointMove=void 0,r._pointUp=void 0,r._targetCameras=void 0,r.tag=i.tag,r.shaderProgram=i.shaderProgram,r.local=i.scene.local!==t.LocalTickMode.NonLocal||!!i.local,i.children)for(var n=0;n<i.children.length;++n)r.append(i.children[n]);return i.parent&&i.parent.append(r),i.targetCameras&&(r.targetCameras=i.targetCameras),\"touchable\"in i&&(r.touchable=i.touchable),i.hidden&&r.hide(),r.id=i.id,i.scene.register(r),r}return i(r,e),Object.defineProperty(r.prototype,\"update\",{get:function(){return this._update||(this._update=new t.ChainTrigger(this.scene.update)),this._update},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"message\",{get:function(){return this._message||(this._message=new t.ChainTrigger(this.scene.message)),this._message},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"pointDown\",{get:function(){return this._pointDown||(this._pointDown=new t.ChainTrigger(this.scene.pointDownCapture,this._isTargetOperation,this)),this._pointDown},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"pointUp\",{get:function(){return this._pointUp||(this._pointUp=new t.ChainTrigger(this.scene.pointUpCapture,this._isTargetOperation,this)),this._pointUp},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"pointMove\",{get:function(){return this._pointMove||(this._pointMove=new t.ChainTrigger(this.scene.pointMoveCapture,this._isTargetOperation,this)),this._pointMove},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"targetCameras\",{get:function(){return this._targetCameras||(this._targetCameras=[])},set:function(t){this._targetCameras=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"touchable\",{get:function(){return this._touchable},set:function(t){this._touchable!==t&&(this._touchable=t,t?this._enableTouchPropagation():this._disableTouchPropagation())},enumerable:!0,configurable:!0}),r.prototype.render=function(t,e){if(this.state&=-5,!(1&this.state)){var i=this._targetCameras;if(!(i&&i.length>0)||e&&-1!==i.indexOf(e)){if(8&this.state){t.translate(this.x,this.y);var r=this.renderSelf(t,e);if(r&&this.children)for(var n=this.children,o=n.length,s=0;s<o;++s)n[s].render(t,e);return void t.translate(-this.x,-this.y)}t.save(),this.angle||1!==this.scaleX||1!==this.scaleY||null!=this.anchorX||null!=this.anchorY?t.transform(this.getMatrix()._matrix):t.translate(this.x,this.y),1!==this.opacity&&t.opacity(this.opacity),void 0!==this.compositeOperation&&t.setCompositeOperation(this.compositeOperation),void 0!==this.shaderProgram&&t.isSupportedShaderProgram()&&t.setShaderProgram(this.shaderProgram);var r=this.renderSelf(t,e);if(r&&this.children)for(var n=this.children,s=0;s<n.length;++s)n[s].render(t,e);t.restore()}}},r.prototype.renderSelf=function(t,e){return!0},r.prototype.game=function(){return this.scene.game},r.prototype.append=function(t){this.insertBefore(t,void 0)},r.prototype.insertBefore=function(t,e){t.parent&&t.remove(),this.children||(this.children=[]),t.parent=this;var i=-1;void 0!==e&&(i=this.children.indexOf(e))>-1?this.children.splice(i,0,t):this.children.push(t),(t._touchable||t._hasTouchableChildren)&&(this._hasTouchableChildren=!0,this._enableTouchPropagation()),this.modified(!0)},r.prototype.remove=function(e){if(void 0===e)return void this.parent.remove(this);var i=this.children?this.children.indexOf(e):-1;if(i<0)throw t.ExceptionFactory.createAssertionError(\"E#remove: invalid child\");this.children[i].parent=void 0,this.children.splice(i,1),(e._touchable||e._hasTouchableChildren)&&(this._findTouchableChildren(this)||(this._hasTouchableChildren=!1,this._disableTouchPropagation())),this.modified(!0)},r.prototype.destroy=function(){if(this.parent&&this.remove(),this.children){for(var e=this.children.length-1;e>=0;--e)this.children[e].destroy();if(0!==this.children.length)throw t.ExceptionFactory.createAssertionError(\"E#destroy: can not destroy all children, \"+this.children.length);this.children=void 0}this._update&&(this._update.destroy(),this._update=void 0),this._message&&(this._message.destroy(),this._message=void 0),this._pointDown&&(this._pointDown.destroy(),this._pointDown=void 0),this._pointMove&&(this._pointMove.destroy(),this._pointMove=void 0),this._pointUp&&(this._pointUp.destroy(),this._pointUp=void 0),this.scene.unregister(this)},r.prototype.destroyed=function(){return void 0===this.scene},r.prototype.modified=function(t){this._matrix&&(this._matrix._modified=!0),this.angle||1!==this.scaleX||1!==this.scaleY||null!=this.anchorX||null!=this.anchorY||1!==this.opacity||void 0!==this.compositeOperation||void 0!==this.shaderProgram?this.state&=-9:this.state|=8,4&this.state||(this.state|=4,this.parent&&this.parent.modified(!0))},r.prototype.shouldFindChildrenByPoint=function(t){return!0},r.prototype.findPointSourceByPoint=function(t,e,i,r){if(!(1&this.state)){var n=this._targetCameras;if(!(n&&n.length>0)||r&&-1!==n.indexOf(r)){e=e?e.multiplyNew(this.getMatrix()):this.getMatrix().clone();var o=e.multiplyInverseForPoint(t);if((this._hasTouchableChildren||i&&this.children&&this.children.length)&&this.shouldFindChildrenByPoint(o))for(var s=this.children.length-1;s>=0;--s){var a=this.children[s];if(i||a._touchable||a._hasTouchableChildren){var h=a.findPointSourceByPoint(t,e,i,r);if(h)return h}}if(i||this._touchable)return 0<=o.x&&this.width>o.x&&0<=o.y&&this.height>o.y?{target:this,point:o}:void 0}}},r.prototype.visible=function(){return 1!=(1&this.state)},r.prototype.show=function(){1&this.state&&(this.state&=-2,this.parent&&this.parent.modified(!0))},r.prototype.hide=function(){1&this.state||(this.state|=1,this.parent&&this.parent.modified(!0))},r.prototype.calculateBoundingRect=function(t){return this._calculateBoundingRect(void 0,t)},r.prototype._calculateBoundingRect=function(t,e){var i=this.getMatrix();if(t&&(i=t.multiplyNew(i)),this.visible()&&(!e||this._targetCameras&&-1!==this._targetCameras.indexOf(e))){for(var r={left:0,right:this.width,top:0,bottom:this.height},n=[{x:r.left,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.top},{x:r.right,y:r.bottom}],o=i.multiplyPoint(n[0]),s={left:o.x,right:o.x,top:o.y,bottom:o.y},a=1;a<n.length;++a)o=i.multiplyPoint(n[a]),s.left>o.x&&(s.left=o.x),s.right<o.x&&(s.right=o.x),s.top>o.y&&(s.top=o.y),s.bottom<o.y&&(s.bottom=o.y);if(void 0!==this.children)for(var a=0;a<this.children.length;++a){var h=this.children[a]._calculateBoundingRect(i,e);h&&(s.left>h.left&&(s.left=h.left),s.right<h.right&&(s.right=h.right),s.top>h.top&&(s.top=h.top),s.bottom<h.bottom&&(s.bottom=h.bottom))}return s}},r.prototype._enableTouchPropagation=function(){for(var t=this.parent;t instanceof r&&!t._hasTouchableChildren;)t._hasTouchableChildren=!0,t=t.parent},r.prototype._disableTouchPropagation=function(){for(var t=this.parent;t instanceof r&&t._hasTouchableChildren&&!this._findTouchableChildren(t);)t._hasTouchableChildren=!1,t=t.parent},r.prototype._isTargetOperation=function(e){return!(1&this.state)&&(e instanceof t.PointEvent&&(this._touchable&&e.target===this))},r.prototype._findTouchableChildren=function(t){if(t.children)for(var e=0;e<t.children.length;++e){if(t.children[e].touchable)return t.children[e];var i=this._findTouchableChildren(t.children[e]);if(i)return i}},r}(t.Object2D);t.E=e}(t||(t={}));var t;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i._shouldRenderChildren=!0,i._cache=void 0,i._renderer=void 0,i._renderedCamera=void 0,i}return i(e,t),e.prototype.invalidate=function(){this.state&=-3,this.modified()},e.prototype.renderSelf=function(t,i){var r=e.PADDING;if(this._renderedCamera!==i&&(this.state&=-3,this._renderedCamera=i),!(2&this.state)){this._cacheSize=this.calculateCacheSize();var n=Math.ceil(this._cacheSize.width)+2*r,o=Math.ceil(this._cacheSize.height)+2*r,s=!this._cache||this._cache.width<n||this._cache.height<o;s&&(this._cache&&!this._cache.destroyed()&&this._cache.destroy(),this._cache=this.scene.game.resourceFactory.createSurface(n,o),this._renderer=this._cache.renderer());var a=this._renderer;a.begin(),s||a.clear(),a.save(),a.translate(r,r),this.renderCache(a,i),a.restore(),this.state|=2,a.end()}return this._cache&&this._cacheSize.width>0&&this._cacheSize.height>0&&(t.translate(-r,-r),this.renderSelfFromCache(t),t.translate(r,r)),this._shouldRenderChildren},e.prototype.renderSelfFromCache=function(t){t.drawImage(this._cache,0,0,this._cacheSize.width+e.PADDING,this._cacheSize.height+e.PADDING,0,0)},e.prototype.destroy=function(){this._cache&&!this._cache.destroyed()&&this._cache.destroy(),this._cache=void 0,t.prototype.destroy.call(this)},e.prototype.calculateCacheSize=function(){return{width:this.width,height:this.height}},e.PADDING=1,e}(t.E);t.CacheableE=e}(t||(t={}));var t;!function(t){!function(t){t[t.Slots=1]=\"Slots\",t[t.Scores=2]=\"Scores\",t[t.Counts=3]=\"Counts\",t[t.Values=4]=\"Values\"}(t.StorageRegion||(t.StorageRegion={}));!function(t){t[t.Asc=0]=\"Asc\",t[t.Desc=1]=\"Desc\"}(t.StorageOrder||(t.StorageOrder={}));!function(t){t[t.Equal=1]=\"Equal\",t[t.GreaterThan=2]=\"GreaterThan\",t[t.LessThan=3]=\"LessThan\"}(t.StorageCondition||(t.StorageCondition={}));!function(t){t[t.Incr=1]=\"Incr\",t[t.Decr=2]=\"Decr\"}(t.StorageCountsOperation||(t.StorageCountsOperation={}));var e=function(){function t(t,e){this._keys=t,this._values=e}return t.prototype.get=function(t){if(void 0===this._values)return[];if(\"number\"==typeof t)return this._values[t];var e=this._keys.indexOf(t);if(-1!==e)return this._values[e];for(var i=0;i<this._keys.length;++i){var r=this._keys[i];if(r.region===t.region&&r.regionKey===t.regionKey&&r.userId===t.userId&&r.gameId===t.gameId)return this._values[i]}return[]},t.prototype.getOne=function(t){var e=this.get(t);if(e)return e[0]},t}();t.StorageValueStore=e;var i=function(){function t(t,i,r){this._loaded=!1,this._storage=t,this._valueStore=new e(i),this._handler=void 0,this._valueStoreSerialization=r}return t.prototype._load=function(t){this._handler=t,this._storage._load&&this._storage._load.call(this._storage,this._valueStore._keys,this,this._valueStoreSerialization)},t.prototype._onLoaded=function(t,e){this._valueStore._values=t,this._loaded=!0,e&&(this._valueStoreSerialization=e),this._handler&&this._handler._onStorageLoaded()},t.prototype._onError=function(t){this._handler&&this._handler._onStorageLoadError(t)},t}();t.StorageLoader=i;var r=function(){function t(t){this._game=t}return t.prototype.write=function(t,e,i){this._write&&this._write(t,e,i)},t.prototype.requestValuesForJoinPlayer=function(t){this._requestedKeysForJoinPlayer=t},t.prototype._createLoader=function(t,e){return new i(this,t,e)},t.prototype._registerWrite=function(t){this._write=t},t.prototype._registerLoad=function(t){this._load=t},t}();t.Storage=r}(t||(t={}));var t;!function(t){var e=function(){function e(t){this.waitingAssetsCount=t.assetIds.length,this._scene=t.scene,this._assetManager=t.assetManager,this._assetIds=t.assetIds,this._assets=[],this._handler=t.handler,this._handlerOwner=t.handlerOwner||null,this._direct=!!t.direct,this._requested=!1}return e.prototype.request=function(){return 0!==this.waitingAssetsCount&&(!!this._requested||(this._requested=!0,this._assetManager.requestAssets(this._assetIds,this),!0))},e.prototype.destroy=function(){this._requested&&this._assetManager.unrefAssets(this._assets),this.waitingAssetsCount=0,this._scene=void 0,this._assetIds=void 0,this._handler=void 0,this._requested=!1},e.prototype.destroyed=function(){return!this._scene},e.prototype.callHandler=function(){this._handler.call(this._handlerOwner)},e.prototype._onAssetError=function(t,e,i){if(!this.destroyed()&&!this._scene.destroyed()){var r={asset:t,error:e,cancelRetry:!1};this._scene.assetLoadFailed.fire(r),e.retriable&&!r.cancelRetry?this._assetManager.retryLoad(t):this._assetManager.configuration[t.id]&&(this._scene.game.terminateGame(),this._scene.game._abortGame()),this._scene.assetLoadCompleted.fire(t)}},e.prototype._onAssetLoad=function(e){if(!this.destroyed()&&!this._scene.destroyed()){if(this._scene.assets[e.id]=e,this._scene.assetLoaded.fire(e),this._scene.assetLoadCompleted.fire(e),this._assets.push(e),--this.waitingAssetsCount<0)throw t.ExceptionFactory.createAssertionError(\"SceneAssetHolder#_onAssetLoad: broken waitingAssetsCount\");this.waitingAssetsCount>0||(this._direct?this.callHandler():this._scene.game._callSceneAssetHolderHandler(this))}},e}();t.SceneAssetHolder=e;var i;!function(t){t[t.Destroyed=0]=\"Destroyed\",t[t.Standby=1]=\"Standby\",t[t.Active=2]=\"Active\",t[t.Deactive=3]=\"Deactive\",t[t.BeforeDestroyed=4]=\"BeforeDestroyed\"}(i=t.SceneState||(t.SceneState={}));var r;!function(t){t[t.Initial=0]=\"Initial\",t[t.Ready=1]=\"Ready\",t[t.ReadyFired=2]=\"ReadyFired\",t[t.LoadedFired=3]=\"LoadedFired\"}(r=t.SceneLoadState||(t.SceneLoadState={}));var n=function(){function n(n){var o,s,a,h;o=n.game,h=n.assetIds,n.storageKeys?(this._storageLoader=o.storage._createLoader(n.storageKeys,n.storageValuesSerialization),this.storageValues=this._storageLoader._valueStore):(this._storageLoader=void 0,this.storageValues=void 0),s=void 0===n.local?t.LocalTickMode.NonLocal:!1===n.local?t.LocalTickMode.NonLocal:!0===n.local?t.LocalTickMode.FullLocal:n.local,a=void 0!==n.tickGenerationMode?n.tickGenerationMode:t.TickGenerationMode.ByClock,this.name=n.name,h||(h=[]),this.game=o,this.local=s,this.tickGenerationMode=a,this.loaded=new t.Trigger,this._ready=new t.Trigger,this.assets={},this._loaded=!1,this._prefetchRequested=!1,this._loadingState=r.Initial,this.update=new t.Trigger,this._timer=new t.TimerManager(this.update,this.game.fps),this.assetLoaded=new t.Trigger,this.assetLoadFailed=new t.Trigger,this.assetLoadCompleted=new t.Trigger,this.message=new t.Trigger,this.pointDownCapture=new t.Trigger,this.pointMoveCapture=new t.Trigger,this.pointUpCapture=new t.Trigger,this.operation=new t.Trigger,this.children=[],this.state=i.Standby,this.stateChanged=new t.Trigger,this._assetHolders=[],this._sceneAssetHolder=new e({scene:this,assetManager:this.game._assetManager,assetIds:h,handler:this._onSceneAssetsLoad,handlerOwner:this,direct:!0})}return n.prototype.modified=function(t){this.game.modified=!0},n.prototype.destroy=function(){this.state=i.BeforeDestroyed,this.stateChanged.fire(this.state);var t=this.game.db;for(var e in t)t.hasOwnProperty(e)&&t[e].scene===this&&t[e].destroy();var t=this.game._localDb;for(var e in t)t.hasOwnProperty(e)&&t[e].scene===this&&t[e].destroy();this._timer.destroy(),this.update.destroy(),this.message.destroy(),this.pointDownCapture.destroy(),this.pointMoveCapture.destroy(),this.pointUpCapture.destroy(),this.operation.destroy(),this.loaded.destroy(),this.assetLoaded.destroy(),this.assetLoadFailed.destroy(),this.assetLoadCompleted.destroy(),this.assets={};for(var r=0;r<this._assetHolders.length;++r)this._assetHolders[r].destroy();this._sceneAssetHolder.destroy(),this._storageLoader=void 0,this.game=void 0,this.state=i.Destroyed,this.stateChanged.fire(this.state),this.stateChanged.destroy()},n.prototype.destroyed=function(){return void 0===this.game},n.prototype.createTimer=function(t){return this._timer.createTimer(t)},n.prototype.deleteTimer=function(t){this._timer.deleteTimer(t)},n.prototype.setInterval=function(t,e,i){var r=this._timer;return\"number\"==typeof t?(this.game.logger.warn(\"[deprecated] Scene#setInterval(): this arguments ordering is now deprecated. Specify the function first.\"),null!=i?r.setInterval(i,t,e):r.setInterval(e,t,null)):r.setInterval(t,e,i)},n.prototype.clearInterval=function(t){this._timer.clearInterval(t)},n.prototype.setTimeout=function(t,e,i){var r=this._timer;return\"number\"==typeof t?(this.game.logger.warn(\"[deprecated] Scene#setTimeout(): this arguments ordering is now deprecated. Specify the function first.\"),null!=i?r.setTimeout(i,t,e):r.setTimeout(e,t,null)):r.setTimeout(t,e,i)},n.prototype.clearTimeout=function(t){this._timer.clearTimeout(t)},n.prototype.isCurrentScene=function(){return this.game.scene()===this},n.prototype.gotoScene=function(e,i){if(!this.isCurrentScene())throw t.ExceptionFactory.createAssertionError(\"Scene#gotoScene: this scene is not the current scene\");i?this.game.pushScene(e):this.game.replaceScene(e)},n.prototype.end=function(){if(!this.isCurrentScene())throw t.ExceptionFactory.createAssertionError(\"Scene#end: this scene is not the current scene\");this.game.popScene()},n.prototype.register=function(t){this.game.register(t),t.scene=this},n.prototype.unregister=function(t){t.scene=void 0,this.game.unregister(t)},n.prototype.append=function(t){this.insertBefore(t,void 0)},n.prototype.insertBefore=function(t,e){t.parent&&t.remove(),t.parent=this;var i=-1;void 0!==e&&(i=this.children.indexOf(e))>-1?this.children.splice(i,0,t):this.children.push(t),this.modified(!0)},n.prototype.remove=function(t){var e=this.children.indexOf(t);-1!==e&&(this.children[e].parent=void 0,this.children.splice(e,1),this.modified(!0))},n.prototype.findPointSourceByPoint=function(e,i,r){var n=this.local!==t.LocalTickMode.NonLocal,o=this.children,s=void 0;r&&r instanceof t.Camera2D&&(s=r.getMatrix());for(var a=o.length-1;a>=0;--a){var h=o[a].findPointSourceByPoint(e,s,i,r);if(h)return h.local=h.target.local||n,h}return{target:void 0,point:void 0,local:n}},n.prototype.prefetch=function(){this._loaded||this._prefetchRequested||(this._prefetchRequested=!0,this._sceneAssetHolder.request())},n.prototype.serializeStorageValues=function(){if(this._storageLoader)return this._storageLoader._valueStoreSerialization},n.prototype.requestAssets=function(i,n){if(this._loadingState<r.ReadyFired)throw t.ExceptionFactory.createAssertionError(\"Scene#requestAsset(): can be called after loaded.\");var o=new e({scene:this,assetManager:this.game._assetManager,assetIds:i,handler:n});this._assetHolders.push(o),o.request()},n.prototype._activate=function(){this.state=i.Active,this.stateChanged.fire(this.state)},n.prototype._deactivate=function(){this.state=i.Deactive,this.stateChanged.fire(this.state)},n.prototype._needsLoading=function(){return this._sceneAssetHolder.waitingAssetsCount>0||this._storageLoader&&!this._storageLoader._loaded},n.prototype._load=function(){if(!this._loaded){this._loaded=!0;var t=this._sceneAssetHolder.request();this._storageLoader&&(this._storageLoader._load(this),t=!0),t||this._notifySceneReady()}},n.prototype._onSceneAssetsLoad=function(){this._loaded&&(this._storageLoader&&!this._storageLoader._loaded||this._notifySceneReady())},n.prototype._onStorageLoadError=function(t){this.game.terminateGame(),this.game._abortGame()},n.prototype._onStorageLoaded=function(){0===this._sceneAssetHolder.waitingAssetsCount&&this._notifySceneReady()},n.prototype._notifySceneReady=function(){this._loadingState=r.Ready,this.game._fireSceneReady(this)},n.prototype._fireReady=function(){this._ready.fire(this),this._loadingState=r.ReadyFired},n.prototype._fireLoaded=function(){this.loaded.fire(this),this._loadingState=r.LoadedFired},n}();t.Scene=n}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=this;return i.local=!0,r=e.call(this,i)||this,r.targetReset=new t.Trigger,r.targetReady=new t.Trigger,r.targetAssetLoaded=new t.Trigger,r._explicitEnd=!!i.explicitEnd,r._targetScene=void 0,r}return i(r,e),r.prototype.destroy=function(){this._clearTargetScene(),e.prototype.destroy.call(this)},r.prototype.reset=function(e){this._clearTargetScene(),this._targetScene=e,this._loadingState<t.SceneLoadState.LoadedFired?this.loaded.addOnce(this._doReset,this):this._doReset()},r.prototype.getTargetWaitingAssetsCount=function(){return this._targetScene?this._targetScene._sceneAssetHolder.waitingAssetsCount:0},r.prototype.end=function(){if(!this._targetScene||this._targetScene._loadingState<t.SceneLoadState.Ready){var e=this._targetScene?t.SceneLoadState[this._targetScene._loadingState]:\"(no scene)\",i=\"LoadingScene#end(): the target scene is in invalid state: \"+e;throw t.ExceptionFactory.createAssertionError(i)}this.game.popScene(!0),this.game._fireSceneLoaded(this._targetScene),this._clearTargetScene()},r.prototype._clearTargetScene=function(){this._targetScene&&(this._targetScene._ready.removeAll({owner:this}),this._targetScene.assetLoaded.removeAll({owner:this}),this._targetScene=void 0)},r.prototype._doReset=function(){this.targetReset.fire(this._targetScene),this._targetScene._loadingState<t.SceneLoadState.ReadyFired?(this._targetScene._ready.add(this._fireTriggerOnTargetReady,this),this._targetScene.assetLoaded.add(this._fireTriggerOnTargetAssetLoad,this),this._targetScene._load()):this._fireTriggerOnTargetReady(this._targetScene)},r.prototype._fireTriggerOnTargetAssetLoad=function(t){this.targetAssetLoaded.fire(t)},r.prototype._fireTriggerOnTargetReady=function(t){this.targetReady.fire(t),this._explicitEnd||this.end()},r}(t.Scene);t.LoadingScene=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._canceller=new t.Object2D,r}return i(r,e),r.prototype.renderSelf=function(t,e){if(!this.children)return!1;if(e){var i=e,r=this._canceller;i.x===r.x&&i.y===r.y&&i.angle===r.angle&&i.scaleX===r.scaleX&&i.scaleY===r.scaleY||(r.x=i.x,r.y=i.y,r.angle=i.angle,r.scaleX=i.scaleX,r.scaleY=i.scaleY,r._matrix&&(r._matrix._modified=!0)),t.save(),t.transform(r.getMatrix()._matrix)}for(var n=this.children,o=0;o<n.length;++o)n[o].render(t,e);return e&&t.restore(),!1},r}(t.E),r=function(r){function n(t){var e=r.call(this,{game:t.game,name:\"akashic:default-loading-scene\"})||this;return e._barWidth=Math.min(t.game.width,Math.max(100,t.game.width/2)),e._barHeight=5,e._gauge=void 0,e._gaugeUpdateCount=0,e._totalWaitingAssetCount=0,e.loaded.handle(e,e._onLoaded),e.targetReset.handle(e,e._onTargetReset),e.targetAssetLoaded.handle(e,e._onTargetAssetLoaded),e}return i(n,r),n.prototype._onLoaded=function(){var i;return this.append(new e({scene:this,children:[new t.FilledRect({scene:this,width:this.game.width,height:this.game.height,cssColor:\"rgba(0, 0, 0, 0.8)\",children:[new t.FilledRect({scene:this,x:(this.game.width-this._barWidth)/2,y:(this.game.height-this._barHeight)/2,width:this._barWidth,height:this._barHeight,cssColor:\"gray\",children:[i=new t.FilledRect({scene:this,width:0,height:this._barHeight,cssColor:\"white\"})]})]})]})),i.update.handle(this,this._onUpdateGuage),this._gauge=i,!0},n.prototype._onUpdateGuage=function(){++this._gaugeUpdateCount;var t=Math.round(205+50*Math.sin(this._gaugeUpdateCount/this.game.fps*(2/3)*(2*Math.PI)));this._gauge.cssColor=\"rgb(\"+t+\",\"+t+\",\"+t+\")\",this._gauge.modified()},n.prototype._onTargetReset=function(t){this._gauge&&(this._gauge.width=0,this._gauge.modified()),this._totalWaitingAssetCount=t._sceneAssetHolder.waitingAssetsCount},n.prototype._onTargetAssetLoaded=function(t){var e=this._targetScene._sceneAssetHolder.waitingAssetsCount;this._gauge.width=Math.ceil((1-e/this._totalWaitingAssetCount)*this._barWidth),this._gauge.modified()},n}(t.LoadingScene);t.DefaultLoadingScene=r}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r.surface=t.Util.asSurface(i.src),\"width\"in i||(r.width=r.surface.width),\"height\"in i||(r.height=r.surface.height),r.srcWidth=\"srcWidth\"in i?i.srcWidth:r.width,r.srcHeight=\"srcHeight\"in i?i.srcHeight:r.height,r.srcX=i.srcX||0,r.srcY=i.srcY||0,r._stretchMatrix=void 0,r._beforeSurface=r.surface,t.Util.setupAnimatingHandler(r,r.surface),r._invalidateSelf(),r}return i(r,e),r.prototype._onUpdate=function(){this.modified()},r.prototype._onAnimatingStarted=function(){this.update.contains(this._onUpdate,this)||this.update.add(this._onUpdate,this)},r.prototype._onAnimatingStopped=function(){this.destroyed()||this.update.remove(this._onUpdate,this)},r.prototype.renderSelf=function(t,e){return this.srcWidth<=0||this.srcHeight<=0||(this._stretchMatrix&&(t.save(),t.transform(this._stretchMatrix._matrix)),t.drawImage(this.surface,this.srcX,this.srcY,this.srcWidth,this.srcHeight,0,0),this._stretchMatrix&&t.restore(),!0)},r.prototype.invalidate=function(){this._invalidateSelf(),this.modified()},r.prototype.destroy=function(t){this.surface&&!this.surface.destroyed()&&(t?this.surface.destroy():this.surface.isDynamic&&(this.surface.animatingStarted.remove(this._onAnimatingStarted,this),this.surface.animatingStopped.remove(this._onAnimatingStopped,this))),this.surface=void 0,e.prototype.destroy.call(this)},r.prototype._invalidateSelf=function(){this.width===this.srcWidth&&this.height===this.srcHeight?this._stretchMatrix=void 0:(this._stretchMatrix=t.Util.createMatrix(),this._stretchMatrix.scale(this.width/this.srcWidth,this.height/this.srcHeight)),this.surface!==this._beforeSurface&&(t.Util.migrateAnimatingHandler(this,this._beforeSurface,this.surface),this._beforeSurface=this.surface)},r}(t.E);t.Sprite=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._lastUsedIndex=0,r.frameNumber=i.frameNumber||0,r.frames=\"frames\"in i?i.frames:[0],r.interval=i.interval,r._timer=void 0,r.loop=null==i.loop||i.loop,r.finished=new t.Trigger,r._modifiedSelf(),r}return i(r,e),r.createBySprite=function(t,e,i){var n=new r({scene:t.scene,src:t.surface,width:void 0===e?t.width:e,height:void 0===i?t.height:i});return n.srcHeight=void 0===i?t.srcHeight:i,n.srcWidth=void 0===e?t.srcWidth:e,n},r.prototype.start=function(){void 0===this.interval&&(this.interval=1e3/this.game().fps),this._timer&&this._free(),this._timer=this.scene.createTimer(this.interval),this._timer.elapsed.add(this._onElapsed,this)},r.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t)},r.prototype.stop=function(){this._timer&&this._free()},r.prototype.modified=function(t){this._modifiedSelf(t),e.prototype.modified.call(this,t)},r.prototype._onElapsed=function(){this.frameNumber===this.frames.length-1?this.loop?this.frameNumber=0:(this.stop(),this.finished.fire()):this.frameNumber++,this.modified()},r.prototype._free=function(){this._timer&&(this._timer.elapsed.remove(this._onElapsed,this),this._timer.canDelete()&&this.scene.deleteTimer(this._timer),this._timer=void 0)},r.prototype._changeFrame=function(){var t=this.frames[this.frameNumber],e=Math.floor(this.surface.width/this.srcWidth);this.srcX=t%e*this.srcWidth,this.srcY=Math.floor(t/e)*this.srcHeight,this._lastUsedIndex=t},r.prototype._modifiedSelf=function(t){this._lastUsedIndex!==this.frames[this.frameNumber]&&this._changeFrame()},r}(t.Sprite);t.FrameSprite=e}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Unknown=0]=\"Unknown\",t[t.Join=1]=\"Join\",t[t.Leave=2]=\"Leave\",t[t.Timestamp=3]=\"Timestamp\",t[t.Seed=4]=\"Seed\",t[t.PointDown=5]=\"PointDown\",t[t.PointMove=6]=\"PointMove\",t[t.PointUp=7]=\"PointUp\",t[t.Message=8]=\"Message\",t[t.Operation=9]=\"Operation\"}(e=t.EventType||(t.EventType={}));var r=function(){function t(t,e,i,r,n,o){this.priority=o,this.local=n,this.player=r,this.pointerId=t,this.target=e,this.point=i}return t}();t.PointEvent=r;var n=function(t){function r(i,r,n,o,s,a){var h=t.call(this,i,r,n,o,s,a)||this;return h.type=e.PointDown,h}return i(r,t),r}(r);t.PointDownEvent=n;var o=function(t){function r(i,r,n,o,s,a,h,c){var u=t.call(this,i,r,n,a,h,c)||this;return u.type=e.PointUp,u.prevDelta=o,u.startDelta=s,u}return i(r,t),r}(r);t.PointUpEvent=o;var s=function(t){function r(i,r,n,o,s,a,h,c){var u=t.call(this,i,r,n,a,h,c)||this;return u.type=e.PointMove,u.prevDelta=o,u.startDelta=s,u}return i(r,t),r}(r);t.PointMoveEvent=s;var a=function(){function t(t,i,r,n){this.type=e.Message,this.priority=n,this.local=r,this.player=i,this.data=t}return t}();t.MessageEvent=a;var h=function(){function t(t,i,r,n,o){this.type=e.Operation,this.priority=o,this.local=n,this.player=r,this.code=t,this.data=i}return t}();t.OperationEvent=h;var c=function(){function t(t,i,r){this.type=e.Join,this.priority=r,this.player=t,this.storageValues=i}return t}();t.JoinEvent=c;var u=function(){function t(t,i){this.type=e.Leave,this.priority=i,this.player=t}return t}();t.LeaveEvent=u;var l=function(){function t(t,i,r){this.type=e.Timestamp,this.priority=r,this.player=i,this.timestamp=t}return t}();t.TimestampEvent=l;var d=function(){function t(t,i){this.type=e.Seed,this.priority=i,this.generator=t}return t}();t.SeedEvent=d}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Error=0]=\"Error\",t[t.Warn=1]=\"Warn\",t[t.Info=2]=\"Info\",t[t.Debug=3]=\"Debug\"}(e=t.LogLevel||(t.LogLevel={}));var i=function(){function i(e){this.game=e,this.logging=new t.Trigger}return i.prototype.destroy=function(){this.game=void 0,this.logging.destroy(),this.logging=void 0},i.prototype.destroyed=function(){return!this.game},i.prototype.error=function(t,i){this.logging.fire({game:this.game,level:e.Error,message:t,cause:i})},i.prototype.warn=function(t,i){this.logging.fire({game:this.game,level:e.Warn,\nmessage:t,cause:i})},i.prototype.info=function(t,i){this.logging.fire({game:this.game,level:e.Info,message:t,cause:i})},i.prototype.debug=function(t,i){this.logging.fire({game:this.game,level:e.Debug,message:t,cause:i})},i}();t.Logger=i}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,n,o){e=this._normalizeConfiguration(e),this.fps=e.fps,this.width=e.width,this.height=e.height,this.renderers=[],this.scenes=[],this.random=null,this.age=0,this.assetBase=r||\"\",this.resourceFactory=i,this.selfId=n||void 0,this.playId=void 0,this._audioSystemManager=new t.AudioSystemManager(this),this.audio={music:new t.MusicAudioSystem(\"music\",this),sound:new t.SoundAudioSystem(\"sound\",this)},this.defaultAudioSystemId=\"sound\",this.storage=new t.Storage(this),this.assets={},this.surfaceAtlasSet=void 0,this.join=new t.Trigger,this.leave=new t.Trigger,this.seed=new t.Trigger,this._eventTriggerMap={},this._eventTriggerMap[t.EventType.Join]=this.join,this._eventTriggerMap[t.EventType.Leave]=this.leave,this._eventTriggerMap[t.EventType.Seed]=this.seed,this._eventTriggerMap[t.EventType.Message]=void 0,this._eventTriggerMap[t.EventType.PointDown]=void 0,this._eventTriggerMap[t.EventType.PointMove]=void 0,this._eventTriggerMap[t.EventType.PointUp]=void 0,this._eventTriggerMap[t.EventType.Operation]=void 0,this.resized=new t.Trigger,this.skippingChanged=new t.Trigger,this.isLastTickLocal=!0,this.lastOmittedLocalTickCount=0,this._loaded=new t.Trigger,this._started=new t.Trigger,this.isLoaded=!1,this.snapshotRequest=new t.Trigger,this.external={},this.logger=new t.Logger(this),this._main=e.main,this._mainParameter=void 0,this._configuration=e,this._assetManager=new t.AssetManager(this,e.assets,e.audio,e.moduleMainScripts);var s=e.operationPlugins||[];this._operationPluginManager=new t.OperationPluginManager(this,o,s),this._operationPluginOperated=new t.Trigger,this._operationPluginManager.operated.add(this._operationPluginOperated.fire,this._operationPluginOperated),this._sceneChanged=new t.Trigger,this._sceneChanged.add(this._updateEventTriggers,this),this._initialScene=new t.Scene({game:this,assetIds:this._assetManager.globalAssetIds(),local:!0,name:\"akashic:initial-scene\"}),this._initialScene.loaded.add(this._onInitialSceneLoaded,this),this._reset({age:0})}return Object.defineProperty(e.prototype,\"focusingCamera\",{get:function(){return this._focusingCamera},set:function(t){t!==this._focusingCamera&&(this.modified&&this.render(this._focusingCamera),this._focusingCamera=t)},enumerable:!0,configurable:!0}),e.prototype.pushScene=function(t){this._sceneChangeRequests.push({type:0,scene:t})},e.prototype.replaceScene=function(t,e){this._sceneChangeRequests.push({type:1,scene:t,preserveCurrent:e})},e.prototype.popScene=function(t){this._sceneChangeRequests.push({type:2,preserveCurrent:t})},e.prototype.scene=function(){if(this.scenes.length)return this.scenes[this.scenes.length-1]},e.prototype.tick=function(t,e){var i=void 0;if(this._isTerminated)return!1;if(this.isLastTickLocal=!t,this.lastOmittedLocalTickCount=e||0,this.scenes.length){if(i=this.scenes[this.scenes.length-1],this.events.length){var r=this.events;this.events=[];for(var n=0;n<r.length;++n){var o=this._eventTriggerMap[r[n].type];o&&o.fire(r[n])}}i.update.fire(),t&&++this.age}return!!this._sceneChangeRequests.length&&(this._flushSceneChangeRequests(),i!==this.scenes[this.scenes.length-1])},e.prototype.render=function(t){t||(t=this.focusingCamera);for(var e=this.renderers,i=0;i<e.length;++i)e[i].draw(this,t);this.modified=!1},e.prototype.findPointSource=function(t,e){return e||(e=this.focusingCamera),this.scene().findPointSourceByPoint(t,!1,e)},e.prototype.register=function(e){if(e.local){if(void 0===e.id)e.id=--this._localIdx;else{if(e.id>0)throw t.ExceptionFactory.createAssertionError(\"Game#register: invalid local id: \"+e.id);if(this._localDb.hasOwnProperty(String(e.id)))throw t.ExceptionFactory.createAssertionError(\"Game#register: conflicted id: \"+e.id);this._localIdx>e.id&&(this._localIdx=e.id)}this._localDb[e.id]=e}else{if(void 0===e.id)e.id=++this._idx;else{if(e.id<0)throw t.ExceptionFactory.createAssertionError(\"Game#register: invalid non-local id: \"+e.id);if(this.db.hasOwnProperty(String(e.id)))throw t.ExceptionFactory.createAssertionError(\"Game#register: conflicted id: \"+e.id);this._idx<e.id&&(this._idx=e.id)}this.db[e.id]=e}},e.prototype.unregister=function(t){t.local?delete this._localDb[t.id]:delete this.db[t.id]},e.prototype.leaveGame=function(){this._leaveGame()},e.prototype.terminateGame=function(){this._leaveGame(),this._isTerminated=!0},e.prototype._fireSceneReady=function(t){this._sceneChangeRequests.push({type:3,scene:t})},e.prototype._fireSceneLoaded=function(e){e._loadingState<t.SceneLoadState.LoadedFired&&this._sceneChangeRequests.push({type:4,scene:e})},e.prototype._callSceneAssetHolderHandler=function(t){this._sceneChangeRequests.push({type:5,assetHolder:t})},e.prototype._normalizeConfiguration=function(e){if(!e)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: invalid arguments\");if(\"assets\"in e||(e.assets={}),\"fps\"in e||(e.fps=30),\"number\"!=typeof e.fps)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: fps must be given as a number\");if(!(0<=e.fps&&e.fps<=60))throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: fps must be a number in (0, 60].\");if(\"number\"!=typeof e.width)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: width must be given as a number\");if(\"number\"!=typeof e.height)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: height must be given as a number\");return e},e.prototype._setAudioPlaybackRate=function(t){this._audioSystemManager._setPlaybackRate(t)},e.prototype._setMuted=function(t){this._audioSystemManager._setMuted(t)},e.prototype._decodeOperationPluginOperation=function(t,e){var i=this._operationPluginManager.plugins;return i[t]&&i[t].decode?i[t].decode(e):e},e.prototype._reset=function(e){if(this._operationPluginManager.stopAll(),this.scene()){for(;this.scene()!==this._initialScene;)this.popScene(),this._flushSceneChangeRequests();this.isLoaded||this.scenes.pop()}switch(e&&(void 0!==e.age&&(this.age=e.age),void 0!==e.randGen&&(this.random=e.randGen)),this._audioSystemManager._reset(),this._loaded.removeAll({func:this._start,owner:this}),this.join.removeAll(),this.leave.removeAll(),this.seed.removeAll(),this.resized.removeAll(),this.skippingChanged.removeAll(),this._idx=0,this._localIdx=0,this._cameraIdx=0,this.db={},this._localDb={},this.events=[],this.modified=!0,this.loadingScene=void 0,this._focusingCamera=void 0,this._scriptCaches={},this.snapshotRequest.removeAll(),this._sceneChangeRequests=[],this._isTerminated=!1,this.vars={},this.surfaceAtlasSet&&this.surfaceAtlasSet.destroy(),this.surfaceAtlasSet=new t.SurfaceAtlasSet({game:this}),this._configuration.defaultLoadingScene){case\"none\":this._defaultLoadingScene=new t.LoadingScene({game:this});break;default:this._defaultLoadingScene=new t.DefaultLoadingScene({game:this})}},e.prototype._destroy=function(){if(this._operationPluginManager.destroy(),this.scene())for(;this.scene()!==this._initialScene;)this.popScene(),this._flushSceneChangeRequests();this._initialScene.destroy(),this.loadingScene&&!this.loadingScene.destroyed()&&this.loadingScene.destroy(),this._defaultLoadingScene.destroyed()||this._defaultLoadingScene.destroy(),this.db=void 0,this.renderers=void 0,this.scenes=void 0,this.random=void 0,this.events=void 0,this.join.destroy(),this.join=void 0,this.leave.destroy(),this.leave=void 0,this.seed.destroy(),this.seed=void 0,this.modified=!1,this.age=0,this.assets=void 0,this.isLoaded=!1,this.loadingScene=void 0,this.assetBase=\"\",this.selfId=void 0;for(var t=Object.keys(this.audio),e=0;e<t.length;++e)this.audio[t[e]].stopAll();this.audio=void 0,this.defaultAudioSystemId=void 0,this.logger.destroy(),this.logger=void 0,this.snapshotRequest.destroy(),this.snapshotRequest=void 0,this.resourceFactory=void 0,this.storage=void 0,this.playId=void 0,this.operationPlugins=void 0,this.resized.destroy(),this.resized=void 0,this.skippingChanged.destroy(),this.skippingChanged=void 0,this._eventTriggerMap=void 0,this._initialScene=void 0,this._defaultLoadingScene=void 0,this._sceneChanged.destroy(),this._sceneChanged=void 0,this._scriptCaches=void 0,this._loaded.destroy(),this._loaded=void 0,this._started.destroy(),this._started=void 0,this._main=void 0,this._mainParameter=void 0,this._assetManager.destroy(),this._assetManager=void 0,this._audioSystemManager._game=void 0,this._audioSystemManager=void 0,this._operationPluginManager=void 0,this._operationPluginOperated.destroy(),this._operationPluginOperated=void 0,this._idx=0,this._localDb={},this._localIdx=0,this._cameraIdx=0,this._isTerminated=!0,this._focusingCamera=void 0,this._configuration=void 0,this._sceneChangeRequests=[],this.surfaceAtlasSet.destroy(),this.surfaceAtlasSet=void 0},e.prototype._loadAndStart=function(t){this._mainParameter=t||{},this.isLoaded?this._start():(this._loaded.add(this._start,this),this.pushScene(this._initialScene),this._flushSceneChangeRequests())},e.prototype._startLoadingGlobalAssets=function(){if(this.isLoaded)throw t.ExceptionFactory.createAssertionError(\"Game#_startLoadingGlobalAssets: already loaded.\");this.pushScene(this._initialScene),this._flushSceneChangeRequests()},e.prototype._updateEventTriggers=function(e){if(this.modified=!0,!e)return this._eventTriggerMap[t.EventType.Message]=void 0,this._eventTriggerMap[t.EventType.PointDown]=void 0,this._eventTriggerMap[t.EventType.PointMove]=void 0,this._eventTriggerMap[t.EventType.PointUp]=void 0,void(this._eventTriggerMap[t.EventType.Operation]=void 0);this._eventTriggerMap[t.EventType.Message]=e.message,this._eventTriggerMap[t.EventType.PointDown]=e.pointDownCapture,this._eventTriggerMap[t.EventType.PointMove]=e.pointMoveCapture,this._eventTriggerMap[t.EventType.PointUp]=e.pointUpCapture,this._eventTriggerMap[t.EventType.Operation]=e.operation,e._activate()},e.prototype._onInitialSceneLoaded=function(){this._initialScene.loaded.remove(this._onInitialSceneLoaded,this),this.assets=this._initialScene.assets,this.isLoaded=!0,this._loaded.fire()},e.prototype._abortGame=function(){},e.prototype._flushSceneChangeRequests=function(){do{var e=this._sceneChangeRequests;this._sceneChangeRequests=[];for(var i=0;i<e.length;++i){var r=e[i];switch(r.type){case 0:var n=this.scene();n&&n._deactivate(),this._doPushScene(r.scene);break;case 1:this._doPopScene(r.preserveCurrent,!1),this._doPushScene(r.scene);break;case 2:this._doPopScene(r.preserveCurrent,!0);break;case 3:r.scene.destroyed()||r.scene._fireReady();break;case 4:r.scene.destroyed()||r.scene._fireLoaded();break;case 5:r.assetHolder.callHandler();break;default:throw t.ExceptionFactory.createAssertionError(\"Game#_flushSceneChangeRequests: unknown scene change request.\")}}}while(this._sceneChangeRequests.length>0)},e.prototype._doPopScene=function(e,i){var r=this.scenes.pop();if(r===this._initialScene)throw t.ExceptionFactory.createAssertionError(\"Game#_doPopScene: invalid call; attempting to pop the initial scene\");e||r.destroy(),i&&this._sceneChanged.fire(this.scene())},e.prototype._start=function(){if(this._operationPluginManager.initialize(),this.operationPlugins=this._operationPluginManager.plugins,!this._main){if(this._mainParameter.snapshot){if(!this.assets.snapshotLoader)throw t.ExceptionFactory.createAssertionError(\"Game#_start: global asset 'snapshotLoader' not found.\");t._require(this,\"snapshotLoader\")(this._mainParameter.snapshot),this._flushSceneChangeRequests()}else{if(!this.assets.mainScene)throw t.ExceptionFactory.createAssertionError(\"Game#_start: global asset 'mainScene' not found.\");var e=t._require(this,\"mainScene\")();this.pushScene(e),this._flushSceneChangeRequests()}return void this._started.fire()}var i=t._require(this,this._main);if(!i||\"function\"!=typeof i)throw t.ExceptionFactory.createAssertionError(\"Game#_start: Entry point '\"+this._main+\"' not found.\");i(this._mainParameter),this._flushSceneChangeRequests(),this._started.fire()},e.prototype._doPushScene=function(e,i){if(i||(i=this.loadingScene||this._defaultLoadingScene),this.scenes.push(e),e._needsLoading()&&e._loadingState<t.SceneLoadState.LoadedFired){if(this._defaultLoadingScene._needsLoading())throw t.ExceptionFactory.createAssertionError(\"Game#_doPushScene: _defaultLoadingScene must not depend on any assets/storages.\");this._doPushScene(i,this._defaultLoadingScene),i.reset(e)}else this._sceneChanged.fire(e),e._loaded||(e._load(),this._fireSceneLoaded(e));this.modified=!0},e}();t.Game=e}(t||(t={}));var t;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i.game=e.game,i.local=!!e.local,i.name=e.name,i._modifiedCount=0,i.width=e.game.width,i.height=e.game.height,i.id=i.local?void 0:i.game._cameraIdx++,i}return i(e,t),e.deserialize=function(t,i){var r=t;r.param.game=i;var n=new e(r.param);return n.id=r.id,n},e.prototype.modified=function(){this._modifiedCount=(this._modifiedCount+1)%32768,this._matrix&&(this._matrix._modified=!0),this.game.modified=!0},e.prototype.serialize=function(){return{id:this.id,param:{game:void 0,local:this.local,name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,opacity:this.opacity,scaleX:this.scaleX,scaleY:this.scaleY,angle:this.angle,compositeOperation:this.compositeOperation}}},e.prototype._applyTransformToRenderer=function(t){this.angle||1!==this.scaleX||1!==this.scaleY||null!=this.anchorX||null!=this.anchorY?t.transform(this.getMatrix()._matrix):t.translate(-this.x,-this.y),1!==this.opacity&&t.opacity(this.opacity)},e.prototype._updateMatrix=function(){null!=this.anchorX&&null!=this.anchorY?this._matrix.updateByInverseWithAnchor(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y,this.anchorX,this.anchorY):this.angle||1!==this.scaleX||1!==this.scaleY?this._matrix.updateByInverse(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y):this._matrix.reset(-this.x,-this.y)},e}(t.Object2D);t.Camera2D=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.prototype.draw=function(t,e){var i=t.scene();if(i){this.begin(),this.save(),this.clear(),e&&(this.save(),e._applyTransformToRenderer(this));for(var r=i.children,n=0;n<r.length;++n)r[n].render(this,e);e&&this.restore(),this.restore(),this.end()}},t.prototype.begin=function(){},t.prototype.end=function(){},t}();t.Renderer=e}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,n){if(void 0===n&&(n=!1),e%1!=0||i%1!=0)throw t.ExceptionFactory.createAssertionError(\"Surface#constructor: width and height must be integers\");this.width=e,this.height=i,r&&(this._drawable=r),this.isDynamic=n,this.isDynamic?(this.animatingStarted=new t.Trigger,this.animatingStopped=new t.Trigger):(this.animatingStarted=void 0,this.animatingStopped=void 0)}return e.prototype.destroy=function(){this.animatingStarted&&this.animatingStarted.destroy(),this.animatingStopped&&this.animatingStopped.destroy(),this._destroyed=!0},e.prototype.destroyed=function(){return!!this._destroyed},e}();t.Surface=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r.text=i.text,r.font=i.font,r.textAlign=\"textAlign\"in i?i.textAlign:t.TextAlign.Left,r.glyphs=new Array(i.text.length),r.fontSize=i.fontSize,r.maxWidth=i.maxWidth,r.widthAutoAdjust=!(\"widthAutoAdjust\"in i)||i.widthAutoAdjust,r.textColor=i.textColor,r._textWidth=0,r._game=void 0,r._overhangLeft=0,r._overhangRight=0,r._invalidateSelf(),r}return i(r,e),r.prototype.aligning=function(t,e){this.width=t,this.widthAutoAdjust=!1,this.textAlign=e},r.prototype.invalidate=function(){this._invalidateSelf(),e.prototype.invalidate.call(this)},r.prototype.renderSelfFromCache=function(e){var i;switch(this.textAlign){case t.TextAlign.Center:i=this.widthAutoAdjust?this._overhangLeft:0;break;case t.TextAlign.Right:i=this.widthAutoAdjust?this._overhangLeft:this._overhangRight;break;default:i=this._overhangLeft}e.drawImage(this._cache,0,0,this._cacheSize.width+t.CacheableE.PADDING,this._cacheSize.height+t.CacheableE.PADDING,i,0)},r.prototype.renderCache=function(e){if(!(!this.fontSize||this.height<=0||this._textWidth<=0)){var i=this.maxWidth>0&&this.maxWidth<this._textWidth?this.maxWidth/this._textWidth:1,r=0;switch(this.textAlign){case t.TextAlign.Center:r=this.width/2-(this._textWidth+this._overhangLeft)/2*i;break;case t.TextAlign.Right:r=this.width-(this._textWidth+this._overhangLeft)*i;break;default:r-=this._overhangLeft*i}e.translate(r,0),1!==i&&e.transform([i,0,0,1,0,0]),e.save();for(var n=this.fontSize/this.font.size,o=0;o<this.glyphs.length;++o){var s=this.glyphs[o],a=s.advanceWidth*n,h=s.code;s.isSurfaceValid||(s=this.font.glyphForCharacter(h))?(s.surface&&(e.save(),e.transform([n,0,0,n,0,0]),e.drawImage(s.surface,s.x,s.y,s.width,s.height,s.offsetX,s.offsetY),e.restore()),e.translate(a,0)):this._outputOfWarnLogWithNoGlyph(h,\"renderCache()\")}e.restore(),e.save(),this.textColor&&(e.setCompositeOperation(t.CompositeOperation.SourceAtop),e.fillRect(0,0,this._textWidth,this.height,this.textColor)),e.restore()}},r.prototype.destroy=function(){e.prototype.destroy.call(this)},r.prototype._invalidateSelf=function(){if(this.glyphs.length=0,this._textWidth=0,!this.fontSize)return void(this.height=0);for(var e=this.text.length-1,i=this.text.length-1;i>=0;--i){var r=t.Util.charCodeAt(this.text,i);if(r){var n=this.font.glyphForCharacter(r);if(n&&0!==n.width&&0!==n.advanceWidth){e=i;break}}}for(var o=0,s=this.font.size>0?this.fontSize/this.font.size:0,i=0;i<=e;++i){var a=t.Util.charCodeAt(this.text,i);if(a){var n=this.font.glyphForCharacter(a);if(n){if(!(n.width<0||n.height<0||n.x<0||n.y<0)){this.glyphs.push(n);var h=0;0===i&&(this._overhangLeft=Math.min(n.offsetX,0),h=-this._overhangLeft),i===e&&(this._overhangRight=Math.max(n.width+n.offsetX-n.advanceWidth,0),h+=this._overhangRight),this._textWidth+=(n.advanceWidth+h)*s;var c=n.offsetY+n.height;o<c&&(o=c)}}else this._outputOfWarnLogWithNoGlyph(a,\"_invalidateSelf()\")}}this.widthAutoAdjust&&(this.width=this._textWidth),this.height=o*s},r.prototype._outputOfWarnLogWithNoGlyph=function(t,e){var i=4294901760&t?String.fromCharCode((4294901760&t)>>>16,65535&t):String.fromCharCode(t);this.game().logger.warn(\"Label#\"+e+\": failed to get a glyph for '\"+i+\"' (BitmapFont might not have the glyph or DynamicFont might create a glyph larger than its atlas).\")},r}(t.CacheableE);t.Label=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,n,o,s,a,h,c){void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=r),void 0===c&&(c=!!h),this.code=t,this.x=e,this.y=i,this.width=r,this.height=n,this.offsetX=o,this.offsetY=s,this.advanceWidth=a,this.surface=h,this.isSurfaceValid=c,this._atlas=null}return t.prototype.renderingWidth=function(t){return this.width&&this.height?t/this.height*this.width:0},t}();t.Glyph=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;if(\"string\"!=typeof i.cssColor)throw t.ExceptionFactory.createTypeMismatchError(\"ColorBox#constructor(cssColor)\",\"string\",i.cssColor);return r.cssColor=i.cssColor,r}return i(r,e),r.prototype.renderSelf=function(t){return t.fillRect(0,0,this.width,this.height,this.cssColor),!0},r}(t.E);t.FilledRect=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._oldWidth=i.width,r._oldHeight=i.height,r.backgroundImage=t.Util.asSurface(i.backgroundImage),r.backgroundEffector=i.backgroundEffector,r._shouldRenderChildren=!1,r._padding=i.padding,r._initialize(),r._paddingChanged=!1,r._bgSurface=void 0,r._bgRenderer=void 0,r}return i(r,e),Object.defineProperty(r.prototype,\"padding\",{get:function(){return this._padding},set:function(t){this._padding=t,this._paddingChanged=!0},enumerable:!0,configurable:!0}),r.prototype.modified=function(t){t&&(this.state&=-3),e.prototype.modified.call(this)},r.prototype.shouldFindChildrenByPoint=function(t){var e=this._normalizedPadding;return e.left<t.x&&this.width-e.right>t.x&&e.top<t.y&&this.height-e.bottom>t.y},r.prototype.renderCache=function(t,e){this.width<=0||this.height<=0||(this._renderBackground(),this._renderChildren(e),this._bgSurface?t.drawImage(this._bgSurface,0,0,this.width,this.height,0,0):this.backgroundImage&&t.drawImage(this.backgroundImage,0,0,this.width,this.height,0,0),this._childrenArea.width<=0||this._childrenArea.height<=0||(t.save(),0===this._childrenArea.x&&0===this._childrenArea.y||t.translate(this._childrenArea.x,this._childrenArea.y),t.drawImage(this._childrenSurface,0,0,this._childrenArea.width,this._childrenArea.height,0,0),t.restore()))},r.prototype.destroy=function(t){t&&this.backgroundImage&&!this.backgroundImage.destroyed()&&this.backgroundImage.destroy(),this._bgSurface&&!this._bgSurface.destroyed()&&this._bgSurface.destroy(),this._childrenSurface&&!this._childrenSurface.destroyed()&&this._childrenSurface.destroy(),this.backgroundImage=void 0,this._bgSurface=void 0,this._childrenSurface=void 0,e.prototype.destroy.call(this)},r.prototype._renderBackground=function(){if(this.backgroundImage&&this.backgroundEffector){var t=this.backgroundEffector.render(this.backgroundImage,this.width,this.height);this._bgSurface!==t&&(this._bgSurface&&!this._bgSurface.destroyed()&&this._bgSurface.destroy(),this._bgSurface=t)}else this._bgSurface=void 0},r.prototype._renderChildren=function(t){var e=this._oldWidth!==this.width||this._oldHeight!==this.height||this._paddingChanged;if(e&&(this._initialize(),this._paddingChanged=!1,this._oldWidth=this.width,this._oldHeight=this.height),this._childrenRenderer.begin(),e||this._childrenRenderer.clear(),this.children)for(var i=this.children,r=0;r<i.length;++r)i[r].render(this._childrenRenderer,t);this._childrenRenderer.end()},r.prototype._initialize=function(){var t,e=void 0===this._padding?0:this._padding;t=\"number\"==typeof e?{top:e,bottom:e,left:e,right:e}:this._padding,this._childrenArea={x:t.left,y:t.top,width:this.width-t.left-t.right,height:this.height-t.top-t.bottom};var i=this.scene.game.resourceFactory;this._childrenSurface&&!this._childrenSurface.destroyed()&&this._childrenSurface.destroy(),this._childrenSurface=i.createSurface(Math.ceil(this._childrenArea.width),Math.ceil(this._childrenArea.height)),this._childrenRenderer=this._childrenSurface.renderer(),this._normalizedPadding=t},r.prototype._calculateBoundingRect=function(t,e){var i=this.getMatrix();if(t&&(i=t.multiplyNew(i)),this.visible()&&(!e||this._targetCameras&&-1!==this._targetCameras.indexOf(e))){for(var r={left:0,right:this.width,top:0,bottom:this.height},n=[{x:r.left,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.top},{x:r.right,y:r.bottom}],o=i.multiplyPoint(n[0]),s={left:o.x,right:o.x,top:o.y,bottom:o.y},a=1;a<n.length;++a)o=i.multiplyPoint(n[a]),s.left>o.x&&(s.left=o.x),s.right<o.x&&(s.right=o.x),s.top>o.y&&(s.top=o.y),s.bottom<o.y&&(s.bottom=o.y);return s}},r}(t.CacheableE);t.Pane=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i){this._code=t,this._handler=i,this._handlerOwner=e}return t.prototype.onOperation=function(t){var e;t instanceof Array?e={_code:this._code,data:t}:(e=t,e._code=this._code),this._handler.call(this._handlerOwner,e)},t}(),i=function(){function i(e,i,r){this.operated=new t.Trigger,this.plugins={},this._game=e,this._viewInfo=i,this._infos=r,this._initialized=!1}return i.prototype.initialize=function(){this._initialized||(this._initialized=!0,this._loadOperationPlugins()),this._doAutoStart()},i.prototype.destroy=function(){this.stopAll(),this.operated.destroy(),this.operated=void 0,this.plugins=void 0,this._game=void 0,this._viewInfo=void 0,this._infos=void 0},i.prototype.stopAll=function(){if(this._initialized)for(var t=0;t<this._infos.length;++t){var e=this._infos[t];e._plugin&&e._plugin.stop()}},i.prototype._doAutoStart=function(){for(var t=0;t<this._infos.length;++t){var e=this._infos[t];!e.manualStart&&e._plugin&&e._plugin.start()}},i.prototype._loadOperationPlugins=function(){for(var i=0;i<this._infos.length;++i){var r=this._infos[i];if(r.script){var n=t._require(this._game,r.script);if(n.isSupported()){var o=new n(this._game,this._viewInfo,r.option),s=r.code;if(this.plugins[s])throw new Error(\"Plugin#code conflicted for code: \"+s);this.plugins[s]=o,r._plugin=o;var a=new e(s,this.operated,this.operated.fire);o.operationTrigger.handle(a,a.onOperation)}}}},i}();t.OperationPluginManager=i}(t||(t={}));var t;t||(t={});var t;!function(t){var e=function(){function e(){}return e.prototype.measureText=function(e){for(var i,r=0,n=0,o=0,s=0;s<e.length;s++){var a=t.Util.charCodeAt(e,s);if(a){var h=this.glyphForCharacter(a);!h||h.x<0||h.y<0||h.width<0||h.height<0||(0===s&&(n=-h.offsetX),i=h,r+=h.advanceWidth)}}return i&&(o=r+i.offsetX+i.width-i.advanceWidth),{width:r,actualBoundingBoxLeft:n,actualBoundingBoxRight:o}},e}();t.Font=e}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Normal=0]=\"Normal\",t[t.Bold=1]=\"Bold\"}(e=t.FontWeight||(t.FontWeight={}));var r=function(r){function n(i){var n=r.call(this)||this;if(n.fontFamily=i.fontFamily,n.size=i.size,n.hint=\"hint\"in i?i.hint:{},n.fontColor=\"fontColor\"in i?i.fontColor:\"black\",n.fontWeight=\"fontWeight\"in i?i.fontWeight:e.Normal,n.strokeWidth=\"strokeWidth\"in i?i.strokeWidth:0,n.strokeColor=\"strokeColor\"in i?i.strokeColor:\"black\",n.strokeOnly=\"strokeOnly\"in i&&i.strokeOnly,n._resourceFactory=i.game.resourceFactory,n._glyphFactory=n._resourceFactory.createGlyphFactory(n.fontFamily,n.size,n.hint.baselineHeight,n.fontColor,n.strokeWidth,n.strokeColor,n.strokeOnly,n.fontWeight),n._glyphs={},n._destroyed=!1,n._isSurfaceAtlasSetOwner=!1,i.surfaceAtlasSet?n._atlasSet=i.surfaceAtlasSet:i.hint?(n._isSurfaceAtlasSetOwner=!0,n._atlasSet=new t.SurfaceAtlasSet({game:i.game,hint:n.hint})):n._atlasSet=i.game.surfaceAtlasSet,n._atlasSet.addAtlas(),n.hint.presetChars)for(var o=0,s=n.hint.presetChars.length;o<s;o++){var a=t.Util.charCodeAt(n.hint.presetChars,o);a&&n.glyphForCharacter(a)}return n}return i(n,r),n.prototype.glyphForCharacter=function(t){var e=this._glyphs[t];if(!e||!e.isSurfaceValid){if(e=this._glyphFactory.create(t),e.surface){var i=this._atlasSet.addGlyph(e);if(!i)return null;e._atlas=i,e._atlas._accessScore+=1}this._glyphs[t]=e}for(var r=0;r<this._atlasSet.getAtlasNum();r++){this._atlasSet.getAtlas(r)._accessScore/=2}return e},n.prototype.asBitmapFont=function(e){var i=this;if(1!==this._atlasSet.getAtlasNum())return null;var r;e&&(r=t.Util.charCodeAt(e,0),this.glyphForCharacter(r));var n={};Object.keys(this._glyphs).forEach(function(t){var e=Number(t),r=i._glyphs[e],o={x:r.x,y:r.y,width:r.width,height:r.height,offsetX:r.offsetX,offsetY:r.offsetY,advanceWidth:r.advanceWidth};n[e]=o});var o=n[r],s=this._atlasSet.getAtlas(0).duplicateSurface(this._resourceFactory);return new t.BitmapFont({src:s,map:n,defaultGlyphWidth:0,defaultGlyphHeight:this.size,missingGlyph:o})},n.prototype.destroy=function(){this._isSurfaceAtlasSetOwner&&this._atlasSet.destroy(),this._glyphs=null,this._glyphFactory=null,this._destroyed=!0},n.prototype.destroyed=function(){return this._destroyed},n}(t.Font);t.DynamicFont=r}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this)||this;return r.surface=t.Util.asSurface(i.src),r.map=i.map,r.defaultGlyphWidth=i.defaultGlyphWidth,r.defaultGlyphHeight=i.defaultGlyphHeight,r.missingGlyph=i.missingGlyph,r.size=i.defaultGlyphHeight,r}return i(r,e),r.prototype.glyphForCharacter=function(e){var i=this.map[e]||this.missingGlyph;if(!i)return null;var r=void 0===i.width?this.defaultGlyphWidth:i.width,n=void 0===i.height?this.defaultGlyphHeight:i.height,o=i.offsetX||0,s=i.offsetY||0,a=void 0===i.advanceWidth?r:i.advanceWidth,h=0===r||0===n?void 0:this.surface;return new t.Glyph(e,i.x,i.y,r,n,o,s,a,h,!0)},r.prototype.destroy=function(){this.surface&&!this.surface.destroyed()&&this.surface.destroy(),this.map=void 0},r.prototype.destroyed=function(){return!this.map},r}(t.Font);t.BitmapFont=e}(t||(t={}));var t;!function(t){function e(t,e,i){for(;t;){if(t.width>=e&&t.height>=i)return t;t=t.next}return null}function i(t){return{width:Math.ceil(Math.min(t.initialAtlasWidth,t.maxAtlasWidth)),height:Math.ceil(Math.min(t.initialAtlasHeight,t.maxAtlasHeight))}}var r=function(){function t(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r,this.prev=null,this.next=null}return t}();t.SurfaceAtlasSlot=r;var n=function(){function t(t){this._surface=t,this._emptySurfaceAtlasSlotHead=new r(0,0,this._surface.width,this._surface.height),this._accessScore=0,this._usedRectangleAreaSize={width:0,height:0}}return t.prototype._acquireSurfaceAtlasSlot=function(t,i){t+=1,i+=1;var n=e(this._emptySurfaceAtlasSlotHead,t,i);if(!n)return null;var o,s,a=n.width-t,h=n.height-i;a<=h?(o=new r(n.x+t,n.y,a,i),s=new r(n.x,n.y+i,n.width,h)):(o=new r(n.x,n.y+i,t,h),s=new r(n.x+t,n.y,a,n.height)),o.prev=n.prev,o.next=s,null===o.prev?this._emptySurfaceAtlasSlotHead=o:o.prev.next=o,s.prev=o,s.next=n.next,s.next&&(s.next.prev=s);var c=new r(n.x,n.y,t,i);return this._updateUsedRectangleAreaSize(c),c},t.prototype._updateUsedRectangleAreaSize=function(t){var e=t.x+t.width,i=t.y+t.height;e>this._usedRectangleAreaSize.width&&(this._usedRectangleAreaSize.width=e),i>this._usedRectangleAreaSize.height&&(this._usedRectangleAreaSize.height=i)},t.prototype.addSurface=function(t){var e=this._acquireSurfaceAtlasSlot(t.width,t.height);if(!e)return null;var i=this._surface.renderer();return i.begin(),i.drawImage(t.surface,t.x,t.y,t.width,t.height,e.x,e.y),i.end(),e},t.prototype.destroy=function(){this._surface.destroy()},t.prototype.destroyed=function(){return this._surface.destroyed()},t.prototype.duplicateSurface=function(t){var e=this._surface,i=t.createSurface(this._usedRectangleAreaSize.width,this._usedRectangleAreaSize.height),r=i.renderer();return r.begin(),r.drawImage(e,0,0,this._usedRectangleAreaSize.width,this._usedRectangleAreaSize.height,0,0),r.end(),i},t}();t.SurfaceAtlas=n;var o=function(){function t(e){this._surfaceAtlases=[],this._atlasGlyphsTable=[],this._resourceFactory=e.game.resourceFactory,this._currentAtlasIndex=0;var r=e.hint?e.hint:{};this._maxAtlasNum=r.maxAtlasNum?r.maxAtlasNum:t.INITIAL_MAX_SURFACEATLAS_NUM,r.initialAtlasWidth=r.initialAtlasWidth?r.initialAtlasWidth:512,r.initialAtlasHeight=r.initialAtlasHeight?r.initialAtlasHeight:512,r.maxAtlasWidth=r.maxAtlasWidth?r.maxAtlasWidth:512,r.maxAtlasHeight=r.maxAtlasHeight?r.maxAtlasHeight:512,this._atlasSize=i(r)}return t.prototype._deleteAtlas=function(t){for(var e=this._removeLeastFrequentlyUsedAtlas(t),i=e.surfaceAtlases,r=0;r<i.length;++r)i[r].destroy()},t.prototype._removeLeastFrequentlyUsedAtlas=function(t){for(var e=[],i=[],r=0;r<t;++r){for(var n=Number.MAX_VALUE,o=-1,s=0;s<this._surfaceAtlases.length;++s)this._surfaceAtlases[s]._accessScore<=n&&(n=this._surfaceAtlases[s]._accessScore,o=s);var a=this._surfaceAtlases.splice(o,1)[0];e.push(a),i.push(this._atlasGlyphsTable.splice(o,1)[0])}return{surfaceAtlases:e,glyphs:i}},t.prototype._moveGlyphSurface=function(t){for(var e=0;e<this._surfaceAtlases.length;++e){var i=(this._currentAtlasIndex+e)%this._surfaceAtlases.length,r=this._surfaceAtlases[i],n=r.addSurface(t);if(n)return this._currentAtlasIndex=i,t.surface.destroy(),t.surface=r._surface,t.x=n.x,t.y=n.y,this._atlasGlyphsTable[i]||(this._atlasGlyphsTable[i]=[]),this._atlasGlyphsTable[i].push(t),r}return null},t.prototype._reallocateAtlas=function(){if(this._surfaceAtlases.length>=this._maxAtlasNum){for(var t=this._removeLeastFrequentlyUsedAtlas(1),e=t.surfaceAtlases[0],i=t.glyphs[0],r=0;r<i.length;r++){var n=i[r];n.surface=null,n.isSurfaceValid=!1,n._atlas=null}e.destroy()}this._surfaceAtlases.push(this._resourceFactory.createSurfaceAtlas(this._atlasSize.width,this._atlasSize.height)),this._currentAtlasIndex=this._surfaceAtlases.length-1},t.prototype.addAtlas=function(){this._surfaceAtlases.length>=this._maxAtlasNum&&this._deleteAtlas(1),\nthis._surfaceAtlases.push(this._resourceFactory.createSurfaceAtlas(this._atlasSize.width,this._atlasSize.height))},t.prototype.getAtlas=function(t){return this._surfaceAtlases[t]},t.prototype.getAtlasNum=function(){return this._surfaceAtlases.length},t.prototype.getMaxAtlasNum=function(){return this._maxAtlasNum},t.prototype.changeMaxAtlasNum=function(t){if(this._maxAtlasNum=t,this._surfaceAtlases.length>this._maxAtlasNum){var e=this._surfaceAtlases.length-this._maxAtlasNum;this._deleteAtlas(e)}},t.prototype.getAtlasSize=function(){return this._atlasSize},t.prototype.addGlyph=function(t){if(t.width>this._atlasSize.width||t.height>this._atlasSize.height)return null;var e=this._moveGlyphSurface(t);return e||(this._reallocateAtlas(),e=this._moveGlyphSurface(t)),e},t.prototype.destroy=function(){for(var t=0;t<this._surfaceAtlases.length;++t)this._surfaceAtlases[t].destroy();this._surfaceAtlases=void 0,this._resourceFactory=void 0,this._atlasGlyphsTable=void 0},t.prototype.destroyed=function(){return void 0===this._surfaceAtlases},t.INITIAL_MAX_SURFACEATLAS_NUM=10,t}();t.SurfaceAtlasSet=o}(t||(t={}));var t;!function(t){var e=function(){function t(t){this._game=t,this._muted=!1,this._playbackRate=1}return t.prototype._reset=function(){this._muted=!1,this._playbackRate=1;var t=this._game.audio;for(var e in t)t.hasOwnProperty(e)&&t[e]._reset()},t.prototype._setMuted=function(t){if(this._muted!==t){this._muted=t;var e=this._game.audio;for(var i in e)e.hasOwnProperty(i)&&e[i]._setMuted(t)}},t.prototype._setPlaybackRate=function(t){if(this._playbackRate!==t){this._playbackRate=t;var e=this._game.audio;for(var i in e)e.hasOwnProperty(i)&&e[i]._setPlaybackRate(t)}},t}();t.AudioSystemManager=e}(t||(t={}));var t;!function(t){!function(t){t[t.SourceOver=0]=\"SourceOver\",t[t.SourceAtop=1]=\"SourceAtop\",t[t.Lighter=2]=\"Lighter\",t[t.Copy=3]=\"Copy\",t[t.ExperimentalSourceIn=4]=\"ExperimentalSourceIn\",t[t.ExperimentalSourceOut=5]=\"ExperimentalSourceOut\",t[t.ExperimentalDestinationAtop=6]=\"ExperimentalDestinationAtop\",t[t.ExperimentalDestinationIn=7]=\"ExperimentalDestinationIn\",t[t.DestinationOut=8]=\"DestinationOut\",t[t.DestinationOver=9]=\"DestinationOver\",t[t.Xor=10]=\"Xor\"}(t.CompositeOperation||(t.CompositeOperation={}))}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,n,o,s,a,h){void 0===r&&(r=i),void 0===n&&(n=\"black\"),void 0===o&&(o=0),void 0===s&&(s=\"black\"),void 0===a&&(a=!1),void 0===h&&(h=t.FontWeight.Normal),this.fontFamily=e,this.fontSize=i,this.fontWeight=h,this.baselineHeight=r,this.fontColor=n,this.strokeWidth=o,this.strokeColor=s,this.strokeOnly=a}return e}();t.GlyphFactory=e}(t||(t={}));var t;!function(t){!function(t){t[t.NonLocal=0]=\"NonLocal\",t[t.FullLocal=1]=\"FullLocal\",t[t.InterpolateLocal=2]=\"InterpolateLocal\"}(t.LocalTickMode||(t.LocalTickMode={}))}(t||(t={}));var t;!function(t){var e=function(){function t(t,e){void 0===e&&(e=4),this.game=t,this.borderWidth=\"number\"==typeof e?{top:e,bottom:e,left:e,right:e}:e}return t.prototype.render=function(t,e,i){var r=!0;this._surface&&this._surface.width===e&&this._surface.height===i&&this._beforeSrcSurface===t?r=!1:(this._surface=this.game.resourceFactory.createSurface(Math.ceil(e),Math.ceil(i)),this._beforeSrcSurface=t);var n=this._surface.renderer();n.begin(),r||n.clear();var o=this.borderWidth.left,s=t.width-this.borderWidth.right,a=this.borderWidth.top,h=t.height-this.borderWidth.bottom,c=this.borderWidth.left,u=e-this.borderWidth.right,l=this.borderWidth.top,d=i-this.borderWidth.bottom,p=[{x:0,y:0,width:this.borderWidth.left,height:this.borderWidth.top},{x:s,y:0,width:this.borderWidth.right,height:this.borderWidth.top},{x:0,y:h,width:this.borderWidth.left,height:this.borderWidth.bottom},{x:s,y:h,width:this.borderWidth.right,height:this.borderWidth.bottom}],f=[{x:0,y:0},{x:u,y:0},{x:0,y:d},{x:u,y:d}],_=0;for(_=0;_<p.length;++_){var g=p[_];n.save(),n.translate(f[_].x,f[_].y),n.drawImage(t,g.x,g.y,g.width,g.height,0,0),n.restore()}var y=[{x:o,y:0,width:s-o,height:this.borderWidth.top},{x:0,y:a,width:this.borderWidth.left,height:h-a},{x:s,y:a,width:this.borderWidth.right,height:h-a},{x:o,y:h,width:s-o,height:this.borderWidth.bottom}],m=[{x:c,y:0,width:u-c,height:this.borderWidth.top},{x:0,y:l,width:this.borderWidth.left,height:d-l},{x:u,y:l,width:this.borderWidth.right,height:d-l},{x:c,y:d,width:u-c,height:this.borderWidth.bottom}];for(_=0;_<y.length;++_){var v=y[_],T=m[_];n.save(),n.translate(T.x,T.y),n.transform([T.width/v.width,0,0,T.height/v.height,0,0]),n.drawImage(t,v.x,v.y,v.width,v.height,0,0),n.restore()}var A=s-o,x=h-a,w=u-c,S=d-l;return n.save(),n.translate(c,l),n.transform([w/A,0,0,S/x,0,0]),n.drawImage(t,o,a,A,x,0,0),n.restore(),n.end(),this._surface},t}();t.NinePatchSurfaceEffector=e}(t||(t={}));var t;!function(t){!function(e){function i(i,r){function n(t){var e=t.split(\"/\");return\"\"===e[e.length-1]&&e.pop(),e}if(\"\"===r)return i;for(var o=e.splitPath(i),s=n(o.path).concat(n(r)),a=[],h=0;h<s.length;++h){var c=s[h];switch(c){case\"..\":var u=a.pop();if(void 0===u||\"\"===u||\".\"===u)throw t.ExceptionFactory.createAssertionError(\"PathUtil.resolvePath: invalid arguments\");break;case\".\":0===a.length&&a.push(\".\");break;case\"\":a=[\"\"];break;default:a.push(c)}}return o.host+a.join(\"/\")}function r(t){var e=t.lastIndexOf(\"/\");return-1===e?t:t.substr(0,e)}function n(t){for(var e=t.length-1;e>=0;--e){var i=t.charAt(e);if(\".\"===i)return t.substr(e);if(\"/\"===i)return\"\"}return\"\"}function o(t){var i=e.splitPath(t),r=i.host;t=i.path,\"/\"===t[t.length-1]&&(t=t.slice(0,t.length-1));for(var n=t.split(\"/\"),o=n.indexOf(\"node_modules\"),s=o>0?o-1:0,a=[],h=n.length-1;h>=s;--h)if(\"node_modules\"!==n[h]){var c=n.slice(0,h+1);c.push(\"node_modules\");var u=c.join(\"/\");a.push(r+u)}return a}function s(t,e){var i=t.indexOf(\"?\");return-1===i?t+\".\"+e:t.substring(0,i)+\".\"+e+t.substring(i,t.length)}function a(t){var e=\"\",i=t.indexOf(\"//\");if(i>=0){var r=t.indexOf(\"/\",i+2);r>=0?(e=t.slice(0,r),t=t.slice(r)):(e=t,t=\"/\")}else e=\"\";return{host:e,path:t}}e.resolvePath=i,e.resolveDirname=r,e.resolveExtname=n,e.makeNodeModulePaths=o,e.addExtname=s,e.splitPath=a}(t.PathUtil||(t.PathUtil={}))}(t||(t={}));var t;!function(t){!function(t){t[t.SansSerif=0]=\"SansSerif\",t[t.Serif=1]=\"Serif\",t[t.Monospace=2]=\"Monospace\"}(t.FontFamily||(t.FontFamily={}))}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Top=0]=\"Top\",t[t.Middle=1]=\"Middle\",t[t.Alphabetic=2]=\"Alphabetic\",t[t.Bottom=3]=\"Bottom\"}(e=t.TextBaseline||(t.TextBaseline={}));var r=function(r){function n(i){var n=r.call(this,i)||this;return n.text=i.text,n.fontSize=i.fontSize,n.textAlign=\"textAlign\"in i?i.textAlign:t.TextAlign.Left,n.textBaseline=\"textBaseline\"in i?i.textBaseline:e.Alphabetic,n.maxWidth=i.maxWidth,n.textColor=\"textColor\"in i?i.textColor:\"black\",n.fontFamily=\"fontFamily\"in i?i.fontFamily:t.FontFamily.SansSerif,n.strokeWidth=\"strokeWidth\"in i?i.strokeWidth:0,n.strokeColor=\"strokeColor\"in i?i.strokeColor:\"black\",n.strokeOnly=\"strokeOnly\"in i&&i.strokeOnly,n}return i(n,r),n.prototype.renderSelf=function(e,i){if(this.text){var r;switch(this.textAlign){case t.TextAlign.Right:r=this.width;break;case t.TextAlign.Center:r=this.width/2;break;default:r=0}e.drawSystemText(this.text,r,0,this.maxWidth,this.fontSize,this.textAlign,this.textBaseline,this.textColor,this.fontFamily,this.strokeWidth,this.strokeColor,this.strokeOnly)}return!0},n}(t.E);t.SystemLabel=r}(t||(t={}));var t;!function(t){!function(t){t[t.Left=0]=\"Left\",t[t.Center=1]=\"Center\",t[t.Right=2]=\"Right\"}(t.TextAlign||(t.TextAlign={}))}(t||(t={}));var t;!function(t){!function(t){t[t.ByClock=0]=\"ByClock\",t[t.Manual=1]=\"Manual\"}(t.TickGenerationMode||(t.TickGenerationMode={}))}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.initState(t)}return t.deserialize=function(e){var i=new t(0);return i._state0U=e._state0U,i._state0L=e._state0L,i._state1U=e._state1U,i._state1L=e._state1L,i},t.prototype.initState=function(t){t=1812433253*(t^t>>30)+1,this._state0U=t,t=1812433253*(t^t>>30)+2,this._state0L=t,t=1812433253*(t^t>>30)+3,this._state1U=t,t=1812433253*(t^t>>30)+4,this._state1L=t},t.prototype.randomInt=function(){var t=this._state0U,e=this._state0L,i=this._state1U,r=this._state1L;this._state0U=i,this._state0L=r;var n=0,o=0,s=0,a=0;n=t<<23|(-512&e)>>>9,o=e<<23,t^=n,e^=o,n=t^i,o=e^r;s=t>>>17,a=e>>>17|(131071&t)<<15,n^=s,o^=a;s=i>>>26,a=r>>>26|(67108863&i)<<6,n^=s,o^=a,this._state1U=n,this._state1L=o;var h=(o>>>0)+(r>>>0);return s=n+i+(h/2>>>31)>>>0,a=h>>>0,[s,a]},t.prototype.random=function(){var t=this.randomInt();return(4294967296*t[0]+t[1])/0x10000000000000000},t.prototype.nextInt=function(t,e){return Math.floor(t+this.random()*(e-t))},t.prototype.serialize=function(){return{_state0U:this._state0U,_state0L:this._state0L,_state1U:this._state1U,_state1L:this._state1L}},t}();t.Xorshift=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i,r){var n=this;if(void 0===i)throw t.ExceptionFactory.createAssertionError(\"XorshiftRandomGenerator#constructor: seed is undefined\");return n=e.call(this,i)||this,n._xorshift=r?t.Xorshift.deserialize(r):new t.Xorshift(i),n}return i(r,e),r.deserialize=function(t){return new r(t._seed,t._xorshift)},r.prototype.get=function(t,e){return this._xorshift.nextInt(t,e+1)},r.prototype.generate=function(){return this._xorshift.random()},r.prototype.serialize=function(){return{_seed:this.seed,_xorshift:this._xorshift.serialize()}},r}(t.RandomGenerator);t.XorshiftRandomGenerator=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.fragmentShader=t.fragmentShader,this.uniforms=t.uniforms}return t}();t.ShaderProgram=e}(t||(t={})),e.exports=t}).call(this)},{}],3:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0})},{}],4:[function(t,e,i){e.exports=t(\"./lib/index\")},{\"./lib/index\":27}],5:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(e){this.fps=e.fps,this.scaleFactor=e.scaleFactor||1,this.frameTrigger=new r.Trigger,this.rawFrameTrigger=new r.Trigger,this._platform=e.platform,this._maxFramePerOnce=e.maxFramePerOnce,this._deltaTimeBrokenThreshold=e.deltaTimeBrokenThreshold||t.DEFAULT_DELTA_TIME_BROKEN_THRESHOLD,e.frameHandler&&this.frameTrigger.add(e.frameHandler,e.frameHandlerOwner),this.running=!1,this._totalDeltaTime=0,this._onLooperCall_bound=this._onLooperCall.bind(this),this._looper=this._platform.createLooper(this._onLooperCall_bound),this._waitTime=0,this._waitTimeDoubled=0,this._waitTimeMax=0,this._skipFrameWaitTime=0,this._realMaxFramePerOnce=0}return t.prototype.start=function(){this.running||(this._totalDeltaTime=0,this._updateWaitTimes(this.fps,this.scaleFactor),this._looper.start(),this.running=!0)},t.prototype.stop=function(){this.running&&(this._looper.stop(),this.running=!1)},t.prototype.changeScaleFactor=function(t){this.running?(this.stop(),this.scaleFactor=t,this.start()):this.scaleFactor=t},t.prototype._onLooperCall=function(t){var e=t;if(t<=0)return this._waitTime-this._totalDeltaTime;t>this._deltaTimeBrokenThreshold&&(t=this._waitTime);var i=this._totalDeltaTime;if((i+=t)<=this._skipFrameWaitTime)return this._totalDeltaTime=i,this._waitTime-i;for(var r=i<this._waitTimeDoubled?1:i>this._waitTimeMax?this._realMaxFramePerOnce:i/this._waitTime|0,n=r,o={deltaTime:e,interrupt:!1};n>0&&this.running&&!o.interrupt;)--n,this.frameTrigger.fire(o),o.deltaTime=0;return i-=(r-n)*this._waitTime,this.rawFrameTrigger.fire(),this._totalDeltaTime=i,this._waitTime-i},t.prototype._updateWaitTimes=function(e,i){var r=e*i;this._waitTime=1e3/r,this._waitTimeDoubled=Math.max(2e3/r|0,1),this._waitTimeMax=Math.max(i*(1e3*this._maxFramePerOnce/r)|0,1),this._skipFrameWaitTime=this._waitTime*t.ANTICIPATE_RATE|0,this._realMaxFramePerOnce=this._maxFramePerOnce*i},t.ANTICIPATE_RATE=.8,t.DEFAULT_DELTA_TIME_BROKEN_THRESHOLD=150,t}();i.Clock=n},{\"@akashic/akashic-engine\":1}],6:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=(t(\"@akashic/akashic-pdi\"),t(\"@akashic/akashic-engine\")),n=t(\"./PointEventResolver\"),o=function(){function t(t){this._amflow=t.amflow,this._isLocalReceiver=!0,this._isReceiver=!1,this._isSender=!1,this._isDiscarder=!1,this._defaultEventPriority=0,this._buffer=[],this._joinLeaveBuffer=[],this._localBuffer=[],this._filters=null,this._unfilteredLocalEvents=[],this._unfilteredEvents=[],this._pointEventResolver=new n.PointEventResolver({game:t.game}),this._onEvent_bound=this.onEvent.bind(this)}return t.isEventLocal=function(t){switch(t[0]){case 0:return t[5];case 1:return t[3];case 2:case 32:return t[4];case 33:return t[7];case 34:case 35:return t[11];case 64:return t[5];default:throw r.ExceptionFactory.createAssertionError(\"EventBuffer.isEventLocal\")}},t.prototype.setMode=function(t){null!=t.isLocalReceiver&&(this._isLocalReceiver=t.isLocalReceiver),null!=t.isReceiver&&this._isReceiver!==t.isReceiver&&(this._isReceiver=t.isReceiver,t.isReceiver?this._amflow.onEvent(this._onEvent_bound):this._amflow.offEvent(this._onEvent_bound)),null!=t.isSender&&(this._isSender=t.isSender),null!=t.isDiscarder&&(this._isDiscarder=t.isDiscarder),null!=t.defaultEventPriority&&(this._defaultEventPriority=t.defaultEventPriority)},t.prototype.getMode=function(){return{isLocalReceiver:this._isLocalReceiver,isReceiver:this._isReceiver,isSender:this._isSender,isDiscarder:this._isDiscarder,defaultEventPriority:this._defaultEventPriority}},t.prototype.onEvent=function(e){if(t.isEventLocal(e))return void(this._isLocalReceiver&&!this._isDiscarder&&this._unfilteredLocalEvents.push(e));this._isReceiver&&!this._isDiscarder&&this._unfilteredEvents.push(e),this._isSender&&(null==e[1]&&(e[1]=this._defaultEventPriority),this._amflow.sendEvent(e))},t.prototype.onPointEvent=function(t){var e;switch(t.type){case 0:e=this._pointEventResolver.pointDown(t);break;case 1:e=this._pointEventResolver.pointMove(t);break;case 2:e=this._pointEventResolver.pointUp(t)}e&&this.onEvent(e)},t.prototype.addEventDirect=function(e){if(t.isEventLocal(e)){if(!this._isLocalReceiver||this._isDiscarder)return;return void this._localBuffer.push(e)}this._isReceiver&&!this._isDiscarder&&(0===e[0]||1===e[0]?this._joinLeaveBuffer.push(e):this._buffer.push(e)),this._isSender&&(null==e[1]&&(e[1]=this._defaultEventPriority),this._amflow.sendEvent(e))},t.prototype.readEvents=function(){var t=this._buffer;return 0===t.length?null:(this._buffer=[],t)},t.prototype.readJoinLeaves=function(){var t=this._joinLeaveBuffer;return 0===t.length?null:(this._joinLeaveBuffer=[],t)},t.prototype.readLocalEvents=function(){var t=this._localBuffer;return 0===t.length?null:(this._localBuffer=[],t)},t.prototype.addFilter=function(t,e){this._filters||(this._filters=[]),this._filters.push({func:t,handleEmpty:!!e})},t.prototype.removeFilter=function(t){if(this._filters){if(!t)return void(this._filters=null);for(var e=this._filters.length-1;e>=0;--e)this._filters[e].func===t&&this._filters.splice(e,1)}},t.prototype.processEvents=function(e){var i=this._unfilteredLocalEvents,r=this._unfilteredEvents;this._unfilteredLocalEvents=[];var n=i;if(!e&&r.length>0&&(n=n.length>0?n.concat(r):r,this._unfilteredEvents=[]),this._filters)for(var o=0;o<this._filters.length;++o){var s=this._filters[o];(n.length>0||s.handleEmpty)&&(n=this._filters[o].func(n)||[])}for(var o=0;o<n.length;++o){var a=n[o];t.isEventLocal(a)?this._localBuffer.push(a):0===a[0]||1===a[0]?this._joinLeaveBuffer.push(a):this._buffer.push(a)}},t}();i.EventBuffer=o},{\"./PointEventResolver\":17,\"@akashic/akashic-engine\":1,\"@akashic/akashic-pdi\":3}],7:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t){this._game=t.game,this._playerTable={}}return t.prototype.toGameEvent=function(t){var e,i,n,o,s,a,h,c,u=t[0],l=t[1],d=t[2],p=this._playerTable[d]||{id:d};switch(u){case 0:p={id:d,name:t[3]},this._playerTable[d]=p;var f=void 0;if(t[4]){var _=[],g=[];t[4].map(function(t){_.push(t.readKey),g.push(t.values)}),f=new r.StorageValueStore(_,g)}return new r.JoinEvent(p,f,l);case 1:return delete this._playerTable[p.id],new r.LeaveEvent(p,l);case 2:return c=t[3],new r.TimestampEvent(c,p,l);case 32:return h=t[4],new r.MessageEvent(t[3],p,h,l);case 33:return h=t[7],e=t[3],i=t[6],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:t[4],y:t[5]},new r.PointDownEvent(e,n,o,p,h,l);case 34:return h=t[11],e=t[3],i=t[10],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:t[4],y:t[5]},s={x:t[6],y:t[7]},a={x:t[8],y:t[9]},new r.PointMoveEvent(e,n,o,a,s,p,h,l);case 35:return h=t[11],e=t[3],i=t[10],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:t[4],y:t[5]},s={x:t[6],y:t[7]},a={x:t[8],y:t[9]},new r.PointUpEvent(e,n,o,a,s,p,h,l);case 64:h=t[5];var y=t[3],m=t[4],v=this._game._decodeOperationPluginOperation(y,m);return new r.OperationEvent(y,v,p,h,l);default:throw r.ExceptionFactory.createAssertionError(\"EventConverter#toGameEvent\")}},t.prototype.toPlaylogEvent=function(t,e){var i,n;switch(t.type){case r.EventType.Join:case r.EventType.Leave:throw r.ExceptionFactory.createAssertionError(\"EventConverter#toPlaylogEvent: Invalid type: \"+r.EventType[t.type]);case r.EventType.Timestamp:var o=t;return n=e?o.player.id:this._game.player.id,[2,o.priority,n,o.timestamp];case r.EventType.PointDown:var s=t;return i=s.target?s.target.id:null,n=e?s.player.id:this._game.player.id,[33,s.priority,n,s.pointerId,s.point.x,s.point.y,i,!!s.local];case r.EventType.PointMove:var a=t;return i=a.target?a.target.id:null,n=e?a.player.id:this._game.player.id,[34,a.priority,n,a.pointerId,a.point.x,a.point.y,a.startDelta.x,a.startDelta.y,a.prevDelta.x,a.prevDelta.y,i,!!a.local];case r.EventType.PointUp:var h=t;return i=h.target?h.target.id:null,n=e?h.player.id:this._game.player.id,[35,h.priority,n,h.pointerId,h.point.x,h.point.y,h.startDelta.x,h.startDelta.y,h.prevDelta.x,h.prevDelta.y,i,!!h.local];case r.EventType.Message:var c=t;return n=e?c.player.id:this._game.player.id,[32,c.priority,n,c.data,!!c.local];case r.EventType.Operation:var u=t;return n=e?u.player.id:this._game.player.id,[64,u.priority,n,u.code,u.data,!!u.local];default:throw r.ExceptionFactory.createAssertionError(\"Unknown type: \"+t.type)}},t.prototype.makePlaylogOperationEvent=function(t){var e=this._game.player.id;return[64,null!=t.priority?t.priority:0,e,t._code,t.data,!!t.local]},t}();i.EventConverter=n},{\"@akashic/akashic-engine\":1}],8:[function(t,e,i){arguments[4][3][0].apply(i,arguments)},{dup:3}],9:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r;!function(t){t[t.Active=0]=\"Active\",t[t.Passive=1]=\"Passive\"}(r||(r={})),i.default=r},{}],10:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e){var i=t.call(this,e.configuration,e.resourceFactory,e.assetBase,e.player.id,e.operationPluginViewInfo)||this;return i.agePassedTrigger=new n.Trigger,i.targetTimeReachedTrigger=new n.Trigger,i.skippingChangedTrigger=new n.Trigger,i.abortTrigger=new n.Trigger,i.player=e.player,i.raiseEventTrigger=new n.Trigger,i.raiseTickTrigger=new n.Trigger,i.snapshotTrigger=new n.Trigger,i.isSnapshotSaver=!!e.isSnapshotSaver,i._getCurrentTimeFunc=null,i._eventFilterFuncs=null,i._notifyPassedAgeTable={},i._notifiesTargetTimeReached=!1,i._isSkipAware=!1,i._gameArgs=e.gameArgs,i._globalGameArgs=e.globalGameArgs,i.skippingChangedTrigger.add(i._onSkippingChanged,i),i}return r(e,t),e.prototype.requestNotifyAgePassed=function(t){this._notifyPassedAgeTable[t]=!0},e.prototype.cancelNotifyAgePassed=function(t){delete this._notifyPassedAgeTable[t]},e.prototype.requestNotifyTargetTimeReached=function(){this._notifiesTargetTimeReached=!0},e.prototype.cancelNofityTargetTimeReached=function(){this._notifiesTargetTimeReached=!1},e.prototype.fireAgePassedIfNeeded=function(){var t=this.age-1;return!!this._notifyPassedAgeTable[t]&&(delete this._notifyPassedAgeTable[t],this.agePassedTrigger.fire(t),!0)},e.prototype.setCurrentTimeFunc=function(t){this._getCurrentTimeFunc=t},e.prototype.setEventFilterFuncs=function(t){this._eventFilterFuncs=t},e.prototype.setStorageFunc=function(t){this.storage._registerLoad(t.storageGetFunc),this.storage._registerWrite(t.storagePutFunc),this.storage.requestValuesForJoinPlayer=t.requestValuesForJoinFunc},e.prototype.getIsSkipAware=function(){return this._isSkipAware},e.prototype.setIsSkipAware=function(t){this._isSkipAware=t},e.prototype.getCurrentTime=function(){return Math.floor(this._getCurrentTimeFunc())},e.prototype.raiseEvent=function(t){this.raiseEventTrigger.fire(t)},e.prototype.raiseTick=function(t){if(!this.scene()||this.scene().tickGenerationMode!==n.TickGenerationMode.Manual)throw n.ExceptionFactory.createAssertionError(\"Game#raiseTick(): tickGenerationMode for the current scene is not Manual.\");this.raiseTickTrigger.fire(t)},e.prototype.addEventFilter=function(t,e){this._eventFilterFuncs.addFilter(t,e)},e.prototype.removeEventFilter=function(t){this._eventFilterFuncs.removeFilter(t)},e.prototype.shouldSaveSnapshot=function(){return this.isSnapshotSaver},e.prototype.isActiveInstance=function(){return this.shouldSaveSnapshot()},e.prototype.saveSnapshot=function(t,e){void 0===e&&(e=this._getCurrentTimeFunc()),this.shouldSaveSnapshot()&&this.snapshotTrigger.fire({frame:this.age,timestamp:e,data:{randGenSer:this.random[0].serialize(),gameSnapshot:t}})},e.prototype._destroy=function(){this.agePassedTrigger.destroy(),this.agePassedTrigger=null,this.targetTimeReachedTrigger.destroy(),this.targetTimeReachedTrigger=null,this.skippingChangedTrigger.destroy(),this.skippingChangedTrigger=null,this.abortTrigger.destroy(),this.abortTrigger=null,this.player=null,this.raiseEventTrigger.destroy(),this.raiseEventTrigger=null,this.raiseTickTrigger.destroy(),this.raiseTickTrigger=null,this.snapshotTrigger.destroy(),this.snapshotTrigger=null,this.isSnapshotSaver=!1,this._getCurrentTimeFunc=null,this._eventFilterFuncs=null,this._notifyPassedAgeTable=null,this._gameArgs=null,this._globalGameArgs=null,t.prototype._destroy.call(this)},e.prototype._restartWithSnapshot=function(t){var e=t.data;if(this._eventFilterFuncs.removeFilter(),null!=e.seed){var i=new n.XorshiftRandomGenerator(e.seed);this._reset({age:t.frame,randGen:i}),this._loadAndStart({args:this._gameArgs,globalArgs:this._globalGameArgs})}else{var i=new n.XorshiftRandomGenerator(0,e.randGenSer);this._reset({age:t.frame,randGen:i}),this._loadAndStart({snapshot:e.gameSnapshot})}},e.prototype._leaveGame=function(){},e.prototype._abortGame=function(){this.abortTrigger.fire()},e.prototype._onRawTargetTimeReached=function(t){this._notifiesTargetTimeReached&&(this._notifiesTargetTimeReached=!1,this.targetTimeReachedTrigger.fire(t))},e.prototype._onSkippingChanged=function(t){this._isSkipAware&&this.skippingChanged.fire(t)},e}(n.Game);i.Game=o},{\"@akashic/akashic-engine\":1}],11:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"es6-promise\"),n=t(\"@akashic/akashic-engine\"),o=t(\"./ExecutionMode\"),s=t(\"./Game\"),a=t(\"./EventBuffer\"),h=t(\"./GameLoop\"),c=t(\"./PdiUtil\"),u=function(){function t(t){this.errorTrigger=new n.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this.configurationLoadedTrigger=new n.Trigger,this.gameCreatedTrigger=new n.Trigger,this._platform=t.platform,this._loadConfigurationFunc=c.PdiUtil.makeLoadConfigurationFunc(t.platform),this._player=t.player,this._rendererRequirement=null,this._playId=null,this._game=null,this._gameLoop=null,this._eventBuffer=null,this._openedAmflow=!1,this._playToken=null,this._permission=null,this._hidden=!1,this._destroyed=!1}return t.prototype.initialize=function(t,e){this.doInitialize(t).then(function(){e()},e)},t.prototype.changeState=function(t,e){var i=this,r=this._gameLoop&&this._gameLoop.running;r&&this._gameLoop.stop(),this.initialize(t,function(t){if(t)return void e(t);r&&i._gameLoop.start(),e()})},t.prototype.startGame=function(){if(!this._gameLoop)return void this.errorTrigger.fire(new Error(\"Not initialized\"));this._gameLoop.start()},t.prototype.stopGame=function(){this._gameLoop&&this._gameLoop.stop()},t.prototype.setNextAge=function(t){this._gameLoop.setNextAge(t)},t.prototype.getPermission=function(){return this._permission},t.prototype.getDriverConfiguration=function(){return{playId:this._playId,playToken:this._playToken,executionMode:this._gameLoop?this._gameLoop.getExecutionMode():void 0,eventBufferMode:this._eventBuffer?this._eventBuffer.getMode():void 0}},t.prototype.getLoopConfiguration=function(){return this._gameLoop?this._gameLoop.getLoopConfiguration():null},t.prototype.getHidden=function(){return this._hidden},t.prototype.resetPrimarySurface=function(t,e,i){i=i||(this._rendererRequirement?this._rendererRequirement.rendererCandidates:null);var r=this._game,n=this._platform,o=n.getPrimarySurface();r.renderers=r.renderers.filter(function(t){return t!==o.renderer()}),n.setRendererRequirement({primarySurfaceWidth:t,primarySurfaceHeight:e,rendererCandidates:i}),this._rendererRequirement={primarySurfaceWidth:t,primarySurfaceHeight:e,rendererCandidates:i},r.renderers.push(n.getPrimarySurface().renderer()),r.width=t,r.height=e,r.resized.fire({width:t,height:e}),r.modified=!0},t.prototype.doInitialize=function(t){var e=this,i=new r.Promise(function(i,r){if(e._gameLoop&&e._gameLoop.running)return r(new Error(\"Game is running. Must be stopped.\"));e._gameLoop&&t.loopConfiguration&&e._gameLoop.setLoopConfiguration(t.loopConfiguration),null!=t.hidden&&(e._hidden=t.hidden,e._game&&e._game._setMuted(t.hidden)),i()}).then(function(){return e._assertLive(),e._doSetDriverConfiguration(t.driverConfiguration)});return t.configurationUrl?i.then(function(){return e._assertLive(),e._loadConfiguration(t.configurationUrl,t.assetBase,t.configurationBase)}).then(function(i){return e._assertLive(),e._createGame(i,e._player,t)}):i},t.prototype.destroy=function(){var t=this;return new r.Promise(function(e,i){t.stopGame(),t._game&&(t._game._destroy(),t._game=null),t.errorTrigger.destroy(),t.errorTrigger=null,t.configurationLoadedTrigger.destroy(),t.configurationLoadedTrigger=null,t.gameCreatedTrigger.destroy(),t.gameCreatedTrigger=null,t._platform.destroy?t._platform.destroy():t._platform.setRendererRequirement(void 0),t._platform=null,t._loadConfigurationFunc=null,t._player=null,t._rendererRequirement=null,t._playId=null,t._gameLoop=null,t._eventBuffer=null,t._openedAmflow=!1,t._playToken=null,t._permission=null,t._hidden=!1,t._destroyed=!0,e()})},t.prototype._doSetDriverConfiguration=function(t){var e=this;if(null==t)return r.Promise.resolve();void 0===t.playId&&(t.playId=this._playId),void 0===t.playToken&&(t.playToken=this._playToken),void 0===t.eventBufferMode&&(t.executionMode===o.default.Active?t.eventBufferMode={isReceiver:!0,isSender:!1}:t.executionMode===o.default.Passive&&(t.eventBufferMode={isReceiver:!1,isSender:!0}));var i=r.Promise.resolve();return this._playId!==t.playId&&(i=i.then(function(){return e._assertLive(),e._doOpenAmflow(t.playId)})),this._playToken!==t.playToken&&(i=i.then(function(){return e._assertLive(),e._doAuthenticate(t.playToken)})),i.then(function(){e._assertLive(),null!=t.eventBufferMode&&(null==t.eventBufferMode.defaultEventPriority&&(t.eventBufferMode.defaultEventPriority=e._permission.maxEventPriority),e._eventBuffer&&e._eventBuffer.setMode(t.eventBufferMode)),null!=t.executionMode&&e._gameLoop&&e._gameLoop.setExecutionMode(t.executionMode)})},t.prototype._doCloseAmflow=function(){var t=this;return new r.Promise(function(e,i){if(!t._openedAmflow)return e();t._platform.amflow.close(function(r){t._openedAmflow=!1;var n=t._getCallbackError(r);if(n)return i(n);e()})})},t.prototype._doOpenAmflow=function(t){var e=this;return void 0===t?r.Promise.resolve():this._doCloseAmflow().then(function(){return e._assertLive(),new r.Promise(function(i,r){if(null===t)return i();e._platform.amflow.open(t,function(n){var o=e._getCallbackError(n);if(o)return r(o);e._openedAmflow=!0,e._playId=t,e._game&&e._updateGamePlayId(e._game),i()})})})},t.prototype._doAuthenticate=function(t){var e=this;return null==t?r.Promise.resolve():new r.Promise(function(i,r){e._platform.amflow.authenticate(t,function(n,o){var s=e._getCallbackError(n);if(s)return r(s);e._playToken=t,e._permission=o,e._game&&(e._game.isSnapshotSaver=e._permission.writeTick),i()})})},t.prototype._loadConfiguration=function(t,e,i){var n=this;return new r.Promise(function(r,o){n._loadConfigurationFunc(t,e,i,function(t,e){var i=n._getCallbackError(t);if(i)return o(i);n.configurationLoadedTrigger.fire(e),r(e)})})},t.prototype._putZerothStartPoint=function(t){var e=this;return new r.Promise(function(i,r){var n={frame:0,timestamp:t.startedAt,data:t};e._platform.amflow.putStartPoint(n,function(t){var n=e._getCallbackError(t);if(n)return r(n);i()})})},t.prototype._getZerothStartPointData=function(){var t=this;return new r.Promise(function(e,i){t._platform.amflow.getStartPoint({frame:0},function(r,n){var o=t._getCallbackError(r);if(o)return i(o);var s=n.data;if(\"number\"!=typeof s.seed)return i(new Error(\"GameDriver#_getRandomSeed: No seed found.\"));e(s)})})},t.prototype._createGame=function(t,e,i){var c,u=this,l=i.driverConfiguration.executionMode===o.default.Active&&this._permission.writeTick;return c=l?this._putZerothStartPoint({seed:Date.now(),globalArgs:i.globalGameArgs,fps:t.fps,startedAt:Date.now()}):r.Promise.resolve(),c=c.then(function(){return u._assertLive(),u._getZerothStartPointData()}),c.then(function(r){u._assertLive();var c=u._platform,l=i.driverConfiguration||{eventBufferMode:{isReceiver:!0,isSender:!1},executionMode:o.default.Active},d=r.seed,p=i.gameArgs,f=r.globalArgs,_=r.startedAt,g={primarySurfaceWidth:t.width,primarySurfaceHeight:t.height,rendererCandidates:t.renderers};c.setRendererRequirement(g);var y=new s.Game({configuration:t,player:e,resourceFactory:c.getResourceFactory(),assetBase:i.assetBase,isSnapshotSaver:u._permission.writeTick,operationPluginViewInfo:c.getOperationPluginViewInfo?c.getOperationPluginViewInfo():null,gameArgs:p,globalGameArgs:f}),m=new a.EventBuffer({game:y,amflow:c.amflow});m.setMode(l.eventBufferMode),c.setPlatformEventHandler(m),y.setEventFilterFuncs({addFilter:m.addFilter.bind(m),removeFilter:m.removeFilter.bind(m)}),y.renderers.push(c.getPrimarySurface().renderer());var v=new h.GameLoop({game:y,amflow:c.amflow,platform:c,executionMode:l.executionMode,eventBuffer:m,configuration:i.loopConfiguration,startedAt:_,profiler:i.profiler});v.rawTargetTimeReachedTrigger.add(y._onRawTargetTimeReached,y),y.setCurrentTimeFunc(v.getCurrentTime.bind(v)),y._reset({age:0,randGen:new n.XorshiftRandomGenerator(d)}),u._updateGamePlayId(y),u._hidden&&y._setMuted(!0),y.snapshotTrigger.add(function(t){u._platform.amflow.putStartPoint(t,function(t){var e=u._getCallbackError(t);e&&u.errorTrigger.fire(e)})}),u._game=y,u._eventBuffer=m,u._gameLoop=v,u._rendererRequirement=g,u.gameCreatedTrigger.fire(y),u._game._loadAndStart({args:i.gameArgs||void 0})})},t.prototype._updateGamePlayId=function(t){var e=this;t.playId=this._playId,t.external.send=function(t){e._platform.sendToExternal(e._playId,t)}},t.prototype._assertLive=function(){if(this._destroyed)throw new Error(\"GAME_DESTROYED\")},t.prototype._getCallbackError=function(t){return t||(this._destroyed?new Error(\"GAME_DESTROYED\"):null)},t}();i.GameDriver=u},{\"./EventBuffer\":6,\"./ExecutionMode\":9,\"./Game\":10,\"./GameLoop\":12,\"./PdiUtil\":16,\"@akashic/akashic-engine\":1,\"es6-promise\":83}],12:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0})\n;var r=t(\"@akashic/akashic-engine\"),n=t(\"./constants\"),o=t(\"./LoopMode\"),s=t(\"./LoopRenderMode\"),a=t(\"./ExecutionMode\"),h=t(\"./Clock\"),c=t(\"./ProfilerClock\"),u=t(\"./EventConverter\"),l=t(\"./TickController\"),d=function(){function t(t){this.errorTrigger=new r.Trigger,this.rawTargetTimeReachedTrigger=new r.Trigger,this.running=!1,this._currentTime=t.startedAt,this._frameTime=1e3/t.game.fps,this._omittedTickDuration=0,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner);var e=t.configuration;this._startedAt=t.startedAt,this._targetTimeFunc=e.targetTimeFunc||null,this._targetTimeOffset=e.targetTimeOffset||null,this._originDate=e.originDate||null,this._realTargetTimeOffset=null!=this._originDate?this._originDate:(this._targetTimeOffset||0)+this._startedAt,this._delayIgnoreThreshold=e.delayIgnoreThreshold||n.DEFAULT_DELAY_IGNORE_THRESHOLD,this._skipTicksAtOnce=e.skipTicksAtOnce||n.DEFAULT_SKIP_TICKS_AT_ONCE,this._skipThreshold=e.skipThreshold||n.DEFAULT_SKIP_THRESHOLD,this._skipThresholdTime=this._skipThreshold*this._frameTime,this._jumpTryThreshold=e.jumpTryThreshold||n.DEFAULT_JUMP_TRY_THRESHOLD,this._jumpIgnoreThreshold=e.jumpIgnoreThreshold||n.DEFAULT_JUMP_IGNORE_THRESHOLD,this._pollingTickThreshold=e._pollingTickThreshold||n.DEFAULT_POLLING_TICK_THRESHOLD,this._playbackRate=e.playbackRate||1;var i=null!=e.loopRenderMode?e.loopRenderMode:s.default.AfterRawFrame;this._loopRenderMode=null,this._omitInterpolatedTickOnReplay=null==e.omitInterpolatedTickOnReplay||e.omitInterpolatedTickOnReplay,this._loopMode=e.loopMode,this._amflow=t.amflow,this._game=t.game,this._eventBuffer=t.eventBuffer,this._executionMode=t.executionMode,this._sceneTickMode=null,this._sceneLocalMode=null,this._targetAge=null!=e.targetAge?e.targetAge:null,this._waitingStartPoint=!1,this._lastRequestedStartPointAge=-1,this._lastRequestedStartPointTime=-1,this._waitingNextTick=!1,this._consumedLatestTick=!1,this._skipping=!1,this._lastPollingTickTime=0,t.profiler?this._clock=new c.ProfilerClock({fps:t.game.fps,scaleFactor:this._playbackRate,platform:t.platform,maxFramePerOnce:5,profiler:t.profiler}):this._clock=new h.Clock({fps:t.game.fps,scaleFactor:this._playbackRate,platform:t.platform,maxFramePerOnce:5}),this._tickController=new l.TickController({amflow:t.amflow,clock:this._clock,game:t.game,eventBuffer:t.eventBuffer,executionMode:t.executionMode,startedAt:t.startedAt,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._eventConverter=new u.EventConverter({game:t.game}),this._tickBuffer=this._tickController.getBuffer(),this._onGotStartPoint_bound=this._onGotStartPoint.bind(this),this._setLoopRenderMode(i),this._game.setIsSkipAware(null==e.skipAwareGame||e.skipAwareGame),this._game.setStorageFunc(this._tickController.storageFunc()),this._game.raiseEventTrigger.add(this._onGameRaiseEvent,this),this._game.raiseTickTrigger.add(this._onGameRaiseTick,this),this._game._started.add(this._onGameStarted,this),this._game._operationPluginOperated.add(this._onGameOperationPluginOperated,this),this._tickBuffer.gotNextTickTrigger.add(this._onGotNextFrameTick,this),this._tickBuffer.gotNoTickTrigger.add(this._onGotNoTick,this),this._tickBuffer.start(),this._updateGamePlaybackRate(),this._handleSceneChange()}return t.prototype.start=function(){this.running=!0,this._clock.start()},t.prototype.stop=function(){this._clock.stop(),this.running=!1},t.prototype.setNextAge=function(t){this._tickController.setNextAge(t)},t.prototype.getExecutionMode=function(){return this._executionMode},t.prototype.setExecutionMode=function(t){this._executionMode=t,this._tickController.setExecutionMode(t)},t.prototype.getLoopConfiguration=function(){return{loopMode:this._loopMode,delayIgnoreThreshold:this._delayIgnoreThreshold,skipTicksAtOnce:this._skipTicksAtOnce,skipThreshold:this._skipThreshold,skipAwareGame:this._game.getIsSkipAware(),jumpTryThreshold:this._jumpTryThreshold,jumpIgnoreThreshold:this._jumpIgnoreThreshold,playbackRate:this._playbackRate,loopRenderMode:this._loopRenderMode,targetTimeFunc:this._targetTimeFunc,targetTimeOffset:this._targetTimeOffset,originDate:this._originDate,omitInterpolatedTickOnReplay:this._omitInterpolatedTickOnReplay,targetAge:this._targetAge}},t.prototype.setLoopConfiguration=function(t){null!=t.loopMode&&(this._loopMode=t.loopMode),null!=t.delayIgnoreThreshold&&(this._delayIgnoreThreshold=t.delayIgnoreThreshold),null!=t.skipTicksAtOnce&&(this._skipTicksAtOnce=t.skipTicksAtOnce),null!=t.skipThreshold&&(this._skipThreshold=t.skipThreshold,this._skipThresholdTime=this._skipThreshold*this._frameTime),null!=t.skipAwareGame&&this._game.setIsSkipAware(t.skipAwareGame),null!=t.jumpTryThreshold&&(this._jumpTryThreshold=t.jumpTryThreshold),null!=t.jumpIgnoreThreshold&&(this._jumpIgnoreThreshold=t.jumpIgnoreThreshold),null!=t.playbackRate&&(this._playbackRate=t.playbackRate,this._clock.changeScaleFactor(this._playbackRate),this._updateGamePlaybackRate()),null!=t.loopRenderMode&&this._setLoopRenderMode(t.loopRenderMode),null!=t.targetTimeFunc&&(this._targetTimeFunc=t.targetTimeFunc),null!=t.targetTimeOffset&&(this._targetTimeOffset=t.targetTimeOffset),null!=t.originDate&&(this._originDate=t.originDate),this._realTargetTimeOffset=null!=this._originDate?this._originDate:(this._targetTimeOffset||0)+this._startedAt,null!=t.omitInterpolatedTickOnReplay&&(this._omitInterpolatedTickOnReplay=t.omitInterpolatedTickOnReplay),null!=t.targetAge&&(this._targetAge!==t.targetAge&&(this._waitingNextTick=!1),this._targetAge=t.targetAge)},t.prototype.addTickList=function(t){this._tickBuffer.addTickList(t)},t.prototype.getCurrentTime=function(){return this._currentTime},t.prototype._startSkipping=function(){this._skipping=!0,this._updateGamePlaybackRate(),this._game.skippingChangedTrigger.fire(!0)},t.prototype._stopSkipping=function(){this._skipping=!1,this._updateGamePlaybackRate(),this._game.skippingChangedTrigger.fire(!1)},t.prototype._updateGamePlaybackRate=function(){var t=this._skipping?this._playbackRate*this._skipTicksAtOnce:this._playbackRate;this._game._setAudioPlaybackRate(t)},t.prototype._handleSceneChange=function(){var t=this._game.scene(),e=t?t.local:r.LocalTickMode.FullLocal,i=t?t.tickGenerationMode:r.TickGenerationMode.ByClock;if(this._sceneLocalMode!==e||this._sceneTickMode!==i)switch(this._sceneLocalMode=e,this._sceneTickMode=i,this._clock.frameTrigger.remove(this._onFrame,this),this._clock.frameTrigger.remove(this._onLocalFrame,this),e){case r.LocalTickMode.FullLocal:this._tickController.stopTick(),this._clock.frameTrigger.add(this._onLocalFrame,this);break;case r.LocalTickMode.NonLocal:case r.LocalTickMode.InterpolateLocal:i===r.TickGenerationMode.ByClock?this._tickController.startTick():this._tickController.startTickOnce(),this._clock.frameTrigger.add(this._onFrame,this);break;default:return void this.errorTrigger.fire(new Error(\"Unknown LocalTickMode: \"+e))}},t.prototype._onLocalFrame=function(){this._doLocalTick()},t.prototype._doLocalTick=function(){var t=this._game,e=this._eventBuffer.readLocalEvents();if(this._currentTime+=this._frameTime,e)for(var i=0,r=e.length;i<r;++i)t.events.push(this._eventConverter.toGameEvent(e[i]));var n=t.tick(!1,Math.floor(this._omittedTickDuration/this._frameTime));this._omittedTickDuration=0,n&&this._handleSceneChange()},t.prototype._onFrame=function(t){if(this._loopMode===o.default.Replay&&this._targetTimeFunc){var e=this._targetTimeFunc(),i=e+this._realTargetTimeOffset,r=this._currentTime;this._onFrameForTimedReplay(i,t),r===this._currentTime&&r<=i&&i<=r+this._frameTime&&this.rawTargetTimeReachedTrigger.fire(e)}else this._onFrameNormal(t)},t.prototype._onFrameForTimedReplay=function(t,e){var i=!1,n=this._game,o=t-this._currentTime,s=o/this._frameTime;if((s>this._jumpTryThreshold||s<0)&&!this._waitingStartPoint&&this._lastRequestedStartPointTime<this._currentTime&&(this._waitingStartPoint=!0,this._lastRequestedStartPointTime=t,this._amflow.getStartPoint({timestamp:t},this._onGotStartPoint_bound)),s<=0)return void(this._skipping&&this._stopSkipping());this._skipping||(s>this._skipThreshold||0===this._tickBuffer.currentAge)&&(this._tickBuffer.hasNextTick()||this._omitInterpolatedTickOnReplay&&this._consumedLatestTick)&&this._startSkipping();for(var a=0;a<this._skipTicksAtOnce;++a){var h=this._currentTime+this._frameTime;if(!this._tickBuffer.hasNextTick()){this._waitingNextTick||(this._startWaitingNextTick(),this._consumedLatestTick||this._tickBuffer.requestTicks()),this._omitInterpolatedTickOnReplay&&this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&(this._consumedLatestTick&&(this._currentTime=t-this._frameTime),t>h&&this._doLocalTick());break}var c=this._tickBuffer.readNextTickTime();if(null==c&&(c=h),t<h){if(!(c<=t))break;h=t}else if(h<c){if(!this._omitInterpolatedTickOnReplay||!this._skipping){this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick();continue}if(t<=c){this._omittedTickDuration+=t-this._currentTime,this._currentTime=Math.floor(t/this._frameTime)*this._frameTime;break}h=c,this._omittedTickDuration+=c-this._currentTime}this._currentTime=h;var u=this._tickBuffer.consume(),l=-1,d=this._eventBuffer.readLocalEvents();if(d)for(var p=0,f=d.length;p<f;++p)n.events.push(this._eventConverter.toGameEvent(d[p]));if(\"number\"==typeof u)l=u,i=n.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime));else{l=u[0];var _=u[1];if(_)for(var p=0,f=_.length;p<f;++p)n.events.push(this._eventConverter.toGameEvent(_[p]));i=n.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime))}if(this._omittedTickDuration=0,n._notifyPassedAgeTable[l]&&n.fireAgePassedIfNeeded()){e.interrupt=!0;break}if(i){this._handleSceneChange();break}}this._skipping&&t-this._currentTime<this._frameTime&&this._stopSkipping()},t.prototype._onFrameNormal=function(t){var e=!1,i=this._game;if(!this._skipping&&t.deltaTime>this._skipThresholdTime&&(this._startSkipping(),this._waitingNextTick&&this._stopSkipping()),this._waitingNextTick)return void(this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick());var n,s,a=this._tickBuffer.currentAge;if(this._loopMode===o.default.Realtime?(n=this._tickBuffer.knownLatestAge+1,s=n-a):null===this._targetAge?(n=null,s=1):this._targetAge===a?(n=this._targetAge=null,s=1):(n=this._targetAge,s=n-a),(s>this._jumpTryThreshold||s<0)&&!this._waitingStartPoint&&this._lastRequestedStartPointAge<a&&(this._waitingStartPoint=!0,this._lastRequestedStartPointAge=n,this._amflow.getStartPoint({frame:n},this._onGotStartPoint_bound)),s<=0)return 0===s&&(0===a&&this._tickBuffer.requestTicks(),this._startWaitingNextTick()),this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick(),void(this._skipping&&this._stopSkipping());!this._skipping&&(s>this._skipThreshold||0===a)&&this._tickBuffer.hasNextTick()&&this._startSkipping();for(var h=!this._skipping&&s<=this._delayIgnoreThreshold?1:Math.min(s,this._skipTicksAtOnce),c=0;c<h;++c){var u=this._currentTime+this._frameTime,l=this._tickBuffer.readNextTickTime();if(null!=l&&u<l){if(!(this._loopMode===o.default.Realtime||this._omitInterpolatedTickOnReplay&&this._skipping)){if(this._sceneLocalMode===r.LocalTickMode.InterpolateLocal){this._doLocalTick();continue}break}u=Math.ceil(l/this._frameTime)*this._frameTime,this._omittedTickDuration+=u-this._currentTime}this._currentTime=u;var d=this._tickBuffer.consume(),p=-1;if(null==d){this._tickBuffer.requestTicks(),this._startWaitingNextTick();break}var f=this._eventBuffer.readLocalEvents();if(f)for(var _=0,g=f.length;_<g;++_)i.events.push(this._eventConverter.toGameEvent(f[_]));if(\"number\"==typeof d)p=d,e=i.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime));else{p=d[0];var y=d[1];if(y)for(var m=0,g=y.length;m<g;++m)i.events.push(this._eventConverter.toGameEvent(y[m]));e=i.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime))}if(this._omittedTickDuration=0,i._notifyPassedAgeTable[p]&&i.fireAgePassedIfNeeded()){t.interrupt=!0;break}if(e){this._handleSceneChange();break}}this._skipping&&n-this._tickBuffer.currentAge<1&&this._stopSkipping()},t.prototype._onGotNextFrameTick=function(){this._consumedLatestTick=!1,this._waitingNextTick&&this._loopMode!==o.default.FrameByFrame&&this._stopWaitingNextTick()},t.prototype._onGotNoTick=function(){this._waitingNextTick&&(this._consumedLatestTick=!0)},t.prototype._onGotStartPoint=function(t,e){if(this._waitingStartPoint=!1,t)return void this.errorTrigger.fire(t);if(this._targetTimeFunc&&this._loopMode!==o.default.Realtime){var i=this._targetTimeFunc()+this._realTargetTimeOffset;if(i<e.timestamp)return;var r=this._currentTime;if(r<=i&&e.timestamp<r+this._jumpIgnoreThreshold*this._frameTime)return}else{var n=this._loopMode===o.default.Realtime?this._tickBuffer.knownLatestAge+1:this._targetAge;if(null===n||n<e.frame)return;var s=this._tickBuffer.currentAge;if(s<=n&&e.frame<s+this._jumpIgnoreThreshold)return}this._clock.frameTrigger.remove(this._onEventsProcessed,this),this._skipping&&this._stopSkipping(),this._tickBuffer.setCurrentAge(e.frame),this._currentTime=e.timestamp||e.data.timestamp||0,this._waitingNextTick=!1,this._consumedLatestTick=!1,this._lastRequestedStartPointAge=-1,this._lastRequestedStartPointTime=-1,this._omittedTickDuration=0,this._game._restartWithSnapshot(e),this._handleSceneChange()},t.prototype._onGameStarted=function(){this._clock.frameTrigger.add({index:0,owner:this,func:this._onEventsProcessed})},t.prototype._onEventsProcessed=function(){this._eventBuffer.processEvents(this._sceneLocalMode===r.LocalTickMode.FullLocal)},t.prototype._setLoopRenderMode=function(t){if(t!==this._loopRenderMode)switch(this._loopRenderMode=t,t){case s.default.AfterRawFrame:this._clock.rawFrameTrigger.add(this._renderOnRawFrame,this);break;case s.default.None:this._clock.rawFrameTrigger.remove(this._renderOnRawFrame,this);break;default:this.errorTrigger.fire(new Error(\"GameLoop#_setLoopRenderMode: unknown mode: \"+t))}},t.prototype._renderOnRawFrame=function(){var t=this._game;t.modified&&t.scenes.length>0&&t.render()},t.prototype._onGameRaiseEvent=function(t){var e=this._eventConverter.toPlaylogEvent(t);this._eventBuffer.onEvent(e)},t.prototype._onGameRaiseTick=function(t){if(this._executionMode===a.default.Active){if(t)for(var e=0;e<t.length;++e)this._eventBuffer.addEventDirect(this._eventConverter.toPlaylogEvent(t[e]));this._tickController.forceGenerateTick()}},t.prototype._onGameOperationPluginOperated=function(t){var e=this._eventConverter.makePlaylogOperationEvent(t);this._eventBuffer.onEvent(e)},t.prototype._onPollingTick=function(){var t=Date.now();t-this._lastPollingTickTime>this._pollingTickThreshold&&(this._lastPollingTickTime=t,this._tickBuffer.requestTicks())},t.prototype._startWaitingNextTick=function(){this._waitingNextTick=!0,this._clock.rawFrameTrigger.add(this._onPollingTick,this),this._lastPollingTickTime=Date.now(),this._skipping&&this._stopSkipping()},t.prototype._stopWaitingNextTick=function(){this._waitingNextTick=!1,this._clock.rawFrameTrigger.remove(this._onPollingTick,this)},t}();i.GameLoop=d},{\"./Clock\":5,\"./EventConverter\":7,\"./ExecutionMode\":9,\"./LoopMode\":14,\"./LoopRenderMode\":15,\"./ProfilerClock\":18,\"./TickController\":21,\"./constants\":26,\"@akashic/akashic-engine\":1}],13:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t,e,i,r){this.joinResolver=e,this.pev=t,0===t[0]&&r?(this.resolved=!1,i.getStorageData(r,this._onGotStorageData.bind(this))):this.resolved=!0}return t.prototype._onGotStorageData=function(t,e){if(this.resolved=!0,t)return void this.joinResolver.errorTrigger.fire(t);this.pev[4]=e},t}();i.JoinLeaveRequest=n;var o=function(){function t(t){this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this._amflow=t.amflow,this._keysForJoin=null,this._requested=[]}return t.prototype.request=function(t){this._requested.push(new n(t,this,this._amflow,this._keysForJoin))},t.prototype.readResolved=function(){var t=this._requested.length;if(0===t||!this._requested[0].resolved)return null;for(var e=[],i=0;i<t;++i){var r=this._requested[i];if(!r.resolved)break;e.push(r.pev)}return this._requested.splice(0,i),e},t.prototype.setRequestValuesForJoin=function(t){this._keysForJoin=t},t}();i.JoinResolver=o},{\"@akashic/akashic-engine\":1}],14:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r;!function(t){t[t.Realtime=0]=\"Realtime\",t[t.Replay=1]=\"Replay\",t[t.FrameByFrame=2]=\"FrameByFrame\"}(r||(r={})),i.default=r},{}],15:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r;!function(t){t[t.AfterRawFrame=0]=\"AfterRawFrame\",t[t.None=1]=\"None\"}(r||(r={})),i.default=r},{}],16:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"es6-promise\"),n=t(\"@akashic/akashic-engine\");!function(t){function e(e){function i(i,s,a,h){e.loadGameConfiguration(i,function(e,c){if(e)return void h(e,null);try{c=t._resolveConfigurationBasePath(c,null!=s?s:n.PathUtil.resolveDirname(i))}catch(t){return void h(t,null)}if(!c.definitions)return void h(null,c);var u=c.definitions.map(function(t){if(\"string\"==typeof t){var e=null!=a?n.PathUtil.resolvePath(a,t):t;return o(e,void 0,a)}var e=null!=a?n.PathUtil.resolvePath(a,t.url):t.url;return o(e,t.basePath,a)});r.Promise.all(u).then(function(e){return h(null,e.reduce(t._mergeGameConfiguration))}).catch(function(t){return h(t,null)})})}function o(t,e,n){return new r.Promise(function(r,o){i(t,e,n,function(t,e){t?o(t):r(e)})})}return i}function i(t,e){function i(t,e){var i=n.PathUtil.resolvePath(t,e);if(0!==i.indexOf(t))throw n.ExceptionFactory.createAssertionError(\"PdiUtil._resolveConfigurationBasePath: invalid path: \"+e);return i}var r=t.assets;if(r instanceof Object)for(var o in r)r.hasOwnProperty(o)&&\"path\"in r[o]&&(r[o].virtualPath=r[o].virtualPath||r[o].path,r[o].path=i(e,r[o].path));return t.globalScripts&&(t.globalScripts.forEach(function(t){if(r.hasOwnProperty(t))throw n.ExceptionFactory.createAssertionError(\"PdiUtil._resolveConfigurationBasePath: asset ID already exists: \"+t);r[t]={type:/\\.json$/i.test(t)?\"text\":\"script\",virtualPath:t,path:i(e,t),global:!0}}),delete t.globalScripts),t}function o(e,i){for(var r=Object.keys(i),n=0,o=r.length;n<o;++n){var s=r[n],a=i[s];if(typeof a===typeof e[s])switch(typeof a){case\"string\":case\"number\":case\"boolean\":e[s]=a;break;case\"object\":null==a?e[s]=a:Array.isArray(a)?e[s]=e[s].concat(a):t._mergeObject(e[s],a);break;default:throw new Error(\"PdiUtil._mergeObject(): unknown type\")}else e[s]=a}return e}function s(e,i){return t._mergeObject(e,i)}t.makeLoadConfigurationFunc=e,t._resolveConfigurationBasePath=i,t._mergeObject=o,t._mergeGameConfiguration=s}(i.PdiUtil||(i.PdiUtil={}))},{\"@akashic/akashic-engine\":1,\"es6-promise\":83}],17:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this._game=t.game,this._pointEventMap={}}return t.prototype.pointDown=function(t){var e=this._game.player,i=this._game.findPointSource(t.offset),r=i.point?i.point:t.offset,n=i.target?i.target.id:null;this._pointEventMap[t.identifier]={targetId:n,local:i.local,point:r,start:{x:t.offset.x,y:t.offset.y},prev:{x:t.offset.x,y:t.offset.y}};var o=[33,2,e.id,t.identifier,r.x,r.y,n];return i.local&&o.push(i.local),o},t.prototype.pointMove=function(t){var e=this._game.player,i=this._pointEventMap[t.identifier];if(!i)return null;var r={x:0,y:0},n={x:0,y:0};this._pointMoveAndUp(i,t.offset,r,n);var o=[34,2,e.id,t.identifier,i.point.x,i.point.y,n.x,n.y,r.x,r.y,i.targetId];return i.local&&o.push(i.local),o},t.prototype.pointUp=function(t){var e=this._game.player,i=this._pointEventMap[t.identifier];if(!i)return null;var r={x:0,y:0},n={x:0,y:0};this._pointMoveAndUp(i,t.offset,r,n),delete this._pointEventMap[t.identifier];var o=[35,2,e.id,t.identifier,i.point.x,i.point.y,n.x,n.y,r.x,r.y,i.targetId];return i.local&&o.push(i.local),o},t.prototype._pointMoveAndUp=function(t,e,i,r){r.x=e.x-t.start.x,r.y=e.y-t.start.y,i.x=e.x-t.prev.x,i.y=e.y-t.prev.y,t.prev.x=e.x,t.prev.y=e.y},t}();i.PointEventResolver=r},{}],18:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./Clock\"),o=function(t){function e(e){var i=t.call(this,e)||this;return i._profiler=e.profiler,i}return r(e,t),e.prototype._onLooperCall=function(t){var e=t;if(t<=0)return this._waitTime-this._totalDeltaTime;t>this._deltaTimeBrokenThreshold&&(t=this._waitTime);var i=this._totalDeltaTime;if((i+=t)<=this._skipFrameWaitTime)return this._totalDeltaTime=i,this._waitTime-i;this._profiler.timeEnd(1),this._profiler.time(1);var r=i<this._waitTimeDoubled?1:i>this._waitTimeMax?this._realMaxFramePerOnce:i/this._waitTime|0,n=r,o={deltaTime:e,interrupt:!1};for(this._profiler.setValue(0,n-1);n>0&&this.running&&!o.interrupt;)--n,this._profiler.time(2),this.frameTrigger.fire(o),this._profiler.timeEnd(2),o.deltaTime=0;return i-=(r-n)*this._waitTime,this._profiler.time(3),this.rawFrameTrigger.fire(),this._profiler.timeEnd(3),this._totalDeltaTime=i,this._profiler.flush(),this._waitTime-i},e}(n.Clock);i.ProfilerClock=o},{\"./Clock\":5}],19:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./ExecutionMode\"),o=function(){function t(t){this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this.getStorageFunc=this._getStorage.bind(this),this.putStorageFunc=this._putStorage.bind(this),this.requestValuesForJoinFunc=this._requestValuesForJoin.bind(this),this._game=t.game,this._amflow=t.amflow,this._tickGenerator=t.tickGenerator,this._tickBuffer=t.tickBuffer,this._executionMode=null,this.setExecutionMode(t.executionMode),this._unresolvedLoaders={},this._unresolvedStorages={},this._onStoragePut_bound=this._onStoragePut.bind(this)}return t.prototype.setExecutionMode=function(t){if(this._executionMode!==t){this._executionMode=t;var e=this._tickBuffer,i=this._tickGenerator;t===n.default.Active?(e.gotStorageTrigger.remove(this._onGotStorageOnTick,this),i.gotStorageTrigger.add(this._onGotStorageOnTick,this)):(i.gotStorageTrigger.remove(this._onGotStorageOnTick,this),e.gotStorageTrigger.add(this._onGotStorageOnTick,this))}},t.prototype._onGotStorageOnTick=function(t){var e=t.age,i=t.storageData,r=this._unresolvedLoaders[e];if(!r)return void(this._unresolvedStorages[e]=i);delete this._unresolvedLoaders[e];var n=e,o=i.map(function(t){return t.values});r._onLoaded(o,n)},t.prototype._getStorage=function(t,e,i){var r;null!=i?(r=i,this._tickBuffer.requestTicks(r,1)):this._executionMode===n.default.Active?r=this._tickGenerator.requestStorageTick(t):(r=this._game.age,this._tickBuffer.requestTicks(r,1));var o=this._unresolvedStorages[r];if(!o)return void(this._unresolvedLoaders[r]=e);delete this._unresolvedStorages[r];var s=r,a=o.map(function(t){return t.values});e._onLoaded(a,s)},t.prototype._putStorage=function(t,e,i){this._executionMode===n.default.Active&&this._amflow.putStorageData(t,e,i,this._onStoragePut_bound)},t.prototype._requestValuesForJoin=function(t){this._tickGenerator.setRequestValuesForJoin(t)},t.prototype._onStoragePut=function(t){t&&this.errorTrigger.fire(t)},t}();i.StorageResolver=o},{\"./ExecutionMode\":9,\"@akashic/akashic-engine\":1}],20:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./ExecutionMode\"),o=function(){function t(e){this.currentAge=0,this.knownLatestAge=-1,this.gotNextTickTrigger=new r.Trigger,this.gotNoTickTrigger=new r.Trigger,this.gotStorageTrigger=new r.Trigger,this._amflow=e.amflow,this._prefetchThreshold=e.prefetchThreshold||t.DEFAULT_PREFETCH_THRESHOLD,this._sizeRequestOnce=e.sizeRequestOnce||t.DEFAULT_SIZE_REQUEST_ONCE,this._executionMode=e.executionMode,this._startedAt=e.startedAt||0,this._oldTimestampThreshold=null!=e.startedAt?e.startedAt-864e6:0,this._receiving=!1,this._tickRanges=[],this._nearestAbsentAge=this.currentAge,this._nextTickTimeCache=null,this._addTick_bound=this.addTick.bind(this),this._onTicks_bound=this._onTicks.bind(this)}return t.prototype.start=function(){this._receiving=!0,this._updateAmflowReceiveState()},t.prototype.stop=function(){this._receiving=!1,this._updateAmflowReceiveState()},t.prototype.setExecutionMode=function(t){this._executionMode!==t&&(this._dropUntil(this.knownLatestAge+1),this.knownLatestAge=this.currentAge,this._nextTickTimeCache=null,this._nearestAbsentAge=this.currentAge,this._executionMode=t,this._updateAmflowReceiveState())},t.prototype.setCurrentAge=function(t){this._dropUntil(t),this._nextTickTimeCache=null,this.currentAge=t,this._nearestAbsentAge=this._findNearestAbscentAge(t)},t.prototype.hasNextTick=function(){return this.currentAge!==this._nearestAbsentAge},t.prototype.consume=function(){if(this.currentAge===this._nearestAbsentAge)return null;var t=this.currentAge,e=this._tickRanges[0];return t===e.start?(this._nextTickTimeCache=null,++this.currentAge,++e.start,t+this._prefetchThreshold===this._nearestAbsentAge&&this.requestTicks(this._nearestAbsentAge,this._sizeRequestOnce),e.start===e.end&&this._tickRanges.shift(),e.ticks.length>0&&e.ticks[0][0]===t?e.ticks.shift():t):(this._dropUntil(this.currentAge),this.consume())},t.prototype.readNextTickTime=function(){if(null!=this._nextTickTimeCache)return this._nextTickTimeCache;if(this.currentAge===this._nearestAbsentAge)return null;var t=this.currentAge,e=this._tickRanges[0];if(t===e.start){if(0===e.ticks.length)return null;var i=e.ticks[0];if(i[0]!==t)return null;var r=i[1];if(!r)return null;for(var n=0;n<r.length;++n)if(2===r[n][0]){var o=r[n][3];return o<this._oldTimestampThreshold&&(o+=this._startedAt),this._nextTickTimeCache=o,o}return null}return this._dropUntil(this.currentAge),this.readNextTickTime()},t.prototype.requestTicks=function(t,e){void 0===t&&(t=this.currentAge),void 0===e&&(e=this._sizeRequestOnce),this._executionMode===n.default.Passive&&this._amflow.getTickList(t,t+e,this._onTicks_bound)},t.prototype.addTick=function(t){var e=t[0],i=this.currentAge===e&&this._nearestAbsentAge===e;this.knownLatestAge<e&&(this.knownLatestAge=e),t[2]&&this.gotStorageTrigger.fire({age:t[0],storageData:t[2]});for(var r=this._tickRanges.length-1;r>=0;--r){var n=this._tickRanges[r];if(e>=n.start)break}var o=this._tickRanges[r+1];if(r<0)this._tickRanges.unshift(this._createTickRangeFromTick(t));else{var n=this._tickRanges[r];e===n.end?(++n.end,t[1]&&n.ticks.push(t)):e>n.end&&this._tickRanges.splice(r+1,0,this._createTickRangeFromTick(t))}this._nearestAbsentAge===e&&(++this._nearestAbsentAge,o&&this._nearestAbsentAge===o.start&&(this._nearestAbsentAge=this._findNearestAbscentAge(this._nearestAbsentAge))),i&&this.gotNextTickTrigger.fire()},t.prototype.addTickList=function(t){var e=t[0],i=t[1]+1,r=t[2],n=e,o=i;this.knownLatestAge<i-1&&(this.knownLatestAge=i-1);var s=0,a=this._tickRanges.length;for(s=0;s<a;++s){var h=this._tickRanges[s];if(e<h.start)break}var c=s;if(s>0){--s;var u=this._tickRanges[s].end;e<u&&(e=u)}for(;s<a;++s){var h=this._tickRanges[s];if(i<=h.end)break}if(s<a){var l=this._tickRanges[s].start;i>l&&(i=l)}if(e>=i)return{start:e,end:e,ticks:[]};r||(r=[]),n===e&&o===i||(r=r.filter(function(t){var r=t[0];return e<=r&&r<i}));for(var d=0;d<r.length;++d){var p=r[d];p[2]&&this.gotStorageTrigger.fire({age:p[0],storageData:p[2]})}var f={start:e,end:i,ticks:r},_=Math.max(0,s-c);return this._tickRanges.splice(c,_,f),e<=this._nearestAbsentAge&&this._nearestAbsentAge<i&&(this._nearestAbsentAge=this._findNearestAbscentAge(this._nearestAbsentAge)),f},t.prototype._updateAmflowReceiveState=function(){this._receiving&&this._executionMode===n.default.Passive?this._amflow.onTick(this._addTick_bound):this._amflow.offTick(this._addTick_bound)},t.prototype._onTicks=function(t,e){if(t)throw new Error;if(!e)return void this.gotNoTickTrigger.fire();var i=this.currentAge===this._nearestAbsentAge,r=this.addTickList(e);i&&r.start<=this.currentAge&&this.currentAge<r.end&&this.gotNextTickTrigger.fire(),r.ticks.length||this.gotNoTickTrigger.fire()},t.prototype._findNearestAbscentAge=function(t){for(var e=0,i=this._tickRanges.length;e<i&&!(t<=this._tickRanges[e].end);++e);for(;e<i;++e){var r=this._tickRanges[e];if(t<r.start)break;t=r.end}return t},t.prototype._dropUntil=function(t){var e;for(e=0;e<this._tickRanges.length&&!(t<this._tickRanges[e].end);++e);if(this._tickRanges=this._tickRanges.slice(e),0!==this._tickRanges.length){var i=this._tickRanges[0];if(!(t<i.start)){for(i.start=t,e=0;e<i.ticks.length&&!(t<=i.ticks[e][0]);++e);i.ticks=i.ticks.slice(e)}}},t.prototype._createTickRangeFromTick=function(t){var e=t[0],i={start:e,end:e+1,ticks:[]};return t[1]&&i.ticks.push(t),i},t.DEFAULT_PREFETCH_THRESHOLD=1800,t.DEFAULT_SIZE_REQUEST_ONCE=9e3,t}();i.TickBuffer=o},{\"./ExecutionMode\":9,\"@akashic/akashic-engine\":1}],21:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./ExecutionMode\"),o=t(\"./TickBuffer\"),s=t(\"./TickGenerator\"),a=t(\"./StorageResolver\"),h=function(){function t(t){this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this._amflow=t.amflow,this._clock=t.clock,this._started=!1,this._executionMode=t.executionMode,this._generator=new s.TickGenerator({amflow:t.amflow,eventBuffer:t.eventBuffer,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._buffer=new o.TickBuffer({amflow:t.amflow,executionMode:t.executionMode,startedAt:t.startedAt}),this._storageResolver=new a.StorageResolver({game:t.game,amflow:t.amflow,tickGenerator:this._generator,tickBuffer:this._buffer,executionMode:t.executionMode,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._generator.tickTrigger.add(this._onTickGenerated,this),this._clock.frameTrigger.add(this._generator.next,this._generator)}return t.prototype.startTick=function(){this._started=!0,this._updateGeneratorState()},t.prototype.stopTick=function(){this._started=!1,this._updateGeneratorState()},t.prototype.startTickOnce=function(){this._started=!0,this._generator.tickTrigger.addOnce(this._stopTriggerOnTick,this),this._updateGeneratorState()},t.prototype.setNextAge=function(t){this._generator.setNextAge(t)},t.prototype.forceGenerateTick=function(){this._generator.forceNext()},t.prototype.getBuffer=function(){return this._buffer},t.prototype.storageFunc=function(){return{storageGetFunc:this._storageResolver.getStorageFunc,storagePutFunc:this._storageResolver.putStorageFunc,requestValuesForJoinFunc:this._storageResolver.requestValuesForJoinFunc}},t.prototype.setExecutionMode=function(t){this._executionMode!==t&&(this._executionMode=t,this._updateGeneratorState(),this._buffer.setExecutionMode(t),this._storageResolver.setExecutionMode(t))},t.prototype._stopTriggerOnTick=function(){this.stopTick()},t.prototype._updateGeneratorState=function(){var t=this._started&&this._executionMode===n.default.Active;this._generator.startStopGenerate(t)},t.prototype._onTickGenerated=function(t){this._amflow.sendTick(t),this._buffer.addTick(t)},t}();i.TickController=h},{\"./ExecutionMode\":9,\"./StorageResolver\":19,\"./TickBuffer\":20,\"./TickGenerator\":22,\"@akashic/akashic-engine\":1}],22:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./JoinResolver\"),o=function(){function t(t){this.tickTrigger=new r.Trigger,this.gotStorageTrigger=new r.Trigger,this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this._amflow=t.amflow,\nthis._eventBuffer=t.eventBuffer,this._joinResolver=new n.JoinResolver({amflow:t.amflow,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._nextAge=0,this._storageDataForNext=null,this._generatingTick=!1,this._waitingStorage=!1,this._onGotStorageData_bound=this._onGotStorageData.bind(this)}return t.prototype.next=function(){if(this._generatingTick&&!this._waitingStorage){var t=this._eventBuffer.readJoinLeaves();if(t)for(var e=0;e<t.length;++e)this._joinResolver.request(t[e]);var i=this._eventBuffer.readEvents(),r=this._joinResolver.readResolved();r&&(i?i.push.apply(i,r):i=r);var n=this._storageDataForNext;this._storageDataForNext=null,this.tickTrigger.fire([this._nextAge++,i,n])}},t.prototype.forceNext=function(){if(this._waitingStorage)return void this.errorTrigger.fire(new Error(\"TickGenerator#forceNext(): cannot generate tick while waiting storage.\"));var t=this._generatingTick;this._generatingTick=!0,this.next(),this._generatingTick=t},t.prototype.startStopGenerate=function(t){this._generatingTick=t},t.prototype.startTick=function(){this._generatingTick=!0},t.prototype.stopTick=function(){this._generatingTick=!1},t.prototype.setNextAge=function(t){if(this._waitingStorage)return void this.errorTrigger.fire(new Error(\"TickGenerator#setNextAge(): cannot change the next age while waiting storage.\"));this._nextAge=t},t.prototype.requestStorageTick=function(t){if(this._waitingStorage){var e=r.ExceptionFactory.createAssertionError(\"TickGenerator#requestStorageTick(): Unsupported: multiple storage request\");return this.errorTrigger.fire(e),-1}return this._waitingStorage=!0,this._amflow.getStorageData(t,this._onGotStorageData_bound),this._nextAge},t.prototype.setRequestValuesForJoin=function(t){this._joinResolver.setRequestValuesForJoin(t)},t.prototype._onGotStorageData=function(t,e){if(this._waitingStorage=!1,t)return void this.errorTrigger.fire(t);this._storageDataForNext=e,this.gotStorageTrigger.fire({age:this._nextAge,storageData:e})},t}();i.TickGenerator=o},{\"./JoinResolver\":13,\"@akashic/akashic-engine\":1}],23:[function(t,e,i){\"use strict\";function r(t){return t&&\"object\"==typeof t?Array.isArray(t)?t.map(r):Object.keys(t).reduce(function(e,i){return e[i]=r(t[i]),e},{}):t}Object.defineProperty(i,\"__esModule\",{value:!0});var n=function(){function t(t){this._playId=t.playId,this._putStorageDataSyncFunc=t.putStorageDataSyncFunc||function(){throw new Error(\"Implementation not given\")},this._getStorageDataSyncFunc=t.getStorageDataSyncFunc||function(){throw new Error(\"Implementation not given\")},this._tickHandlers=[],this._eventHandlers=[],this._events=[],this._tickList=null,t.startPoints?(this._tickList=t.tickList,this._startPoints=t.startPoints):this._startPoints=[]}return t.prototype.dump=function(){return{tickList:this._tickList,startPoints:this._startPoints}},t.prototype.open=function(t,e){var i=this;setTimeout(function(){if(t!==i._playId)return void e(new Error(\"MemoryAmflowClient#open: unknown playId\"));e(null)},0)},t.prototype.close=function(t){setTimeout(function(){t(null)},0)},t.prototype.authenticate=function(e,i){setTimeout(function(){switch(e){case t.TOKEN_ACTIVE:i(null,{writeTick:!0,readTick:!0,subscribeTick:!1,sendEvent:!1,subscribeEvent:!0,maxEventPriority:2});break;case t.TOKEN_PASSIVE:i(null,{writeTick:!1,readTick:!0,subscribeTick:!0,sendEvent:!0,subscribeEvent:!1,maxEventPriority:2});break;default:i(null,{writeTick:!0,readTick:!0,subscribeTick:!0,sendEvent:!0,subscribeEvent:!0,maxEventPriority:2})}},0)},t.prototype.sendTick=function(t){if(t=r(t),this._tickList){if(this._tickList[0]<=t[0]&&t[0]<=this._tickList[1])throw new Error(\"illegal age tick\");this._tickList[1]=t[0]}else this._tickList=[t[0],t[0],[]];(t[1]||t[2])&&this._tickList[2].push(t),this._tickHandlers.forEach(function(e){return e(t)})},t.prototype.onTick=function(t){this._tickHandlers.push(t)},t.prototype.offTick=function(t){this._tickHandlers=this._tickHandlers.filter(function(e){return e!==t})},t.prototype.sendEvent=function(t){if(t=r(t),0===this._eventHandlers.length)return void this._events.push(t);this._eventHandlers.forEach(function(e){return e(t)})},t.prototype.onEvent=function(t){var e=this;this._eventHandlers.push(t),this._events.length>0&&(this._events.forEach(function(t){e._eventHandlers.forEach(function(e){return e(t)})}),this._events=[])},t.prototype.offEvent=function(t){this._eventHandlers=this._eventHandlers.filter(function(e){return e!==t})},t.prototype.getTickList=function(t,e,i){if(!this._tickList)return void setTimeout(function(){return i(null,null)},0);t=Math.max(t,this._tickList[0]),e=Math.min(e,this._tickList[1]);var r=this._tickList[2].filter(function(i){var r=i[0];return t<=r&&r<=e}),n=[t,e,r];setTimeout(function(){return i(null,n)},0)},t.prototype.putStartPoint=function(t,e){var i=this;setTimeout(function(){i._startPoints.push(t),e(null)},0)},t.prototype.getStartPoint=function(t,e){var i=this;setTimeout(function(){if(!i._startPoints||0===i._startPoints.length)return void e(new Error(\"no startpoint\"));var r=0;if(null!=t.frame)for(var n=i._startPoints[0].frame,o=1;o<i._startPoints.length;++o){var s=i._startPoints[o].frame;s<=t.frame&&n<s&&(n=s,r=o)}else for(var a=i._startPoints[0].timestamp,o=1;o<i._startPoints.length;++o){var h=i._startPoints[o].timestamp;h<=t.timestamp&&a<h&&(a=h,r=o)}e(null,i._startPoints[r])},0)},t.prototype.putStorageData=function(t,e,i,r){var n=this;setTimeout(function(){try{n._putStorageDataSyncFunc(t,e,i),r(null)}catch(t){r(t)}},0)},t.prototype.getStorageData=function(t,e){var i=this;setTimeout(function(){try{var r=i._getStorageDataSyncFunc(t);e(null,r)}catch(t){e(t)}},0)},t.prototype.dropAfter=function(t){if(this._tickList){var e=this._tickList[0],i=this._tickList[1];t<=e?(this._tickList=null,this._startPoints=[]):t<=i&&(this._tickList[1]=t-1,this._tickList[2]=this._tickList[2].filter(function(i){var r=i[0];return e<=r&&r<=t-1}),this._startPoints=this._startPoints.filter(function(e){return e.frame<t}))}},t.TOKEN_ACTIVE=\"mamfc-token:active\",t.TOKEN_PASSIVE=\"mamfc-token:passive\",t}();i.MemoryAmflowClient=n,i._cloneDeep=r},{}],24:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this._amflow=t.amflow,this._tickList=t.tickList,this._startPoints=t.startPoints}return t.prototype.dropAfter=function(t){if(this._tickList){var e=this._tickList[0],i=this._tickList[1],r=this._tickList[2];t<=e?(this._tickList=null,this._startPoints=[]):t<=i&&(this._tickList[1]=t-1,this._tickList[2]=this._sliceTicks(r,i,t-1),this._startPoints=this._startPoints.filter(function(e){return e.frame<t}))}},t.prototype.open=function(t,e){this._amflow.open(t,e)},t.prototype.close=function(t){this._amflow.close(t)},t.prototype.authenticate=function(t,e){this._amflow.authenticate(t,e)},t.prototype.sendTick=function(t){this._amflow.sendTick(t)},t.prototype.onTick=function(t){this._amflow.onTick(t)},t.prototype.offTick=function(t){this._amflow.offTick(t)},t.prototype.sendEvent=function(t){this._amflow.sendEvent(t)},t.prototype.onEvent=function(t){this._amflow.onEvent(t)},t.prototype.offEvent=function(t){this._amflow.offEvent(t)},t.prototype.getTickList=function(t,e,i){var r=this;if(!this._tickList)return void this._amflow.getTickList(t,e,i);var n=this._tickList[0],o=this._tickList[1],s=this._tickList[2],a=n<=t&&t<=o,h=n<=e&&e<=o;a&&h?setTimeout(function(){i(null,[t,e,r._sliceTicks(s,t,e)])},0):this._amflow.getTickList(t,e,function(c,u){if(c)return void i(c);if(u)if(a||h)if(a){var l=r._sliceTicks(s,t,e).concat(u[2]||[]);i(null,[t,u[1],l])}else{var l=(u[2]||[]).concat(r._sliceTicks(s,t,e));i(null,[u[0],e,l])}else if(e<n||o<t)i(null,u);else{var l=u[2];if(l){var d=r._sliceTicks(l,t,n-1),p=r._sliceTicks(l,o+1,e);l=d.concat(s,p)}else l=s;i(null,[t,e,l])}else a||h?a?i(null,[t,o,r._sliceTicks(s,t,e)]):i(null,[n,e,r._sliceTicks(s,t,e)]):e<n||o<t?i(null,u):i(null,[n,o,r._sliceTicks(s,t,e)])})},t.prototype.putStartPoint=function(t,e){this._amflow.putStartPoint(t,e)},t.prototype.getStartPoint=function(t,e){var i=this,r=0;if(this._startPoints.length>0)if(null!=t.frame)for(var n=this._startPoints[0].frame,o=1;o<this._startPoints.length;++o){var s=this._startPoints[o].frame;s<=t.frame&&n<s&&(n=s,r=o)}else for(var a=this._startPoints[0].timestamp,o=1;o<this._startPoints.length;++o){var h=this._startPoints[o].timestamp;h<=t.timestamp&&a<h&&(a=h,r=o)}var c=this._tickList?this._tickList[1]:-1;t.frame>c?this._amflow.getStartPoint(t,function(t,n){if(t)return void e(t);c<n.frame?e(null,n):e(null,i._startPoints[r])}):setTimeout(function(){e(null,i._startPoints[r])},0)},t.prototype.putStorageData=function(t,e,i,r){this._amflow.putStorageData(t,e,i,r)},t.prototype.getStorageData=function(t,e){this._amflow.getStorageData(t,e)},t.prototype._sliceTicks=function(t,e,i){return t.filter(function(t){var r=t[0];return e<=r&&r<=i})},t}();i.ReplayAmflowProxy=r},{}],25:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(e){this._interval=null!=e.interval?e.interval:t.DEFAULT_INTERVAL,null!=e.limit?this._limit=e.limit>=t.DEFAULT_LIMIT?e.limit:t.DEFAULT_LIMIT:this._limit=t.DEFAULT_LIMIT,this._calculateProfilerValueTrigger=new r.Trigger,e.getValueHandler&&this._calculateProfilerValueTrigger.add(e.getValueHandler,e.getValueHandlerOwner),this._reset()}return t.prototype.time=function(t){this._beforeTimes[t]=this._getCurrentTime()},t.prototype.timeEnd=function(t){var e=this._getCurrentTime(),i=null!=this._beforeTimes[t]?e-this._beforeTimes[t]:0;this._values[t].push({time:e,value:i})},t.prototype.flush=function(){var e=this._getCurrentTime();if(0===this._beforeFlushTime&&(this._beforeFlushTime=e),this._beforeFlushTime+this._interval<e&&(this._calculateProfilerValueTrigger.fire(this.getProfilerValue(this._interval)),this._beforeFlushTime=e),this._values[1].length>this._limit)for(var i in this._values)this._values.hasOwnProperty(i)&&(this._values[i]=this._values[i].slice(-t.BACKUP_MARGIN))},t.prototype.setValue=function(t,e){this._values[t].push({time:this._getCurrentTime(),value:e})},t.prototype.getProfilerValue=function(t){var e=this._calculateProfilerValue(1,t);return{skippedFrameCount:this._calculateProfilerValue(0,t),rawFrameInterval:e,framePerSecond:{ave:1e3/e.ave,max:1e3/e.min,min:1e3/e.max},frameTime:this._calculateProfilerValue(2,t),renderingTime:this._calculateProfilerValue(3,t)}},t.prototype._reset=function(){this._startTime=this._getCurrentTime(),this._beforeFlushTime=0,this._beforeTimes=[],this._beforeTimes[1]=0,this._beforeTimes[2]=0,this._beforeTimes[3]=0,this._beforeTimes[0]=0,this._values=[],this._values[1]=[],this._values[2]=[],this._values[3]=[],this._values[0]=[]},t.prototype._calculateProfilerValue=function(t,e){for(var i=this._getCurrentTime()-e,r=0,n=0,o=0,s=Number.MAX_VALUE,a=this._values[t].length-1;a>=0&&!(0<n&&this._values[t][a].time<i);--a){var h=this._values[t][a].value;o<h&&(o=h),h<s&&(s=h),r+=h,++n}return{ave:r/n,max:o,min:s}},t.prototype._getCurrentTime=function(){return+new Date},t.DEFAULT_INTERVAL=1e3,t.DEFAULT_LIMIT=1e3,t.BACKUP_MARGIN=100,t}();i.SimpleProfiler=n},{\"@akashic/akashic-engine\":1}],26:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0}),i.DEFAULT_DELAY_IGNORE_THRESHOLD=6,i.DEFAULT_SKIP_TICKS_AT_ONCE=100,i.DEFAULT_SKIP_THRESHOLD=100,i.DEFAULT_JUMP_TRY_THRESHOLD=3e4,i.DEFAULT_JUMP_IGNORE_THRESHOLD=15e3,i.DEFAULT_POLLING_TICK_THRESHOLD=1e4},{}],27:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t(\"./constants\"));var r=t(\"./EventIndex\");i.EventIndex=r;var n=t(\"./LoopMode\");i.LoopMode=n.default;var o=t(\"./LoopRenderMode\");i.LoopRenderMode=o.default;var s=t(\"./ExecutionMode\");i.ExecutionMode=s.default;var a=t(\"./GameDriver\");i.GameDriver=a.GameDriver;var h=t(\"./Game\");i.Game=h.Game;var c=t(\"./auxiliary/ReplayAmflowProxy\");i.ReplayAmflowProxy=c.ReplayAmflowProxy;var u=t(\"./auxiliary/MemoryAmflowClient\");i.MemoryAmflowClient=u.MemoryAmflowClient;var l=t(\"./auxiliary/SimpleProfiler\");i.SimpleProfiler=l.SimpleProfiler},{\"./EventIndex\":8,\"./ExecutionMode\":9,\"./Game\":10,\"./GameDriver\":11,\"./LoopMode\":14,\"./LoopRenderMode\":15,\"./auxiliary/MemoryAmflowClient\":23,\"./auxiliary/ReplayAmflowProxy\":24,\"./auxiliary/SimpleProfiler\":25,\"./constants\":26}],28:[function(t,e,i){e.exports=t(\"./lib/full/index\")},{\"./lib/full/index\":63}],29:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(){this.audioAssets=[],this._masterVolume=1}return t.prototype.registerAudioAsset=function(t){-1===this.audioAssets.indexOf(t)&&this.audioAssets.push(t)},t.prototype.removeAudioAsset=function(t){var e=this.audioAssets.indexOf(t);-1===e&&this.audioAssets.splice(e,1)},t.prototype.setMasterVolume=function(t){this._masterVolume=t;for(var e=0;e<this.audioAssets.length;e++)this.audioAssets[e]._lastPlayedPlayer&&this.audioAssets[e]._lastPlayedPlayer.notifyMasterVolumeChanged()},t.prototype.getMasterVolume=function(){return this._masterVolume},t}();i.AudioManager=r},{}],30:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./InputHandlerLayer\"),o=function(){function t(t){this.container=null,this.surface=null,this.inputHandlerLayer=null,this.rootView=null,this.useResizeForScaling=!1,this.pointEventTrigger=new r.Trigger,this._rendererReq=null,this._disablePreventDefault=!1,this.resourceFactory=t}return t.prototype.initialize=function(t){this._rendererReq=t.rendererRequirement,this._disablePreventDefault=!!t.disablePreventDefault,this._loadView()},t.prototype.setRootView=function(t){t!==this.rootView&&(this.rootView&&(this.unloadView(),this._loadView()),this.rootView=t,this._appendToRootView(t))},t.prototype.resetView=function(t){this.unloadView(),this._rendererReq=t,this._loadView(),this._appendToRootView(this.rootView)},t.prototype.getRenderer=function(){if(!this.surface)throw new Error(\"this container has no surface\");return this.surface.renderer()},t.prototype.changeScale=function(t,e){this.useResizeForScaling?this.surface.changePhysicalScale(t,e):this.surface.changeVisualScale(t,e),this.inputHandlerLayer._inputHandler.setScale(t,e)},t.prototype.unloadView=function(){if(this.inputHandlerLayer.disablePointerEvent(),this.rootView)for(;this.rootView.firstChild;)this.rootView.removeChild(this.rootView.firstChild)},t.prototype._loadView=function(){var t=this._rendererReq,e=t.primarySurfaceWidth,i=t.primarySurfaceHeight,r=this._disablePreventDefault;this.container=document.createDocumentFragment(),this.inputHandlerLayer?(this.inputHandlerLayer.setViewSize({width:e,height:i}),this.inputHandlerLayer.pointEventTrigger.removeAll(),this.surface&&!this.surface.destroyed()&&(this.inputHandlerLayer.view.removeChild(this.surface.canvas),this.surface.destroy())):this.inputHandlerLayer=new n.InputHandlerLayer({width:e,height:i,disablePreventDefault:r}),this.surface=this.resourceFactory.createPrimarySurface(e,i),this.inputHandlerLayer.view.appendChild(this.surface.getHTMLElement()),this.container.appendChild(this.inputHandlerLayer.view)},t.prototype._appendToRootView=function(t){t.appendChild(this.container),this.inputHandlerLayer.enablePointerEvent(),this.inputHandlerLayer.pointEventTrigger.add(this.pointEventTrigger.fire,this.pointEventTrigger)},t}();i.ContainerController=o},{\"./InputHandlerLayer\":31,\"@akashic/akashic-engine\":1}],31:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./handler/TouchHandler\"),o=function(){function t(t){this.view=this._createInputView(t.width,t.height),this._inputHandler=void 0,this.pointEventTrigger=new r.Trigger,this._disablePreventDefault=!!t.disablePreventDefault}return t.prototype.enablePointerEvent=function(){var t=this;this._inputHandler=new n.TouchHandler(this.view,this._disablePreventDefault),this._inputHandler.pointTrigger.add(function(e){t.pointEventTrigger.fire(e)}),this._inputHandler.start()},t.prototype.disablePointerEvent=function(){this._inputHandler&&this._inputHandler.stop()},t.prototype.setOffset=function(t){var e=\"position:relative; left:\"+t.x+\"px; top:\"+t.y+\"px\";this._inputHandler.inputView.setAttribute(\"style\",e)},t.prototype.setViewSize=function(t){var e=this.view;e.style.width=t.width+\"px\",e.style.height=t.height+\"px\"},t.prototype._createInputView=function(t,e){var i=document.createElement(\"div\");return i.setAttribute(\"tabindex\",\"1\"),i.className=\"input-handler\",i.setAttribute(\"style\",\"display:inline-block; outline:none;\"),i.style.width=t+\"px\",i.style.height=e+\"px\",i},t}();i.InputHandlerLayer=o},{\"./handler/TouchHandler\":62,\"@akashic/akashic-engine\":1}],32:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./RafLooper\"),n=t(\"./ResourceFactory\"),o=t(\"./ContainerController\"),s=t(\"./plugin/AudioPluginManager\"),a=t(\"./AudioManager\"),h=t(\"./plugin/AudioPluginRegistry\"),c=t(\"./asset/XHRTextAsset\"),u=function(){function t(t){this.containerView=t.containerView,this.audioPluginManager=new s.AudioPluginManager,t.audioPlugins&&this.audioPluginManager.tryInstallPlugin(t.audioPlugins),this.audioPluginManager.tryInstallPlugin(h.AudioPluginRegistry.getRegisteredAudioPlugins()),this._audioManager=new a.AudioManager,this.amflow=t.amflow,this._platformEventHandler=null,this._resourceFactory=t.resourceFactory||new n.ResourceFactory({audioPluginManager:this.audioPluginManager,platform:this,audioManager:this._audioManager}),this.containerController=new o.ContainerController(this._resourceFactory),this._rendererReq=null,this._disablePreventDefault=!!t.disablePreventDefault}return t.prototype.setPlatformEventHandler=function(t){this.containerController&&(this.containerController.pointEventTrigger.removeAll({owner:this._platformEventHandler}),this.containerController.pointEventTrigger.add(t.onPointEvent,t)),this._platformEventHandler=t},t.prototype.loadGameConfiguration=function(t,e){var i=new c.XHRTextAsset(\"(game.json)\",t);i._load({_onAssetLoad:function(t){e(null,JSON.parse(i.data))},_onAssetError:function(t,i){e(i,null)}})},t.prototype.getResourceFactory=function(){return this._resourceFactory},t.prototype.setRendererRequirement=function(t){if(!t)return void(this.containerController&&this.containerController.unloadView());this._rendererReq=t,this._resourceFactory._rendererCandidates=this._rendererReq.rendererCandidates,this.containerController&&!this.containerController.inputHandlerLayer?(this.containerController.initialize({rendererRequirement:t,disablePreventDefault:this._disablePreventDefault}),this.containerController.setRootView(this.containerView),this._platformEventHandler&&this.containerController.pointEventTrigger.add(this._platformEventHandler.onPointEvent,this._platformEventHandler)):this.containerController.resetView(t)},t.prototype.getPrimarySurface=function(){return this.containerController.surface},t.prototype.getOperationPluginViewInfo=function(){var t=this;return{type:\"pdi-browser\",view:this.containerController.inputHandlerLayer.view,getScale:function(){return t.containerController.inputHandlerLayer._inputHandler.getScale()}}},t.prototype.createLooper=function(t){return new r.RafLooper(t)},t.prototype.sendToExternal=function(t,e){},t.prototype.registerAudioPlugins=function(t){return this.audioPluginManager.tryInstallPlugin(t)},t.prototype.setScale=function(t,e){this.containerController.changeScale(t,e)},t.prototype.notifyViewMoved=function(){},t.prototype.setMasterVolume=function(t){this._audioManager&&this._audioManager.setMasterVolume(t)},t.prototype.getMasterVolume=function(){if(this._audioManager)return this._audioManager.getMasterVolume()},t.prototype.destroy=function(){this.setRendererRequirement(void 0),this.setMasterVolume(0)},t}();i.Platform=u},{\"./AudioManager\":29,\"./ContainerController\":30,\"./RafLooper\":33,\"./ResourceFactory\":34,\"./asset/XHRTextAsset\":39,\"./plugin/AudioPluginManager\":64,\"./plugin/AudioPluginRegistry\":65}],33:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this._fun=t,this._timerId=void 0,this._prev=0}return t.prototype.start=function(){var t=this,e=function(i){null!=t._timerId&&(t._timerId=requestAnimationFrame(e),t._fun(i-t._prev),t._prev=i)},i=function(i){t._timerId=requestAnimationFrame(e),t._fun(0),t._prev=i};this._timerId=requestAnimationFrame(i)},t.prototype.stop=function(){cancelAnimationFrame(this._timerId),this._timerId=void 0,this._prev=0},t}();i.RafLooper=r},{}],34:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./asset/HTMLImageAsset\"),s=t(\"./asset/HTMLVideoAsset\"),a=t(\"./asset/XHRTextAsset\"),h=t(\"./asset/XHRScriptAsset\"),c=t(\"./canvas/GlyphFactory\"),u=t(\"./canvas/shims/SurfaceFactory\"),l=function(t){function e(e){var i=t.call(this)||this;return i._audioPluginManager=e.audioPluginManager,i._audioManager=e.audioManager,i._platform=e.platform,i._surfaceFactory=new u.SurfaceFactory,i}return r(e,t),e.prototype.createAudioAsset=function(t,e,i,r,n,o){var s=this._audioPluginManager.getActivePlugin(),a=s.createAsset(t,e,i,r,n,o);return a.onDestroyed&&(this._audioManager.registerAudioAsset(a),a.onDestroyed.add(this._onAudioAssetDestroyed,this)),a},e.prototype.createAudioPlayer=function(t){return this._audioPluginManager.getActivePlugin().createPlayer(t,this._audioManager)},e.prototype.createImageAsset=function(t,e,i,r){return new o.HTMLImageAsset(t,e,i,r)},e.prototype.createVideoAsset=function(t,e,i,r,n,o,a){return new s.HTMLVideoAsset(t,e,i,r,n,o,a)},e.prototype.createTextAsset=function(t,e){return new a.XHRTextAsset(t,e)},e.prototype.createScriptAsset=function(t,e){return new h.XHRScriptAsset(t,e)},e.prototype.createPrimarySurface=function(t,e){return this._surfaceFactory.createPrimarySurface(t,e,this._rendererCandidates)},e.prototype.createSurface=function(t,e){return this._surfaceFactory.createBackSurface(t,e,this._rendererCandidates)},e.prototype.createGlyphFactory=function(t,e,i,r,n,o,s,a){return new c.GlyphFactory(t,e,i,r,n,o,s,a)},e.prototype._onAudioAssetDestroyed=function(t){this._audioManager.removeAudioAsset(t)},e}(n.ResourceFactory);i.ResourceFactory=l},{\"./asset/HTMLImageAsset\":35,\"./asset/HTMLVideoAsset\":36,\"./asset/XHRScriptAsset\":38,\"./asset/XHRTextAsset\":39,\"./canvas/GlyphFactory\":42,\"./canvas/shims/SurfaceFactory\":48,\"@akashic/akashic-engine\":1}],35:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i,r){return t.call(this,e,i,r)||this}return r(e,t),e.prototype.renderer=function(){throw n.ExceptionFactory.createAssertionError(\"ImageAssetSurface cannot be rendered.\")},e.prototype.isPlaying=function(){return!1},e}(n.Surface);i.ImageAssetSurface=o;var s=function(t){function e(e,i,r,n){var o=t.call(this,e,i,r,n)||this;return o.data=void 0,o._surface=void 0,o}return r(e,t),e.prototype.destroy=function(){this._surface&&!this._surface.destroyed()&&this._surface.destroy(),this.data=void 0,this._surface=void 0,t.prototype.destroy.call(this)},e.prototype._load=function(t){var e=this,i=new Image;this.hint&&this.hint.untainted&&(i.crossOrigin=\"anonymous\"),i.onerror=function(){t._onAssetError(e,n.ExceptionFactory.createAssetLoadError(\"HTMLImageAsset unknown loading error\"))},i.onload=function(){e.data=i,t._onAssetLoad(e)},i.src=this.path},e.prototype.asSurface=function(){if(!this.data)throw n.ExceptionFactory.createAssertionError(\"ImageAssetImpl#asSurface: not yet loaded.\");return this._surface?this._surface:(this._surface=new o(this.width,this.height,this.data),this._surface)},e}(n.ImageAsset);i.HTMLImageAsset=s},{\"@akashic/akashic-engine\":1}],36:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./HTMLVideoPlayer\"),s=function(t){function e(e,i,r){return t.call(this,e,i,r,!0)||this}return r(e,t),e.prototype.renderer=function(){throw n.ExceptionFactory.createAssertionError(\"VideoAssetSurface cannot be rendered.\")},e.prototype.isPlaying=function(){return!1},e}(n.Surface),a=function(t){function e(e,i,r,n,a,h,c){var u=t.call(this,e,i,r,n,a,h,c)||this;return u._player=new o.HTMLVideoPlayer,u._surface=new s(r,n,null),u}return r(e,t),e.prototype.inUse=function(){return!1},e.prototype._load=function(t){var e=this;setTimeout(function(){t._onAssetLoad(e)},0)},e.prototype.getPlayer=function(){return this._player},e.prototype.asSurface=function(){return this._surface},e}(n.VideoAsset);i.HTMLVideoAsset=a},{\"./HTMLVideoPlayer\":37,\"@akashic/akashic-engine\":1}],37:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e){var i=t.call(this,e)||this;return i.isDummy=!0,i}return r(e,t),e.prototype.play=function(t){},e.prototype.stop=function(){},e.prototype.changeVolume=function(t){},e}(n.VideoPlayer);i.HTMLVideoPlayer=o},{\"@akashic/akashic-engine\":1}],38:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"../utils/XHRLoader\"),s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.script=void 0,r}return r(e,t),e.prototype._load=function(t){var e=this;(new o.XHRLoader).get(this.path,function(i,r){if(i)return void t._onAssetError(e,i);e.script=r+\"\\n\",t._onAssetLoad(e)})},e.prototype.execute=function(t){return this._wrap()(t),t.module.exports},e.prototype._wrap=function(){return new Function(\"g\",e.PRE_SCRIPT+this.script+e.POST_SCRIPT)},e.PRE_SCRIPT=\"(function(exports, require, module, __filename, __dirname) {\",e.POST_SCRIPT=\"\\n})(g.module.exports, g.module.require, g.module, g.filename, g.dirname);\",e}(n.ScriptAsset);i.XHRScriptAsset=s},{\"../utils/XHRLoader\":82,\"@akashic/akashic-engine\":1}],39:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"../utils/XHRLoader\"),s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.data=void 0,r}return r(e,t),e.prototype._load=function(t){var e=this;(new o.XHRLoader).get(this.path,function(i,r){if(i)return void t._onAssetError(e,i);e.data=r,t._onAssetLoad(e)})},e}(n.TextAsset);i.XHRTextAsset=s},{\"../utils/XHRLoader\":82,\"@akashic/akashic-engine\":1}],40:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this.matrix=t?new Float32Array(t.matrix):new Float32Array([1,0,0,1,0,0])}return t.prototype.scale=function(t,e){var i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this},t.prototype.translate=function(t,e){var i=this.matrix;return i[4]+=i[0]*t+i[2]*e,i[5]+=i[1]*t+i[3]*e,this},t.prototype.transform=function(t){var e=this.matrix,i=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],n=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],s=t[4]*e[0]+t[5]*e[2]+e[4],a=t[4]*e[1]+t[5]*e[3]+e[5];return e[0]=i,e[1]=r,e[2]=n,e[3]=o,e[4]=s,e[5]=a,this},t.prototype.setTransform=function(t){var e=this.matrix;e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5]},t.prototype.copyFrom=function(t){return this.matrix.set(t.matrix),this},t}();i.AffineTransformer=r},{}],41:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i){var r=this,n=document.createElement(\"canvas\");return r=t.call(this,e,i,n)||this,n.width=e,n.height=i,r.canvas=n,r._renderer=void 0,r}return r(e,t),e.prototype.destroy=function(){this.canvas.width=1,this.canvas.height=1,this.canvas=null,this._renderer=null,t.prototype.destroy.call(this)},e.prototype.getHTMLElement=function(){return this.canvas},e.prototype.changeVisualScale=function(t,e){var i=this.canvas.style;\"transform\"in i?(i.transformOrigin=\"0 0\",i.transform=\"scale(\"+t+\",\"+e+\")\"):\"webkitTransform\"in i?(i.webkitTransformOrigin=\"0 0\",i.webkitTransform=\"scale(\"+t+\",\"+e+\")\"):(i.width=Math.floor(t*this.width)+\"px\",i.height=Math.floor(e*this.width)+\"px\")},e}(n.Surface);i.CanvasSurface=o},{\"@akashic/akashic-engine\":1}],42:[function(t,e,i){\"use strict\";function r(t,e,i,r,n,o,s,a,h,c,d,f){var _=e<p._environmentMinimumFontSize?e/p._environmentMinimumFontSize:1,g=Math.ceil((e+2*n)*_),y=Math.ceil((e+2*o)*_),m=new l.Context2DSurface(g,y),v=m.canvas,T=v.getContext(\"2d\"),A=4294901760&t?String.fromCharCode((4294901760&t)>>>16,65535&t):String.fromCharCode(t),x=f===u.FontWeight.Bold?\"bold \":\"\";T.save(),T.font=x+e+\"px \"+i,T.textAlign=\"left\",T.textBaseline=\"alphabetic\",T.lineJoin=\"bevel\",1!==_&&T.scale(_,_),h>0&&(T.lineWidth=h,T.strokeStyle=c,T.strokeText(A,n,o+r)),d||(T.fillStyle=a,T.fillText(A,n,o+r));var w=T.measureText(A).width;return T.restore(),{surface:m,advanceWidth:w,imageData:s?T.getImageData(0,0,v.width,v.height):void 0}}function n(t){for(var e=t.width,i=t.height,r=0,n=0,o=0,s=0,a=t.height;s<a;s=s+1|0)for(var h=0,c=t.width;h<c;h=h+1|0){var u=t.data[o+3];0!==u&&(h<e&&(e=h),h>r&&(r=h),s<i&&(i=s),s>n&&(n=s)),o+=4}return e===t.width?{x:0,y:0,width:0,height:0}:{x:e,y:i,width:r-e+1,height:n-i+1}}function o(t){return 0===t.width||0===t.height}function s(t){switch(t){case u.FontFamily.Monospace:return\"monospace\";case u.FontFamily.Serif:return\"serif\";default:return\"sans-serif\"}}function a(t){return-1!==d.indexOf(t)?t:'\"'+t+'\"'}function h(t){return\"number\"==typeof t?s(t):\"string\"==typeof t?a(t):t.map(function(t){return\"string\"==typeof t?a(t):s(t)}).join(\",\")}var c=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{\n__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var u=t(\"@akashic/akashic-engine\"),l=t(\"./context2d/Context2DSurface\"),d=[\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\"],p=function(t){function e(i,r,n,o,a,c,l,d){var p=t.call(this,i,r,n,o,a,c,l,d)||this;p._glyphAreas={},p._cssFontFamily=h(i);var f=s(u.FontFamily.SansSerif);return-1===p._cssFontFamily.indexOf(f)&&(p._cssFontFamily+=\",\"+f),p._marginW=Math.ceil(.3*p.fontSize+p.strokeWidth/2),p._marginH=Math.ceil(.3*p.fontSize+p.strokeWidth/2),void 0===e._environmentMinimumFontSize&&(e._environmentMinimumFontSize=p.measureMinimumFontSize()),p}return c(e,t),e.prototype.create=function(t){var e,i=this._glyphAreas[t];return i||(e=r(t,this.fontSize,this._cssFontFamily,this.baselineHeight,this._marginW,this._marginH,!0,this.fontColor,this.strokeWidth,this.strokeColor,this.strokeOnly,this.fontWeight),i=n(e.imageData),i.advanceWidth=e.advanceWidth,this._glyphAreas[t]=i),o(i)?(e&&e.surface.destroy(),new u.Glyph(t,0,0,0,0,0,0,i.advanceWidth,void 0,!0)):(e||(e=r(t,this.fontSize,this._cssFontFamily,this.baselineHeight,this._marginW,this._marginH,!1,this.fontColor,this.strokeWidth,this.strokeColor,this.strokeOnly,this.fontWeight)),new u.Glyph(t,i.x,i.y,i.width,i.height,i.x-this._marginW,i.y-this._marginH,i.advanceWidth,e.surface,!0))},e.prototype.measureMinimumFontSize=function(){var t=1,e=document.createElement(\"canvas\"),i=e.getContext(\"2d\");i.textAlign=\"left\",i.textBaseline=\"alphabetic\",i.lineJoin=\"bevel\";var r;i.font=t+\"px sans-serif\";var n=i.measureText(\"M\").width;do{r=n,t+=1,i.font=t+\"px sans-serif\",n=i.measureText(\"M\").width}while(r===n||t>50);return t},e}(u.GlyphFactory);i.GlyphFactory=p},{\"./context2d/Context2DSurface\":47,\"@akashic/akashic-engine\":1}],43:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});!function(t){function e(t){if(0!=(t&t-1)){for(var e=1;e<t;)e*=2;return e}return t}function i(t){return Math.min(Math.max(t,0),1)}function r(t){var e=!1;return t&&0<t.length&&(e=\"webgl\"===t[0]),e}t.toPowerOfTwo=e,t.clamp=i,t.usedWebGL=r}(i.RenderingHelper||(i.RenderingHelper={}))},{}],44:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"../AffineTransformer\"),n=function(){function t(t){t?(this.fillStyle=t.fillStyle,this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer=new r.AffineTransformer(t.transformer)):(this.fillStyle=\"#000000\",this.globalAlpha=1,this.globalCompositeOperation=\"source-over\",this.transformer=new r.AffineTransformer)}return t}();i.CanvasRenderingState=n},{\"../AffineTransformer\":40}],45:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./CanvasRenderingState\"),n=function(){function t(t){this._stateStack=[],this._modifiedTransform=!1,this._context=t;var e=new r.CanvasRenderingState;this._currentFillStyle=e.fillStyle,this._currentGlobalAlpha=e.globalAlpha,this._currentGlobalCompositeOperation=e.globalCompositeOperation,this.pushState(e)}return Object.defineProperty(t.prototype,\"fillStyle\",{get:function(){return this.currentState().fillStyle},set:function(t){this.currentState().fillStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"globalAlpha\",{get:function(){return this.currentState().globalAlpha},set:function(t){this.currentState().globalAlpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"globalCompositeOperation\",{get:function(){return this.currentState().globalCompositeOperation},set:function(t){this.currentState().globalCompositeOperation=t},enumerable:!0,configurable:!0}),t.prototype.getCanvasRenderingContext2D=function(){return this._context},t.prototype.clearRect=function(t,e,i,r){this.prerender(),this._context.clearRect(t,e,i,r)},t.prototype.save=function(){var t=new r.CanvasRenderingState(this.currentState());this.pushState(t)},t.prototype.restore=function(){this.popState()},t.prototype.scale=function(t,e){this.currentState().transformer.scale(t,e),this._modifiedTransform=!0},t.prototype.drawImage=function(t,e,i,r,n,o,s,a,h){this.prerender(),this._context.drawImage(t,e,i,r,n,o,s,a,h)},t.prototype.fillRect=function(t,e,i,r){this.prerender(),this._context.fillRect(t,e,i,r)},t.prototype.fillText=function(t,e,i,r){this.prerender(),this._context.fillText(t,e,i,r)},t.prototype.strokeText=function(t,e,i,r){this.prerender(),this._context.strokeText(t,e,i,r)},t.prototype.translate=function(t,e){this.currentState().transformer.translate(t,e),this._modifiedTransform=!0},t.prototype.transform=function(t,e,i,r,n,o){this.currentState().transformer.transform([t,e,i,r,n,o]),this._modifiedTransform=!0},t.prototype.setTransform=function(t,e,i,r,n,o){this.currentState().transformer.setTransform([t,e,i,r,n,o]),this._modifiedTransform=!0},t.prototype.setGlobalAlpha=function(t){this.currentState().globalAlpha=t},t.prototype.getImageData=function(t,e,i,r){return this._context.getImageData(t,e,i,r)},t.prototype.putImageData=function(t,e,i,r,n,o,s){this._context.putImageData(t,e,i,r,n,o,s)},t.prototype.prerender=function(){var t=this.currentState();if(t.fillStyle!==this._currentFillStyle&&(this._context.fillStyle=t.fillStyle,this._currentFillStyle=t.fillStyle),t.globalAlpha!==this._currentGlobalAlpha&&(this._context.globalAlpha=t.globalAlpha,this._currentGlobalAlpha=t.globalAlpha),t.globalCompositeOperation!==this._currentGlobalCompositeOperation&&(this._context.globalCompositeOperation=t.globalCompositeOperation,this._currentGlobalCompositeOperation=t.globalCompositeOperation),this._modifiedTransform){var e=t.transformer;this._context.setTransform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this._modifiedTransform=!1}},t.prototype.pushState=function(t){this._stateStack.push(t)},t.prototype.popState=function(){this._stateStack.length<=1||(this._stateStack.pop(),this._modifiedTransform=!0)},t.prototype.currentState=function(){return this._stateStack[this._stateStack.length-1]},t}();i.CanvasSurfaceContext=n},{\"./CanvasRenderingState\":44}],46:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e){var i=t.call(this)||this;return i.surface=e,i.context=e.context(),i.canvasRenderingContext2D=i.context.getCanvasRenderingContext2D(),i}return r(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this.canvasRenderingContext2D.save(),this.context.save()},e.prototype.end=function(){this.canvasRenderingContext2D.restore(),this.context.restore(),t.prototype.end.call(this)},e.prototype.clear=function(){this.context.clearRect(0,0,this.surface.width,this.surface.height)},e.prototype.drawImage=function(t,e,i,r,n,o,s){this.context.drawImage(t._drawable,e,i,r,n,o,s,r,n)},e.prototype.drawSprites=function(t,e,i,r,n,o,s,a){for(var h=0;h<a;++h)this.drawImage(t,e[h],i[h],r[h],n[h],o[h],s[h])},e.prototype.drawSystemText=function(t,e,i,r,o,s,a,h,c,u,l,d){var p,f,_,g=this.canvasRenderingContext2D;switch(this.context.prerender(),g.save(),c){case n.FontFamily.Monospace:p=\"monospace\";break;case n.FontFamily.Serif:p=\"serif\";break;default:p=\"sans-serif\"}switch(g.font=o+\"px \"+p,s){case n.TextAlign.Right:f=\"right\";break;case n.TextAlign.Center:f=\"center\";break;default:f=\"left\"}switch(g.textAlign=f,a){case n.TextBaseline.Top:_=\"top\";break;case n.TextBaseline.Middle:_=\"middle\";break;case n.TextBaseline.Bottom:_=\"bottom\";break;default:_=\"alphabetic\"}g.textBaseline=_,g.lineJoin=\"bevel\",u>0&&(g.lineWidth=u,g.strokeStyle=l,void 0===r?g.strokeText(t,e,i):g.strokeText(t,e,i,r)),d||(g.fillStyle=h,g.fillText(t,e,i,r)),g.restore()},e.prototype.translate=function(t,e){this.context.translate(t,e)},e.prototype.transform=function(t){this.context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},e.prototype.opacity=function(t){this.context.globalAlpha*=t},e.prototype.save=function(){this.context.save()},e.prototype.restore=function(){this.context.restore()},e.prototype.fillRect=function(t,e,i,r,n){this.context.fillStyle=n,this.context.fillRect(t,e,i,r)},e.prototype.setCompositeOperation=function(t){var e;switch(t){case n.CompositeOperation.SourceAtop:e=\"source-atop\";break;case n.CompositeOperation.Lighter:e=\"lighter\";break;case n.CompositeOperation.Copy:e=\"copy\";break;case n.CompositeOperation.ExperimentalSourceIn:e=\"source-in\";break;case n.CompositeOperation.ExperimentalSourceOut:e=\"source-out\";break;case n.CompositeOperation.ExperimentalDestinationAtop:e=\"destination-atop\";break;case n.CompositeOperation.ExperimentalDestinationIn:e=\"destination-in\";break;case n.CompositeOperation.DestinationOut:e=\"destination-out\";break;case n.CompositeOperation.DestinationOver:e=\"destination-over\";break;case n.CompositeOperation.Xor:e=\"xor\";break;default:e=\"source-over\"}this.context.globalCompositeOperation=e},e.prototype.setOpacity=function(t){this.context.globalAlpha=t},e.prototype.setTransform=function(t){this.context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},e.prototype.setShaderProgram=function(t){throw n.ExceptionFactory.createAssertionError(\"Context2DRenderer#setShaderProgram() is not implemented\")},e.prototype.isSupportedShaderProgram=function(){return!1},e.prototype._getImageData=function(t,e,i,r){return this.context.getImageData(t,e,i,r)},e.prototype._putImageData=function(t,e,i,r,n,o,s){void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=t.width),void 0===s&&(s=t.height),this.context.putImageData(t,e,i,r,n,o,s)},e}(n.Renderer);i.Context2DRenderer=o},{\"@akashic/akashic-engine\":1}],47:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./Context2DRenderer\"),o=t(\"./CanvasSurfaceContext\"),s=t(\"../CanvasSurface\"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.context=function(){return this._context||(this._context=new o.CanvasSurfaceContext(this.canvas.getContext(\"2d\"))),this._context},e.prototype.renderer=function(){return this._renderer||(this._renderer=new n.Context2DRenderer(this)),this._renderer},e.prototype.changePhysicalScale=function(t,e){this.canvas.width=this.width*t,this.canvas.height=this.height*e,this._context.scale(t,e)},e.prototype.isPlaying=function(){return!1},e}(s.CanvasSurface);i.Context2DSurface=a},{\"../CanvasSurface\":41,\"./CanvasSurfaceContext\":45,\"./Context2DRenderer\":46}],48:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"../RenderingHelper\"),n=t(\"../context2d/Context2DSurface\"),o=t(\"../webgl/WebGLSharedObject\"),s=function(){function t(){}return t.prototype.createPrimarySurface=function(t,e,i){return r.RenderingHelper.usedWebGL(i)?(this._shared||(this._shared=new o.WebGLSharedObject(t,e)),this._shared.getPrimarySurface()):new n.Context2DSurface(t,e)},t.prototype.createBackSurface=function(t,e,i){return r.RenderingHelper.usedWebGL(i)?this._shared.createBackSurface(t,e):new n.Context2DSurface(t,e)},t}();i.SurfaceFactory=s},{\"../RenderingHelper\":43,\"../context2d/Context2DSurface\":47,\"../webgl/WebGLSharedObject\":57}],49:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./WebGLBackSurfaceRenderer\"),o=t(\"./WebGLPrimarySurface\"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.renderer=function(){return this._renderer||(this._renderer=new n.WebGLBackSurfaceRenderer(this,this._shared)),this._renderer},e.prototype.destroy=function(){this._renderer&&this._renderer.destroy(),this._renderer=void 0,this._drawable=void 0,t.prototype.destroy.call(this)},e}(o.WebGLPrimarySurface);i.WebGLBackSurface=s},{\"./WebGLBackSurfaceRenderer\":50,\"./WebGLPrimarySurface\":52}],50:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./WebGLRenderer\"),o=t(\"./WebGLRenderingState\"),s=function(t){function e(e,i){var r=t.call(this,i,i.createRenderTarget(e.width,e.height))||this;return e._drawable={texture:r._renderTarget.texture,textureOffsetX:0,textureOffsetY:0,textureWidth:e.width,textureHeight:e.height},r}return r(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this.save();var e=new o.WebGLRenderingState(this.currentState()),i=e.transformer.matrix;i[1]*=-1,i[3]*=-1,i[5]=-i[5]+this._renderTarget.height,this.currentState().copyFrom(e),this._shared.pushRenderTarget(this._renderTarget)},e.prototype.end=function(){this.restore(),this._shared.popRenderTarget(),t.prototype.end.call(this)},e}(n.WebGLRenderer);i.WebGLBackSurfaceRenderer=s},{\"./WebGLRenderer\":54,\"./WebGLRenderingState\":55}],51:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"../RenderingHelper\");!function(t){function e(e){var i=\"string\"==typeof e?t._toColor(e):[e[0],e[1],e[2],e[3]];return i[3]=r.RenderingHelper.clamp(i[3]),i[0]=r.RenderingHelper.clamp(i[0])*i[3],i[1]=r.RenderingHelper.clamp(i[1])*i[3],i[2]=r.RenderingHelper.clamp(i[2])*i[3],i}function i(t){var e=t[0]%360,i=t[1],r=t[2]>50?100-t[2]:t[2],n=t[3],o=r+r*i,s=r-r*i;return e<60?[o,e/60*(o-s)+s,s,n]:e<120?[(120-e)/60*(o-s)+s,o,s,n]:e<180?[s,o,(e-120)/60*(o-s)+s,n]:e<240?[s,(240-e)/60*(o-s)+s,o,n]:e<300?[(e-240)/60*(o-s)+s,s,o,n]:[o,s,(360-e)/60*(o-s)+s,n]}function n(e){var i=e.toUpperCase().replace(/\\s+/g,\"\"),n=t.colorMap[i];if(n)return n;if(i.match(/^#([\\dA-F])([\\dA-F])([\\dA-F])$/))return[parseInt(RegExp.$1,16)/15,parseInt(RegExp.$2,16)/15,parseInt(RegExp.$3,16)/15,1];if(i.match(/^#([\\dA-F]{2})([\\dA-F]{2})([\\dA-F]{2})$/))return[parseInt(RegExp.$1,16)/255,parseInt(RegExp.$2,16)/255,parseInt(RegExp.$3,16)/255,1];if(i.match(/^RGB\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)$/))return[parseInt(RegExp.$1,10)/255,parseInt(RegExp.$2,10)/255,parseInt(RegExp.$3,10)/255,1];if(i.match(/^RGBA\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3}),(\\d(\\.\\d*)?)\\)$/))return[parseInt(RegExp.$1,10)/255,parseInt(RegExp.$2,10)/255,parseInt(RegExp.$3,10)/255,parseFloat(RegExp.$4)];if(i.match(/^HSL\\((\\d{1,3}),(\\d{1,3})%,(\\d{1,3})%\\)$/))return t._hsl2rgb([parseInt(RegExp.$1,10),r.RenderingHelper.clamp(parseInt(RegExp.$2,10)/100),r.RenderingHelper.clamp(parseInt(RegExp.$3,10)/100),1]);if(i.match(/^HSLA\\((\\d{1,3}),(\\d{1,3})%,(\\d{1,3})%,(\\d(\\.\\d*)?)\\)$/))return t._hsl2rgb([parseInt(RegExp.$1,10),r.RenderingHelper.clamp(parseInt(RegExp.$2,10)/100),r.RenderingHelper.clamp(parseInt(RegExp.$3,10)/100),parseFloat(RegExp.$4)]);throw Error(\"illigal cssColor format: \"+i)}t.colorMap={ALICEBLUE:[240/255,248/255,1,1],ANTIQUEWHITE:[250/255,235/255,215/255,1],AQUA:[0,1,1,1],AQUAMARINE:[127/255,1,212/255,1],AZURE:[240/255,1,1,1],BEIGE:[245/255,245/255,220/255,1],BISQUE:[1,228/255,196/255,1],BLACK:[0,0,0,1],BLANCHEDALMOND:[1,235/255,205/255,1],BLUE:[0,0,1,1],BLUEVIOLET:[138/255,43/255,226/255,1],BROWN:[165/255,42/255,42/255,1],BURLYWOOD:[222/255,184/255,135/255,1],CADETBLUE:[95/255,158/255,160/255,1],CHARTREUSE:[127/255,1,0,1],CHOCOLATE:[210/255,105/255,30/255,1],CORAL:[1,127/255,80/255,1],CORNFLOWERBLUE:[100/255,149/255,237/255,1],CORNSILK:[1,248/255,220/255,1],CRIMSON:[220/255,20/255,60/255,1],CYAN:[0,1,1,1],DARKBLUE:[0,0,139/255,1],DARKCYAN:[0,139/255,139/255,1],DARKGOLDENROD:[184/255,134/255,11/255,1],DARKGRAY:[169/255,169/255,169/255,1],DARKGREEN:[0,100/255,0,1],DARKGREY:[169/255,169/255,169/255,1],DARKKHAKI:[189/255,183/255,107/255,1],DARKMAGENTA:[139/255,0,139/255,1],DARKOLIVEGREEN:[85/255,107/255,47/255,1],DARKORANGE:[1,140/255,0,1],DARKORCHID:[.6,50/255,.8,1],DARKRED:[139/255,0,0,1],DARKSALMON:[233/255,150/255,122/255,1],DARKSEAGREEN:[143/255,188/255,143/255,1],DARKSLATEBLUE:[72/255,61/255,139/255,1],DARKSLATEGRAY:[47/255,79/255,79/255,1],DARKSLATEGREY:[47/255,79/255,79/255,1],DARKTURQUOISE:[0,206/255,209/255,1],DARKVIOLET:[148/255,0,211/255,1],DEEPPINK:[1,20/255,147/255,1],DEEPSKYBLUE:[0,191/255,1,1],DIMGRAY:[105/255,105/255,105/255,1],DIMGREY:[105/255,105/255,105/255,1],DODGERBLUE:[30/255,144/255,1,1],FIREBRICK:[178/255,34/255,34/255,1],FLORALWHITE:[1,250/255,240/255,1],FORESTGREEN:[34/255,139/255,34/255,1],FUCHSIA:[1,0,1,1],GAINSBORO:[220/255,220/255,220/255,1],GHOSTWHITE:[248/255,248/255,1,1],GOLD:[1,215/255,0,1],GOLDENROD:[218/255,165/255,32/255,1],GRAY:[128/255,128/255,128/255,1],GREEN:[0,128/255,0,1],GREENYELLOW:[173/255,1,47/255,1],GREY:[128/255,128/255,128/255,1],HONEYDEW:[240/255,1,240/255,1],HOTPINK:[1,105/255,180/255,1],INDIANRED:[205/255,92/255,92/255,1],INDIGO:[75/255,0,130/255,1],IVORY:[1,1,240/255,1],KHAKI:[240/255,230/255,140/255,1],LAVENDER:[230/255,230/255,250/255,1],LAVENDERBLUSH:[1,240/255,245/255,1],LAWNGREEN:[124/255,252/255,0,1],LEMONCHIFFON:[1,250/255,205/255,1],LIGHTBLUE:[173/255,216/255,230/255,1],LIGHTCORAL:[240/255,128/255,128/255,1],LIGHTCYAN:[224/255,1,1,1],LIGHTGOLDENRODYELLOW:[250/255,250/255,210/255,1],LIGHTGRAY:[211/255,211/255,211/255,1],LIGHTGREEN:[144/255,238/255,144/255,1],LIGHTGREY:[211/255,211/255,211/255,1],LIGHTPINK:[1,182/255,193/255,1],LIGHTSALMON:[1,160/255,122/255,1],LIGHTSEAGREEN:[32/255,178/255,170/255,1],LIGHTSKYBLUE:[135/255,206/255,250/255,1],LIGHTSLATEGRAY:[119/255,136/255,.6,1],LIGHTSLATEGREY:[119/255,136/255,.6,1],LIGHTSTEELBLUE:[176/255,196/255,222/255,1],LIGHTYELLOW:[1,1,224/255,1],LIME:[0,1,0,1],LIMEGREEN:[50/255,205/255,50/255,1],LINEN:[250/255,240/255,230/255,1],MAGENTA:[1,0,1,1],MAROON:[128/255,0,0,1],MEDIUMAQUAMARINE:[.4,205/255,170/255,1],MEDIUMBLUE:[0,0,205/255,1],MEDIUMORCHID:[186/255,85/255,211/255,1],MEDIUMPURPLE:[147/255,112/255,219/255,1],MEDIUMSEAGREEN:[60/255,179/255,113/255,1],MEDIUMSLATEBLUE:[123/255,104/255,238/255,1],MEDIUMSPRINGGREEN:[0,250/255,154/255,1],MEDIUMTURQUOISE:[72/255,209/255,.8,1],MEDIUMVIOLETRED:[199/255,21/255,133/255,1],MIDNIGHTBLUE:[25/255,25/255,112/255,1],MINTCREAM:[245/255,1,250/255,1],MISTYROSE:[1,228/255,225/255,1],MOCCASIN:[1,228/255,181/255,1],NAVAJOWHITE:[1,222/255,173/255,1],NAVY:[0,0,128/255,1],OLDLACE:[253/255,245/255,230/255,1],OLIVE:[128/255,128/255,0,1],OLIVEDRAB:[107/255,142/255,35/255,1],ORANGE:[1,165/255,0,1],ORANGERED:[1,69/255,0,1],ORCHID:[218/255,112/255,214/255,1],PALEGOLDENROD:[238/255,232/255,170/255,1],PALEGREEN:[152/255,251/255,152/255,1],PALETURQUOISE:[175/255,238/255,238/255,1],PALEVIOLETRED:[219/255,112/255,147/255,1],PAPAYAWHIP:[1,239/255,213/255,1],PEACHPUFF:[1,218/255,185/255,1],PERU:[205/255,133/255,63/255,1],PINK:[1,192/255,203/255,1],PLUM:[221/255,160/255,221/255,1],POWDERBLUE:[176/255,224/255,230/255,1],PURPLE:[128/255,0,128/255,1],RED:[1,0,0,1],ROSYBROWN:[188/255,143/255,143/255,1],ROYALBLUE:[65/255,105/255,225/255,1],SADDLEBROWN:[139/255,69/255,19/255,1],SALMON:[250/255,128/255,114/255,1],SANDYBROWN:[244/255,164/255,96/255,1],SEAGREEN:[46/255,139/255,87/255,1],SEASHELL:[1,245/255,238/255,1],SIENNA:[160/255,82/255,45/255,1],SILVER:[192/255,192/255,192/255,1],SKYBLUE:[135/255,206/255,235/255,1],SLATEBLUE:[106/255,90/255,205/255,1],SLATEGRAY:[112/255,128/255,144/255,1],SLATEGREY:[112/255,128/255,144/255,1],SNOW:[1,250/255,250/255,1],SPRINGGREEN:[0,1,127/255,1],STEELBLUE:[70/255,130/255,180/255,1],TAN:[210/255,180/255,140/255,1],TEAL:[0,128/255,128/255,1],THISTLE:[216/255,191/255,216/255,1],TOMATO:[1,99/255,71/255,1],TURQUOISE:[64/255,224/255,208/255,1],VIOLET:[238/255,130/255,238/255,1],WHEAT:[245/255,222/255,179/255,1],WHITE:[1,1,1,1],WHITESMOKE:[245/255,245/255,245/255,1],YELLOW:[1,1,0,1],YELLOWGREEN:[154/255,205/255,50/255,1]},t.get=e,t._hsl2rgb=i,t._toColor=n}(i.WebGLColor||(i.WebGLColor={}))},{\"../RenderingHelper\":43}],52:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"../CanvasSurface\"),o=t(\"./WebGLPrimarySurfaceRenderer\"),s=function(t){function e(e,i,r){var n=t.call(this,i,r)||this;return n.canvas.style.position=\"absolute\",n._shared=e,n}return r(e,t),e.prototype.renderer=function(){return this._renderer||(this._renderer=new o.WebGLPrimarySurfaceRenderer(this._shared,this._shared.getPrimaryRenderTarget(this.width,this.height))),this._renderer},e.prototype.changePhysicalScale=function(t,e){var i=Math.ceil(this.width*t),r=Math.ceil(this.height*e);this.canvas.width=i,this.canvas.height=r,this.renderer().changeViewportSize(i,r)},e.prototype.isPlaying=function(){return!1},e}(n.CanvasSurface);i.WebGLPrimarySurface=s},{\"../CanvasSurface\":41,\"./WebGLPrimarySurfaceRenderer\":53}],53:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./WebGLRenderer\"),o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r._shared.pushRenderTarget(r._renderTarget),r}return r(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this._shared.begin()},e}(n.WebGLRenderer);i.WebGLPrimarySurfaceRenderer=o},{\"./WebGLRenderer\":54}],54:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./WebGLColor\"),s=t(\"./WebGLRenderingState\"),a=function(t){function e(i,r){var n=t.call(this)||this;return n._stateStack=[],n._stateStackPointer=0,n._capacity=0,n._reallocation(e.DEFAULT_CAPACITY),n._whiteColor=[1,1,1,1],n._shared=i,n._renderTarget=r,n}return r(e,t),e.prototype.clear=function(){this._shared.clear()},e.prototype.end=function(){this._shared.end()},e.prototype.save=function(){this._pushState()},e.prototype.restore=function(){this._popState()},e.prototype.translate=function(t,e){this.currentState().transformer.translate(t,e)},e.prototype.transform=function(t){this.currentState().transformer.transform(t)},e.prototype.opacity=function(t){this.currentState().globalAlpha*=t},e.prototype.setCompositeOperation=function(t){this.currentState().globalCompositeOperation=t},e.prototype.currentState=function(){return this._stateStack[this._stateStackPointer]},e.prototype.fillRect=function(t,e,i,r,n){this._shared.draw(this.currentState(),this._shared.getFillRectSurfaceTexture(),0,0,i,r,t,e,o.WebGLColor.get(n))},e.prototype.drawSprites=function(t,e,i,r,n,o,s,a){for(var h=0;h<a;++h)this.drawImage(t,e[h],i[h],r[h],n[h],o[h],s[h])},e.prototype.drawImage=function(t,e,i,r,o,s,a){if(!t._drawable)throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#drawImage: no drawable surface.\");if(t._drawable.texture instanceof WebGLTexture||this._shared.makeTextureForSurface(t),!t._drawable.texture)throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#drawImage: could not create a texture.\");this._shared.draw(this.currentState(),t._drawable,e,i,r,o,s,a,this._whiteColor)},e.prototype.drawSystemText=function(t,e,i,r,n,o,s,a,h,c,u,l){},e.prototype.setTransform=function(t){this.currentState().transformer.setTransform(t)},e.prototype.setOpacity=function(t){this.currentState().globalAlpha=t},e.prototype.setShaderProgram=function(t){this.currentState().shaderProgram=this._shared.initializeShaderProgram(t)},e.prototype.isSupportedShaderProgram=function(){return!0},e.prototype.changeViewportSize=function(t,e){var i=this._renderTarget;this._renderTarget={width:i.width,height:i.height,viewportWidth:t,viewportHeight:e,texture:i.texture,framebuffer:i.framebuffer}},e.prototype.destroy=function(){this._shared.requestDeleteRenderTarget(this._renderTarget),this._shared=void 0,this._renderTarget=void 0,this._whiteColor=void 0},e.prototype._getImageData=function(){throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#_getImageData() is not implemented\")},e.prototype._putImageData=function(t,e,i,r,o,s,a){throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#_putImageData() is not implemented\")},e.prototype._pushState=function(){var t=this.currentState();++this._stateStackPointer,this._isOverCapacity()&&this._reallocation(this._stateStackPointer+1),this.currentState().copyFrom(t)},e.prototype._popState=function(){if(!(this._stateStackPointer>0))throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#restore: state stack under-flow.\");this.currentState().shaderProgram=null,--this._stateStackPointer},e.prototype._isOverCapacity=function(){return this._capacity<=this._stateStackPointer},e.prototype._reallocation=function(t){var e=this._capacity;if(e<t){t<2*e?this._capacity*=2:this._capacity=t;for(var i=e;i<this._capacity;++i)this._stateStack.push(new s.WebGLRenderingState)}},e.DEFAULT_CAPACITY=16,e}(n.Renderer);i.WebGLRenderer=a},{\"./WebGLColor\":51,\"./WebGLRenderingState\":55,\"@akashic/akashic-engine\":1}],55:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"../AffineTransformer\"),o=function(){function t(t){t?(this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer=new n.AffineTransformer(t.transformer),this.shaderProgram=t.shaderProgram):(this.globalAlpha=1,this.globalCompositeOperation=r.CompositeOperation.SourceOver,this.transformer=new n.AffineTransformer,this.shaderProgram=null)}return t.prototype.copyFrom=function(t){return this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer.copyFrom(t.transformer),this.shaderProgram=t.shaderProgram,this},t}();i.WebGLRenderingState=o},{\"../AffineTransformer\":40,\"@akashic/akashic-engine\":1}],56:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(e,i,r){var n=t._DEFAULT_VERTEX_SHADER,i=i||t._DEFAULT_FRAGMENT_SHADER,o=t._makeShaderProgram(e,n,i);this.program=o,this._context=e,this._aVertex=e.getAttribLocation(this.program,\"aVertex\"),this._uColor=e.getUniformLocation(this.program,\"uColor\"),this._uAlpha=e.getUniformLocation(this.program,\"uAlpha\"),this._uSampler=e.getUniformLocation(this.program,\"uSampler\"),this._uniforms=r,this._uniformCaches=[],this._uniformSetterTable={float:this._uniform1f.bind(this),int:this._uniform1i.bind(this),float_v:this._uniform1fv.bind(this),int_v:this._uniform1iv.bind(this),vec2:this._uniform2fv.bind(this),vec3:this._uniform3fv.bind(this),vec4:this._uniform4fv.bind(this),ivec2:this._uniform2iv.bind(this),ivec3:this._uniform3iv.bind(this),ivec4:this._uniform4iv.bind(this),mat2:this._uniformMatrix2fv.bind(this),mat3:this._uniformMatrix3fv.bind(this),mat4:this._uniformMatrix4fv.bind(this)}}return t._makeShader=function(t,e,i){var r=t.createShader(e);if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var n=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error(n)}return r},t._makeShaderProgram=function(e,i,r){var n=e.createProgram(),o=t._makeShader(e,e.VERTEX_SHADER,i);e.attachShader(n,o),e.deleteShader(o);var s=t._makeShader(e,e.FRAGMENT_SHADER,r);if(e.attachShader(n,s),e.deleteShader(s),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var a=e.getProgramInfoLog(n);throw e.deleteProgram(n),new Error(a)}return n},t.prototype.set_aVertex=function(t){this._context.bindBuffer(this._context.ARRAY_BUFFER,t),this._context.enableVertexAttribArray(this._aVertex),this._context.vertexAttribPointer(this._aVertex,4,this._context.FLOAT,!1,0,0)},t.prototype.set_uColor=function(t){this._context.uniform4f(this._uColor,t[0],t[1],t[2],t[3])},t.prototype.set_uAlpha=function(t){this._context.uniform1f(this._uAlpha,t)},t.prototype.set_uSampler=function(t){this._context.uniform1i(this._uSampler,t)},t.prototype.updateUniforms=function(){for(var t=0;t<this._uniformCaches.length;++t){var e=this._uniformCaches[t],i=this._uniforms[e.name].value;(e.isArray||i!==e.beforeValue)&&(e.update(e.loc,i),e.beforeValue=i)}},t.prototype.initializeUniforms=function(){var t=this,e=[],i=this._uniforms;null!=i&&Object.keys(i).forEach(function(n){var o=i[n].type,s=Array.isArray(i[n].value);!s||\"int\"!==o&&\"float\"!==o||(o+=\"_v\");var a=t._uniformSetterTable[o];if(!a)throw r.ExceptionFactory.createAssertionError(\"WebGLShaderProgram#initializeUniforms: Uniform type '\"+o+\"' is not supported.\");e.push({name:n,update:a,beforeValue:null,isArray:s,loc:t._context.getUniformLocation(t.program,n)})}),this._uniformCaches=e},t.prototype.use=function(){this._context.useProgram(this.program)},t.prototype.unuse=function(){this._context.useProgram(null)},t.prototype.destroy=function(){this._context.deleteProgram(this.program)},t.prototype._uniform1f=function(t,e){this._context.uniform1f(t,e)},t.prototype._uniform1i=function(t,e){this._context.uniform1i(t,e)},t.prototype._uniform1fv=function(t,e){this._context.uniform1fv(t,e)},t.prototype._uniform1iv=function(t,e){this._context.uniform1iv(t,e)},t.prototype._uniform2fv=function(t,e){this._context.uniform2fv(t,e)},t.prototype._uniform3fv=function(t,e){this._context.uniform3fv(t,e)},t.prototype._uniform4fv=function(t,e){this._context.uniform4fv(t,e)},t.prototype._uniform2iv=function(t,e){this._context.uniform2iv(t,e)},t.prototype._uniform3iv=function(t,e){this._context.uniform3iv(t,e)},t.prototype._uniform4iv=function(t,e){this._context.uniform4iv(t,e)},t.prototype._uniformMatrix2fv=function(t,e){this._context.uniformMatrix2fv(t,!1,e)},t.prototype._uniformMatrix3fv=function(t,e){this._context.uniformMatrix3fv(t,!1,e)},t.prototype._uniformMatrix4fv=function(t,e){this._context.uniformMatrix4fv(t,!1,e)},t._DEFAULT_VERTEX_SHADER=\"#version 100\\nprecision mediump float;\\nattribute vec4 aVertex;\\nvarying vec2 vTexCoord;\\nvarying vec4 vColor;\\nuniform vec4 uColor;\\nuniform float uAlpha;\\nvoid main() {    gl_Position = vec4(aVertex.xy, 0.0, 1.0);    vTexCoord = aVertex.zw;    vColor = uColor * uAlpha;}\",\nt._DEFAULT_FRAGMENT_SHADER=\"#version 100\\nprecision mediump float;\\nvarying vec2 vTexCoord;\\nvarying vec4 vColor;\\nuniform sampler2D uSampler;\\nvoid main() {    gl_FragColor = texture2D(uSampler, vTexCoord) * vColor;}\",t}();i.WebGLShaderProgram=n},{\"@akashic/akashic-engine\":1}],57:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./WebGLShaderProgram\"),o=t(\"./WebGLTextureAtlas\"),s=t(\"./WebGLPrimarySurface\"),a=t(\"./WebGLBackSurface\"),h=function(){function t(t,e){var i=new s.WebGLPrimarySurface(this,t,e),n=i.canvas.getContext(\"webgl\",{depth:!1,preserveDrawingBuffer:!0});if(!n)throw r.ExceptionFactory.createAssertionError(\"WebGLSharedObject#constructor: could not initialize WebGLRenderingContext\");this._surface=i,this._context=n,this._init()}return t.prototype.getFillRectSurfaceTexture=function(){return this._fillRectSurfaceTexture},t.prototype.getPrimarySurface=function(){return this._surface},t.prototype.createBackSurface=function(t,e){return new a.WebGLBackSurface(this,t,e)},t.prototype.pushRenderTarget=function(t){this._commit(),this._renderTargetStack.push(t),this._context.bindFramebuffer(this._context.FRAMEBUFFER,t.framebuffer),this._context.viewport(0,0,t.viewportWidth,t.viewportHeight)},t.prototype.popRenderTarget=function(){this._commit(),this._renderTargetStack.pop();var t=this.getCurrentRenderTarget();this._context.bindFramebuffer(this._context.FRAMEBUFFER,t.framebuffer),this._context.viewport(0,0,t.viewportWidth,t.viewportHeight)},t.prototype.getCurrentRenderTarget=function(){return this._renderTargetStack[this._renderTargetStack.length-1]},t.prototype.begin=function(){this.clear(),this._currentShaderProgram.use(),this._currentShaderProgram.set_aVertex(this._vertices),this._currentShaderProgram.set_uColor(this._currentColor),this._currentShaderProgram.set_uAlpha(this._currentAlpha),this._currentShaderProgram.set_uSampler(0),this._currentShaderProgram.updateUniforms()},t.prototype.clear=function(){this._context.clear(this._context.COLOR_BUFFER_BIT)},t.prototype.draw=function(t,e,i,r,n,o,s,a,h){this._numSprites>=this._maxSpriteCount&&this._commit();var c;if(c=e===this._fillRectSurfaceTexture||null==t.shaderProgram||null==t.shaderProgram._program?this._defaultShaderProgram:t.shaderProgram._program,this._currentShaderProgram!==c&&(this._commit(),this._currentShaderProgram=c,this._currentShaderProgram.use(),this._currentShaderProgram.updateUniforms(),this._currentCompositeOperation=null,this._currentAlpha=null,this._currentColor=[],this._currentTexture=null),this._currentTexture!==e.texture&&(this._currentTexture=e.texture,this._commit(),this._context.bindTexture(this._context.TEXTURE_2D,e.texture)),this._currentColor[0]===h[0]&&this._currentColor[1]===h[1]&&this._currentColor[2]===h[2]&&this._currentColor[3]===h[3]||(this._currentColor=h,this._commit(),this._currentShaderProgram.set_uColor(h)),this._currentAlpha!==t.globalAlpha&&(this._currentAlpha=t.globalAlpha,this._commit(),this._currentShaderProgram.set_uAlpha(t.globalAlpha)),this._currentCompositeOperation!==t.globalCompositeOperation){this._currentCompositeOperation=t.globalCompositeOperation,this._commit();var u=this._compositeOps[this._currentCompositeOperation];this._context.blendFunc(u[0],u[1])}var l=1/e.textureWidth,d=1/e.textureHeight,p=e.textureOffsetX,f=e.textureOffsetY,_=l*(p+i+n),g=d*(f+r+o),y=l*(p+i),m=d*(f+r);this._register(this._transformVertex(s,a,n,o,t.transformer),[y,m,_,m,_,g,y,m,_,g,y,g])},t.prototype.end=function(){if(this._commit(),this._deleteRequestedTargets.length>0){for(var t=0;t<this._deleteRequestedTargets.length;++t)this.deleteRenderTarget(this._deleteRequestedTargets[t]);this._deleteRequestedTargets=[]}},t.prototype.makeTextureForSurface=function(t){this._textureAtlas.makeTextureForSurface(this,t)},t.prototype.disposeTexture=function(t){this._currentTexture===t&&this._commit()},t.prototype.assignTexture=function(t,e,i,n){if(this._context.bindTexture(this._context.TEXTURE_2D,n),t instanceof HTMLVideoElement)throw r.ExceptionFactory.createAssertionError(\"WebGLRenderer#assignTexture: HTMLVideoElement is not supported.\");this._context.texSubImage2D(this._context.TEXTURE_2D,0,e,i,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture)},t.prototype.clearTexture=function(t,e,i,r){this._context.bindTexture(this._context.TEXTURE_2D,r),this._context.texSubImage2D(this._context.TEXTURE_2D,0,0,0,e,i,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture)},t.prototype.makeTextureRaw=function(t,e,i){void 0===i&&(i=null);var r=this._context.createTexture();return this._context.bindTexture(this._context.TEXTURE_2D,r),this._context.pixelStorei(this._context.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_S,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_T,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MAG_FILTER,this._context.NEAREST),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MIN_FILTER,this._context.NEAREST),this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,t,e,0,this._context.RGBA,this._context.UNSIGNED_BYTE,i),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture),r},t.prototype.makeTexture=function(t){var e=this._context.createTexture();return this._context.bindTexture(this._context.TEXTURE_2D,e),this._context.pixelStorei(this._context.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_S,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_T,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MAG_FILTER,this._context.NEAREST),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MIN_FILTER,this._context.NEAREST),t instanceof HTMLImageElement?this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t):t instanceof HTMLCanvasElement?this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t):t instanceof ImageData&&this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture),e},t.prototype.getPrimaryRenderTarget=function(t,e){return this._renderTarget},t.prototype.createRenderTarget=function(t,e){var i=this._context,r=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,r);var n=i.createTexture();i.bindTexture(i.TEXTURE_2D,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,null),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,n,0),i.bindTexture(i.TEXTURE_2D,this._currentTexture);var o=this.getCurrentRenderTarget();return i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer),{width:t,height:e,viewportWidth:t,viewportHeight:e,framebuffer:r,texture:n}},t.prototype.requestDeleteRenderTarget=function(t){this._deleteRequestedTargets.push(t)},t.prototype.deleteRenderTarget=function(t){var e=this._context;this.getCurrentRenderTarget()===t&&this._commit(),e.deleteFramebuffer(t.framebuffer),e.deleteTexture(t.texture)},t.prototype.getContext=function(){return this._context},t.prototype.getDefaultShaderProgram=function(){return this._defaultShaderProgram},t.prototype.initializeShaderProgram=function(t){if(t&&!t._program){var e=new n.WebGLShaderProgram(this._context,t.fragmentShader,t.uniforms);e.initializeUniforms(),t._program=e}return t},t.prototype._init=function(){var t,e=new n.WebGLShaderProgram(this._context);this._textureAtlas=new o.WebGLTextureAtlas,this._fillRectTexture=this.makeTextureRaw(1,1,new Uint8Array([255,255,255,255])),this._fillRectSurfaceTexture={texture:this._fillRectTexture,textureWidth:1,textureHeight:1,textureOffsetX:0,textureOffsetY:0},this._renderTarget={width:this._surface.width,height:this._surface.height,viewportWidth:this._surface.width,viewportHeight:this._surface.height,framebuffer:null,texture:null},this._maxSpriteCount=1024,this._vertices=this._makeBuffer(24*this._maxSpriteCount*4),this._verticesCache=new Float32Array(24*this._maxSpriteCount),this._numSprites=0,this._currentTexture=null,this._currentColor=[1,1,1,1],this._currentAlpha=1,this._currentCompositeOperation=r.CompositeOperation.SourceOver,this._currentShaderProgram=e,this._defaultShaderProgram=e,this._renderTargetStack=[],this._deleteRequestedTargets=[],this._currentShaderProgram.use();try{this._currentShaderProgram.set_aVertex(this._vertices),this._currentShaderProgram.set_uColor(this._currentColor),this._currentShaderProgram.set_uAlpha(this._currentAlpha),this._currentShaderProgram.set_uSampler(0)}finally{this._currentShaderProgram.unuse()}this._context.enable(this._context.BLEND),this._context.activeTexture(this._context.TEXTURE0),this._context.bindTexture(this._context.TEXTURE_2D,this._fillRectTexture),this._compositeOps=(t={},t[r.CompositeOperation.SourceAtop]=[this._context.DST_ALPHA,this._context.ONE_MINUS_SRC_ALPHA],t[r.CompositeOperation.ExperimentalSourceIn]=[this._context.DST_ALPHA,this._context.ZERO],t[r.CompositeOperation.ExperimentalSourceOut]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ZERO],t[r.CompositeOperation.SourceOver]=[this._context.ONE,this._context.ONE_MINUS_SRC_ALPHA],t[r.CompositeOperation.ExperimentalDestinationAtop]=[this._context.ONE_MINUS_DST_ALPHA,this._context.SRC_ALPHA],t[r.CompositeOperation.ExperimentalDestinationIn]=[this._context.ZERO,this._context.SRC_ALPHA],t[r.CompositeOperation.DestinationOut]=[this._context.ZERO,this._context.ONE_MINUS_SRC_ALPHA],t[r.CompositeOperation.DestinationOver]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ONE],t[r.CompositeOperation.Lighter]=[this._context.ONE,this._context.ONE],t[r.CompositeOperation.Copy]=[this._context.ONE,this._context.ZERO],t[r.CompositeOperation.Xor]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ONE_MINUS_SRC_ALPHA],t);var i=this._compositeOps[this._currentCompositeOperation];this._context.blendFunc(i[0],i[1])},t.prototype._makeBuffer=function(t){var e=this._context.createBuffer();return this._context.bindBuffer(this._context.ARRAY_BUFFER,e),this._context.bufferData(this._context.ARRAY_BUFFER,t,this._context.DYNAMIC_DRAW),e},t.prototype._transformVertex=function(t,e,i,r,n){var o=this.getCurrentRenderTarget(),s=2/o.width,a=-2/o.height,h=n.matrix,c=s*i*h[0],u=a*i*h[1],l=s*r*h[2],d=a*r*h[3],p=s*(t*h[0]+e*h[2]+h[4])-1,f=a*(t*h[1]+e*h[3]+h[5])+1;return[p,f,c+p,u+f,c+l+p,u+d+f,p,f,c+l+p,u+d+f,l+p,d+f]},t.prototype._register=function(t,e){var i=6*this._numSprites;++this._numSprites;for(var r=0;r<6;++r)this._verticesCache[4*(r+i)+0]=t[2*r+0],this._verticesCache[4*(r+i)+1]=t[2*r+1],this._verticesCache[4*(r+i)+2]=e[2*r+0],this._verticesCache[4*(r+i)+3]=e[2*r+1]},t.prototype._commit=function(){this._numSprites>0&&(this._context.bindBuffer(this._context.ARRAY_BUFFER,this._vertices),this._context.bufferSubData(this._context.ARRAY_BUFFER,0,this._verticesCache.subarray(0,24*this._numSprites)),this._context.drawArrays(this._context.TRIANGLES,0,6*this._numSprites),this._numSprites=0)},t}();i.WebGLSharedObject=h},{\"./WebGLBackSurface\":49,\"./WebGLPrimarySurface\":52,\"./WebGLShaderProgram\":56,\"./WebGLTextureAtlas\":58,\"@akashic/akashic-engine\":1}],58:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./WebGLTextureMap\"),n=t(\"../RenderingHelper\"),o=function(){function t(){this._maps=[],this._insertPos=0,this.emptyTexturePixels=new Uint8Array(t.TEXTURE_SIZE*t.TEXTURE_SIZE*4)}return t.prototype.clear=function(){for(var t=0;t<this._maps.length;++t)this._maps[t].dispose()},t.prototype.showOccupancy=function(){for(var t=0;t<this._maps.length;++t)console.log(\"occupancy[\"+t+\"]: \"+this._maps[t].occupancy())},t.prototype.makeTextureForSurface=function(e,i){var r=i._drawable;if(r&&!r.texture){var o=r.width,s=r.height;if(o>=t.TEXTURE_SIZE||s>=t.TEXTURE_SIZE){var a=n.RenderingHelper.toPowerOfTwo(r.width),h=n.RenderingHelper.toPowerOfTwo(r.height);if(a!==r.width||h!==r.height){var c=document.createElement(\"canvas\");c.width=a,c.height=h;var u=c.getContext(\"2d\");u.globalCompositeOperation=\"copy\",u.drawImage(r,0,0),r=u.getImageData(0,0,a,h)}return i._drawable.texture=e.makeTexture(r),i._drawable.textureOffsetX=0,i._drawable.textureOffsetY=0,i._drawable.textureWidth=a,void(i._drawable.textureHeight=h)}this._assign(e,i,this._maps)}},t.prototype._assign=function(e,i,n){for(var o,s=0;s<n.length;++s)if(o=n[(s+this._insertPos)%n.length].insert(i))return this._register(e,o,i._drawable),void(this._insertPos=s);o=null,n.length>=t.TEXTURE_COUNT&&(o=n.shift(),e.disposeTexture(o.texture),o.dispose(),e.clearTexture(this.emptyTexturePixels,t.TEXTURE_SIZE,t.TEXTURE_SIZE,o.texture)),o||(o=new r.WebGLTextureMap(e.makeTextureRaw(t.TEXTURE_SIZE,t.TEXTURE_SIZE),0,0,t.TEXTURE_SIZE,t.TEXTURE_SIZE)),n.push(o),o=o.insert(i),this._register(e,o,i._drawable)},t.prototype._register=function(e,i,r){r.texture=i.texture,r.textureOffsetX=i.offsetX,r.textureOffsetY=i.offsetY,r.textureWidth=t.TEXTURE_SIZE,r.textureHeight=t.TEXTURE_SIZE,e.assignTexture(r,i.offsetX,i.offsetY,i.texture)},t.TEXTURE_SIZE=1024,t.TEXTURE_COUNT=16,t}();i.WebGLTextureAtlas=o},{\"../RenderingHelper\":43,\"./WebGLTextureMap\":59}],59:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t,e,i,r,n){this.texture=t,this.offsetX=e,this.offsetY=i,this._width=r,this._height=n}return t.prototype.dispose=function(){this._left&&(this._left.dispose(),this._left=null),this._right&&(this._right.dispose(),this._right=null),this._surface&&(this._surface._drawable&&(this._surface._drawable.texture=null),this._surface=null)},t.prototype.capacity=function(){return this._width*this._height},t.prototype.area=function(){if(!this._surface)return 0;var t=this._surface._drawable,e=t.width*t.height;return this._left&&(e+=this._left.area()),this._right&&(e+=this._right.area()),e},t.prototype.occupancy=function(){return this.area()/this.capacity()},t.prototype.insert=function(e){var i=e._drawable,r=i.width+t.TEXTURE_MARGIN,n=i.height+t.TEXTURE_MARGIN;if(this._surface){if(this._left){var o=this._left.insert(e);if(o)return o}if(this._right){var s=this._right.insert(e);if(s)return s}return null}if(this._width<r||this._height<n)return null;var a=this._width-r,h=this._height-n;return a<=h?(this._left=new t(this.texture,this.offsetX+r,this.offsetY,a,n),this._right=new t(this.texture,this.offsetX,this.offsetY+n,this._width,h)):(this._left=new t(this.texture,this.offsetX,this.offsetY+n,r,h),this._right=new t(this.texture,this.offsetX+r,this.offsetY,a,this._height)),this._surface=e,this},t.TEXTURE_MARGIN=1,t}();i.WebGLTextureMap=r},{}],60:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=(t(\"@akashic/akashic-pdi\"),function(){function t(e,i){if(Object.getPrototypeOf&&Object.getPrototypeOf(this)===t.prototype)throw new Error(\"InputAbstractHandler is abstract and should not be directly instantiated\");this.inputView=e,this.pointerEventLock={},this._xScale=1,this._yScale=1,this._disablePreventDefault=!!i,this.pointTrigger=new r.Trigger}return t.isSupported=function(){return!1},t.prototype.start=function(){throw new Error(\"This method is abstract\")},t.prototype.stop=function(){throw new Error(\"This method is abstract\")},t.prototype.setScale=function(t,e){void 0===e&&(e=t),this._xScale=t,this._yScale=e},t.prototype.pointDown=function(t,e){this.pointTrigger.fire({type:0,identifier:t,offset:this.getOffsetFromEvent(e)}),this.pointerEventLock[t]=!0},t.prototype.pointMove=function(t,e){this.pointerEventLock.hasOwnProperty(t+\"\")&&this.pointTrigger.fire({type:1,identifier:t,offset:this.getOffsetFromEvent(e)})},t.prototype.pointUp=function(t,e){this.pointerEventLock.hasOwnProperty(t+\"\")&&(this.pointTrigger.fire({type:2,identifier:t,offset:this.getOffsetFromEvent(e)}),delete this.pointerEventLock[t])},t.prototype.getOffsetFromEvent=function(t){return{x:t.offsetX,y:t.offsetY}},t.prototype.getScale=function(){return{x:this._xScale,y:this._yScale}},t.prototype.getOffsetPositionFromInputView=function(t){var e=this.inputView.getBoundingClientRect(),i=this.getScale();return{offsetX:(t.pageX-Math.round(window.pageXOffset+e.left))/i.x,offsetY:(t.pageY-Math.round(window.pageYOffset+e.top))/i.y}},t}());i.InputAbstractHandler=n},{\"@akashic/akashic-engine\":1,\"@akashic/akashic-pdi\":3}],61:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./InputAbstractHandler\"),o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.onMouseDown=function(t){0===t.button&&(r.pointDown(1,r.getOffsetPositionFromInputView(t)),window.addEventListener(\"mousemove\",r.onMouseMove,!1),window.addEventListener(\"mouseup\",r.onMouseUp,!1),r._disablePreventDefault||(t.stopPropagation(),t.preventDefault()))},r.onMouseMove=function(t){r.pointMove(1,r.getOffsetPositionFromInputView(t)),r._disablePreventDefault||(t.stopPropagation(),t.preventDefault())},r.onMouseUp=function(t){r.pointUp(1,r.getOffsetPositionFromInputView(t)),window.removeEventListener(\"mousemove\",r.onMouseMove,!1),window.removeEventListener(\"mouseup\",r.onMouseUp,!1),r._disablePreventDefault||(t.stopPropagation(),t.preventDefault())},r}return r(e,t),e.prototype.start=function(){this.inputView.addEventListener(\"mousedown\",this.onMouseDown,!1)},e.prototype.stop=function(){this.inputView.removeEventListener(\"mousedown\",this.onMouseDown,!1)},e}(n.InputAbstractHandler);i.MouseHandler=o},{\"./InputAbstractHandler\":60}],62:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./MouseHandler\"),o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.onTouchDown=function(t){for(var e=t.changedTouches,i=0,n=e.length;i<n;i++){var o=e[i];r.pointDown(o.identifier,r.getOffsetPositionFromInputView(o))}r._disablePreventDefault||(t.stopPropagation(),t.cancelable&&t.preventDefault())},r.onTouchMove=function(t){for(var e=t.changedTouches,i=0,n=e.length;i<n;i++){var o=e[i];r.pointMove(o.identifier,r.getOffsetPositionFromInputView(o))}r._disablePreventDefault||(t.stopPropagation(),t.cancelable&&t.preventDefault())},r.onTouchUp=function(t){for(var e=t.changedTouches,i=0,n=e.length;i<n;i++){var o=e[i];r.pointUp(o.identifier,r.getOffsetPositionFromInputView(o))}r._disablePreventDefault||(t.stopPropagation(),t.cancelable&&t.preventDefault())},r}return r(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.inputView.addEventListener(\"touchstart\",this.onTouchDown),this.inputView.addEventListener(\"touchmove\",this.onTouchMove),this.inputView.addEventListener(\"touchend\",this.onTouchUp)},e.prototype.stop=function(){t.prototype.stop.call(this),this.inputView.removeEventListener(\"touchstart\",this.onTouchDown),this.inputView.removeEventListener(\"touchmove\",this.onTouchMove),this.inputView.removeEventListener(\"touchend\",this.onTouchUp)},e}(n.MouseHandler);i.TouchHandler=o},{\"./MouseHandler\":61}],63:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./Platform\");i.Platform=r.Platform;var n=t(\"./ResourceFactory\");i.ResourceFactory=n.ResourceFactory;var o=t(\"@akashic/akashic-engine\");i.g=o;var s=t(\"./plugin/AudioPluginRegistry\");i.AudioPluginRegistry=s.AudioPluginRegistry;var a=t(\"./plugin/AudioPluginManager\");i.AudioPluginManager=a.AudioPluginManager;var h=t(\"./plugin/HTMLAudioPlugin/HTMLAudioPlugin\");i.HTMLAudioPlugin=h.HTMLAudioPlugin;var c=t(\"./plugin/WebAudioPlugin/WebAudioPlugin\");i.WebAudioPlugin=c.WebAudioPlugin;var u=t(\"./plugin/PostMessageAudioPlugin/PostMessageAudioPlugin\");i.PostMessageAudioPlugin=u.PostMessageAudioPlugin;var l=t(\"./plugin/ProxyAudioPlugin/ProxyAudioPlugin\");i.ProxyAudioPlugin=l.ProxyAudioPlugin},{\"./Platform\":32,\"./ResourceFactory\":34,\"./plugin/AudioPluginManager\":64,\"./plugin/AudioPluginRegistry\":65,\"./plugin/HTMLAudioPlugin/HTMLAudioPlugin\":69,\"./plugin/PostMessageAudioPlugin/PostMessageAudioPlugin\":72,\"./plugin/ProxyAudioPlugin/ProxyAudioPlugin\":76,\"./plugin/WebAudioPlugin/WebAudioPlugin\":81,\"@akashic/akashic-engine\":1}],64:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(){this._activePlugin=null}return t.prototype.getActivePlugin=function(){return this._activePlugin},t.prototype.tryInstallPlugin=function(t){for(var e=0,i=t.length;e<i;e++){var r=t[e];if(!r.isSupported)return this._activePlugin=r,!0;var n=r;if(n.isSupported())return this._activePlugin=new n,!0}return!1},t}();i.AudioPluginManager=r},{}],65:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=[];i.AudioPluginRegistry={addPlugin:function(t){-1===r.indexOf(t)&&r.push(t)},getRegisteredAudioPlugins:function(){return r},clear:function(){r=[]}}},{}],66:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._load=function(t){var i=this;if(null==this.path)return this.data=null,void setTimeout(function(){return t._onAssetLoad(i)},0);var r=new Audio,o=function(t,e){r.autoplay=!1,r.preload=\"none\",r.src=t,i._attachAll(r,e),r.preload=\"auto\",a(r,e),r.load()},s={success:function(){i._detachAll(r,s),i.data=r,t._onAssetLoad(i),window.clearInterval(i._intervalId)},error:function(){i._detachAll(r,s),i.data=r,t._onAssetError(i,n.ExceptionFactory.createAssetLoadError(\"HTMLAudioAsset loading error\")),window.clearInterval(i._intervalId)}},a=function(t,e){i._intervalCount=0,i._intervalId=window.setInterval(function(){4===t.readyState?e.success():600===++i._intervalCount&&e.error()},100)},h=this.path.indexOf(\"?\");if(\".aac\"===(h>=0?this.path.substring(0,h):this.path).slice(-4)&&-1!==e.supportedFormats.indexOf(\"mp4\")){var c={success:s.success,error:function(){i._detachAll(r,c),window.clearInterval(i._intervalId),i.path=n.PathUtil.addExtname(i.originalPath,\"mp4\"),o(i.path,s)}};return void o(this.path,c)}o(this.path,s)},e.prototype.cloneElement=function(){return this.data?new Audio(this.data.src):null},e.prototype._assetPathFilter=function(t){return-1!==e.supportedFormats.indexOf(\"ogg\")?n.PathUtil.addExtname(t,\"ogg\"):-1!==e.supportedFormats.indexOf(\"aac\")?n.PathUtil.addExtname(t,\"aac\"):null},e.prototype._attachAll=function(t,e){e.success&&t.addEventListener(\"canplaythrough\",e.success,!1),e.error&&(t.addEventListener(\"stalled\",e.error,!1),t.addEventListener(\"error\",e.error,!1),t.addEventListener(\"abort\",e.error,!1))},e.prototype._detachAll=function(t,e){e.success&&t.removeEventListener(\"canplaythrough\",e.success,!1),e.error&&(t.removeEventListener(\"stalled\",e.error,!1),t.removeEventListener(\"error\",e.error,!1),t.removeEventListener(\"abort\",e.error,!1))},e}(n.AudioAsset);i.HTMLAudioAsset=o},{\"@akashic/akashic-engine\":1}],67:[function(t,e,i){\"use strict\";function r(){s(),o()}function n(){document.addEventListener(\"keydown\",r,!0),document.addEventListener(\"mousedown\",r,!0),document.addEventListener(\"touchend\",r,!0)}function o(){document.removeEventListener(\"keydown\",r),document.removeEventListener(\"mousedown\",r),document.removeEventListener(\"touchend\",r)}function s(){h=2,c.forEach(function(t){return t.play()}),c=[]}var a,h=0,c=[];!function(t){function e(t){function e(){switch(h){case 0:case 1:s()}h=2,clearTimeout(r)}function i(){switch(t.removeEventListener(\"play\",e),h){case 0:c.push(t),h=1,n();break;case 1:c.push(t);break;case 2:t.play()}}switch(h){case 0:t.addEventListener(\"play\",e,!0);var r=setTimeout(i,100);break;case 1:c.push(t)}}t.setupChromeMEIWorkaround=e}(a||(a={})),e.exports=a},{}],68:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./HTMLAudioAutoplayHelper\"),s=function(t){function e(e,i){var r=t.call(this,e)||this;return r._manager=i,r._endedEventHandler=function(){r._onAudioEnded()},r._onPlayEventHandler=function(){r._onPlayEvent()},r._dummyDurationWaitTimer=null,r}return r(e,t),e.prototype.play=function(e){this.currentAudio&&this.stop();var i=e.cloneElement();i?(o.setupChromeMEIWorkaround(i),i.volume=this._calculateVolume(),i.play().catch(function(t){}),i.loop=e.loop,i.addEventListener(\"ended\",this._endedEventHandler,!1),i.addEventListener(\"play\",this._onPlayEventHandler,!1),this._isWaitingPlayEvent=!0,this._audioInstance=i):this._dummyDurationWaitTimer=setTimeout(this._endedEventHandler,e.duration),t.prototype.play.call(this,e)},e.prototype.stop=function(){if(!this.currentAudio)return void t.prototype.stop.call(this);this._clearEndedEventHandler(),this._audioInstance&&(this._isWaitingPlayEvent?this._isStopRequested=!0:(this._audioInstance.pause(),this._audioInstance=null)),t.prototype.stop.call(this)},e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype.notifyMasterVolumeChanged=function(){this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype._onAudioEnded=function(){this._clearEndedEventHandler(),t.prototype.stop.call(this)},e.prototype._clearEndedEventHandler=function(){this._audioInstance&&this._audioInstance.removeEventListener(\"ended\",this._endedEventHandler,!1),null!=this._dummyDurationWaitTimer&&(clearTimeout(this._dummyDurationWaitTimer),this._dummyDurationWaitTimer=null)},e.prototype._onPlayEvent=function(){this._isWaitingPlayEvent&&(this._isWaitingPlayEvent=!1,this._isStopRequested&&(this._isStopRequested=!1,this._audioInstance.pause(),this._audioInstance=null))},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(n.AudioPlayer);i.HTMLAudioPlayer=s},{\"./HTMLAudioAutoplayHelper\":67,\"@akashic/akashic-engine\":1}],69:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./HTMLAudioAsset\"),n=t(\"./HTMLAudioPlayer\"),o=function(){function t(){this._supportedFormats=this._detectSupportedFormats(),r.HTMLAudioAsset.supportedFormats=this.supportedFormats}return t.isSupported=function(){var t=document.createElement(\"audio\"),e=!1;try{e=void 0!==t.canPlayType}catch(t){}return e},Object.defineProperty(t.prototype,\"supportedFormats\",{get:function(){return this._supportedFormats},set:function(t){this._supportedFormats=t,r.HTMLAudioAsset.supportedFormats=t},enumerable:!0,configurable:!0}),t.prototype.createAsset=function(t,e,i,n,o,s){return new r.HTMLAudioAsset(t,e,i,n,o,s)},t.prototype.createPlayer=function(t,e){return new n.HTMLAudioPlayer(t,e)},t.prototype._detectSupportedFormats=function(){if(-1!==navigator.userAgent.indexOf(\"Edge/\"))return[\"aac\"];var t=document.createElement(\"audio\"),e=[];try{for(var i=[\"ogg\",\"aac\",\"mp4\"],r=0,n=i.length;r<n;r++){var o=i[r],s=t.canPlayType(\"audio/\"+o);\"no\"!==s&&\"\"!==s&&e.push(o)}}catch(t){}return e},t}();i.HTMLAudioPlugin=o},{\"./HTMLAudioAsset\":66,\"./HTMLAudioPlayer\":68}],70:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./PostMessageAudioPlugin\"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._load=function(t){var e=this,i={id:this.id,assetPath:this.path,duration:this.duration,loop:this.loop,hint:this.hint};o.PostMessageAudioPlugin.send(\"akashic:AudioAsset#_load\",i),setTimeout(function(){return t._onAssetLoad(e)})},e.prototype.destroy=function(){o.PostMessageAudioPlugin.send(\"akashic:AudioAsset#destroy\",{id:this.id}),t.prototype.destroy.call(this)},e}(n.AudioAsset);i.PostMessageAudioAsset=s},{\"./PostMessageAudioPlugin\":72,\"@akashic/akashic-engine\":1}],71:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./PostMessageAudioPlugin\"),s=function(t){function e(e,i,r){var n=t.call(this,e)||this;return n._manager=i,n.id=r,o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#new\",{id:r}),n}return r(e,t),e.prototype.play=function(t){o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#play\",{id:this.id,assetId:t.id})},e.prototype.stop=function(){o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#stop\",{id:this.id})},e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changeVolume\",{id:this.id,volume:this._calculateVolume()})},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changeVolume\",{id:this.id,volume:this._calculateVolume()})},e.prototype._changePlaybackRate=function(e){t.prototype._changePlaybackRate.call(this,e),o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changePlaybackRate\",{id:this.id,rate:e})},e.prototype.notifyMasterVolumeChanged=function(){o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changeVolume\",{id:this.id,volume:this._calculateVolume()})},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(n.AudioPlayer);i.PostMessageAudioPlayer=s},{\"./PostMessageAudioPlugin\":72,\"@akashic/akashic-engine\":1}],\n72:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r,n=t(\"./PostMessageAudioAsset\"),o=t(\"./PostMessageAudioPlayer\"),s=t(\"./PostMessageHandler\"),a=function(){function t(){this.supportedFormats=void 0,this._playerIdx=0}return t.isSupported=function(){return\"undefined\"!=typeof window&&!!window.postMessage},t.initialize=function(t,e){return r=new s.PostMessageHandler(t,e),r.start(),r},t.send=function(t,e){r.send({type:t,parameters:e})},t.prototype.createAsset=function(t,e,i,r,o,s){return new n.PostMessageAudioAsset(t,e,i,r,o,s)},t.prototype.createPlayer=function(t,e){return new o.PostMessageAudioPlayer(t,e,\"\"+this._playerIdx++)},t}();i.PostMessageAudioPlugin=a},{\"./PostMessageAudioAsset\":70,\"./PostMessageAudioPlayer\":71,\"./PostMessageHandler\":73}],73:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t,e){this.message=new r.Trigger,this.targetWindow=t,this.targetOrigin=e,this.onMessage_bound=this.onMessage.bind(this)}return t.prototype.start=function(){window.addEventListener(\"message\",this.onMessage_bound)},t.prototype.stop=function(){window.removeEventListener(\"message\",this.onMessage_bound)},t.prototype.send=function(t){this.targetWindow.postMessage(t,this.targetOrigin)},t.prototype.onMessage=function(t){t.origin===this.targetOrigin&&this.message.fire(t.data)},t}();i.PostMessageHandler=n},{\"@akashic/akashic-engine\":1}],74:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i,r,n,o,s,a){var h=t.call(this,i,r,n,o,s,a)||this;return h._handlerSet=e,h}return r(e,t),e.prototype.destroy=function(){this._handlerSet.unloadAudioAsset(this.id),t.prototype.destroy.call(this)},e.prototype._load=function(t){var e=this;this._handlerSet.loadAudioAsset({id:this.id,assetPath:this.path,duration:this.duration,loop:this.loop,hint:this.hint},function(i){i?t._onAssetError(e,n.ExceptionFactory.createAssetLoadError(i)):t._onAssetLoad(e)})},e.prototype._assetPathFilter=function(t){return t},e}(n.AudioAsset);i.ProxyAudioAsset=o},{\"@akashic/akashic-engine\":1}],75:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i,r){var n=t.call(this,i)||this;return n._audioPlayerId=null,n._handlerSet=e,n._manager=r,n}return r(e,t),e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._notifyVolumeToHandler()},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._notifyVolumeToHandler()},e.prototype.play=function(i){null!=this._audioPlayerId&&this.stop(),this._audioPlayerId=\"ap\"+e._audioPlayerIdCounter++,this._handlerSet.createAudioPlayer({assetId:i.id,audioPlayerId:this._audioPlayerId,isPlaying:!0,volume:this._calculateVolume(),playbackRate:1}),t.prototype.play.call(this,i)},e.prototype.stop=function(){null!=this._audioPlayerId&&(this._handlerSet.stopAudioPlayer(this._audioPlayerId),this._handlerSet.destroyAudioPlayer(this._audioPlayerId),this._audioPlayerId=null),t.prototype.stop.call(this)},e.prototype.notifyMasterVolumeChanged=function(){this._notifyVolumeToHandler()},e.prototype._notifyVolumeToHandler=function(){null!=this._audioPlayerId&&this._handlerSet.changeAudioVolume(this._audioPlayerId,this._calculateVolume())},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e._audioPlayerIdCounter=0,e}(n.AudioPlayer);i.ProxyAudioPlayer=o},{\"@akashic/akashic-engine\":1}],76:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./ProxyAudioAsset\"),n=t(\"./ProxyAudioPlayer\"),o=function(){function t(t){this.supportedFormats=[],this._handlerSet=t}return t.isSupported=function(){return!0},t.prototype.createAsset=function(t,e,i,n,o,s){return new r.ProxyAudioAsset(this._handlerSet,t,e,i,n,o,s)},t.prototype.createPlayer=function(t,e){return new n.ProxyAudioPlayer(this._handlerSet,t,e)},t}();i.ProxyAudioPlugin=o},{\"./ProxyAudioAsset\":74,\"./ProxyAudioPlayer\":75}],77:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"../../utils/XHRLoader\"),s=t(\"./WebAudioHelper\"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._load=function(t){var e=this;if(null==this.path)return this.data=null,void setTimeout(function(){return t._onAssetLoad(e)},0);var i=function(i){e.data=i,t._onAssetLoad(e)},r=function(){t._onAssetError(e,n.ExceptionFactory.createAssetLoadError(\"WebAudioAsset unknown loading error\"))},a=function(t){s.getAudioContext().decodeAudioData(t,i,r)},h=new o.XHRLoader,c=function(t,e,i){h.getArrayBuffer(t,function(t,r){t?i(t):e(r)})},u=this.path.indexOf(\"?\");if(\".aac\"===(u>=0?this.path.substring(0,u):this.path).slice(-4))return void c(this.path,a,function(t){var i=n.PathUtil.addExtname(e.originalPath,\"mp4\");c(i,function(t){e.path=i,a(t)},r)});c(this.path,a,r)},e.prototype._assetPathFilter=function(t){return-1!==e.supportedFormats.indexOf(\"ogg\")?n.PathUtil.addExtname(t,\"ogg\"):-1!==e.supportedFormats.indexOf(\"aac\")?n.PathUtil.addExtname(t,\"aac\"):null},e.supportedFormats=[],e}(n.AudioAsset);i.WebAudioAsset=a},{\"../../utils/XHRLoader\":82,\"./WebAudioHelper\":79,\"@akashic/akashic-engine\":1}],78:[function(t,e,i){\"use strict\";function r(){a.getAudioContext().resume(),o()}function n(){document.addEventListener(\"keydown\",r,!0),document.addEventListener(\"mousedown\",r,!0),document.addEventListener(\"touchend\",r,!0)}function o(){document.removeEventListener(\"keydown\",r),document.removeEventListener(\"mousedown\",r),document.removeEventListener(\"touchend\",r)}var s,a=t(\"./WebAudioHelper\");!function(t){function e(){var t=a.getAudioContext();if(!t||\"function\"==typeof t.resume){var e=a.createGainNode(t),i=t.createOscillator();i.type=\"sawtooth\",i.frequency.value=440,i.connect(e),i.start(0);var r=t.state;i.disconnect(),\"running\"!==r&&n()}}t.setupChromeMEIWorkaround=e}(s||(s={})),e.exports=s},{\"./WebAudioHelper\":79}],79:[function(t,e,i){\"use strict\";var r,n=window.AudioContext||window.webkitAudioContext;!function(t){function e(){window.__akashic__||Object.defineProperty(window,\"__akashic__\",{value:{},enumerable:!1,configurable:!1,writable:!1});var e=window.__akashic__.audioContext;return e instanceof n||(e=window.__akashic__.audioContext=new n,t._workAroundSafari()),e}function i(t){return t.createGain?t.createGain():t.createGainNode()}function r(t){var e=t.createBufferSource();return e.start?e:(e.start=e.noteOn,e.stop=e.noteOff,e)}function o(){document.addEventListener(\"touchstart\",function e(){document.removeEventListener(\"touchstart\",e),t.getAudioContext().createBufferSource().start(0)},!0)}t.getAudioContext=e,t.createGainNode=i,t.createBufferNode=r,t._workAroundSafari=o}(r||(r={})),e.exports=r},{}],80:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./WebAudioHelper\"),s=function(t){function e(e,i){var r=t.call(this,e)||this;return r._audioContext=o.getAudioContext(),r._manager=i,r._gainNode=o.createGainNode(r._audioContext),r._gainNode.connect(r._audioContext.destination),r._sourceNode=void 0,r._dummyDurationWaitTimer=null,r._endedEventHandler=function(){r._onAudioEnded()},r}return r(e,t),e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._gainNode.gain.value=this._calculateVolume()},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._gainNode.gain.value=this._calculateVolume()},e.prototype.play=function(e){if(this.currentAudio&&this.stop(),e.data){var i=o.createBufferNode(this._audioContext);i.loop=e.loop,i.buffer=e.data,this._gainNode.gain.value=this._calculateVolume(),i.connect(this._gainNode),this._sourceNode=i,this._sourceNode.onended=this._endedEventHandler,this._sourceNode.start(0)}else this._dummyDurationWaitTimer=setTimeout(this._endedEventHandler,e.duration);t.prototype.play.call(this,e)},e.prototype.stop=function(){if(!this.currentAudio)return void t.prototype.stop.call(this);this._clearEndedEventHandler(),this._sourceNode&&this._sourceNode.stop(0),t.prototype.stop.call(this)},e.prototype.notifyMasterVolumeChanged=function(){this._gainNode.gain.value=this._calculateVolume()},e.prototype._onAudioEnded=function(){this._clearEndedEventHandler(),t.prototype.stop.call(this)},e.prototype._clearEndedEventHandler=function(){this._sourceNode&&(this._sourceNode.onended=null),null!=this._dummyDurationWaitTimer&&(clearTimeout(this._dummyDurationWaitTimer),this._dummyDurationWaitTimer=null)},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(n.AudioPlayer);i.WebAudioPlayer=s},{\"./WebAudioHelper\":79,\"@akashic/akashic-engine\":1}],81:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./WebAudioAsset\"),n=t(\"./WebAudioPlayer\"),o=t(\"./WebAudioAutoplayHelper\"),s=function(){function t(){this.supportedFormats=this._detectSupportedFormats(),o.setupChromeMEIWorkaround()}return t.isSupported=function(){return\"AudioContext\"in window||\"webkitAudioContext\"in window},Object.defineProperty(t.prototype,\"supportedFormats\",{get:function(){return this._supportedFormats},set:function(t){this._supportedFormats=t,r.WebAudioAsset.supportedFormats=t},enumerable:!0,configurable:!0}),t.prototype.createAsset=function(t,e,i,n,o,s){return new r.WebAudioAsset(t,e,i,n,o,s)},t.prototype.createPlayer=function(t,e){return new n.WebAudioPlayer(t,e)},t.prototype._detectSupportedFormats=function(){if(-1!==navigator.userAgent.indexOf(\"Edge/\"))return[\"aac\"];var t=document.createElement(\"audio\"),e=[];try{for(var i=[\"ogg\",\"aac\",\"mp4\"],r=0,n=i.length;r<n;r++){var o=i[r],s=t.canPlayType(\"audio/\"+o);\"no\"!==s&&\"\"!==s&&e.push(o)}}catch(t){}return e},t}();i.WebAudioPlugin=s},{\"./WebAudioAsset\":77,\"./WebAudioAutoplayHelper\":78,\"./WebAudioPlayer\":80}],82:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t){void 0===t&&(t={}),this.timeout=t.timeout||15e3}return t.prototype.get=function(t,e){this._getRequestObject({url:t,responseType:\"text\"},e)},t.prototype.getArrayBuffer=function(t,e){this._getRequestObject({url:t,responseType:\"arraybuffer\"},e)},t.prototype._getRequestObject=function(t,e){var i=new XMLHttpRequest;i.open(\"GET\",t.url,!0),i.responseType=t.responseType,i.timeout=this.timeout,i.addEventListener(\"timeout\",function(){e(r.ExceptionFactory.createAssetLoadError(\"loading timeout\"))},!1),i.addEventListener(\"load\",function(){if(i.status>=200&&i.status<300){var n=\"text\"===t.responseType?i.responseText:i.response;e(null,n)}else e(r.ExceptionFactory.createAssetLoadError(\"loading error. status: \"+i.status))},!1),i.addEventListener(\"error\",function(){e(r.ExceptionFactory.createAssetLoadError(\"loading error. status: \"+i.status))},!1),i.send()},t}();i.XHRLoader=n},{\"@akashic/akashic-engine\":1}],83:[function(e,i,r){(function(n,o){!function(e,n){\"object\"==typeof r&&void 0!==i?i.exports=n():\"function\"==typeof t&&t.amd?t(n):e.ES6Promise=n()}(this,function(){\"use strict\";function t(t){var e=typeof t;return null!==t&&(\"object\"===e||\"function\"===e)}function i(t){return\"function\"==typeof t}function r(t){N=t}function s(t){W=t}function a(){return void 0!==U?function(){U(c)}:h()}function h(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;t<H;t+=2){(0,z[t])(z[t+1]),z[t]=void 0,z[t+1]=void 0}H=0}function u(t,e){var i=this,r=new this.constructor(d);void 0===r[K]&&k(r);var n=i._state;if(n){var o=arguments[n-1];W(function(){return E(n,r,o,i._result)})}else w(i,r,t,e);return r}function l(t){var e=this;if(t&&\"object\"==typeof t&&t.constructor===e)return t;var i=new e(d);return v(i,t),i}function d(){}function p(){return new TypeError(\"You cannot resolve a promise with itself\")}function f(){return new TypeError(\"A promises callback cannot return that same promise.\")}function _(t,e,i,r){try{t.call(e,i,r)}catch(t){return t}}function g(t,e,i){W(function(t){var r=!1,n=_(i,e,function(i){r||(r=!0,e!==i?v(t,i):A(t,i))},function(e){r||(r=!0,x(t,e))},\"Settle: \"+(t._label||\" unknown promise\"));!r&&n&&(r=!0,x(t,n))},t)}function y(t,e){e._state===$?A(t,e._result):e._state===Z?x(t,e._result):w(e,void 0,function(e){return v(t,e)},function(e){return x(t,e)})}function m(t,e,r){e.constructor===t.constructor&&r===u&&e.constructor.resolve===l?y(t,e):void 0===r?A(t,e):i(r)?g(t,e,r):A(t,e)}function v(e,i){if(e===i)x(e,p());else if(t(i)){var r=void 0;try{r=i.then}catch(t){return void x(e,t)}m(e,i,r)}else A(e,i)}function T(t){t._onerror&&t._onerror(t._result),S(t)}function A(t,e){t._state===J&&(t._result=e,t._state=$,0!==t._subscribers.length&&W(S,t))}function x(t,e){t._state===J&&(t._state=Z,t._result=e,W(T,t))}function w(t,e,i,r){var n=t._subscribers,o=n.length;t._onerror=null,n[o]=e,n[o+$]=i,n[o+Z]=r,0===o&&t._state&&W(S,t)}function S(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var r=void 0,n=void 0,o=t._result,s=0;s<e.length;s+=3)r=e[s],n=e[s+i],r?E(i,r,n,o):n(o);t._subscribers.length=0}}function E(t,e,r,n){var o=i(r),s=void 0,a=void 0,h=!0;if(o){try{s=r(n)}catch(t){h=!1,a=t}if(e===s)return void x(e,f())}else s=n;e._state!==J||(o&&h?v(e,s):!1===h?x(e,a):t===$?A(e,s):t===Z&&x(e,s))}function b(t,e){try{e(function(e){v(t,e)},function(e){x(t,e)})}catch(e){x(t,e)}}function P(){return Q++}function k(t){t[K]=Q++,t._state=void 0,t._result=void 0,t._subscribers=[]}function R(){return new Error(\"Array Methods must be provided an Array\")}function L(t){return new tt(this,t).promise}function M(t){var e=this;return new e(G(t)?function(i,r){for(var n=t.length,o=0;o<n;o++)e.resolve(t[o]).then(i,r)}:function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})}function C(t){var e=this,i=new e(d);return x(i,t),i}function O(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}function F(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}function I(){var t=void 0;if(void 0!==o)t=o;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(t){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if(\"[object Promise]\"===i&&!e.cast)return}t.Promise=et}var D=void 0;D=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};var G=D,H=0,U=void 0,N=void 0,W=function(t,e){z[H]=t,z[H+1]=e,2===(H+=2)&&(N?N(c):Y())},B=\"undefined\"!=typeof window?window:void 0,j=B||{},V=j.MutationObserver||j.WebKitMutationObserver,q=\"undefined\"==typeof self&&void 0!==n&&\"[object process]\"==={}.toString.call(n),X=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel,z=new Array(1e3),Y=void 0;Y=q?function(){return function(){return n.nextTick(c)}}():V?function(){var t=0,e=new V(c),i=document.createTextNode(\"\");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}():X?function(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}():void 0===B&&\"function\"==typeof e?function(){try{var t=Function(\"return this\")().require(\"vertx\");return U=t.runOnLoop||t.runOnContext,a()}catch(t){return h()}}():h();var K=Math.random().toString(36).substring(2),J=void 0,$=1,Z=2,Q=0,tt=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(d),this.promise[K]||k(this.promise),G(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&A(this.promise,this._result))):x(this.promise,R())}return t.prototype._enumerate=function(t){for(var e=0;this._state===J&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,r=i.resolve;if(r===l){var n=void 0,o=void 0,s=!1;try{n=t.then}catch(t){s=!0,o=t}if(n===u&&t._state!==J)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof n)this._remaining--,this._result[e]=t;else if(i===et){var a=new i(d);s?x(a,o):m(a,t,n),this._willSettleAt(a,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,i){var r=this.promise;r._state===J&&(this._remaining--,t===Z?x(r,i):this._result[e]=i),0===this._remaining&&A(r,this._result)},t.prototype._willSettleAt=function(t,e){var i=this;w(t,void 0,function(t){return i._settledAt($,e,t)},function(t){return i._settledAt(Z,e,t)})},t}(),et=function(){function t(e){this[K]=P(),this._result=this._state=void 0,this._subscribers=[],d!==e&&(\"function\"!=typeof e&&O(),this instanceof t?b(this,e):F())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this,r=e.constructor;return i(t)?e.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):e.then(t,t)},t}();return et.prototype.then=u,et.all=L,et.race=M,et.resolve=l,et.reject=C,et._setScheduler=r,et._setAsap=s,et._asap=W,et.polyfill=I,et.Promise=et,et})}).call(this,e(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{_process:84}],84:[function(t,e,i){function r(){throw new Error(\"setTimeout has not been defined\")}function n(){throw new Error(\"clearTimeout has not been defined\")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(t){if(d===clearTimeout)return clearTimeout(t);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){g&&f&&(g=!1,f.length?_=f.concat(_):y=-1,_.length&&h())}function h(){if(!g){var t=o(a);g=!0;for(var e=_.length;e;){for(f=_,_=[];++y<e;)f&&f[y].run();y=-1,e=_.length}f=null,g=!1,s(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,d,p=e.exports={};!function(){try{l=\"function\"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{d=\"function\"==typeof clearTimeout?clearTimeout:n}catch(t){d=n}}();var f,_=[],g=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];_.push(new c(t,e)),1!==_.length||g||o(h)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title=\"browser\",p.browser=!0,p.env={},p.argv=[],p.version=\"\",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(t){return[]},p.binding=function(t){throw new Error(\"process.binding is not supported\")},p.cwd=function(){return\"/\"},p.chdir=function(t){throw new Error(\"process.chdir is not supported\")},p.umask=function(){return 0}},{}],85:[function(t,e,i){e.exports={gameDriver:t(\"@akashic/game-driver\"),akashicEngine:t(\"@akashic/akashic-engine\"),pdiBrowser:t(\"@akashic/pdi-browser\")}},{\"@akashic/akashic-engine\":1,\"@akashic/game-driver\":4,\"@akashic/pdi-browser\":28}]},{},[85])(85)});\n\n\twindow.engineFiles=engineFilesV2_1_37,window.g=engineFiles.akashicEngine,function(){window.require;window.require=function(i){switch(i){case\"@akashic/akashic-engine\":return engineFiles.akashicEngine;default:return this.call(this,i)}}}();\n\n</script>\n\n<script>\nif (! (\"optionProps\" in window)) {\n\twindow.optionProps = {};\n}\nwindow.optionProps.magnify = false\n\nwindow.g = require(\"@akashic/akashic-engine\");\n</script>\n<script>\nif (! (\"gLocalAssetContainer\" in window)) {\n\twindow.gLocalAssetContainer = {};\n}\n\nif (! (\"__akashic__\" in window)) {\n\twindow.__akashic__ = {};\n}\n\n\n\t\n\t\twindow.gLocalAssetContainer[\"game.json\"] = `{\n\t\"width\": 640,\n\t\"height\": 320,\n\t\"fps\": 30,\n\t\"main\": \"./script/_bootstrap.js\",\n\t\"assets\": {\n\t\t\"main\": {\n\t\t\t\"type\": \"script\",\n\t\t\t\"path\": \"script/main.js\",\n\t\t\t\"global\": true\n\t\t},\n\t\t\"parameterObject\": {\n\t\t\t\"type\": \"script\",\n\t\t\t\"path\": \"script/parameterObject.js\",\n\t\t\t\"global\": true\n\t\t},\n\t\t\"_bootstrap\": {\n\t\t\t\"type\": \"script\",\n\t\t\t\"path\": \"script/_bootstrap.js\",\n\t\t\t\"global\": true\n\t\t},\n\t\t\"tori\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 32,\n\t\t\t\"height\": 32,\n\t\t\t\"path\": \"image/tori.png\"\n\t\t},\n\t\t\"play\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 300,\n\t\t\t\"height\": 150,\n\t\t\t\"path\": \"image/play.png\"\n\t\t},\n\t\t\"title\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 640,\n\t\t\t\"height\": 320,\n\t\t\t\"path\": \"image/title.png\"\n\t\t},\n\t\t\"result\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 640,\n\t\t\t\"height\": 320,\n\t\t\t\"path\": \"image/result.png\"\n\t\t}\n\t},\n\t\"environment\": {\n\t\t\"sandbox-runtime\": \"2\",\n\t\t\"niconico\": {\n\t\t\t\"preferredSessionParameters\": {\n\t\t\t\t\"totalTimeLimit\": 70\n\t\t\t}\n\t\t}\n\t}\n}`;\n\t\n\n\t\n\t\twindow.gLocalAssetContainer[\"main\"] = function(g) {\n\t\t\t!function(e,t,a,i,n){\"use strict\";function s(e){var t=60;e.sessionParameter.totalTimeLimit&&(t=e.sessionParameter.totalTimeLimit),g.game.vars.gameState={score:0};var a=new g.Scene({game:g.game,assetIds:[\"title\",\"play\"]});a.loaded.add(function(){var e=new g.Sprite({scene:a,src:a.assets.title});a.append(e);var t=new g.Sprite({scene:a,src:a.assets.play});t.x=(g.game.width-t.width)/2,t.y=150,t.touchable=!0,t.pointDown.add(function(){i()}),a.append(t)}),g.game.pushScene(a);var i=function(){var e=new g.Scene({game:g.game,assetIds:[\"tori\",\"result\",\"play\"]});e.loaded.add(function(){g.game.vars.gameState.score=0,t=60;var a=new g.FilledRect({scene:e,width:g.game.width,height:g.game.height,cssColor:\"white\"});e.append(a);var n=new g.DynamicFont({game:g.game,fontFamily:g.FontFamily.SansSerif,size:48}),s=new g.Label({scene:e,text:\"SCORE: 0\",font:n,fontSize:n.size/2,textColor:\"black\"});e.append(s);var d=function(){s.text=\"SCORE: \"+g.game.vars.gameState.score,s.invalidate()},o=new g.Sprite({scene:e,src:e.assets.tori,width:e.assets.tori.width,height:e.assets.tori.height});o.x=100,o.y=100,o.modified(),e.append(o);var r=function(){var e=o.y,t=0,a=function(){var a=.45*t*t-10*t+e;o.height+a<g.game.height&&a>0?o.y=a:a<0&&(o.y=0),t++,o.modified()};o.update.remove(a),o.update.add(a)};e.pointDownCapture.add(function(){t>=0&&r()});var c=!1,h=function(){e.pointDownCapture.removeAll(),c=!0;var t=new g.Sprite({scene:e,src:e.assets.result});e.append(t);var a=new g.Sprite({scene:e,src:e.assets.play});a.x=(g.game.width-a.width)/2,a.y=150,a.touchable=!0,a.pointDown.add(function(){i()}),e.append(a);var s=new g.Label({scene:e,text:g.game.vars.gameState.score+\" ÁÇπ\",font:n,textColor:\"black\",fontSize:n.size/2});s.x=(g.game.width-s.width)/2,s.y=a.y-s.height,e.append(s)};e.setInterval(function(){if(!c){var a=new g.FilledRect({scene:e,height:100,width:50,cssColor:\"orange\"});e.append(a),a.x=g.game.width+a.width,a.update.add(function(){t>=0&&(a.x-=10,a.modified(),g.Collision.intersectAreas(a,o)&&h())});var i=new g.FilledRect({scene:e,height:100,width:50,cssColor:\"orange\"});e.append(i),i.x=g.game.width+i.width,i.y=g.game.height-i.height,i.update.add(function(){t>=0&&(i.x-=10,i.modified(),g.Collision.intersectAreas(i,o)&&h())});var n=new g.FilledRect({scene:e,height:g.game.height-(a.height+i.height),width:1,cssColor:\"transparent\"});e.append(n),n.x=g.game.width+i.width+(i.width-n.width),n.y=a.height,n.update.add(function(){t>=0&&(n.x-=10,n.modified()),g.Collision.intersectAreas(n,o)&&(n.destroy(),g.game.vars.gameState.score++,d())})}},1e3)}),g.game.pushScene(e)}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.main=s}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);\n\t\t};\n\t\n\n\t\n\t\twindow.gLocalAssetContainer[\"parameterObject\"] = function(g) {\n\t\t\t!function(e,u,o,r,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0})}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);\n\t\t};\n\t\n\n\t\n\t\twindow.gLocalAssetContainer[\"_bootstrap\"] = function(g) {\n\t\t\t!function(e,a,n,r,d){\"use strict\";var t=a(\"./main\");n.exports=function(e){var a={};Object.keys(e).forEach(function(n){a[n]=e[n]}),a.sessionParameter={},a.isAtsumaru=\"undefined\"!=typeof window&&void 0!==window.RPGAtsumaru,a.random=g.game.random;var n=new g.Scene({game:g.game});n.message.add(function(e){e.data&&\"start\"===e.data.type&&e.data.parameters&&(a.sessionParameter=e.data.parameters,null!=e.data.parameters.randomSeed&&(a.random=new g.XorshiftRandomGenerator(e.data.parameters.randomSeed)),g.game.popScene(),t.main(a))}),n.loaded.add(function(){var e=0;n.update.add(function(){++e>3&&(g.game.popScene(),t.main(a))})}),g.game.pushScene(n)}}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);\n\t\t};\n\t\n\n\n\n</script>\n\n<script>\n\n\tvar __extends=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),LocalScriptAsset=function(t){function o(o,n){var e=t.call(this,o,n)||this;return e.func=window.gLocalAssetContainer[o],e}return __extends(o,t),o.prototype._load=function(t){var o=this;void 0!==this.func?setTimeout(function(){t._onAssetLoad(o)},0):setTimeout(function(){t._onAssetError(o,g.ExceptionFactory.createAssetLoadError(\"can not load script asset\"))},0)},o.prototype.execute=function(t){return this.func(t),t.module.exports},o}(g.ScriptAsset);\n\n\t!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,t.gameStorage=e()}}(function(){return function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){var s=\"function\"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error(\"Cannot find module '\"+a+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){return o(t[a][1][e]||e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var i=\"function\"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){\"use strict\";var n=e(\"@akashic/akashic-engine\"),o=e(\"./validator\"),i=function(){function e(e,t){this._localStorage=e,this._metaData=t}return e.prototype.set=function(e,t,r){o.validateStorageKey(e),this.expandVariables(e);var i=this.storageKeyToStringKey(e),a=this.getValue(i),u=null;switch(e.region){case n.StorageRegion.Values:u=this.createValuesValue(a,t,r);break;case n.StorageRegion.Counts:u=this.createCountsValue(a,t,r);break;case n.StorageRegion.Scores:u=this.createScoresValue(a,t,r);break;case n.StorageRegion.Slots:throw new Error(\"Slots is not supported.\");default:throw new Error(\"Unknown region.\")}if(u){var s=null,c=new Date;s=a?{data:u.data,tag:u.tag,createdAt:a.createdAt,updatedAt:c}:{data:u.data,tag:u.tag,createdAt:c,updatedAt:c},this.setValue(i,s)}},e.prototype.load=function(e){var t=this,r={};Object.keys(this._localStorage).forEach(function(e){if(0===e.indexOf(\"akst:\")){var n=e.slice(\"akst:\".length);r[n]=t.getValue(n)}});var n=[];return e.forEach(function(e){o.validateStorageReadKey(e),t.expandVariables(e);var i=[];if(-1!==e.regionKey.indexOf(\"*\")||\"*\"===e.userId){var a=t.storageReadKeyToRegExp(e);Object.keys(r).forEach(function(e){if(a.test(e)){var n=r[e],o={data:n.data,storageKey:t.stringKeyToStorageKey(e)};null!=n.tag&&(o.tag=n.tag),i.push(o)}}),e.option&&(void 0!==e.option.valueOrder&&t.sortByValue(i,e.option.valueOrder),void 0!==e.option.keyOrder&&t.sortByRegionKey(i,e.option.keyOrder))}else{var u=t.storageKeyToStringKey(e),s=r[u];if(s){var c={data:s.data,storageKey:{region:e.region,regionKey:e.regionKey,userId:e.userId,gameId:e.gameId}};null!=s.tag&&(c.tag=s.tag),i.push(c)}}n.push(i)}),n},e.prototype.clearAll=function(){var e=this;Object.keys(this._localStorage).forEach(function(t){0===t.indexOf(\"akst:\")&&e._localStorage.removeItem(t)})},e.prototype.createValuesValue=function(e,t,r){if(!t)return null;if(r&&null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data){if(r.condition!==n.StorageCondition.Equal)throw new Error(\"Invalid condition.\");if(e.data!==r.comparisonValue)return null}var o={data:t.data};return null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createScoresValue=function(e,t,r){if(!t)return null;if(r&&null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data)switch(r.condition){case n.StorageCondition.Equal:if(e.data!==r.comparisonValue)return null;break;case n.StorageCondition.GreaterThan:if(!(e.data>r.comparisonValue))return null;break;case n.StorageCondition.LessThan:if(!(e.data<r.comparisonValue))return null}var o={data:t.data};return null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createCountsIncrDecrValue=function(e,t,r){var o={data:0},i=0;if(e&&(i=Number(e.data)),null!=r.condition&&null!=r.comparisonValue)switch(r.condition){case n.StorageCondition.Equal:if(i!==r.comparisonValue)return e?null:o;break;case n.StorageCondition.GreaterThan:if(!(i>r.comparisonValue))return e?null:o;break;case n.StorageCondition.LessThan:if(!(i<r.comparisonValue))return e?null:o}if(r.operation===n.StorageCountsOperation.Incr)t&&null!=t.data?o.data=i+Number(t.data):o.data=i+1;else{if(r.operation!==n.StorageCountsOperation.Decr)throw new Error(\"Unknown StorageCountsOperation\");t&&null!=t.data?o.data=i-Number(t.data):o.data=i-1}return t&&null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createCountsValue=function(e,t,r){if(r){if(r.operation===n.StorageCountsOperation.Incr||r.operation===n.StorageCountsOperation.Decr)return this.createCountsIncrDecrValue(e,t,r);if(null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data)switch(r.condition){case n.StorageCondition.Equal:if(e.data!==r.comparisonValue)return null;break;case n.StorageCondition.GreaterThan:if(!(e.data>r.comparisonValue))return null;break;case n.StorageCondition.LessThan:if(!(e.data<r.comparisonValue))return null}}var o={data:t.data};return t&&null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.setValue=function(e,t){this._localStorage.setItem(\"akst:\"+e,JSON.stringify(t))},e.prototype.getValue=function(e){return JSON.parse(this._localStorage.getItem(\"akst:\"+e))},e.prototype.storageKeyToStringKey=function(e){return(e.region||\"\")+\"/\"+(null!=e.gameId?String(e.gameId):\"\")+\"/\"+(null!=e.userId?String(e.userId):\"\")+\"/\"+(e.regionKey||\"\")},e.prototype.stringKeyToStorageKey=function(e){var t=e.split(\"/\"),r={region:Number(t[0]),regionKey:t[3]};return t[1]&&(r.gameId=t[1]),t[2]&&(r.userId=t[2]),r},e.prototype.storageReadKeyToRegExp=function(e){var t=e.region||\"\",r=null!=e.gameId?String(e.gameId):\"\",n=null!=e.userId?String(e.userId):\"\",o=\"\";if(\"*\"===n&&(n=\"[0-9]+\"),-1!==e.regionKey.indexOf(\"*\")){var i=e.regionKey.split(\".\");i.forEach(function(e,t){\"*\"===e?o+=\"[.a-z0-9]*\":-1!==e.indexOf(\"*\")?o+=e.replace(\"*\",\"[a-z0-9]*\"):o+=e,t!==i.length-1&&(o+=\".\")})}else o=e.regionKey.replace(\".\",\".\");return new RegExp(\"^\"+t+\"/\"+r+\"/\"+n+\"/\"+o+\"$\")},e.prototype.sortByValue=function(e,t){e.sort(function(e,r){var o=e.data,i=r.data;if(t===n.StorageOrder.Asc){if(o<i)return-1;if(o>i)return 1}else if(t===n.StorageOrder.Desc){if(o<i)return 1;if(o>i)return-1}return 0})},e.prototype.sortByRegionKey=function(e,t){e.sort(function(e,r){var o=e.storageKey.regionKey,i=r.storageKey.regionKey;if(t===n.StorageOrder.Asc){if(o<i)return-1;if(o>i)return 1}else if(t===n.StorageOrder.Desc){if(o<i)return 1;if(o>i)return-1}return 0})},e.prototype.expandVariables=function(e){e.gameId&&-1!==e.gameId.indexOf(\"$gameId\")&&this._metaData.gameId&&(e.gameId=e.gameId.replace(/\\$gameId/g,this._metaData.gameId))},e}();r.GameStorage=i},{\"./validator\":3,\"@akashic/akashic-engine\":\"@akashic/akashic-engine\"}],2:[function(e,t,r){\"use strict\";var n=e(\"./GameStorage\");r.GameStorage=n.GameStorage},{\"./GameStorage\":1}],3:[function(e,t,r){\"use strict\";function n(e,t){u(e.length>0,\"regionKey is empty.\");var r=e.split(\".\");u(r.length<=c,\"The maximum number of layers in the region key is \"+c+\".\");for(var n=!1,o=0;o<r.length;++o)t?\"*\"===r[o]?(u(!n,\"The only one layer of the region key for reading consists of a wildcard character.\"),n=!0):u(/^(\\*|[a-z])[a-z0-9]{0,31}\\*?$/.test(r[o]),\"The layer of the region key for reading must match '^(*|[a-z])[a-z0-9]{0,31}*?$'.\"):u(/^[a-z][a-z0-9]{0,31}$/.test(r[o]),\"The layer of the region key for writing must match '^[a-z][a-z0-9]{0,31}$'.\")}function o(e,t){void 0===t&&(t=!1),u(e.region===s.StorageRegion.Counts||e.region===s.StorageRegion.Scores||e.region===s.StorageRegion.Values,\"Invalid region.\"),u(e.regionKey,\"regionKey must be set.\"),n(e.regionKey,t),u(e.gameId||e.userId,\"StorageKey must have any one at least from gameId and userId.\"),null!=e.gameId&&(u.equal(typeof e.gameId,\"string\",\"gameId must be a string type.\"),u(e.gameId.length>0,\"gameId is empty.\")),null!=e.userId&&(u.equal(typeof e.userId,\"string\",\"userId must be a string type.\"),u(e.userId.length>0,\"userId is empty.\"),t?\"*\"===e.userId&&(u(e.gameId,'gameId for reading must be set when userId is \"*\".'),u(-1===e.regionKey.indexOf(\"*\"),'regionKey for reading must not include \"*\" when userId is \"*\".')):u(\"*\"!==e.userId,'userId for writing must not include \"*\".'))}function i(e){if(o(e,!0),null!=e.option){var t=e.option;null!=t.keyOrder&&u(t.keyOrder===s.StorageOrder.Asc||t.keyOrder===s.StorageOrder.Desc,\"Invalid keyOrder.\"),null!=t.valueOrder&&u(t.valueOrder===s.StorageOrder.Asc||t.valueOrder===s.StorageOrder.Desc,\"Invalid valueOrder.\")}}function a(e){}var u=e(\"assert\"),s=e(\"@akashic/akashic-engine\"),c=4;r.validateRegionKey=n,r.validateStorageKey=o,r.validateStorageReadKey=i,r.validateStorageWriteOption=a},{\"@akashic/akashic-engine\":\"@akashic/akashic-engine\",assert:4}],4:[function(e,t,r){(function(r){\"use strict\";function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0}function o(e){return r.Buffer&&\"function\"==typeof r.Buffer.isBuffer?r.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function i(e){return Object.prototype.toString.call(e)}function a(e){return!o(e)&&\"function\"==typeof r.ArrayBuffer&&(\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}function u(e){if(b.isFunction(e)){if(E)return e.name;var t=e.toString(),r=t.match(I);return r&&r[1]}}function s(e,t){return\"string\"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(E||!b.isFunction(e))return b.inspect(e);var t=u(e);return\"[Function\"+(t?\": \"+t:\"\")+\"]\"}function l(e){return s(c(e.actual),128)+\" \"+e.operator+\" \"+s(c(e.expected),128)}function f(e,t,r,n,o){throw new x.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:o})}function g(e,t){e||f(e,!0,t,\"==\",x.ok)}function p(e,t,r,u){if(e===t)return!0;if(o(e)&&o(t))return 0===n(e,t);if(b.isDate(e)&&b.isDate(t))return e.getTime()===t.getTime();if(b.isRegExp(e)&&b.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&\"object\"==typeof e||null!==t&&\"object\"==typeof t){if(a(e)&&a(t)&&i(e)===i(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;u=u||{actual:[],expected:[]};var s=u.actual.indexOf(e);return-1!==s&&s===u.expected.indexOf(t)||(u.actual.push(e),u.expected.push(t),y(e,t,r,u))}return r?e===t:e==t}function d(e){return\"[object Arguments]\"==Object.prototype.toString.call(e)}function y(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(b.isPrimitive(e)||b.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=d(e),i=d(t);if(o&&!i||!o&&i)return!1;if(o)return e=O.call(e),t=O.call(t),p(e,t,r);var a,u,s=k(e),c=k(t);if(s.length!==c.length)return!1;for(s.sort(),c.sort(),u=s.length-1;u>=0;u--)if(s[u]!==c[u])return!1;for(u=s.length-1;u>=0;u--)if(a=s[u],!p(e[a],t[a],r,n))return!1;return!0}function h(e,t,r){p(e,t,!0)&&f(e,t,r,\"notDeepStrictEqual\",h)}function m(e,t){if(!e||!t)return!1;if(\"[object RegExp]\"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function v(e){var t;try{e()}catch(e){t=e}return t}function S(e,t,r,n){var o;if(\"function\"!=typeof t)throw new TypeError('\"block\" argument must be a function');\"string\"==typeof r&&(n=r,r=null),o=v(t),n=(r&&r.name?\" (\"+r.name+\").\":\".\")+(n?\" \"+n:\".\"),e&&!o&&f(o,r,\"Missing expected exception\"+n);var i=\"string\"==typeof n,a=!e&&b.isError(o),u=!e&&o&&!r;if((a&&i&&m(o,r)||u)&&f(o,r,\"Got unwanted exception\"+n),e&&o&&r&&!m(o,r)||!e&&o)throw o}var b=e(\"util/\"),w=Object.prototype.hasOwnProperty,O=Array.prototype.slice,E=function(){return\"foo\"===function(){}.name}(),x=t.exports=g,I=/\\s*function\\s+([^\\(\\s]*)\\s*/;x.AssertionError=function(e){this.name=\"AssertionError\",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var t=e.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,o=u(t),i=n.indexOf(\"\\n\"+o);if(i>=0){var a=n.indexOf(\"\\n\",i+1);n=n.substring(a+1)}this.stack=n}}},b.inherits(x.AssertionError,Error),x.fail=f,x.ok=g,x.equal=function(e,t,r){e!=t&&f(e,t,r,\"==\",x.equal)},x.notEqual=function(e,t,r){e==t&&f(e,t,r,\"!=\",x.notEqual)},x.deepEqual=function(e,t,r){p(e,t,!1)||f(e,t,r,\"deepEqual\",x.deepEqual)},x.deepStrictEqual=function(e,t,r){p(e,t,!0)||f(e,t,r,\"deepStrictEqual\",x.deepStrictEqual)},x.notDeepEqual=function(e,t,r){p(e,t,!1)&&f(e,t,r,\"notDeepEqual\",x.notDeepEqual)},x.notDeepStrictEqual=h,x.strictEqual=function(e,t,r){e!==t&&f(e,t,r,\"===\",x.strictEqual)},x.notStrictEqual=function(e,t,r){e===t&&f(e,t,r,\"!==\",x.notStrictEqual)},x.throws=function(e,t,r){S(!0,e,t,r)},x.doesNotThrow=function(e,t,r){S(!1,e,t,r)},x.ifError=function(e){if(e)throw e};var k=Object.keys||function(e){var t=[];for(var r in e)w.call(e,r)&&t.push(r);return t}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"util/\":8}],5:[function(e,t,r){function n(){throw new Error(\"setTimeout has not been defined\")}function o(){throw new Error(\"clearTimeout has not been defined\")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(g===clearTimeout)return clearTimeout(e);if((g===o||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(e);try{return g(e)}catch(t){try{return g.call(null,e)}catch(t){return g.call(this,e)}}}function u(){h&&d&&(h=!1,d.length?y=d.concat(y):m=-1,y.length&&s())}function s(){if(!h){var e=i(u);h=!0;for(var t=y.length;t;){for(d=y,y=[];++m<t;)d&&d[m].run();m=-1,t=y.length}d=null,h=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,g,p=t.exports={};!function(){try{f=\"function\"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{g=\"function\"==typeof clearTimeout?clearTimeout:o}catch(e){g=o}}();var d,y=[],h=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];y.push(new c(e,t)),1!==y.length||h||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title=\"browser\",p.browser=!0,p.env={},p.argv=[],p.version=\"\",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(e){throw new Error(\"process.binding is not supported\")},p.cwd=function(){return\"/\"},p.chdir=function(e){throw new Error(\"process.chdir is not supported\")},p.umask=function(){return 0}},{}],6:[function(e,t,r){\"function\"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],7:[function(e,t,r){t.exports=function(e){return e&&\"object\"==typeof e&&\"function\"==typeof e.copy&&\"function\"==typeof e.fill&&\"function\"==typeof e.readUInt8}},{}],8:[function(e,t,r){(function(t,n){function o(e,t){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&r._extend(n,t),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),s(n,e,n.depth)}function i(e,t){var r=o.styles[t];return r?\"\u001b[\"+o.colors[r][0]+\"m\"+e+\"\u001b[\"+o.colors[r][1]+\"m\":e}function a(e,t){return e}function u(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function s(e,t,n){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return S(o)||(o=s(e,o,n)),o}var i=c(e,t);if(i)return i;var a=Object.keys(t),y=u(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),I(t)&&(a.indexOf(\"message\")>=0||a.indexOf(\"description\")>=0))return l(t);if(0===a.length){if(k(t)){var h=t.name?\": \"+t.name:\"\";return e.stylize(\"[Function\"+h+\"]\",\"special\")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),\"regexp\");if(x(t))return e.stylize(Date.prototype.toString.call(t),\"date\");if(I(t))return l(t)}var m=\"\",v=!1,b=[\"{\",\"}\"];if(d(t)&&(v=!0,b=[\"[\",\"]\"]),k(t)&&(m=\" [Function\"+(t.name?\": \"+t.name:\"\")+\"]\"),O(t)&&(m=\" \"+RegExp.prototype.toString.call(t)),x(t)&&(m=\" \"+Date.prototype.toUTCString.call(t)),I(t)&&(m=\" \"+l(t)),0===a.length&&(!v||0==t.length))return b[0]+m+b[1];if(n<0)return O(t)?e.stylize(RegExp.prototype.toString.call(t),\"regexp\"):e.stylize(\"[Object]\",\"special\");e.seen.push(t);var w;return w=v?f(e,t,n,y,a):a.map(function(r){return g(e,t,n,y,r,v)}),e.seen.pop(),p(w,m,b)}function c(e,t){if(w(t))return e.stylize(\"undefined\",\"undefined\");if(S(t)){var r=\"'\"+JSON.stringify(t).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return e.stylize(r,\"string\")}return v(t)?e.stylize(\"\"+t,\"number\"):y(t)?e.stylize(\"\"+t,\"boolean\"):h(t)?e.stylize(\"null\",\"null\"):void 0}function l(e){return\"[\"+Error.prototype.toString.call(e)+\"]\"}function f(e,t,r,n,o){for(var i=[],a=0,u=t.length;a<u;++a)D(t,String(a))?i.push(g(e,t,r,n,String(a),!0)):i.push(\"\");return o.forEach(function(o){o.match(/^\\d+$/)||i.push(g(e,t,r,n,o,!0))}),i}function g(e,t,r,n,o,i){var a,u,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?u=c.set?e.stylize(\"[Getter/Setter]\",\"special\"):e.stylize(\"[Getter]\",\"special\"):c.set&&(u=e.stylize(\"[Setter]\",\"special\")),D(n,o)||(a=\"[\"+o+\"]\"),u||(e.seen.indexOf(c.value)<0?(u=h(r)?s(e,c.value,null):s(e,c.value,r-1),u.indexOf(\"\\n\")>-1&&(u=i?u.split(\"\\n\").map(function(e){return\"  \"+e}).join(\"\\n\").substr(2):\"\\n\"+u.split(\"\\n\").map(function(e){return\"   \"+e}).join(\"\\n\"))):u=e.stylize(\"[Circular]\",\"special\")),w(a)){if(i&&o.match(/^\\d+$/))return u;a=JSON.stringify(\"\"+o),a.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,\"name\")):(a=a.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),a=e.stylize(a,\"string\"))}return a+\": \"+u}function p(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf(\"\\n\")>=0&&n++,e+t.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60?r[0]+(\"\"===t?\"\":t+\"\\n \")+\" \"+e.join(\",\\n  \")+\" \"+r[1]:r[0]+t+\" \"+e.join(\", \")+\" \"+r[1]}function d(e){return Array.isArray(e)}function y(e){return\"boolean\"==typeof e}function h(e){return null===e}function m(e){return null==e}function v(e){return\"number\"==typeof e}function S(e){return\"string\"==typeof e}function b(e){return\"symbol\"==typeof e}function w(e){return void 0===e}function O(e){return E(e)&&\"[object RegExp]\"===K(e)}function E(e){return\"object\"==typeof e&&null!==e}function x(e){return E(e)&&\"[object Date]\"===K(e)}function I(e){return E(e)&&(\"[object Error]\"===K(e)||e instanceof Error)}function k(e){return\"function\"==typeof e}function T(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"==typeof e||void 0===e}function K(e){return Object.prototype.toString.call(e)}function j(e){return e<10?\"0\"+e.toString(10):e.toString(10)}function V(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(\":\");return[e.getDate(),C[e.getMonth()],t].join(\" \")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;r.format=function(e){if(!S(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(o(arguments[r]));return t.join(\" \")}for(var r=1,n=arguments,i=n.length,a=String(e).replace(A,function(e){if(\"%%\"===e)return\"%\";if(r>=i)return e;switch(e){case\"%s\":return String(n[r++]);case\"%d\":return Number(n[r++]);case\"%j\":try{return JSON.stringify(n[r++])}catch(e){return\"[Circular]\"}default:return e}}),u=n[r];r<i;u=n[++r])h(u)||!E(u)?a+=\" \"+u:a+=\" \"+o(u);return a},r.deprecate=function(e,o){function i(){if(!a){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),a=!0}return e.apply(this,arguments)}if(w(n.process))return function(){return r.deprecate(e,o).apply(this,arguments)};if(!0===t.noDeprecation)return e;var a=!1;return i};var z,q={};r.debuglog=function(e){if(w(z)&&(z=t.env.NODE_DEBUG||\"\"),e=e.toUpperCase(),!q[e])if(new RegExp(\"\\\\b\"+e+\"\\\\b\",\"i\").test(z)){var n=t.pid;q[e]=function(){var t=r.format.apply(r,arguments);console.error(\"%s %d: %s\",e,n,t)}}else q[e]=function(){};return q[e]},r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},r.isArray=d,r.isBoolean=y,r.isNull=h,r.isNullOrUndefined=m,r.isNumber=v,r.isString=S,r.isSymbol=b,r.isUndefined=w,r.isRegExp=O,r.isObject=E,r.isDate=x,r.isError=I,r.isFunction=k,r.isPrimitive=T,r.isBuffer=e(\"./support/isBuffer\");var C=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];r.log=function(){console.log(\"%s - %s\",V(),r.format.apply(r,arguments))},r.inherits=e(\"inherits\"),r._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./support/isBuffer\":7,_process:5,inherits:6}]},{},[2])(2)});\n\n\twindow.addEventListener(\"load\",function(){!function(e){function n(e){if(s.containerController){var n={width:window.innerWidth||document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight},t=Math.min(n.width/e.width,n.height/e.height),o={width:Math.floor(e.width*t),height:Math.floor(e.height*t)};s.containerController.changeScale(t,t);var i={x:Math.floor((n.width-o.width)/2),y:Math.floor((n.height-o.height)/2)};s.containerController.inputHandlerLayer.setOffset(i)}}var t=e,o={id:\"9999\",name:\"sandbox-player\"},i=new gameStorage.GameStorage(window.localStorage,{gameId:t}),a=engineFiles.pdiBrowser,r=engineFiles.gameDriver,d=new r.MemoryAmflowClient({playId:\"sandboxDummyPlayId\",putStorageDataSyncFunc:i.set.bind(i),getStorageDataSyncFunc:function(e){var n=i.load(e);return e.map(function(e,t){return{readKey:e,values:n[t]}})}});if(!0===window.__akashic__.autoSendEvents||\"string\"==typeof window.__akashic__.autoSendEvents){var c=window.__akashic__.sandboxConfigFunc(),l=!0===window.__akashic__.autoSendEvents?c.autoSendEvents:window.__akashic__.autoSendEvents;c&&l&&c.events&&c.events[l]&&c.events[l].forEach(function(e){d.sendEvent(e)})}var u;u=\"file:\"!==location.protocol?[a.WebAudioPlugin,a.HTMLAudioPlugin]:[a.HTMLAudioPlugin];var s=new a.Platform({amflow:d,containerView:document.getElementById(\"container\"),audioPlugins:u});s.loadGameConfiguration=function(e,n){try{var t=window.gLocalAssetContainer[\"game.json\"];t=decodeURIComponent(t),n(null,JSON.parse(t))}catch(e){n(e,null)}},s._resourceFactory.createScriptAsset=function(e,n){return new LocalScriptAsset(e,n)};var w=function(e,n){return new LocalTextAsset(e,n)};\"undefined\"!=typeof LocalTextAsset&&(s._resourceFactory.createTextAsset=w),driver=new r.GameDriver({platform:s,player:o,errorHandler:function(e){console.log(\"ERRORHANDLER:\",e)}}),driver.gameCreatedTrigger.add(function(e){window.optionProps.magnify&&(n(e),window.addEventListener(\"resize\",function(){n(e)}))}),driver.initialize({configurationUrl:\"game.json\",assetBase:\"./\",driverConfiguration:{playId:\"sandboxDummyPlayId\",playToken:\"dummyToken\",executionMode:r.ExecutionMode.Active},loopConfiguration:{loopMode:r.LoopMode.Realtime}},function(e){if(e)throw e;driver.startGame()})}(\"exportHTML\")});\n\n\twindow.g=require(\"@akashic/akashic-engine\"),\"gLocalAssetContainer\"in window||(window.gLocalAssetContainer={}),\"__akashic__\"in window||(window.__akashic__={});\n\n\tvar __extends=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),LocalTextAsset=function(t){function o(o,n){var e=t.call(this,o,n)||this;return e.data=decodeURIComponent(window.gLocalAssetContainer[o]),e}return __extends(o,t),o.prototype._load=function(t){var o=this;void 0!==this.data?setTimeout(function(){t._onAssetLoad(o)},0):setTimeout(function(){t._onAssetError(o,g.ExceptionFactory.createAssetLoadError(\"can not load text asset\"))},0)},o}(g.TextAsset);\n\n</script>\n\n<style type=\"text/css\">\n* {\n\tmargin: 0;\n\tborder: 0;\n\tpadding: 0;\n}\n\nhtml {\n\twidth: 100%;\n\theight: 100%;\n}\n\nbody {\n\toverflow: hidden;\n\twidth: 100%;\n\theight: 100%;\n}\n\n#container {\n\tmargin: 0px;\n\tpadding: 0px;\n\toverflow: hidden;\n\ttouch-action: none;\n\twidth: 100%;\n\theight: 100%;\n\n\t/* iOSË°®Á§∫Â¥©„ÇåÂØæÁ≠ñ: body„ÅÆ„Çµ„Ç§„Ç∫Ë®àÁÆó„Åã„Çâ„Åì„ÅÆË¶ÅÁ¥†„ÇíÈô§Â§ñ */\n\t/* position: absolute; */\n}\n\n#container canvas {\n\tbackground-size: contain;\n}\n\n</style>\n\n\n\n</head>\n<body>\n<div id=\"container\">\n</div>\n<p>AkashicEngine+TypeScript„Åß‰Ωú„Çä„Åæ„Åó„Åü„ÄÇ</p>\n<p><a href=\"https://github.com/takusan23/AkashicEngine-FlappyBird\">„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØ„Åì„Åì<a></p>\n</body>\n</html>\n","date":"2020-04-10T15:14:18.506Z","updated":"2020-04-10T15:14:18.506Z","path":"omake/index.html","title":"","comments":1,"layout":"page","_id":"ck9rbqvib002ch8vugsqseeai","content":"<!doctype html>\n<!-- Generated by akashic-cli-export-html@0.6.2. -->\n<!-- Options: {\"strip\":true,\"minify\":true,\"bundle\":true} -->\n<html>\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n<title>game</title>\n<script>\n\n\t!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var e;e=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,e.engineFilesV2_1_37=t()}}(function(){var t;return function(){function t(e,i,r){function n(s,a){if(!i[s]){if(!e[s]){var h=\"function\"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var c=new Error(\"Cannot find module '\"+s+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){return n(e[s][1][t]||t)},u,u.exports,t,e,i,r)}return i[s].exports}for(var o=\"function\"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}return t}()({1:[function(t,e,i){e.exports=t(\"./lib/main.node\")},{\"./lib/main.node\":2}],2:[function(t,e,i){(function(){\"use strict\";var t,i=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(t){!function(t){t[t.Unspecified=0]=\"Unspecified\",t[t.RetryLimitExceeded=1]=\"RetryLimitExceeded\",t[t.NetworkError=2]=\"NetworkError\",t[t.ClientError=3]=\"ClientError\",t[t.ServerError=4]=\"ServerError\"}(t.AssetLoadErrorType||(t.AssetLoadErrorType={}))}(t||(t={}));var t;!function(t){!function(e){function i(t,e){var i=new Error(t);return i.name=\"AssertionError\",i.cause=e,i}function r(t,e,i,r){var n=\"Type mismatch on \"+t+\", expected type is \"+e;if(arguments.length>2)try{var o;o=i&&i.constructor&&i.constructor.name?i.constructor.name:typeof i,n+=\", actual type is \"+(o.length>40?o.substr(0,40):o)}catch(t){}n+=\".\";var s=new Error(n);return s.name=\"TypeMismatchError\",s.cause=r,s.expected=e,s.actual=i,s}function n(e,i,r,n){void 0===i&&(i=!0),void 0===r&&(r=t.AssetLoadErrorType.Unspecified);var o=new Error(e);return o.name=\"AssetLoadError\",o.cause=n,o.retriable=i,o.type=r,o}e.createAssertionError=i,e.createTypeMismatchError=r,e.createAssetLoadError=n}(t.ExceptionFactory||(t.ExceptionFactory={}))}(t||(t={}));var t;!function(t){var e=function(){function e(){}return e.prototype.createSurfaceAtlas=function(e,i){return new t.SurfaceAtlas(this.createSurface(e,i))},e.prototype.createTrimmedSurface=function(t,e){var i=e||{x:0,y:0,width:t.width,height:t.height},r=this.createSurface(i.width,i.height),n=r.renderer();return n.begin(),n.drawImage(t,i.x,i.y,i.width,i.height,0,0),n.end(),r},e}();t.ResourceFactory=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this._value=t}return t.prototype._cachedValue=function(){return this._value},t}();t.RequireCachedValue=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.seed=t,this[0]=this}return t}();t.RandomGenerator=e}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this.id=e,this.originalPath=i,this.path=this._assetPathFilter(i),this.onDestroyed=new t.Trigger}return e.prototype.destroy=function(){this.onDestroyed.fire(this),this.id=void 0,this.originalPath=void 0,this.path=void 0,this.onDestroyed.destroy(),this.onDestroyed=void 0},e.prototype.destroyed=function(){return void 0===this.id},e.prototype.inUse=function(){return!1},e.prototype._assetPathFilter=function(t){return t},e}();t.Asset=e;var r=function(t){function e(e,i,r,n){var o=t.call(this,e,i)||this;return o.width=r,o.height=n,o}return i(e,t),e.prototype.initialize=function(t){this.hint=t},e}(e);t.ImageAsset=r;var n=function(t){function e(e,i,r,n,o,s,a){var h=t.call(this,e,i,r,n)||this;return h.realWidth=0,h.realHeight=0,h._system=o,h._loop=s,h._useRealSize=a,h}return i(e,t),e.prototype.play=function(t){return this.getPlayer().play(this),this.getPlayer()},e.prototype.stop=function(){this.getPlayer().stop()},e.prototype.destroy=function(){this._system=void 0,t.prototype.destroy.call(this)},e}(r);t.VideoAsset=n;var o=function(t){function e(e,i,r,n,o,s){var a=t.call(this,e,i)||this;return a.duration=r,a.loop=o,a.hint=s,a._system=n,a.data=void 0,a}return i(e,t),e.prototype.play=function(){var t=this._system.createPlayer();return t.play(this),this._lastPlayedPlayer=t,t},e.prototype.stop=function(){for(var t=this._system.findPlayers(this),e=0;e<t.length;++e)t[e].stop()},e.prototype.inUse=function(){return this._system.findPlayers(this).length>0},e.prototype.destroy=function(){this._system&&this.stop(),this.data=void 0,this._system=void 0,this._lastPlayedPlayer=void 0,t.prototype.destroy.call(this)},e}(e);t.AudioAsset=o;var s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.data=void 0,r}return i(e,t),e.prototype.destroy=function(){this.data=void 0,t.prototype.destroy.call(this)},e}(e);t.TextAsset=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.destroy=function(){this.script=void 0,t.prototype.destroy.call(this)},e}(e);t.ScriptAsset=a}(t||(t={}));var t;!function(t){function e(t){t=t||{};var e={music:{loop:!0,hint:{streaming:!0}},sound:{loop:!1,hint:{streaming:!1}}};for(var i in e)i in t||(t[i]=e[i]);return t}var i=function(){function t(t,e){this.asset=t,this.handlers=[e],this.errorCount=0,this.loading=!1}return t}(),r=function(){function r(t,i,r,n){this.game=t,this.configuration=this._normalize(i||{},e(r)),this._assets={},this._liveAssetVirtualPathTable={},this._liveAbsolutePathTable={},this._moduleMainScripts=n||{},this._refCounts={},this._loadings={}}return r.prototype.destroy=function(){for(var t=Object.keys(this._refCounts),e=0;e<t.length;++e)this._releaseAsset(t[e]);this.game=void 0,this.configuration=void 0,this._assets=void 0,this._liveAssetVirtualPathTable=void 0,this._liveAbsolutePathTable=void 0,this._refCounts=void 0,this._loadings=void 0},r.prototype.destroyed=function(){return void 0===this.game},r.prototype.retryLoad=function(e){if(!this._loadings.hasOwnProperty(e.id))throw t.ExceptionFactory.createAssertionError(\"AssetManager#retryLoad: invalid argument.\");var i=this._loadings[e.id];if(i.errorCount>r.MAX_ERROR_COUNT){if(!this.configuration[e.id])return;throw t.ExceptionFactory.createAssertionError(\"AssetManager#retryLoad: too many retrying.\")}i.loading||(i.loading=!0,e._load(this))},r.prototype.globalAssetIds=function(){var t=[],e=this.configuration;for(var i in e)e.hasOwnProperty(i)&&e[i].global&&t.push(i);return t},r.prototype.requestAsset=function(t,e){var r,n=\"string\"==typeof t?t:t.id,o=!1;if(this._assets.hasOwnProperty(n))++this._refCounts[n],e._onAssetLoad(this._assets[n]);else if(this._loadings.hasOwnProperty(n))r=this._loadings[n],r.handlers.push(e),++this._refCounts[n],o=!0;else{var s=this._createAssetFor(t);r=new i(s,e),this._loadings[n]=r,this._refCounts[n]=1,o=!0,r.loading=!0,s._load(this)}return o},r.prototype.unrefAsset=function(t){var e=\"string\"==typeof t?t:t.id;--this._refCounts[e]>0||this._releaseAsset(e)},r.prototype.requestAssets=function(t,e){for(var i=0,r=0,n=t.length;r<n;++r)this.requestAsset(t[r],e)&&++i;return i},r.prototype.unrefAssets=function(t){for(var e=0,i=t.length;e<i;++e)this.unrefAsset(t[e])},r.prototype._normalize=function(e,i){var r={};if(!(e instanceof Object))throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: invalid arguments.\");for(var n in e)if(e.hasOwnProperty(n)){var o=Object.create(e[n]);if(!o.path)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: No path given for: \"+n);if(!o.virtualPath)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: No virtualPath given for: \"+n);if(!o.type)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: No type given for: \"+n);if(\"image\"===o.type){if(\"number\"!=typeof o.width)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong width given for the image asset: \"+n);if(\"number\"!=typeof o.height)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong height given for the image asset: \"+n)}if(\"audio\"===o.type){void 0===o.duration&&(o.duration=0);var s=i[o.systemId];void 0===o.loop&&(o.loop=!!s&&!!s.loop),void 0===o.hint&&(o.hint=s?s.hint:{})}if(\"video\"===o.type&&!o.useRealSize){if(\"number\"!=typeof o.width)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong width given for the video asset: \"+n);if(\"number\"!=typeof o.height)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong height given for the video asset: \"+n);o.useRealSize=!1}o.global||(o.global=!1),r[n]=o}return r},r.prototype._createAssetFor=function(e){var i,r,n;if(\"string\"==typeof e)i=e,n=this.configuration[i],r=this.configuration[i].path;else{var o=e;i=o.id,n=o,r=o.uri}var s=this.game.resourceFactory;if(!n)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_createAssetFor: unknown asset ID: \"+i);switch(n.type){case\"image\":var a=s.createImageAsset(i,r,n.width,n.height);return a.initialize(n.hint),a;case\"audio\":var h=n.systemId?this.game.audio[n.systemId]:this.game.audio[this.game.defaultAudioSystemId];return s.createAudioAsset(i,r,n.duration,h,n.loop,n.hint);case\"text\":return s.createTextAsset(i,r);case\"script\":return s.createScriptAsset(i,r);case\"video\":return s.createVideoAsset(i,r,n.width,n.height,new t.VideoSystem,n.loop,n.useRealSize);default:throw t.ExceptionFactory.createAssertionError(\"AssertionError#_createAssetFor: unknown asset type \"+n.type+\" for asset ID: \"+i)}},r.prototype._releaseAsset=function(e){var i,r=this._assets[e]||this._loadings[e]&&this._loadings[e].asset;if(r)if(i=r.path,r.inUse())if(r instanceof t.AudioAsset)r._system.requestDestroy(r);else{if(!(r instanceof t.VideoAsset))throw t.ExceptionFactory.createAssertionError(\"AssetManager#unrefAssets: Unsupported in-use \"+r.id);r.destroy()}else r.destroy();if(delete this._refCounts[e],delete this._loadings[e],delete this._assets[e],this.configuration[e]){var n=this.configuration[e].virtualPath;n&&this._liveAssetVirtualPathTable.hasOwnProperty(n)&&delete this._liveAssetVirtualPathTable[n],i&&this._liveAbsolutePathTable.hasOwnProperty(i)&&delete this._liveAbsolutePathTable[i]}},r.prototype._countLoadingAsset=function(){return Object.keys(this._loadings).length},r.prototype._onAssetError=function(e,i){if(!this.destroyed()&&!e.destroyed()){var n=this._loadings[e.id],o=n.handlers;n.loading=!1,++n.errorCount,n.errorCount>r.MAX_ERROR_COUNT&&i.retriable&&(i=t.ExceptionFactory.createAssetLoadError(\"Retry limit exceeded\",!1,t.AssetLoadErrorType.RetryLimitExceeded,i)),i.retriable||delete this._loadings[e.id];for(var s=0;s<o.length;++s)o[s]._onAssetError(e,i,this)}},r.prototype._onAssetLoad=function(e){if(!this.destroyed()&&!e.destroyed()){var i=this._loadings[e.id];if(i.loading=!1,delete this._loadings[e.id],this._assets[e.id]=e,this.configuration[e.id]){var r=this.configuration[e.id].virtualPath;if(this._liveAssetVirtualPathTable.hasOwnProperty(r)){if(this._liveAssetVirtualPathTable[r].path!==e.path)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_onAssetLoad(): duplicated asset path\")}else this._liveAssetVirtualPathTable[r]=e;this._liveAbsolutePathTable.hasOwnProperty(e.path)||(this._liveAbsolutePathTable[e.path]=r)}for(var n=i.handlers,o=0;o<n.length;++o)n[o]._onAssetLoad(e)}},r.MAX_ERROR_COUNT=3,r}();t.AssetManager=r}(t||(t={}));var t;!function(t){function e(e,i,r){var n,o,s=e._assetManager._liveAssetVirtualPathTable,a=e._assetManager._moduleMainScripts;if(-1===i.indexOf(\"/\")&&e._assetManager._assets.hasOwnProperty(i)&&(n=e._assetManager._assets[i],o=e._assetManager._liveAbsolutePathTable[n.path]),/^\\.\\/|^\\.\\.\\/|^\\//.test(i)){if(r){if(!r._virtualDirname)throw t.ExceptionFactory.createAssertionError(\"g._require: require from DynamicAsset is not supported\");o=t.PathUtil.resolvePath(r._virtualDirname,i)}else{if(!/^\\.\\//.test(i))throw t.ExceptionFactory.createAssertionError(\"g._require: entry point path must start with './'\");o=i.substring(2)}if(e._scriptCaches.hasOwnProperty(o))return e._scriptCaches[o]._cachedValue();if(e._scriptCaches.hasOwnProperty(o+\".js\"))return e._scriptCaches[o+\".js\"]._cachedValue();n||(n=t.Util.findAssetByPathAsFile(o,s)),n||(n=t.Util.findAssetByPathAsDirectory(o,s))}else if(a[i]&&(o=a[i],n=e._assetManager._liveAssetVirtualPathTable[o]),!n){var h=r?r.paths:[];h.push(\"node_modules\");for(var c=0;c<h.length;++c){var u=h[c];if(o=t.PathUtil.resolvePath(u,i),n=t.Util.findAssetByPathAsFile(o,s))break;if(n=t.Util.findAssetByPathAsDirectory(o,s))break}}if(n){if(e._scriptCaches.hasOwnProperty(o))return e._scriptCaches[o]._cachedValue();if(n instanceof t.ScriptAsset){var l=new t.ScriptAssetContext(e,n);return e._scriptCaches[o]=l,l._executeScript(r)}if(n instanceof t.TextAsset&&n&&\".json\"===t.PathUtil.resolveExtname(i)){return(e._scriptCaches[o]=new t.RequireCachedValue(JSON.parse(n.data)))._cachedValue()}}throw t.ExceptionFactory.createAssertionError(\"g._require: can not find module: \"+i)}t._require=e;var i=function(){function e(e,i,r){var n=this,o=t.PathUtil.resolveDirname(r),s=e._assetManager._liveAbsolutePathTable[r],a=s?t.PathUtil.resolveDirname(s):void 0,h=Object.create(t,{game:{value:e,enumerable:!0},filename:{value:r,enumerable:!0},dirname:{value:o,enumerable:!0},module:{value:this,writable:!0,enumerable:!0,configurable:!0}});this.id=i,this.filename=r,this.exports={},this.parent=null,this.loaded=!1,this.children=[],this.paths=a?t.PathUtil.makeNodeModulePaths(a):[],this._dirname=o,this._virtualDirname=a,this._g=h,this.require=function(i){return\"g\"===i?h:t._require(e,i,n)}}return e}();t.Module=i}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this._game=e,this._asset=i,this._module=new t.Module(e,i.path,i.path),this._g=this._module._g,this._started=!1}return e.prototype._cachedValue=function(){if(!this._started)throw t.ExceptionFactory.createAssertionError(\"ScriptAssetContext#_cachedValue: not executed yet.\");return this._module.exports},e.prototype._executeScript=function(t){return this._started?this._module.exports:(t&&(this._module.parent=t,t.children.push(this._module)),this._started=!0,this._asset.execute(this._g),this._module.loaded=!0,this._module.exports)},e}();t.ScriptAssetContext=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,n,o,s){void 0===t?(this._modified=!1,this._matrix=[1,0,0,1,0,0]):\"number\"==typeof t?(this._modified=!1,this._matrix=new Array(6),null!=o&&null!=s?this.updateWithAnchor(t,e,i,r,n,0,0,o,s):this.update(t,e,i,r,n,0,0)):(this._modified=t._modified,this._matrix=[t._matrix[0],t._matrix[1],t._matrix[2],t._matrix[3],t._matrix[4],t._matrix[5]])}return t.prototype.update=function(t,e,i,r,n,o,s){var a=n*Math.PI/180,h=Math.cos(a),c=Math.sin(a),u=h*i,l=c*i,d=c*r,p=h*r,f=t/2,_=e/2;this._matrix[0]=u,this._matrix[1]=l,this._matrix[2]=-d,this._matrix[3]=p,this._matrix[4]=-u*f+d*_+f+o,this._matrix[5]=-l*f-p*_+_+s},t.prototype.updateWithAnchor=function(t,e,i,r,n,o,s,a,h){var c=n*Math.PI/180,u=Math.cos(c),l=Math.sin(c),d=u*i,p=l*i,f=l*r,_=u*r,g=a*t,y=h*e;this._matrix[0]=d,this._matrix[1]=p,this._matrix[2]=-f,this._matrix[3]=_,this._matrix[4]=-d*g+f*y+o,this._matrix[5]=-p*g-_*y+s},t.prototype.updateByInverse=function(t,e,i,r,n,o,s){var a=n*Math.PI/180,h=Math.cos(a),c=Math.sin(a),u=h/i,l=c/r,d=c/i,p=h/r,f=t/2,_=e/2;this._matrix[0]=u,this._matrix[1]=-l,this._matrix[2]=d,this._matrix[3]=p,this._matrix[4]=-u*(f+o)-d*(_+s)+f,this._matrix[5]=l*(f+o)-p*(_+s)+_},t.prototype.updateByInverseWithAnchor=function(t,e,i,r,n,o,s,a,h){var c=n*Math.PI/180,u=Math.cos(c),l=Math.sin(c),d=u/i,p=l/r,f=l/i,_=u/r,g=a*t,y=h*e;this._matrix[0]=d,this._matrix[1]=-p,this._matrix[2]=f,this._matrix[3]=_,this._matrix[4]=-d*o-f*s+g,this._matrix[5]=p*o-_*s+y},t.prototype.multiply=function(t){var e=this._matrix,i=t._matrix,r=e[0],n=e[1],o=e[2],s=e[3];e[0]=r*i[0]+o*i[1],e[1]=n*i[0]+s*i[1],e[2]=r*i[2]+o*i[3],e[3]=n*i[2]+s*i[3],e[4]=r*i[4]+o*i[5]+e[4],e[5]=n*i[4]+s*i[5]+e[5]},t.prototype.multiplyNew=function(t){var e=this.clone();return e.multiply(t),e},t.prototype.reset=function(t,e){this._matrix[0]=1,this._matrix[1]=0,this._matrix[2]=0,this._matrix[3]=1,this._matrix[4]=t||0,this._matrix[5]=e||0},t.prototype.clone=function(){return new t(this)},t.prototype.multiplyInverseForPoint=function(t){var e=this._matrix,i=1/(e[0]*e[3]+e[2]*-e[1]);return{x:e[3]*i*t.x+-e[2]*i*t.y+(e[5]*e[2]-e[4]*e[3])*i,y:e[0]*i*t.y+-e[1]*i*t.x+(-e[5]*e[0]+e[4]*e[1])*i}},t.prototype.scale=function(t,e){var i=this._matrix;i[0]*=t,i[1]*=e,i[2]*=t,i[3]*=e,i[4]*=t,i[5]*=e},t.prototype.multiplyPoint=function(t){var e=this._matrix;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t}();t.PlainMatrix=e}(t||(t={}));var t;!function(t){!function(e){function i(t,e,i,r){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-r,2))}function r(t,i){return e.distance(t.x,t.y,i.x,i.y)}function n(t,i){return e.distance(t.x+t.width/2,t.y+t.height/2,i.x+i.width/2,i.y+i.height/2)}function o(e,i,r,n,o,s,a){return void 0===e?new t.PlainMatrix:new t.PlainMatrix(e,i,r,n,o,s,a)}function s(e,i,r){var n=i.x,o=i.y,s=0,a=0,h=i.width,c=i.height,u=i.calculateBoundingRect(r);if(!u)throw t.ExceptionFactory.createAssertionError(\"Util#createSpriteFromE: camera must look e\");h=u.right-u.left,c=u.bottom-u.top,u.left<i.x&&(s=i.x-u.left),u.top<i.y&&(a=i.y-u.top),i.moveTo(s,a),i._matrix&&(i._matrix._modified=!0);var l=e.game.resourceFactory.createSurface(Math.ceil(h),Math.ceil(c)),d=l.renderer();d.begin(),i.render(d,r),d.end();var p=new t.Sprite({scene:e,src:l,width:h,height:c});return p.moveTo(u.left,u.top),i.moveTo(n,o),i._matrix&&(i._matrix._modified=!0),p}function a(e,i,r){var n=e.game.resourceFactory.createSurface(Math.ceil(i.game.width),Math.ceil(i.game.height)),o=n.renderer();o.begin();for(var s=i.children,a=0;a<s.length;++a)s[a].render(o,r);return o.end(),new t.Sprite({scene:e,src:n,width:i.game.width,height:i.game.height})}function h(e){if(!e)return e;if(e instanceof t.Surface)return e;if(e instanceof t.ImageAsset)return e.asSurface();throw t.ExceptionFactory.createTypeMismatchError(\"Util#asSurface\",\"ImageAsset|Surface\",e)}function c(t,e){return e.hasOwnProperty(t)?e[t]:e.hasOwnProperty(t+\".js\")?e[t+\".js\"]:void 0}function u(i,r){var n;if(n=i+\"/package.json\",r.hasOwnProperty(n)&&r[n]instanceof t.TextAsset){var o=JSON.parse(r[n].data);if(o&&\"string\"==typeof o.main){var s=e.findAssetByPathAsFile(t.PathUtil.resolvePath(i,o.main),r);if(s)return s}}if(n=i+\"/index.js\",r.hasOwnProperty(n))return r[n]}function l(t,e){var i=t.charCodeAt(e);if(55296<=i&&i<=56319){return i<<16|t.charCodeAt(e+1)}return 56320<=i&&i<=57343?null:i}function d(t,e){e.isDynamic&&(e.animatingStarted.add(t._onAnimatingStarted,t),e.animatingStopped.add(t._onAnimatingStopped,t),e.isPlaying()&&t._onAnimatingStarted())}function p(t,e,i){t._onAnimatingStopped(),!e.destroyed()&&e.isDynamic&&(e.animatingStarted.remove(t._onAnimatingStarted,t),e.animatingStopped.remove(t._onAnimatingStopped,t)),i.isDynamic&&(i.animatingStarted.add(t._onAnimatingStarted,t),i.animatingStopped.add(t._onAnimatingStopped,t),i.isPlaying()&&t._onAnimatingStarted())}e.distance=i,e.distanceBetweenOffsets=r,e.distanceBetweenAreas=n,e.createMatrix=o,e.createSpriteFromE=s,e.createSpriteFromScene=a,e.asSurface=h,e.findAssetByPathAsFile=c,e.findAssetByPathAsDirectory=u,e.charCodeAt=l,e.setupAnimatingHandler=d,e.migrateAnimatingHandler=p}(t.Util||(t.Util={}))}(t||(t={}));var t;!function(t){!function(e){function i(t,e,i,r,n,o,s,a){return t<=n+s&&n<=t+i&&e<=o+a&&o<=e+r}function r(t,i){return e.intersect(t.x,t.y,t.width,t.height,i.x,i.y,i.width,i.height)}function n(e,i,r,n,o){return void 0===o&&(o=1),o>=t.Util.distance(e,i,r,n)}function o(e,i,r){return void 0===r&&(r=1),r>=t.Util.distanceBetweenAreas(e,i)}e.intersect=i,e.intersectAreas=r,e.within=n,e.withinAreas=o}(t.Collision||(t.Collision={}))}(t||(t={}));var t;!function(t){var e=function(){function t(){this._handlers=[],this.length=0}return t.prototype.add=function(t,e){if(\"function\"==typeof t)this._handlers.push({func:t,owner:e,once:!1,name:void 0});else{var i=t;\"number\"==typeof i.index?this._handlers.splice(i.index,0,{func:i.func,owner:i.owner,once:!1,name:i.name}):this._handlers.push({func:i.func,owner:i.owner,once:!1,name:i.name})}this.length=this._handlers.length},t.prototype.addOnce=function(t,e){if(\"function\"==typeof t)this._handlers.push({func:t,owner:e,once:!0,name:void 0});else{var i=t;\"number\"==typeof i.index?this._handlers.splice(i.index,0,{func:i.func,owner:i.owner,once:!0,name:i.name}):this._handlers.push({func:i.func,owner:i.owner,once:!0,name:i.name})}this.length=this._handlers.length},t.prototype.handle=function(t,e,i){this.add(e?{owner:t,func:e,name:i}:{func:t})},t.prototype.fire=function(t){if(this._handlers&&this._handlers.length){for(var e=this._handlers.concat(),i=0;i<e.length;i++){var r=e[i];if(r.func.call(r.owner,t)||r.once){var n=this._handlers.indexOf(r);-1!==n&&this._handlers.splice(n,1)}}this._handlers&&(this.length=this._handlers.length)}},t.prototype.contains=function(t,e){for(var i=\"function\"==typeof t?{func:t,owner:e}:t,r=0;r<this._handlers.length;r++)if(this._comparePartial(i,this._handlers[r]))return!0;return!1},t.prototype.remove=function(t,e){for(var i=\"function\"==typeof t?{func:t,owner:e}:t,r=0;r<this._handlers.length;r++){var n=this._handlers[r];if(i.func===n.func&&i.owner===n.owner&&i.name===n.name)return this._handlers.splice(r,1),void--this.length}},t.prototype.removeAll=function(t){var e=[];if(t)for(var i=0;i<this._handlers.length;i++){var r=this._handlers[i];this._comparePartial(t,r)||e.push(r)}this._handlers=e,this.length=this._handlers.length},t.prototype.destroy=function(){this._handlers=null,this.length=null},t.prototype.destroyed=function(){return null===this._handlers},t.prototype._comparePartial=function(t,e){return(void 0===t.func||t.func===e.func)&&((void 0===t.owner||t.owner===e.owner)&&(void 0===t.name||t.name===e.name))},t}();t.Trigger=e;var r=function(t){function e(e,i,r){var n=t.call(this)||this;return n.chain=e,n.filter=i,n.filterOwner=r,n._isActivated=!1,n}return i(e,t),e.prototype.add=function(e,i){t.prototype.add.call(this,e,i),this._isActivated||(this.chain.add(this._onChainTriggerFired,this),this._isActivated=!0)},e.prototype.addOnce=function(e,i){t.prototype.addOnce.call(this,e,i),this._isActivated||(this.chain.add(this._onChainTriggerFired,this),this._isActivated=!0)},e.prototype.remove=function(e,i){t.prototype.remove.call(this,e,i),0===this.length&&this._isActivated&&(this.chain.remove(this._onChainTriggerFired,this),this._isActivated=!1)},e.prototype.removeAll=function(e){t.prototype.removeAll.call(this,e),0===this.length&&this._isActivated&&(this.chain.remove(this._onChainTriggerFired,this),this._isActivated=!1)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.chain.remove(this._onChainTriggerFired,this),this.filter=null,this.filterOwner=null,this._isActivated=!1},e.prototype._onChainTriggerFired=function(t){this.filter&&!this.filter.call(this.filterOwner,t)||this.fire(t)},e}(e);t.ChainTrigger=r}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this.interval=e,this._scaledInterval=Math.round(e*i),this.elapsed=new t.Trigger,this._scaledElapsed=0}return e.prototype.tick=function(){for(this._scaledElapsed+=1e3;this._scaledElapsed>=this._scaledInterval&&this.elapsed;)this.elapsed.fire(),this._scaledElapsed-=this._scaledInterval},e.prototype.canDelete=function(){return!this.elapsed||0===this.elapsed.length},e.prototype.destroy=function(){this.interval=void 0,this.elapsed.destroy(),this.elapsed=void 0,this._scaledInterval=0,this._scaledElapsed=0},e.prototype.destroyed=function(){return void 0===this.elapsed},e}();t.Timer=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,n){this._timer=t,this._handler=e,this._handlerOwner=i,this._fired=r,this._firedOwner=n,this._timer.elapsed.add(this._fire,this)}return t.prototype.destroy=function(){this._timer.elapsed.remove(this._fire,this),this._timer=void 0,this._handler=void 0,this._handlerOwner=void 0,this._fired=void 0,this._firedOwner=void 0},t.prototype.destroyed=function(){return void 0===this._timer},t.prototype._fire=function(){this._handler.call(this._handlerOwner),this._fired&&this._fired.call(this._firedOwner,this)},t}();t.TimerIdentifier=e;var i=function(){function i(t,e){this._timers=[],this._trigger=t,this._identifiers=[],this._fps=e,this._registered=!1}return i.prototype.destroy=function(){for(var t=0;t<this._identifiers.length;++t)this._identifiers[t].destroy();for(var t=0;t<this._timers.length;++t)this._timers[t].destroy();this._timers=void 0,this._trigger=void 0,this._identifiers=void 0,this._fps=void 0},i.prototype.destroyed=function(){return void 0===this._timers},i.prototype.createTimer=function(e){if(this._registered||(this._trigger.add(this._tick,this),this._registered=!0),e<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#createTimer: invalid interval\");e<1&&(e=1);for(var i=Math.min(1e3,e*this._fps),r=0;r<this._timers.length;++r)if(this._timers[r].interval===e&&this._timers[r]._scaledElapsed<i)return this._timers[r];var n=new t.Timer(e,this._fps);return this._timers.push(n),n},i.prototype.deleteTimer=function(e){if(e.canDelete()){var i=this._timers.indexOf(e);if(i<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#deleteTimer: can not find timer\");if(this._timers.splice(i,1),e.destroy(),!this._timers.length){if(!this._registered)throw t.ExceptionFactory.createAssertionError(\"TimerManager#deleteTimer: handler is not handled\");this._trigger.remove(this._tick,this),this._registered=!1}}},i.prototype.setTimeout=function(t,i,r){var n=this.createTimer(i),o=new e(n,t,r,this._onTimeoutFired,this);return this._identifiers.push(o),o},i.prototype.clearTimeout=function(t){this._clear(t)},i.prototype.setInterval=function(t,i,r){var n=this.createTimer(i),o=new e(n,t,r);return this._identifiers.push(o),o},i.prototype.clearInterval=function(t){this._clear(t)},i.prototype._tick=function(){for(var t=this._timers.concat(),e=0;e<t.length;++e)t[e].tick()},i.prototype._onTimeoutFired=function(e){var i=this._identifiers.indexOf(e);if(i<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#_onTimeoutFired: can not find identifier\");this._identifiers.splice(i,1);var r=e._timer;e.destroy(),this.deleteTimer(r)},i.prototype._clear=function(e){var i=this._identifiers.indexOf(e);if(i<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#_clear: can not find identifier\");if(e.destroyed())throw t.ExceptionFactory.createAssertionError(\"TimerManager#_clear: invalid identifier\");this._identifiers.splice(i,1);var r=e._timer;e.destroy(),this.deleteTimer(r)},i}();t.TimerManager=i}(t||(t={}));var t;!function(t){var e=function(){function e(e){this.played=new t.Trigger,this.stopped=new t.Trigger,this.currentAudio=void 0,this.volume=e.volume,this._muted=e._muted,this._playbackRate=e._playbackRate,this._system=e}return e.prototype.play=function(t){this.currentAudio=t,this.played.fire({player:this,audio:t})},e.prototype.stop=function(){var t=this.currentAudio;t&&(this.currentAudio=void 0,this.stopped.fire({player:this,audio:t}))},e.prototype.canHandleStopped=function(){return!0},e.prototype.changeVolume=function(t){this.volume=t},e.prototype._changeMuted=function(t){this._muted=t},e.prototype._changePlaybackRate=function(t){this._playbackRate=t},e.prototype._supportsPlaybackRate=function(){return!1},e.prototype._onVolumeChanged=function(){},e}();t.AudioPlayer=e}(t||(t={}));var t;!function(t){var e=function(){function e(t,e){var i=e._audioSystemManager;this.id=t,this.game=e,this._volume=1,this._destroyRequestedAssets={},this._muted=i._muted,this._playbackRate=i._playbackRate}return Object.defineProperty(e.prototype,\"volume\",{get:function(){return this._volume},set:function(e){if(e<0||e>1||isNaN(e)||\"number\"!=typeof e)throw t.ExceptionFactory.createAssertionError(\"AudioSystem#volume: expected: 0.0-1.0, actual: \"+e);this._volume=e,this._onVolumeChanged()},enumerable:!0,configurable:!0}),e.prototype.requestDestroy=function(t){this._destroyRequestedAssets[t.id]=t},e.prototype._reset=function(){this.stopAll(),this._volume=1,this._destroyRequestedAssets={},this._muted=this.game._audioSystemManager._muted,this._playbackRate=this.game._audioSystemManager._playbackRate},e.prototype._setMuted=function(t){var e=this._muted;this._muted=!!t,this._muted!==e&&this._onMutedChanged()},e.prototype._setPlaybackRate=function(e){if(e<0||isNaN(e)||\"number\"!=typeof e)throw t.ExceptionFactory.createAssertionError(\"AudioSystem#playbackRate: expected: greater or equal to 0.0, actual: \"+e);var i=this._playbackRate;this._playbackRate=e,this._playbackRate!==i&&this._onPlaybackRateChanged()},e}();t.AudioSystem=e;var r=function(e){function r(t,i){var r=e.call(this,t,i)||this;return r._player=void 0,r._suppressingAudio=void 0,r}return i(r,e),Object.defineProperty(r.prototype,\"player\",{get:function(){return this._player||(this._player=this.game.resourceFactory.createAudioPlayer(this),this._player.played.handle(this,this._onPlayerPlayed),this._player.stopped.handle(this,this._onPlayerStopped)),this._player},set:function(t){this._player=t},enumerable:!0,configurable:!0}),r.prototype.findPlayers=function(t){return this.player.currentAudio&&this.player.currentAudio.id===t.id?[this.player]:[]},r.prototype.createPlayer=function(){return this.player},r.prototype.stopAll=function(){this._player&&this._player.stop()},r.prototype._reset=function(){e.prototype._reset.call(this),this._player&&(this._player.played.remove({owner:this,func:this._onPlayerPlayed}),this._player.stopped.remove({owner:this,func:this._onPlayerStopped})),this._player=void 0,this._suppressingAudio=void 0},r.prototype._onVolumeChanged=function(){this.player.changeVolume(this._volume)},r.prototype._onMutedChanged=function(){this.player._changeMuted(this._muted)},r.prototype._onPlaybackRateChanged=function(){var t=this.player;t._changePlaybackRate(this._playbackRate),t._supportsPlaybackRate()||this._onUnsupportedPlaybackRateChanged()},r.prototype._onUnsupportedPlaybackRateChanged=function(){if(1===this._playbackRate&&this._suppressingAudio){var t=this._suppressingAudio;this._suppressingAudio=void 0,t.destroyed()||this.player._changeMuted(!1)}},r.prototype._onPlayerPlayed=function(e){if(e.player!==this._player)throw t.ExceptionFactory.createAssertionError(\"MusicAudioSystem#_onPlayerPlayed: unexpected audio player\");e.player._supportsPlaybackRate()||1!==this._playbackRate&&(e.player._changeMuted(!0),this._suppressingAudio=e.audio)},r.prototype._onPlayerStopped=function(t){this._suppressingAudio&&(this._suppressingAudio=void 0,this.player._changeMuted(!1)),this._destroyRequestedAssets[t.audio.id]&&(delete this._destroyRequestedAssets[t.audio.id],t.audio.destroy())},r}(e);t.MusicAudioSystem=r;var n=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.players=[],r}return i(e,t),e.prototype.createPlayer=function(){var t=this.game.resourceFactory.createAudioPlayer(this);return t.canHandleStopped()&&this.players.push(t),t.played.handle(this,this._onPlayerPlayed),t.stopped.handle(this,this._onPlayerStopped),t},e.prototype.findPlayers=function(t){for(var e=[],i=0;i<this.players.length;++i)this.players[i].currentAudio&&this.players[i].currentAudio.id===t.id&&e.push(this.players[i]);return e},e.prototype.stopAll=function(){for(var t=this.players.concat(),e=0;e<t.length;++e)t[e].stop()},e.prototype._reset=function(){t.prototype._reset.call(this);for(var e=0;e<this.players.length;++e){var i=this.players[e];i.played.remove({owner:this,func:this._onPlayerPlayed}),i.stopped.remove({owner:this,func:this._onPlayerStopped})}this.players=[]},e.prototype._onMutedChanged=function(){for(var t=this.players,e=0;e<t.length;++e)t[e]._changeMuted(this._muted)},e.prototype._onPlaybackRateChanged=function(){for(var t=this.players,e=0;e<t.length;++e)t[e]._changePlaybackRate(this._playbackRate),t[e]._supportsPlaybackRate()||1===this._playbackRate||t[e].stop()},e.prototype._onPlayerPlayed=function(t){\nt.player._supportsPlaybackRate()||1!==this._playbackRate&&t.player.stop()},e.prototype._onPlayerStopped=function(t){var e=this.players.indexOf(t.player);e<0||(t.player.stopped.remove({owner:this,func:this._onPlayerStopped}),this.players.splice(e,1),this._destroyRequestedAssets[t.audio.id]&&(delete this._destroyRequestedAssets[t.audio.id],t.audio.destroy()))},e.prototype._onVolumeChanged=function(){for(var t=0;t<this.players.length;++t)this.players[t].changeVolume(this._volume)},e}(e);t.SoundAudioSystem=n}(t||(t={}));var t;!function(t){var e=function(){function e(e){this._loop=!!e,this.played=new t.Trigger,this.stopped=new t.Trigger,this.currentVideo=void 0,this.volume=1}return e.prototype.play=function(t){this.currentVideo=t,this.played.fire({player:this,video:t}),t.asSurface().animatingStarted.fire()},e.prototype.stop=function(){var t=this.currentVideo;this.stopped.fire({player:this,video:t}),t.asSurface().animatingStopped.fire()},e.prototype.changeVolume=function(t){this.volume=t},e}();t.VideoPlayer=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t}();t.VideoSystem=e}(t||(t={}));var t;!function(t){var e=function(){function e(t){t?(this.x=t.x||0,this.y=t.y||0,this.width=t.width||0,this.height=t.height||0,this.opacity=\"opacity\"in t?t.opacity:1,this.scaleX=\"scaleX\"in t?t.scaleX:1,this.scaleY=\"scaleY\"in t?t.scaleY:1,this.angle=t.angle||0,this.compositeOperation=t.compositeOperation,this.anchorX=t.anchorX,this.anchorY=t.anchorY,this._matrix=void 0):(this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.scaleX=1,this.scaleY=1,this.angle=0,this.compositeOperation=void 0,this.anchorX=void 0,this.anchorY=void 0,this._matrix=void 0)}return e.prototype.moveTo=function(e,i){if(\"number\"==typeof e&&\"number\"!=typeof i)throw t.ExceptionFactory.createAssertionError(\"Object2D#moveTo: arguments must be CommonOffset or pair of x and y as a number.\");\"number\"==typeof e?(this.x=e,this.y=i):(this.x=e.x,this.y=e.y)},e.prototype.moveBy=function(t,e){this.x+=t,this.y+=e},e.prototype.resizeTo=function(e,i){if(\"number\"==typeof e&&\"number\"!=typeof i)throw t.ExceptionFactory.createAssertionError(\"Object2D#resizeTo: arguments must be CommonSize or pair of width and height as a number.\");\"number\"==typeof e?(this.width=e,this.height=i):(this.width=e.width,this.height=e.height)},e.prototype.resizeBy=function(t,e){this.width+=t,this.height+=e},e.prototype.scale=function(t){this.scaleX=t,this.scaleY=t},e.prototype.anchor=function(t,e){this.anchorX=t,this.anchorY=e},e.prototype.getMatrix=function(){if(this._matrix){if(!this._matrix._modified)return this._matrix}else this._matrix=t.Util.createMatrix();return this._updateMatrix(),this._matrix._modified=!1,this._matrix},e.prototype._updateMatrix=function(){null!=this.anchorX&&null!=this.anchorY?this._matrix.updateWithAnchor(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y,this.anchorX,this.anchorY):this.angle||1!==this.scaleX||1!==this.scaleY?this._matrix.update(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y):this._matrix.reset(this.x,this.y)},e}();t.Object2D=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;if(r.children=void 0,r.parent=void 0,r._touchable=!1,r.state=0,r._hasTouchableChildren=!1,r._update=void 0,r._message=void 0,r._pointDown=void 0,r._pointMove=void 0,r._pointUp=void 0,r._targetCameras=void 0,r.tag=i.tag,r.shaderProgram=i.shaderProgram,r.local=i.scene.local!==t.LocalTickMode.NonLocal||!!i.local,i.children)for(var n=0;n<i.children.length;++n)r.append(i.children[n]);return i.parent&&i.parent.append(r),i.targetCameras&&(r.targetCameras=i.targetCameras),\"touchable\"in i&&(r.touchable=i.touchable),i.hidden&&r.hide(),r.id=i.id,i.scene.register(r),r}return i(r,e),Object.defineProperty(r.prototype,\"update\",{get:function(){return this._update||(this._update=new t.ChainTrigger(this.scene.update)),this._update},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"message\",{get:function(){return this._message||(this._message=new t.ChainTrigger(this.scene.message)),this._message},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"pointDown\",{get:function(){return this._pointDown||(this._pointDown=new t.ChainTrigger(this.scene.pointDownCapture,this._isTargetOperation,this)),this._pointDown},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"pointUp\",{get:function(){return this._pointUp||(this._pointUp=new t.ChainTrigger(this.scene.pointUpCapture,this._isTargetOperation,this)),this._pointUp},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"pointMove\",{get:function(){return this._pointMove||(this._pointMove=new t.ChainTrigger(this.scene.pointMoveCapture,this._isTargetOperation,this)),this._pointMove},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"targetCameras\",{get:function(){return this._targetCameras||(this._targetCameras=[])},set:function(t){this._targetCameras=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"touchable\",{get:function(){return this._touchable},set:function(t){this._touchable!==t&&(this._touchable=t,t?this._enableTouchPropagation():this._disableTouchPropagation())},enumerable:!0,configurable:!0}),r.prototype.render=function(t,e){if(this.state&=-5,!(1&this.state)){var i=this._targetCameras;if(!(i&&i.length>0)||e&&-1!==i.indexOf(e)){if(8&this.state){t.translate(this.x,this.y);var r=this.renderSelf(t,e);if(r&&this.children)for(var n=this.children,o=n.length,s=0;s<o;++s)n[s].render(t,e);return void t.translate(-this.x,-this.y)}t.save(),this.angle||1!==this.scaleX||1!==this.scaleY||null!=this.anchorX||null!=this.anchorY?t.transform(this.getMatrix()._matrix):t.translate(this.x,this.y),1!==this.opacity&&t.opacity(this.opacity),void 0!==this.compositeOperation&&t.setCompositeOperation(this.compositeOperation),void 0!==this.shaderProgram&&t.isSupportedShaderProgram()&&t.setShaderProgram(this.shaderProgram);var r=this.renderSelf(t,e);if(r&&this.children)for(var n=this.children,s=0;s<n.length;++s)n[s].render(t,e);t.restore()}}},r.prototype.renderSelf=function(t,e){return!0},r.prototype.game=function(){return this.scene.game},r.prototype.append=function(t){this.insertBefore(t,void 0)},r.prototype.insertBefore=function(t,e){t.parent&&t.remove(),this.children||(this.children=[]),t.parent=this;var i=-1;void 0!==e&&(i=this.children.indexOf(e))>-1?this.children.splice(i,0,t):this.children.push(t),(t._touchable||t._hasTouchableChildren)&&(this._hasTouchableChildren=!0,this._enableTouchPropagation()),this.modified(!0)},r.prototype.remove=function(e){if(void 0===e)return void this.parent.remove(this);var i=this.children?this.children.indexOf(e):-1;if(i<0)throw t.ExceptionFactory.createAssertionError(\"E#remove: invalid child\");this.children[i].parent=void 0,this.children.splice(i,1),(e._touchable||e._hasTouchableChildren)&&(this._findTouchableChildren(this)||(this._hasTouchableChildren=!1,this._disableTouchPropagation())),this.modified(!0)},r.prototype.destroy=function(){if(this.parent&&this.remove(),this.children){for(var e=this.children.length-1;e>=0;--e)this.children[e].destroy();if(0!==this.children.length)throw t.ExceptionFactory.createAssertionError(\"E#destroy: can not destroy all children, \"+this.children.length);this.children=void 0}this._update&&(this._update.destroy(),this._update=void 0),this._message&&(this._message.destroy(),this._message=void 0),this._pointDown&&(this._pointDown.destroy(),this._pointDown=void 0),this._pointMove&&(this._pointMove.destroy(),this._pointMove=void 0),this._pointUp&&(this._pointUp.destroy(),this._pointUp=void 0),this.scene.unregister(this)},r.prototype.destroyed=function(){return void 0===this.scene},r.prototype.modified=function(t){this._matrix&&(this._matrix._modified=!0),this.angle||1!==this.scaleX||1!==this.scaleY||null!=this.anchorX||null!=this.anchorY||1!==this.opacity||void 0!==this.compositeOperation||void 0!==this.shaderProgram?this.state&=-9:this.state|=8,4&this.state||(this.state|=4,this.parent&&this.parent.modified(!0))},r.prototype.shouldFindChildrenByPoint=function(t){return!0},r.prototype.findPointSourceByPoint=function(t,e,i,r){if(!(1&this.state)){var n=this._targetCameras;if(!(n&&n.length>0)||r&&-1!==n.indexOf(r)){e=e?e.multiplyNew(this.getMatrix()):this.getMatrix().clone();var o=e.multiplyInverseForPoint(t);if((this._hasTouchableChildren||i&&this.children&&this.children.length)&&this.shouldFindChildrenByPoint(o))for(var s=this.children.length-1;s>=0;--s){var a=this.children[s];if(i||a._touchable||a._hasTouchableChildren){var h=a.findPointSourceByPoint(t,e,i,r);if(h)return h}}if(i||this._touchable)return 0<=o.x&&this.width>o.x&&0<=o.y&&this.height>o.y?{target:this,point:o}:void 0}}},r.prototype.visible=function(){return 1!=(1&this.state)},r.prototype.show=function(){1&this.state&&(this.state&=-2,this.parent&&this.parent.modified(!0))},r.prototype.hide=function(){1&this.state||(this.state|=1,this.parent&&this.parent.modified(!0))},r.prototype.calculateBoundingRect=function(t){return this._calculateBoundingRect(void 0,t)},r.prototype._calculateBoundingRect=function(t,e){var i=this.getMatrix();if(t&&(i=t.multiplyNew(i)),this.visible()&&(!e||this._targetCameras&&-1!==this._targetCameras.indexOf(e))){for(var r={left:0,right:this.width,top:0,bottom:this.height},n=[{x:r.left,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.top},{x:r.right,y:r.bottom}],o=i.multiplyPoint(n[0]),s={left:o.x,right:o.x,top:o.y,bottom:o.y},a=1;a<n.length;++a)o=i.multiplyPoint(n[a]),s.left>o.x&&(s.left=o.x),s.right<o.x&&(s.right=o.x),s.top>o.y&&(s.top=o.y),s.bottom<o.y&&(s.bottom=o.y);if(void 0!==this.children)for(var a=0;a<this.children.length;++a){var h=this.children[a]._calculateBoundingRect(i,e);h&&(s.left>h.left&&(s.left=h.left),s.right<h.right&&(s.right=h.right),s.top>h.top&&(s.top=h.top),s.bottom<h.bottom&&(s.bottom=h.bottom))}return s}},r.prototype._enableTouchPropagation=function(){for(var t=this.parent;t instanceof r&&!t._hasTouchableChildren;)t._hasTouchableChildren=!0,t=t.parent},r.prototype._disableTouchPropagation=function(){for(var t=this.parent;t instanceof r&&t._hasTouchableChildren&&!this._findTouchableChildren(t);)t._hasTouchableChildren=!1,t=t.parent},r.prototype._isTargetOperation=function(e){return!(1&this.state)&&(e instanceof t.PointEvent&&(this._touchable&&e.target===this))},r.prototype._findTouchableChildren=function(t){if(t.children)for(var e=0;e<t.children.length;++e){if(t.children[e].touchable)return t.children[e];var i=this._findTouchableChildren(t.children[e]);if(i)return i}},r}(t.Object2D);t.E=e}(t||(t={}));var t;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i._shouldRenderChildren=!0,i._cache=void 0,i._renderer=void 0,i._renderedCamera=void 0,i}return i(e,t),e.prototype.invalidate=function(){this.state&=-3,this.modified()},e.prototype.renderSelf=function(t,i){var r=e.PADDING;if(this._renderedCamera!==i&&(this.state&=-3,this._renderedCamera=i),!(2&this.state)){this._cacheSize=this.calculateCacheSize();var n=Math.ceil(this._cacheSize.width)+2*r,o=Math.ceil(this._cacheSize.height)+2*r,s=!this._cache||this._cache.width<n||this._cache.height<o;s&&(this._cache&&!this._cache.destroyed()&&this._cache.destroy(),this._cache=this.scene.game.resourceFactory.createSurface(n,o),this._renderer=this._cache.renderer());var a=this._renderer;a.begin(),s||a.clear(),a.save(),a.translate(r,r),this.renderCache(a,i),a.restore(),this.state|=2,a.end()}return this._cache&&this._cacheSize.width>0&&this._cacheSize.height>0&&(t.translate(-r,-r),this.renderSelfFromCache(t),t.translate(r,r)),this._shouldRenderChildren},e.prototype.renderSelfFromCache=function(t){t.drawImage(this._cache,0,0,this._cacheSize.width+e.PADDING,this._cacheSize.height+e.PADDING,0,0)},e.prototype.destroy=function(){this._cache&&!this._cache.destroyed()&&this._cache.destroy(),this._cache=void 0,t.prototype.destroy.call(this)},e.prototype.calculateCacheSize=function(){return{width:this.width,height:this.height}},e.PADDING=1,e}(t.E);t.CacheableE=e}(t||(t={}));var t;!function(t){!function(t){t[t.Slots=1]=\"Slots\",t[t.Scores=2]=\"Scores\",t[t.Counts=3]=\"Counts\",t[t.Values=4]=\"Values\"}(t.StorageRegion||(t.StorageRegion={}));!function(t){t[t.Asc=0]=\"Asc\",t[t.Desc=1]=\"Desc\"}(t.StorageOrder||(t.StorageOrder={}));!function(t){t[t.Equal=1]=\"Equal\",t[t.GreaterThan=2]=\"GreaterThan\",t[t.LessThan=3]=\"LessThan\"}(t.StorageCondition||(t.StorageCondition={}));!function(t){t[t.Incr=1]=\"Incr\",t[t.Decr=2]=\"Decr\"}(t.StorageCountsOperation||(t.StorageCountsOperation={}));var e=function(){function t(t,e){this._keys=t,this._values=e}return t.prototype.get=function(t){if(void 0===this._values)return[];if(\"number\"==typeof t)return this._values[t];var e=this._keys.indexOf(t);if(-1!==e)return this._values[e];for(var i=0;i<this._keys.length;++i){var r=this._keys[i];if(r.region===t.region&&r.regionKey===t.regionKey&&r.userId===t.userId&&r.gameId===t.gameId)return this._values[i]}return[]},t.prototype.getOne=function(t){var e=this.get(t);if(e)return e[0]},t}();t.StorageValueStore=e;var i=function(){function t(t,i,r){this._loaded=!1,this._storage=t,this._valueStore=new e(i),this._handler=void 0,this._valueStoreSerialization=r}return t.prototype._load=function(t){this._handler=t,this._storage._load&&this._storage._load.call(this._storage,this._valueStore._keys,this,this._valueStoreSerialization)},t.prototype._onLoaded=function(t,e){this._valueStore._values=t,this._loaded=!0,e&&(this._valueStoreSerialization=e),this._handler&&this._handler._onStorageLoaded()},t.prototype._onError=function(t){this._handler&&this._handler._onStorageLoadError(t)},t}();t.StorageLoader=i;var r=function(){function t(t){this._game=t}return t.prototype.write=function(t,e,i){this._write&&this._write(t,e,i)},t.prototype.requestValuesForJoinPlayer=function(t){this._requestedKeysForJoinPlayer=t},t.prototype._createLoader=function(t,e){return new i(this,t,e)},t.prototype._registerWrite=function(t){this._write=t},t.prototype._registerLoad=function(t){this._load=t},t}();t.Storage=r}(t||(t={}));var t;!function(t){var e=function(){function e(t){this.waitingAssetsCount=t.assetIds.length,this._scene=t.scene,this._assetManager=t.assetManager,this._assetIds=t.assetIds,this._assets=[],this._handler=t.handler,this._handlerOwner=t.handlerOwner||null,this._direct=!!t.direct,this._requested=!1}return e.prototype.request=function(){return 0!==this.waitingAssetsCount&&(!!this._requested||(this._requested=!0,this._assetManager.requestAssets(this._assetIds,this),!0))},e.prototype.destroy=function(){this._requested&&this._assetManager.unrefAssets(this._assets),this.waitingAssetsCount=0,this._scene=void 0,this._assetIds=void 0,this._handler=void 0,this._requested=!1},e.prototype.destroyed=function(){return!this._scene},e.prototype.callHandler=function(){this._handler.call(this._handlerOwner)},e.prototype._onAssetError=function(t,e,i){if(!this.destroyed()&&!this._scene.destroyed()){var r={asset:t,error:e,cancelRetry:!1};this._scene.assetLoadFailed.fire(r),e.retriable&&!r.cancelRetry?this._assetManager.retryLoad(t):this._assetManager.configuration[t.id]&&(this._scene.game.terminateGame(),this._scene.game._abortGame()),this._scene.assetLoadCompleted.fire(t)}},e.prototype._onAssetLoad=function(e){if(!this.destroyed()&&!this._scene.destroyed()){if(this._scene.assets[e.id]=e,this._scene.assetLoaded.fire(e),this._scene.assetLoadCompleted.fire(e),this._assets.push(e),--this.waitingAssetsCount<0)throw t.ExceptionFactory.createAssertionError(\"SceneAssetHolder#_onAssetLoad: broken waitingAssetsCount\");this.waitingAssetsCount>0||(this._direct?this.callHandler():this._scene.game._callSceneAssetHolderHandler(this))}},e}();t.SceneAssetHolder=e;var i;!function(t){t[t.Destroyed=0]=\"Destroyed\",t[t.Standby=1]=\"Standby\",t[t.Active=2]=\"Active\",t[t.Deactive=3]=\"Deactive\",t[t.BeforeDestroyed=4]=\"BeforeDestroyed\"}(i=t.SceneState||(t.SceneState={}));var r;!function(t){t[t.Initial=0]=\"Initial\",t[t.Ready=1]=\"Ready\",t[t.ReadyFired=2]=\"ReadyFired\",t[t.LoadedFired=3]=\"LoadedFired\"}(r=t.SceneLoadState||(t.SceneLoadState={}));var n=function(){function n(n){var o,s,a,h;o=n.game,h=n.assetIds,n.storageKeys?(this._storageLoader=o.storage._createLoader(n.storageKeys,n.storageValuesSerialization),this.storageValues=this._storageLoader._valueStore):(this._storageLoader=void 0,this.storageValues=void 0),s=void 0===n.local?t.LocalTickMode.NonLocal:!1===n.local?t.LocalTickMode.NonLocal:!0===n.local?t.LocalTickMode.FullLocal:n.local,a=void 0!==n.tickGenerationMode?n.tickGenerationMode:t.TickGenerationMode.ByClock,this.name=n.name,h||(h=[]),this.game=o,this.local=s,this.tickGenerationMode=a,this.loaded=new t.Trigger,this._ready=new t.Trigger,this.assets={},this._loaded=!1,this._prefetchRequested=!1,this._loadingState=r.Initial,this.update=new t.Trigger,this._timer=new t.TimerManager(this.update,this.game.fps),this.assetLoaded=new t.Trigger,this.assetLoadFailed=new t.Trigger,this.assetLoadCompleted=new t.Trigger,this.message=new t.Trigger,this.pointDownCapture=new t.Trigger,this.pointMoveCapture=new t.Trigger,this.pointUpCapture=new t.Trigger,this.operation=new t.Trigger,this.children=[],this.state=i.Standby,this.stateChanged=new t.Trigger,this._assetHolders=[],this._sceneAssetHolder=new e({scene:this,assetManager:this.game._assetManager,assetIds:h,handler:this._onSceneAssetsLoad,handlerOwner:this,direct:!0})}return n.prototype.modified=function(t){this.game.modified=!0},n.prototype.destroy=function(){this.state=i.BeforeDestroyed,this.stateChanged.fire(this.state);var t=this.game.db;for(var e in t)t.hasOwnProperty(e)&&t[e].scene===this&&t[e].destroy();var t=this.game._localDb;for(var e in t)t.hasOwnProperty(e)&&t[e].scene===this&&t[e].destroy();this._timer.destroy(),this.update.destroy(),this.message.destroy(),this.pointDownCapture.destroy(),this.pointMoveCapture.destroy(),this.pointUpCapture.destroy(),this.operation.destroy(),this.loaded.destroy(),this.assetLoaded.destroy(),this.assetLoadFailed.destroy(),this.assetLoadCompleted.destroy(),this.assets={};for(var r=0;r<this._assetHolders.length;++r)this._assetHolders[r].destroy();this._sceneAssetHolder.destroy(),this._storageLoader=void 0,this.game=void 0,this.state=i.Destroyed,this.stateChanged.fire(this.state),this.stateChanged.destroy()},n.prototype.destroyed=function(){return void 0===this.game},n.prototype.createTimer=function(t){return this._timer.createTimer(t)},n.prototype.deleteTimer=function(t){this._timer.deleteTimer(t)},n.prototype.setInterval=function(t,e,i){var r=this._timer;return\"number\"==typeof t?(this.game.logger.warn(\"[deprecated] Scene#setInterval(): this arguments ordering is now deprecated. Specify the function first.\"),null!=i?r.setInterval(i,t,e):r.setInterval(e,t,null)):r.setInterval(t,e,i)},n.prototype.clearInterval=function(t){this._timer.clearInterval(t)},n.prototype.setTimeout=function(t,e,i){var r=this._timer;return\"number\"==typeof t?(this.game.logger.warn(\"[deprecated] Scene#setTimeout(): this arguments ordering is now deprecated. Specify the function first.\"),null!=i?r.setTimeout(i,t,e):r.setTimeout(e,t,null)):r.setTimeout(t,e,i)},n.prototype.clearTimeout=function(t){this._timer.clearTimeout(t)},n.prototype.isCurrentScene=function(){return this.game.scene()===this},n.prototype.gotoScene=function(e,i){if(!this.isCurrentScene())throw t.ExceptionFactory.createAssertionError(\"Scene#gotoScene: this scene is not the current scene\");i?this.game.pushScene(e):this.game.replaceScene(e)},n.prototype.end=function(){if(!this.isCurrentScene())throw t.ExceptionFactory.createAssertionError(\"Scene#end: this scene is not the current scene\");this.game.popScene()},n.prototype.register=function(t){this.game.register(t),t.scene=this},n.prototype.unregister=function(t){t.scene=void 0,this.game.unregister(t)},n.prototype.append=function(t){this.insertBefore(t,void 0)},n.prototype.insertBefore=function(t,e){t.parent&&t.remove(),t.parent=this;var i=-1;void 0!==e&&(i=this.children.indexOf(e))>-1?this.children.splice(i,0,t):this.children.push(t),this.modified(!0)},n.prototype.remove=function(t){var e=this.children.indexOf(t);-1!==e&&(this.children[e].parent=void 0,this.children.splice(e,1),this.modified(!0))},n.prototype.findPointSourceByPoint=function(e,i,r){var n=this.local!==t.LocalTickMode.NonLocal,o=this.children,s=void 0;r&&r instanceof t.Camera2D&&(s=r.getMatrix());for(var a=o.length-1;a>=0;--a){var h=o[a].findPointSourceByPoint(e,s,i,r);if(h)return h.local=h.target.local||n,h}return{target:void 0,point:void 0,local:n}},n.prototype.prefetch=function(){this._loaded||this._prefetchRequested||(this._prefetchRequested=!0,this._sceneAssetHolder.request())},n.prototype.serializeStorageValues=function(){if(this._storageLoader)return this._storageLoader._valueStoreSerialization},n.prototype.requestAssets=function(i,n){if(this._loadingState<r.ReadyFired)throw t.ExceptionFactory.createAssertionError(\"Scene#requestAsset(): can be called after loaded.\");var o=new e({scene:this,assetManager:this.game._assetManager,assetIds:i,handler:n});this._assetHolders.push(o),o.request()},n.prototype._activate=function(){this.state=i.Active,this.stateChanged.fire(this.state)},n.prototype._deactivate=function(){this.state=i.Deactive,this.stateChanged.fire(this.state)},n.prototype._needsLoading=function(){return this._sceneAssetHolder.waitingAssetsCount>0||this._storageLoader&&!this._storageLoader._loaded},n.prototype._load=function(){if(!this._loaded){this._loaded=!0;var t=this._sceneAssetHolder.request();this._storageLoader&&(this._storageLoader._load(this),t=!0),t||this._notifySceneReady()}},n.prototype._onSceneAssetsLoad=function(){this._loaded&&(this._storageLoader&&!this._storageLoader._loaded||this._notifySceneReady())},n.prototype._onStorageLoadError=function(t){this.game.terminateGame(),this.game._abortGame()},n.prototype._onStorageLoaded=function(){0===this._sceneAssetHolder.waitingAssetsCount&&this._notifySceneReady()},n.prototype._notifySceneReady=function(){this._loadingState=r.Ready,this.game._fireSceneReady(this)},n.prototype._fireReady=function(){this._ready.fire(this),this._loadingState=r.ReadyFired},n.prototype._fireLoaded=function(){this.loaded.fire(this),this._loadingState=r.LoadedFired},n}();t.Scene=n}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=this;return i.local=!0,r=e.call(this,i)||this,r.targetReset=new t.Trigger,r.targetReady=new t.Trigger,r.targetAssetLoaded=new t.Trigger,r._explicitEnd=!!i.explicitEnd,r._targetScene=void 0,r}return i(r,e),r.prototype.destroy=function(){this._clearTargetScene(),e.prototype.destroy.call(this)},r.prototype.reset=function(e){this._clearTargetScene(),this._targetScene=e,this._loadingState<t.SceneLoadState.LoadedFired?this.loaded.addOnce(this._doReset,this):this._doReset()},r.prototype.getTargetWaitingAssetsCount=function(){return this._targetScene?this._targetScene._sceneAssetHolder.waitingAssetsCount:0},r.prototype.end=function(){if(!this._targetScene||this._targetScene._loadingState<t.SceneLoadState.Ready){var e=this._targetScene?t.SceneLoadState[this._targetScene._loadingState]:\"(no scene)\",i=\"LoadingScene#end(): the target scene is in invalid state: \"+e;throw t.ExceptionFactory.createAssertionError(i)}this.game.popScene(!0),this.game._fireSceneLoaded(this._targetScene),this._clearTargetScene()},r.prototype._clearTargetScene=function(){this._targetScene&&(this._targetScene._ready.removeAll({owner:this}),this._targetScene.assetLoaded.removeAll({owner:this}),this._targetScene=void 0)},r.prototype._doReset=function(){this.targetReset.fire(this._targetScene),this._targetScene._loadingState<t.SceneLoadState.ReadyFired?(this._targetScene._ready.add(this._fireTriggerOnTargetReady,this),this._targetScene.assetLoaded.add(this._fireTriggerOnTargetAssetLoad,this),this._targetScene._load()):this._fireTriggerOnTargetReady(this._targetScene)},r.prototype._fireTriggerOnTargetAssetLoad=function(t){this.targetAssetLoaded.fire(t)},r.prototype._fireTriggerOnTargetReady=function(t){this.targetReady.fire(t),this._explicitEnd||this.end()},r}(t.Scene);t.LoadingScene=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._canceller=new t.Object2D,r}return i(r,e),r.prototype.renderSelf=function(t,e){if(!this.children)return!1;if(e){var i=e,r=this._canceller;i.x===r.x&&i.y===r.y&&i.angle===r.angle&&i.scaleX===r.scaleX&&i.scaleY===r.scaleY||(r.x=i.x,r.y=i.y,r.angle=i.angle,r.scaleX=i.scaleX,r.scaleY=i.scaleY,r._matrix&&(r._matrix._modified=!0)),t.save(),t.transform(r.getMatrix()._matrix)}for(var n=this.children,o=0;o<n.length;++o)n[o].render(t,e);return e&&t.restore(),!1},r}(t.E),r=function(r){function n(t){var e=r.call(this,{game:t.game,name:\"akashic:default-loading-scene\"})||this;return e._barWidth=Math.min(t.game.width,Math.max(100,t.game.width/2)),e._barHeight=5,e._gauge=void 0,e._gaugeUpdateCount=0,e._totalWaitingAssetCount=0,e.loaded.handle(e,e._onLoaded),e.targetReset.handle(e,e._onTargetReset),e.targetAssetLoaded.handle(e,e._onTargetAssetLoaded),e}return i(n,r),n.prototype._onLoaded=function(){var i;return this.append(new e({scene:this,children:[new t.FilledRect({scene:this,width:this.game.width,height:this.game.height,cssColor:\"rgba(0, 0, 0, 0.8)\",children:[new t.FilledRect({scene:this,x:(this.game.width-this._barWidth)/2,y:(this.game.height-this._barHeight)/2,width:this._barWidth,height:this._barHeight,cssColor:\"gray\",children:[i=new t.FilledRect({scene:this,width:0,height:this._barHeight,cssColor:\"white\"})]})]})]})),i.update.handle(this,this._onUpdateGuage),this._gauge=i,!0},n.prototype._onUpdateGuage=function(){++this._gaugeUpdateCount;var t=Math.round(205+50*Math.sin(this._gaugeUpdateCount/this.game.fps*(2/3)*(2*Math.PI)));this._gauge.cssColor=\"rgb(\"+t+\",\"+t+\",\"+t+\")\",this._gauge.modified()},n.prototype._onTargetReset=function(t){this._gauge&&(this._gauge.width=0,this._gauge.modified()),this._totalWaitingAssetCount=t._sceneAssetHolder.waitingAssetsCount},n.prototype._onTargetAssetLoaded=function(t){var e=this._targetScene._sceneAssetHolder.waitingAssetsCount;this._gauge.width=Math.ceil((1-e/this._totalWaitingAssetCount)*this._barWidth),this._gauge.modified()},n}(t.LoadingScene);t.DefaultLoadingScene=r}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r.surface=t.Util.asSurface(i.src),\"width\"in i||(r.width=r.surface.width),\"height\"in i||(r.height=r.surface.height),r.srcWidth=\"srcWidth\"in i?i.srcWidth:r.width,r.srcHeight=\"srcHeight\"in i?i.srcHeight:r.height,r.srcX=i.srcX||0,r.srcY=i.srcY||0,r._stretchMatrix=void 0,r._beforeSurface=r.surface,t.Util.setupAnimatingHandler(r,r.surface),r._invalidateSelf(),r}return i(r,e),r.prototype._onUpdate=function(){this.modified()},r.prototype._onAnimatingStarted=function(){this.update.contains(this._onUpdate,this)||this.update.add(this._onUpdate,this)},r.prototype._onAnimatingStopped=function(){this.destroyed()||this.update.remove(this._onUpdate,this)},r.prototype.renderSelf=function(t,e){return this.srcWidth<=0||this.srcHeight<=0||(this._stretchMatrix&&(t.save(),t.transform(this._stretchMatrix._matrix)),t.drawImage(this.surface,this.srcX,this.srcY,this.srcWidth,this.srcHeight,0,0),this._stretchMatrix&&t.restore(),!0)},r.prototype.invalidate=function(){this._invalidateSelf(),this.modified()},r.prototype.destroy=function(t){this.surface&&!this.surface.destroyed()&&(t?this.surface.destroy():this.surface.isDynamic&&(this.surface.animatingStarted.remove(this._onAnimatingStarted,this),this.surface.animatingStopped.remove(this._onAnimatingStopped,this))),this.surface=void 0,e.prototype.destroy.call(this)},r.prototype._invalidateSelf=function(){this.width===this.srcWidth&&this.height===this.srcHeight?this._stretchMatrix=void 0:(this._stretchMatrix=t.Util.createMatrix(),this._stretchMatrix.scale(this.width/this.srcWidth,this.height/this.srcHeight)),this.surface!==this._beforeSurface&&(t.Util.migrateAnimatingHandler(this,this._beforeSurface,this.surface),this._beforeSurface=this.surface)},r}(t.E);t.Sprite=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._lastUsedIndex=0,r.frameNumber=i.frameNumber||0,r.frames=\"frames\"in i?i.frames:[0],r.interval=i.interval,r._timer=void 0,r.loop=null==i.loop||i.loop,r.finished=new t.Trigger,r._modifiedSelf(),r}return i(r,e),r.createBySprite=function(t,e,i){var n=new r({scene:t.scene,src:t.surface,width:void 0===e?t.width:e,height:void 0===i?t.height:i});return n.srcHeight=void 0===i?t.srcHeight:i,n.srcWidth=void 0===e?t.srcWidth:e,n},r.prototype.start=function(){void 0===this.interval&&(this.interval=1e3/this.game().fps),this._timer&&this._free(),this._timer=this.scene.createTimer(this.interval),this._timer.elapsed.add(this._onElapsed,this)},r.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t)},r.prototype.stop=function(){this._timer&&this._free()},r.prototype.modified=function(t){this._modifiedSelf(t),e.prototype.modified.call(this,t)},r.prototype._onElapsed=function(){this.frameNumber===this.frames.length-1?this.loop?this.frameNumber=0:(this.stop(),this.finished.fire()):this.frameNumber++,this.modified()},r.prototype._free=function(){this._timer&&(this._timer.elapsed.remove(this._onElapsed,this),this._timer.canDelete()&&this.scene.deleteTimer(this._timer),this._timer=void 0)},r.prototype._changeFrame=function(){var t=this.frames[this.frameNumber],e=Math.floor(this.surface.width/this.srcWidth);this.srcX=t%e*this.srcWidth,this.srcY=Math.floor(t/e)*this.srcHeight,this._lastUsedIndex=t},r.prototype._modifiedSelf=function(t){this._lastUsedIndex!==this.frames[this.frameNumber]&&this._changeFrame()},r}(t.Sprite);t.FrameSprite=e}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Unknown=0]=\"Unknown\",t[t.Join=1]=\"Join\",t[t.Leave=2]=\"Leave\",t[t.Timestamp=3]=\"Timestamp\",t[t.Seed=4]=\"Seed\",t[t.PointDown=5]=\"PointDown\",t[t.PointMove=6]=\"PointMove\",t[t.PointUp=7]=\"PointUp\",t[t.Message=8]=\"Message\",t[t.Operation=9]=\"Operation\"}(e=t.EventType||(t.EventType={}));var r=function(){function t(t,e,i,r,n,o){this.priority=o,this.local=n,this.player=r,this.pointerId=t,this.target=e,this.point=i}return t}();t.PointEvent=r;var n=function(t){function r(i,r,n,o,s,a){var h=t.call(this,i,r,n,o,s,a)||this;return h.type=e.PointDown,h}return i(r,t),r}(r);t.PointDownEvent=n;var o=function(t){function r(i,r,n,o,s,a,h,c){var u=t.call(this,i,r,n,a,h,c)||this;return u.type=e.PointUp,u.prevDelta=o,u.startDelta=s,u}return i(r,t),r}(r);t.PointUpEvent=o;var s=function(t){function r(i,r,n,o,s,a,h,c){var u=t.call(this,i,r,n,a,h,c)||this;return u.type=e.PointMove,u.prevDelta=o,u.startDelta=s,u}return i(r,t),r}(r);t.PointMoveEvent=s;var a=function(){function t(t,i,r,n){this.type=e.Message,this.priority=n,this.local=r,this.player=i,this.data=t}return t}();t.MessageEvent=a;var h=function(){function t(t,i,r,n,o){this.type=e.Operation,this.priority=o,this.local=n,this.player=r,this.code=t,this.data=i}return t}();t.OperationEvent=h;var c=function(){function t(t,i,r){this.type=e.Join,this.priority=r,this.player=t,this.storageValues=i}return t}();t.JoinEvent=c;var u=function(){function t(t,i){this.type=e.Leave,this.priority=i,this.player=t}return t}();t.LeaveEvent=u;var l=function(){function t(t,i,r){this.type=e.Timestamp,this.priority=r,this.player=i,this.timestamp=t}return t}();t.TimestampEvent=l;var d=function(){function t(t,i){this.type=e.Seed,this.priority=i,this.generator=t}return t}();t.SeedEvent=d}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Error=0]=\"Error\",t[t.Warn=1]=\"Warn\",t[t.Info=2]=\"Info\",t[t.Debug=3]=\"Debug\"}(e=t.LogLevel||(t.LogLevel={}));var i=function(){function i(e){this.game=e,this.logging=new t.Trigger}return i.prototype.destroy=function(){this.game=void 0,this.logging.destroy(),this.logging=void 0},i.prototype.destroyed=function(){return!this.game},i.prototype.error=function(t,i){this.logging.fire({game:this.game,level:e.Error,message:t,cause:i})},i.prototype.warn=function(t,i){this.logging.fire({game:this.game,level:e.Warn,\nmessage:t,cause:i})},i.prototype.info=function(t,i){this.logging.fire({game:this.game,level:e.Info,message:t,cause:i})},i.prototype.debug=function(t,i){this.logging.fire({game:this.game,level:e.Debug,message:t,cause:i})},i}();t.Logger=i}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,n,o){e=this._normalizeConfiguration(e),this.fps=e.fps,this.width=e.width,this.height=e.height,this.renderers=[],this.scenes=[],this.random=null,this.age=0,this.assetBase=r||\"\",this.resourceFactory=i,this.selfId=n||void 0,this.playId=void 0,this._audioSystemManager=new t.AudioSystemManager(this),this.audio={music:new t.MusicAudioSystem(\"music\",this),sound:new t.SoundAudioSystem(\"sound\",this)},this.defaultAudioSystemId=\"sound\",this.storage=new t.Storage(this),this.assets={},this.surfaceAtlasSet=void 0,this.join=new t.Trigger,this.leave=new t.Trigger,this.seed=new t.Trigger,this._eventTriggerMap={},this._eventTriggerMap[t.EventType.Join]=this.join,this._eventTriggerMap[t.EventType.Leave]=this.leave,this._eventTriggerMap[t.EventType.Seed]=this.seed,this._eventTriggerMap[t.EventType.Message]=void 0,this._eventTriggerMap[t.EventType.PointDown]=void 0,this._eventTriggerMap[t.EventType.PointMove]=void 0,this._eventTriggerMap[t.EventType.PointUp]=void 0,this._eventTriggerMap[t.EventType.Operation]=void 0,this.resized=new t.Trigger,this.skippingChanged=new t.Trigger,this.isLastTickLocal=!0,this.lastOmittedLocalTickCount=0,this._loaded=new t.Trigger,this._started=new t.Trigger,this.isLoaded=!1,this.snapshotRequest=new t.Trigger,this.external={},this.logger=new t.Logger(this),this._main=e.main,this._mainParameter=void 0,this._configuration=e,this._assetManager=new t.AssetManager(this,e.assets,e.audio,e.moduleMainScripts);var s=e.operationPlugins||[];this._operationPluginManager=new t.OperationPluginManager(this,o,s),this._operationPluginOperated=new t.Trigger,this._operationPluginManager.operated.add(this._operationPluginOperated.fire,this._operationPluginOperated),this._sceneChanged=new t.Trigger,this._sceneChanged.add(this._updateEventTriggers,this),this._initialScene=new t.Scene({game:this,assetIds:this._assetManager.globalAssetIds(),local:!0,name:\"akashic:initial-scene\"}),this._initialScene.loaded.add(this._onInitialSceneLoaded,this),this._reset({age:0})}return Object.defineProperty(e.prototype,\"focusingCamera\",{get:function(){return this._focusingCamera},set:function(t){t!==this._focusingCamera&&(this.modified&&this.render(this._focusingCamera),this._focusingCamera=t)},enumerable:!0,configurable:!0}),e.prototype.pushScene=function(t){this._sceneChangeRequests.push({type:0,scene:t})},e.prototype.replaceScene=function(t,e){this._sceneChangeRequests.push({type:1,scene:t,preserveCurrent:e})},e.prototype.popScene=function(t){this._sceneChangeRequests.push({type:2,preserveCurrent:t})},e.prototype.scene=function(){if(this.scenes.length)return this.scenes[this.scenes.length-1]},e.prototype.tick=function(t,e){var i=void 0;if(this._isTerminated)return!1;if(this.isLastTickLocal=!t,this.lastOmittedLocalTickCount=e||0,this.scenes.length){if(i=this.scenes[this.scenes.length-1],this.events.length){var r=this.events;this.events=[];for(var n=0;n<r.length;++n){var o=this._eventTriggerMap[r[n].type];o&&o.fire(r[n])}}i.update.fire(),t&&++this.age}return!!this._sceneChangeRequests.length&&(this._flushSceneChangeRequests(),i!==this.scenes[this.scenes.length-1])},e.prototype.render=function(t){t||(t=this.focusingCamera);for(var e=this.renderers,i=0;i<e.length;++i)e[i].draw(this,t);this.modified=!1},e.prototype.findPointSource=function(t,e){return e||(e=this.focusingCamera),this.scene().findPointSourceByPoint(t,!1,e)},e.prototype.register=function(e){if(e.local){if(void 0===e.id)e.id=--this._localIdx;else{if(e.id>0)throw t.ExceptionFactory.createAssertionError(\"Game#register: invalid local id: \"+e.id);if(this._localDb.hasOwnProperty(String(e.id)))throw t.ExceptionFactory.createAssertionError(\"Game#register: conflicted id: \"+e.id);this._localIdx>e.id&&(this._localIdx=e.id)}this._localDb[e.id]=e}else{if(void 0===e.id)e.id=++this._idx;else{if(e.id<0)throw t.ExceptionFactory.createAssertionError(\"Game#register: invalid non-local id: \"+e.id);if(this.db.hasOwnProperty(String(e.id)))throw t.ExceptionFactory.createAssertionError(\"Game#register: conflicted id: \"+e.id);this._idx<e.id&&(this._idx=e.id)}this.db[e.id]=e}},e.prototype.unregister=function(t){t.local?delete this._localDb[t.id]:delete this.db[t.id]},e.prototype.leaveGame=function(){this._leaveGame()},e.prototype.terminateGame=function(){this._leaveGame(),this._isTerminated=!0},e.prototype._fireSceneReady=function(t){this._sceneChangeRequests.push({type:3,scene:t})},e.prototype._fireSceneLoaded=function(e){e._loadingState<t.SceneLoadState.LoadedFired&&this._sceneChangeRequests.push({type:4,scene:e})},e.prototype._callSceneAssetHolderHandler=function(t){this._sceneChangeRequests.push({type:5,assetHolder:t})},e.prototype._normalizeConfiguration=function(e){if(!e)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: invalid arguments\");if(\"assets\"in e||(e.assets={}),\"fps\"in e||(e.fps=30),\"number\"!=typeof e.fps)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: fps must be given as a number\");if(!(0<=e.fps&&e.fps<=60))throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: fps must be a number in (0, 60].\");if(\"number\"!=typeof e.width)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: width must be given as a number\");if(\"number\"!=typeof e.height)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: height must be given as a number\");return e},e.prototype._setAudioPlaybackRate=function(t){this._audioSystemManager._setPlaybackRate(t)},e.prototype._setMuted=function(t){this._audioSystemManager._setMuted(t)},e.prototype._decodeOperationPluginOperation=function(t,e){var i=this._operationPluginManager.plugins;return i[t]&&i[t].decode?i[t].decode(e):e},e.prototype._reset=function(e){if(this._operationPluginManager.stopAll(),this.scene()){for(;this.scene()!==this._initialScene;)this.popScene(),this._flushSceneChangeRequests();this.isLoaded||this.scenes.pop()}switch(e&&(void 0!==e.age&&(this.age=e.age),void 0!==e.randGen&&(this.random=e.randGen)),this._audioSystemManager._reset(),this._loaded.removeAll({func:this._start,owner:this}),this.join.removeAll(),this.leave.removeAll(),this.seed.removeAll(),this.resized.removeAll(),this.skippingChanged.removeAll(),this._idx=0,this._localIdx=0,this._cameraIdx=0,this.db={},this._localDb={},this.events=[],this.modified=!0,this.loadingScene=void 0,this._focusingCamera=void 0,this._scriptCaches={},this.snapshotRequest.removeAll(),this._sceneChangeRequests=[],this._isTerminated=!1,this.vars={},this.surfaceAtlasSet&&this.surfaceAtlasSet.destroy(),this.surfaceAtlasSet=new t.SurfaceAtlasSet({game:this}),this._configuration.defaultLoadingScene){case\"none\":this._defaultLoadingScene=new t.LoadingScene({game:this});break;default:this._defaultLoadingScene=new t.DefaultLoadingScene({game:this})}},e.prototype._destroy=function(){if(this._operationPluginManager.destroy(),this.scene())for(;this.scene()!==this._initialScene;)this.popScene(),this._flushSceneChangeRequests();this._initialScene.destroy(),this.loadingScene&&!this.loadingScene.destroyed()&&this.loadingScene.destroy(),this._defaultLoadingScene.destroyed()||this._defaultLoadingScene.destroy(),this.db=void 0,this.renderers=void 0,this.scenes=void 0,this.random=void 0,this.events=void 0,this.join.destroy(),this.join=void 0,this.leave.destroy(),this.leave=void 0,this.seed.destroy(),this.seed=void 0,this.modified=!1,this.age=0,this.assets=void 0,this.isLoaded=!1,this.loadingScene=void 0,this.assetBase=\"\",this.selfId=void 0;for(var t=Object.keys(this.audio),e=0;e<t.length;++e)this.audio[t[e]].stopAll();this.audio=void 0,this.defaultAudioSystemId=void 0,this.logger.destroy(),this.logger=void 0,this.snapshotRequest.destroy(),this.snapshotRequest=void 0,this.resourceFactory=void 0,this.storage=void 0,this.playId=void 0,this.operationPlugins=void 0,this.resized.destroy(),this.resized=void 0,this.skippingChanged.destroy(),this.skippingChanged=void 0,this._eventTriggerMap=void 0,this._initialScene=void 0,this._defaultLoadingScene=void 0,this._sceneChanged.destroy(),this._sceneChanged=void 0,this._scriptCaches=void 0,this._loaded.destroy(),this._loaded=void 0,this._started.destroy(),this._started=void 0,this._main=void 0,this._mainParameter=void 0,this._assetManager.destroy(),this._assetManager=void 0,this._audioSystemManager._game=void 0,this._audioSystemManager=void 0,this._operationPluginManager=void 0,this._operationPluginOperated.destroy(),this._operationPluginOperated=void 0,this._idx=0,this._localDb={},this._localIdx=0,this._cameraIdx=0,this._isTerminated=!0,this._focusingCamera=void 0,this._configuration=void 0,this._sceneChangeRequests=[],this.surfaceAtlasSet.destroy(),this.surfaceAtlasSet=void 0},e.prototype._loadAndStart=function(t){this._mainParameter=t||{},this.isLoaded?this._start():(this._loaded.add(this._start,this),this.pushScene(this._initialScene),this._flushSceneChangeRequests())},e.prototype._startLoadingGlobalAssets=function(){if(this.isLoaded)throw t.ExceptionFactory.createAssertionError(\"Game#_startLoadingGlobalAssets: already loaded.\");this.pushScene(this._initialScene),this._flushSceneChangeRequests()},e.prototype._updateEventTriggers=function(e){if(this.modified=!0,!e)return this._eventTriggerMap[t.EventType.Message]=void 0,this._eventTriggerMap[t.EventType.PointDown]=void 0,this._eventTriggerMap[t.EventType.PointMove]=void 0,this._eventTriggerMap[t.EventType.PointUp]=void 0,void(this._eventTriggerMap[t.EventType.Operation]=void 0);this._eventTriggerMap[t.EventType.Message]=e.message,this._eventTriggerMap[t.EventType.PointDown]=e.pointDownCapture,this._eventTriggerMap[t.EventType.PointMove]=e.pointMoveCapture,this._eventTriggerMap[t.EventType.PointUp]=e.pointUpCapture,this._eventTriggerMap[t.EventType.Operation]=e.operation,e._activate()},e.prototype._onInitialSceneLoaded=function(){this._initialScene.loaded.remove(this._onInitialSceneLoaded,this),this.assets=this._initialScene.assets,this.isLoaded=!0,this._loaded.fire()},e.prototype._abortGame=function(){},e.prototype._flushSceneChangeRequests=function(){do{var e=this._sceneChangeRequests;this._sceneChangeRequests=[];for(var i=0;i<e.length;++i){var r=e[i];switch(r.type){case 0:var n=this.scene();n&&n._deactivate(),this._doPushScene(r.scene);break;case 1:this._doPopScene(r.preserveCurrent,!1),this._doPushScene(r.scene);break;case 2:this._doPopScene(r.preserveCurrent,!0);break;case 3:r.scene.destroyed()||r.scene._fireReady();break;case 4:r.scene.destroyed()||r.scene._fireLoaded();break;case 5:r.assetHolder.callHandler();break;default:throw t.ExceptionFactory.createAssertionError(\"Game#_flushSceneChangeRequests: unknown scene change request.\")}}}while(this._sceneChangeRequests.length>0)},e.prototype._doPopScene=function(e,i){var r=this.scenes.pop();if(r===this._initialScene)throw t.ExceptionFactory.createAssertionError(\"Game#_doPopScene: invalid call; attempting to pop the initial scene\");e||r.destroy(),i&&this._sceneChanged.fire(this.scene())},e.prototype._start=function(){if(this._operationPluginManager.initialize(),this.operationPlugins=this._operationPluginManager.plugins,!this._main){if(this._mainParameter.snapshot){if(!this.assets.snapshotLoader)throw t.ExceptionFactory.createAssertionError(\"Game#_start: global asset 'snapshotLoader' not found.\");t._require(this,\"snapshotLoader\")(this._mainParameter.snapshot),this._flushSceneChangeRequests()}else{if(!this.assets.mainScene)throw t.ExceptionFactory.createAssertionError(\"Game#_start: global asset 'mainScene' not found.\");var e=t._require(this,\"mainScene\")();this.pushScene(e),this._flushSceneChangeRequests()}return void this._started.fire()}var i=t._require(this,this._main);if(!i||\"function\"!=typeof i)throw t.ExceptionFactory.createAssertionError(\"Game#_start: Entry point '\"+this._main+\"' not found.\");i(this._mainParameter),this._flushSceneChangeRequests(),this._started.fire()},e.prototype._doPushScene=function(e,i){if(i||(i=this.loadingScene||this._defaultLoadingScene),this.scenes.push(e),e._needsLoading()&&e._loadingState<t.SceneLoadState.LoadedFired){if(this._defaultLoadingScene._needsLoading())throw t.ExceptionFactory.createAssertionError(\"Game#_doPushScene: _defaultLoadingScene must not depend on any assets/storages.\");this._doPushScene(i,this._defaultLoadingScene),i.reset(e)}else this._sceneChanged.fire(e),e._loaded||(e._load(),this._fireSceneLoaded(e));this.modified=!0},e}();t.Game=e}(t||(t={}));var t;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i.game=e.game,i.local=!!e.local,i.name=e.name,i._modifiedCount=0,i.width=e.game.width,i.height=e.game.height,i.id=i.local?void 0:i.game._cameraIdx++,i}return i(e,t),e.deserialize=function(t,i){var r=t;r.param.game=i;var n=new e(r.param);return n.id=r.id,n},e.prototype.modified=function(){this._modifiedCount=(this._modifiedCount+1)%32768,this._matrix&&(this._matrix._modified=!0),this.game.modified=!0},e.prototype.serialize=function(){return{id:this.id,param:{game:void 0,local:this.local,name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,opacity:this.opacity,scaleX:this.scaleX,scaleY:this.scaleY,angle:this.angle,compositeOperation:this.compositeOperation}}},e.prototype._applyTransformToRenderer=function(t){this.angle||1!==this.scaleX||1!==this.scaleY||null!=this.anchorX||null!=this.anchorY?t.transform(this.getMatrix()._matrix):t.translate(-this.x,-this.y),1!==this.opacity&&t.opacity(this.opacity)},e.prototype._updateMatrix=function(){null!=this.anchorX&&null!=this.anchorY?this._matrix.updateByInverseWithAnchor(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y,this.anchorX,this.anchorY):this.angle||1!==this.scaleX||1!==this.scaleY?this._matrix.updateByInverse(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y):this._matrix.reset(-this.x,-this.y)},e}(t.Object2D);t.Camera2D=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.prototype.draw=function(t,e){var i=t.scene();if(i){this.begin(),this.save(),this.clear(),e&&(this.save(),e._applyTransformToRenderer(this));for(var r=i.children,n=0;n<r.length;++n)r[n].render(this,e);e&&this.restore(),this.restore(),this.end()}},t.prototype.begin=function(){},t.prototype.end=function(){},t}();t.Renderer=e}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,n){if(void 0===n&&(n=!1),e%1!=0||i%1!=0)throw t.ExceptionFactory.createAssertionError(\"Surface#constructor: width and height must be integers\");this.width=e,this.height=i,r&&(this._drawable=r),this.isDynamic=n,this.isDynamic?(this.animatingStarted=new t.Trigger,this.animatingStopped=new t.Trigger):(this.animatingStarted=void 0,this.animatingStopped=void 0)}return e.prototype.destroy=function(){this.animatingStarted&&this.animatingStarted.destroy(),this.animatingStopped&&this.animatingStopped.destroy(),this._destroyed=!0},e.prototype.destroyed=function(){return!!this._destroyed},e}();t.Surface=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r.text=i.text,r.font=i.font,r.textAlign=\"textAlign\"in i?i.textAlign:t.TextAlign.Left,r.glyphs=new Array(i.text.length),r.fontSize=i.fontSize,r.maxWidth=i.maxWidth,r.widthAutoAdjust=!(\"widthAutoAdjust\"in i)||i.widthAutoAdjust,r.textColor=i.textColor,r._textWidth=0,r._game=void 0,r._overhangLeft=0,r._overhangRight=0,r._invalidateSelf(),r}return i(r,e),r.prototype.aligning=function(t,e){this.width=t,this.widthAutoAdjust=!1,this.textAlign=e},r.prototype.invalidate=function(){this._invalidateSelf(),e.prototype.invalidate.call(this)},r.prototype.renderSelfFromCache=function(e){var i;switch(this.textAlign){case t.TextAlign.Center:i=this.widthAutoAdjust?this._overhangLeft:0;break;case t.TextAlign.Right:i=this.widthAutoAdjust?this._overhangLeft:this._overhangRight;break;default:i=this._overhangLeft}e.drawImage(this._cache,0,0,this._cacheSize.width+t.CacheableE.PADDING,this._cacheSize.height+t.CacheableE.PADDING,i,0)},r.prototype.renderCache=function(e){if(!(!this.fontSize||this.height<=0||this._textWidth<=0)){var i=this.maxWidth>0&&this.maxWidth<this._textWidth?this.maxWidth/this._textWidth:1,r=0;switch(this.textAlign){case t.TextAlign.Center:r=this.width/2-(this._textWidth+this._overhangLeft)/2*i;break;case t.TextAlign.Right:r=this.width-(this._textWidth+this._overhangLeft)*i;break;default:r-=this._overhangLeft*i}e.translate(r,0),1!==i&&e.transform([i,0,0,1,0,0]),e.save();for(var n=this.fontSize/this.font.size,o=0;o<this.glyphs.length;++o){var s=this.glyphs[o],a=s.advanceWidth*n,h=s.code;s.isSurfaceValid||(s=this.font.glyphForCharacter(h))?(s.surface&&(e.save(),e.transform([n,0,0,n,0,0]),e.drawImage(s.surface,s.x,s.y,s.width,s.height,s.offsetX,s.offsetY),e.restore()),e.translate(a,0)):this._outputOfWarnLogWithNoGlyph(h,\"renderCache()\")}e.restore(),e.save(),this.textColor&&(e.setCompositeOperation(t.CompositeOperation.SourceAtop),e.fillRect(0,0,this._textWidth,this.height,this.textColor)),e.restore()}},r.prototype.destroy=function(){e.prototype.destroy.call(this)},r.prototype._invalidateSelf=function(){if(this.glyphs.length=0,this._textWidth=0,!this.fontSize)return void(this.height=0);for(var e=this.text.length-1,i=this.text.length-1;i>=0;--i){var r=t.Util.charCodeAt(this.text,i);if(r){var n=this.font.glyphForCharacter(r);if(n&&0!==n.width&&0!==n.advanceWidth){e=i;break}}}for(var o=0,s=this.font.size>0?this.fontSize/this.font.size:0,i=0;i<=e;++i){var a=t.Util.charCodeAt(this.text,i);if(a){var n=this.font.glyphForCharacter(a);if(n){if(!(n.width<0||n.height<0||n.x<0||n.y<0)){this.glyphs.push(n);var h=0;0===i&&(this._overhangLeft=Math.min(n.offsetX,0),h=-this._overhangLeft),i===e&&(this._overhangRight=Math.max(n.width+n.offsetX-n.advanceWidth,0),h+=this._overhangRight),this._textWidth+=(n.advanceWidth+h)*s;var c=n.offsetY+n.height;o<c&&(o=c)}}else this._outputOfWarnLogWithNoGlyph(a,\"_invalidateSelf()\")}}this.widthAutoAdjust&&(this.width=this._textWidth),this.height=o*s},r.prototype._outputOfWarnLogWithNoGlyph=function(t,e){var i=4294901760&t?String.fromCharCode((4294901760&t)>>>16,65535&t):String.fromCharCode(t);this.game().logger.warn(\"Label#\"+e+\": failed to get a glyph for '\"+i+\"' (BitmapFont might not have the glyph or DynamicFont might create a glyph larger than its atlas).\")},r}(t.CacheableE);t.Label=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,n,o,s,a,h,c){void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=r),void 0===c&&(c=!!h),this.code=t,this.x=e,this.y=i,this.width=r,this.height=n,this.offsetX=o,this.offsetY=s,this.advanceWidth=a,this.surface=h,this.isSurfaceValid=c,this._atlas=null}return t.prototype.renderingWidth=function(t){return this.width&&this.height?t/this.height*this.width:0},t}();t.Glyph=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;if(\"string\"!=typeof i.cssColor)throw t.ExceptionFactory.createTypeMismatchError(\"ColorBox#constructor(cssColor)\",\"string\",i.cssColor);return r.cssColor=i.cssColor,r}return i(r,e),r.prototype.renderSelf=function(t){return t.fillRect(0,0,this.width,this.height,this.cssColor),!0},r}(t.E);t.FilledRect=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._oldWidth=i.width,r._oldHeight=i.height,r.backgroundImage=t.Util.asSurface(i.backgroundImage),r.backgroundEffector=i.backgroundEffector,r._shouldRenderChildren=!1,r._padding=i.padding,r._initialize(),r._paddingChanged=!1,r._bgSurface=void 0,r._bgRenderer=void 0,r}return i(r,e),Object.defineProperty(r.prototype,\"padding\",{get:function(){return this._padding},set:function(t){this._padding=t,this._paddingChanged=!0},enumerable:!0,configurable:!0}),r.prototype.modified=function(t){t&&(this.state&=-3),e.prototype.modified.call(this)},r.prototype.shouldFindChildrenByPoint=function(t){var e=this._normalizedPadding;return e.left<t.x&&this.width-e.right>t.x&&e.top<t.y&&this.height-e.bottom>t.y},r.prototype.renderCache=function(t,e){this.width<=0||this.height<=0||(this._renderBackground(),this._renderChildren(e),this._bgSurface?t.drawImage(this._bgSurface,0,0,this.width,this.height,0,0):this.backgroundImage&&t.drawImage(this.backgroundImage,0,0,this.width,this.height,0,0),this._childrenArea.width<=0||this._childrenArea.height<=0||(t.save(),0===this._childrenArea.x&&0===this._childrenArea.y||t.translate(this._childrenArea.x,this._childrenArea.y),t.drawImage(this._childrenSurface,0,0,this._childrenArea.width,this._childrenArea.height,0,0),t.restore()))},r.prototype.destroy=function(t){t&&this.backgroundImage&&!this.backgroundImage.destroyed()&&this.backgroundImage.destroy(),this._bgSurface&&!this._bgSurface.destroyed()&&this._bgSurface.destroy(),this._childrenSurface&&!this._childrenSurface.destroyed()&&this._childrenSurface.destroy(),this.backgroundImage=void 0,this._bgSurface=void 0,this._childrenSurface=void 0,e.prototype.destroy.call(this)},r.prototype._renderBackground=function(){if(this.backgroundImage&&this.backgroundEffector){var t=this.backgroundEffector.render(this.backgroundImage,this.width,this.height);this._bgSurface!==t&&(this._bgSurface&&!this._bgSurface.destroyed()&&this._bgSurface.destroy(),this._bgSurface=t)}else this._bgSurface=void 0},r.prototype._renderChildren=function(t){var e=this._oldWidth!==this.width||this._oldHeight!==this.height||this._paddingChanged;if(e&&(this._initialize(),this._paddingChanged=!1,this._oldWidth=this.width,this._oldHeight=this.height),this._childrenRenderer.begin(),e||this._childrenRenderer.clear(),this.children)for(var i=this.children,r=0;r<i.length;++r)i[r].render(this._childrenRenderer,t);this._childrenRenderer.end()},r.prototype._initialize=function(){var t,e=void 0===this._padding?0:this._padding;t=\"number\"==typeof e?{top:e,bottom:e,left:e,right:e}:this._padding,this._childrenArea={x:t.left,y:t.top,width:this.width-t.left-t.right,height:this.height-t.top-t.bottom};var i=this.scene.game.resourceFactory;this._childrenSurface&&!this._childrenSurface.destroyed()&&this._childrenSurface.destroy(),this._childrenSurface=i.createSurface(Math.ceil(this._childrenArea.width),Math.ceil(this._childrenArea.height)),this._childrenRenderer=this._childrenSurface.renderer(),this._normalizedPadding=t},r.prototype._calculateBoundingRect=function(t,e){var i=this.getMatrix();if(t&&(i=t.multiplyNew(i)),this.visible()&&(!e||this._targetCameras&&-1!==this._targetCameras.indexOf(e))){for(var r={left:0,right:this.width,top:0,bottom:this.height},n=[{x:r.left,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.top},{x:r.right,y:r.bottom}],o=i.multiplyPoint(n[0]),s={left:o.x,right:o.x,top:o.y,bottom:o.y},a=1;a<n.length;++a)o=i.multiplyPoint(n[a]),s.left>o.x&&(s.left=o.x),s.right<o.x&&(s.right=o.x),s.top>o.y&&(s.top=o.y),s.bottom<o.y&&(s.bottom=o.y);return s}},r}(t.CacheableE);t.Pane=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i){this._code=t,this._handler=i,this._handlerOwner=e}return t.prototype.onOperation=function(t){var e;t instanceof Array?e={_code:this._code,data:t}:(e=t,e._code=this._code),this._handler.call(this._handlerOwner,e)},t}(),i=function(){function i(e,i,r){this.operated=new t.Trigger,this.plugins={},this._game=e,this._viewInfo=i,this._infos=r,this._initialized=!1}return i.prototype.initialize=function(){this._initialized||(this._initialized=!0,this._loadOperationPlugins()),this._doAutoStart()},i.prototype.destroy=function(){this.stopAll(),this.operated.destroy(),this.operated=void 0,this.plugins=void 0,this._game=void 0,this._viewInfo=void 0,this._infos=void 0},i.prototype.stopAll=function(){if(this._initialized)for(var t=0;t<this._infos.length;++t){var e=this._infos[t];e._plugin&&e._plugin.stop()}},i.prototype._doAutoStart=function(){for(var t=0;t<this._infos.length;++t){var e=this._infos[t];!e.manualStart&&e._plugin&&e._plugin.start()}},i.prototype._loadOperationPlugins=function(){for(var i=0;i<this._infos.length;++i){var r=this._infos[i];if(r.script){var n=t._require(this._game,r.script);if(n.isSupported()){var o=new n(this._game,this._viewInfo,r.option),s=r.code;if(this.plugins[s])throw new Error(\"Plugin#code conflicted for code: \"+s);this.plugins[s]=o,r._plugin=o;var a=new e(s,this.operated,this.operated.fire);o.operationTrigger.handle(a,a.onOperation)}}}},i}();t.OperationPluginManager=i}(t||(t={}));var t;t||(t={});var t;!function(t){var e=function(){function e(){}return e.prototype.measureText=function(e){for(var i,r=0,n=0,o=0,s=0;s<e.length;s++){var a=t.Util.charCodeAt(e,s);if(a){var h=this.glyphForCharacter(a);!h||h.x<0||h.y<0||h.width<0||h.height<0||(0===s&&(n=-h.offsetX),i=h,r+=h.advanceWidth)}}return i&&(o=r+i.offsetX+i.width-i.advanceWidth),{width:r,actualBoundingBoxLeft:n,actualBoundingBoxRight:o}},e}();t.Font=e}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Normal=0]=\"Normal\",t[t.Bold=1]=\"Bold\"}(e=t.FontWeight||(t.FontWeight={}));var r=function(r){function n(i){var n=r.call(this)||this;if(n.fontFamily=i.fontFamily,n.size=i.size,n.hint=\"hint\"in i?i.hint:{},n.fontColor=\"fontColor\"in i?i.fontColor:\"black\",n.fontWeight=\"fontWeight\"in i?i.fontWeight:e.Normal,n.strokeWidth=\"strokeWidth\"in i?i.strokeWidth:0,n.strokeColor=\"strokeColor\"in i?i.strokeColor:\"black\",n.strokeOnly=\"strokeOnly\"in i&&i.strokeOnly,n._resourceFactory=i.game.resourceFactory,n._glyphFactory=n._resourceFactory.createGlyphFactory(n.fontFamily,n.size,n.hint.baselineHeight,n.fontColor,n.strokeWidth,n.strokeColor,n.strokeOnly,n.fontWeight),n._glyphs={},n._destroyed=!1,n._isSurfaceAtlasSetOwner=!1,i.surfaceAtlasSet?n._atlasSet=i.surfaceAtlasSet:i.hint?(n._isSurfaceAtlasSetOwner=!0,n._atlasSet=new t.SurfaceAtlasSet({game:i.game,hint:n.hint})):n._atlasSet=i.game.surfaceAtlasSet,n._atlasSet.addAtlas(),n.hint.presetChars)for(var o=0,s=n.hint.presetChars.length;o<s;o++){var a=t.Util.charCodeAt(n.hint.presetChars,o);a&&n.glyphForCharacter(a)}return n}return i(n,r),n.prototype.glyphForCharacter=function(t){var e=this._glyphs[t];if(!e||!e.isSurfaceValid){if(e=this._glyphFactory.create(t),e.surface){var i=this._atlasSet.addGlyph(e);if(!i)return null;e._atlas=i,e._atlas._accessScore+=1}this._glyphs[t]=e}for(var r=0;r<this._atlasSet.getAtlasNum();r++){this._atlasSet.getAtlas(r)._accessScore/=2}return e},n.prototype.asBitmapFont=function(e){var i=this;if(1!==this._atlasSet.getAtlasNum())return null;var r;e&&(r=t.Util.charCodeAt(e,0),this.glyphForCharacter(r));var n={};Object.keys(this._glyphs).forEach(function(t){var e=Number(t),r=i._glyphs[e],o={x:r.x,y:r.y,width:r.width,height:r.height,offsetX:r.offsetX,offsetY:r.offsetY,advanceWidth:r.advanceWidth};n[e]=o});var o=n[r],s=this._atlasSet.getAtlas(0).duplicateSurface(this._resourceFactory);return new t.BitmapFont({src:s,map:n,defaultGlyphWidth:0,defaultGlyphHeight:this.size,missingGlyph:o})},n.prototype.destroy=function(){this._isSurfaceAtlasSetOwner&&this._atlasSet.destroy(),this._glyphs=null,this._glyphFactory=null,this._destroyed=!0},n.prototype.destroyed=function(){return this._destroyed},n}(t.Font);t.DynamicFont=r}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this)||this;return r.surface=t.Util.asSurface(i.src),r.map=i.map,r.defaultGlyphWidth=i.defaultGlyphWidth,r.defaultGlyphHeight=i.defaultGlyphHeight,r.missingGlyph=i.missingGlyph,r.size=i.defaultGlyphHeight,r}return i(r,e),r.prototype.glyphForCharacter=function(e){var i=this.map[e]||this.missingGlyph;if(!i)return null;var r=void 0===i.width?this.defaultGlyphWidth:i.width,n=void 0===i.height?this.defaultGlyphHeight:i.height,o=i.offsetX||0,s=i.offsetY||0,a=void 0===i.advanceWidth?r:i.advanceWidth,h=0===r||0===n?void 0:this.surface;return new t.Glyph(e,i.x,i.y,r,n,o,s,a,h,!0)},r.prototype.destroy=function(){this.surface&&!this.surface.destroyed()&&this.surface.destroy(),this.map=void 0},r.prototype.destroyed=function(){return!this.map},r}(t.Font);t.BitmapFont=e}(t||(t={}));var t;!function(t){function e(t,e,i){for(;t;){if(t.width>=e&&t.height>=i)return t;t=t.next}return null}function i(t){return{width:Math.ceil(Math.min(t.initialAtlasWidth,t.maxAtlasWidth)),height:Math.ceil(Math.min(t.initialAtlasHeight,t.maxAtlasHeight))}}var r=function(){function t(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r,this.prev=null,this.next=null}return t}();t.SurfaceAtlasSlot=r;var n=function(){function t(t){this._surface=t,this._emptySurfaceAtlasSlotHead=new r(0,0,this._surface.width,this._surface.height),this._accessScore=0,this._usedRectangleAreaSize={width:0,height:0}}return t.prototype._acquireSurfaceAtlasSlot=function(t,i){t+=1,i+=1;var n=e(this._emptySurfaceAtlasSlotHead,t,i);if(!n)return null;var o,s,a=n.width-t,h=n.height-i;a<=h?(o=new r(n.x+t,n.y,a,i),s=new r(n.x,n.y+i,n.width,h)):(o=new r(n.x,n.y+i,t,h),s=new r(n.x+t,n.y,a,n.height)),o.prev=n.prev,o.next=s,null===o.prev?this._emptySurfaceAtlasSlotHead=o:o.prev.next=o,s.prev=o,s.next=n.next,s.next&&(s.next.prev=s);var c=new r(n.x,n.y,t,i);return this._updateUsedRectangleAreaSize(c),c},t.prototype._updateUsedRectangleAreaSize=function(t){var e=t.x+t.width,i=t.y+t.height;e>this._usedRectangleAreaSize.width&&(this._usedRectangleAreaSize.width=e),i>this._usedRectangleAreaSize.height&&(this._usedRectangleAreaSize.height=i)},t.prototype.addSurface=function(t){var e=this._acquireSurfaceAtlasSlot(t.width,t.height);if(!e)return null;var i=this._surface.renderer();return i.begin(),i.drawImage(t.surface,t.x,t.y,t.width,t.height,e.x,e.y),i.end(),e},t.prototype.destroy=function(){this._surface.destroy()},t.prototype.destroyed=function(){return this._surface.destroyed()},t.prototype.duplicateSurface=function(t){var e=this._surface,i=t.createSurface(this._usedRectangleAreaSize.width,this._usedRectangleAreaSize.height),r=i.renderer();return r.begin(),r.drawImage(e,0,0,this._usedRectangleAreaSize.width,this._usedRectangleAreaSize.height,0,0),r.end(),i},t}();t.SurfaceAtlas=n;var o=function(){function t(e){this._surfaceAtlases=[],this._atlasGlyphsTable=[],this._resourceFactory=e.game.resourceFactory,this._currentAtlasIndex=0;var r=e.hint?e.hint:{};this._maxAtlasNum=r.maxAtlasNum?r.maxAtlasNum:t.INITIAL_MAX_SURFACEATLAS_NUM,r.initialAtlasWidth=r.initialAtlasWidth?r.initialAtlasWidth:512,r.initialAtlasHeight=r.initialAtlasHeight?r.initialAtlasHeight:512,r.maxAtlasWidth=r.maxAtlasWidth?r.maxAtlasWidth:512,r.maxAtlasHeight=r.maxAtlasHeight?r.maxAtlasHeight:512,this._atlasSize=i(r)}return t.prototype._deleteAtlas=function(t){for(var e=this._removeLeastFrequentlyUsedAtlas(t),i=e.surfaceAtlases,r=0;r<i.length;++r)i[r].destroy()},t.prototype._removeLeastFrequentlyUsedAtlas=function(t){for(var e=[],i=[],r=0;r<t;++r){for(var n=Number.MAX_VALUE,o=-1,s=0;s<this._surfaceAtlases.length;++s)this._surfaceAtlases[s]._accessScore<=n&&(n=this._surfaceAtlases[s]._accessScore,o=s);var a=this._surfaceAtlases.splice(o,1)[0];e.push(a),i.push(this._atlasGlyphsTable.splice(o,1)[0])}return{surfaceAtlases:e,glyphs:i}},t.prototype._moveGlyphSurface=function(t){for(var e=0;e<this._surfaceAtlases.length;++e){var i=(this._currentAtlasIndex+e)%this._surfaceAtlases.length,r=this._surfaceAtlases[i],n=r.addSurface(t);if(n)return this._currentAtlasIndex=i,t.surface.destroy(),t.surface=r._surface,t.x=n.x,t.y=n.y,this._atlasGlyphsTable[i]||(this._atlasGlyphsTable[i]=[]),this._atlasGlyphsTable[i].push(t),r}return null},t.prototype._reallocateAtlas=function(){if(this._surfaceAtlases.length>=this._maxAtlasNum){for(var t=this._removeLeastFrequentlyUsedAtlas(1),e=t.surfaceAtlases[0],i=t.glyphs[0],r=0;r<i.length;r++){var n=i[r];n.surface=null,n.isSurfaceValid=!1,n._atlas=null}e.destroy()}this._surfaceAtlases.push(this._resourceFactory.createSurfaceAtlas(this._atlasSize.width,this._atlasSize.height)),this._currentAtlasIndex=this._surfaceAtlases.length-1},t.prototype.addAtlas=function(){this._surfaceAtlases.length>=this._maxAtlasNum&&this._deleteAtlas(1),\nthis._surfaceAtlases.push(this._resourceFactory.createSurfaceAtlas(this._atlasSize.width,this._atlasSize.height))},t.prototype.getAtlas=function(t){return this._surfaceAtlases[t]},t.prototype.getAtlasNum=function(){return this._surfaceAtlases.length},t.prototype.getMaxAtlasNum=function(){return this._maxAtlasNum},t.prototype.changeMaxAtlasNum=function(t){if(this._maxAtlasNum=t,this._surfaceAtlases.length>this._maxAtlasNum){var e=this._surfaceAtlases.length-this._maxAtlasNum;this._deleteAtlas(e)}},t.prototype.getAtlasSize=function(){return this._atlasSize},t.prototype.addGlyph=function(t){if(t.width>this._atlasSize.width||t.height>this._atlasSize.height)return null;var e=this._moveGlyphSurface(t);return e||(this._reallocateAtlas(),e=this._moveGlyphSurface(t)),e},t.prototype.destroy=function(){for(var t=0;t<this._surfaceAtlases.length;++t)this._surfaceAtlases[t].destroy();this._surfaceAtlases=void 0,this._resourceFactory=void 0,this._atlasGlyphsTable=void 0},t.prototype.destroyed=function(){return void 0===this._surfaceAtlases},t.INITIAL_MAX_SURFACEATLAS_NUM=10,t}();t.SurfaceAtlasSet=o}(t||(t={}));var t;!function(t){var e=function(){function t(t){this._game=t,this._muted=!1,this._playbackRate=1}return t.prototype._reset=function(){this._muted=!1,this._playbackRate=1;var t=this._game.audio;for(var e in t)t.hasOwnProperty(e)&&t[e]._reset()},t.prototype._setMuted=function(t){if(this._muted!==t){this._muted=t;var e=this._game.audio;for(var i in e)e.hasOwnProperty(i)&&e[i]._setMuted(t)}},t.prototype._setPlaybackRate=function(t){if(this._playbackRate!==t){this._playbackRate=t;var e=this._game.audio;for(var i in e)e.hasOwnProperty(i)&&e[i]._setPlaybackRate(t)}},t}();t.AudioSystemManager=e}(t||(t={}));var t;!function(t){!function(t){t[t.SourceOver=0]=\"SourceOver\",t[t.SourceAtop=1]=\"SourceAtop\",t[t.Lighter=2]=\"Lighter\",t[t.Copy=3]=\"Copy\",t[t.ExperimentalSourceIn=4]=\"ExperimentalSourceIn\",t[t.ExperimentalSourceOut=5]=\"ExperimentalSourceOut\",t[t.ExperimentalDestinationAtop=6]=\"ExperimentalDestinationAtop\",t[t.ExperimentalDestinationIn=7]=\"ExperimentalDestinationIn\",t[t.DestinationOut=8]=\"DestinationOut\",t[t.DestinationOver=9]=\"DestinationOver\",t[t.Xor=10]=\"Xor\"}(t.CompositeOperation||(t.CompositeOperation={}))}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,n,o,s,a,h){void 0===r&&(r=i),void 0===n&&(n=\"black\"),void 0===o&&(o=0),void 0===s&&(s=\"black\"),void 0===a&&(a=!1),void 0===h&&(h=t.FontWeight.Normal),this.fontFamily=e,this.fontSize=i,this.fontWeight=h,this.baselineHeight=r,this.fontColor=n,this.strokeWidth=o,this.strokeColor=s,this.strokeOnly=a}return e}();t.GlyphFactory=e}(t||(t={}));var t;!function(t){!function(t){t[t.NonLocal=0]=\"NonLocal\",t[t.FullLocal=1]=\"FullLocal\",t[t.InterpolateLocal=2]=\"InterpolateLocal\"}(t.LocalTickMode||(t.LocalTickMode={}))}(t||(t={}));var t;!function(t){var e=function(){function t(t,e){void 0===e&&(e=4),this.game=t,this.borderWidth=\"number\"==typeof e?{top:e,bottom:e,left:e,right:e}:e}return t.prototype.render=function(t,e,i){var r=!0;this._surface&&this._surface.width===e&&this._surface.height===i&&this._beforeSrcSurface===t?r=!1:(this._surface=this.game.resourceFactory.createSurface(Math.ceil(e),Math.ceil(i)),this._beforeSrcSurface=t);var n=this._surface.renderer();n.begin(),r||n.clear();var o=this.borderWidth.left,s=t.width-this.borderWidth.right,a=this.borderWidth.top,h=t.height-this.borderWidth.bottom,c=this.borderWidth.left,u=e-this.borderWidth.right,l=this.borderWidth.top,d=i-this.borderWidth.bottom,p=[{x:0,y:0,width:this.borderWidth.left,height:this.borderWidth.top},{x:s,y:0,width:this.borderWidth.right,height:this.borderWidth.top},{x:0,y:h,width:this.borderWidth.left,height:this.borderWidth.bottom},{x:s,y:h,width:this.borderWidth.right,height:this.borderWidth.bottom}],f=[{x:0,y:0},{x:u,y:0},{x:0,y:d},{x:u,y:d}],_=0;for(_=0;_<p.length;++_){var g=p[_];n.save(),n.translate(f[_].x,f[_].y),n.drawImage(t,g.x,g.y,g.width,g.height,0,0),n.restore()}var y=[{x:o,y:0,width:s-o,height:this.borderWidth.top},{x:0,y:a,width:this.borderWidth.left,height:h-a},{x:s,y:a,width:this.borderWidth.right,height:h-a},{x:o,y:h,width:s-o,height:this.borderWidth.bottom}],m=[{x:c,y:0,width:u-c,height:this.borderWidth.top},{x:0,y:l,width:this.borderWidth.left,height:d-l},{x:u,y:l,width:this.borderWidth.right,height:d-l},{x:c,y:d,width:u-c,height:this.borderWidth.bottom}];for(_=0;_<y.length;++_){var v=y[_],T=m[_];n.save(),n.translate(T.x,T.y),n.transform([T.width/v.width,0,0,T.height/v.height,0,0]),n.drawImage(t,v.x,v.y,v.width,v.height,0,0),n.restore()}var A=s-o,x=h-a,w=u-c,S=d-l;return n.save(),n.translate(c,l),n.transform([w/A,0,0,S/x,0,0]),n.drawImage(t,o,a,A,x,0,0),n.restore(),n.end(),this._surface},t}();t.NinePatchSurfaceEffector=e}(t||(t={}));var t;!function(t){!function(e){function i(i,r){function n(t){var e=t.split(\"/\");return\"\"===e[e.length-1]&&e.pop(),e}if(\"\"===r)return i;for(var o=e.splitPath(i),s=n(o.path).concat(n(r)),a=[],h=0;h<s.length;++h){var c=s[h];switch(c){case\"..\":var u=a.pop();if(void 0===u||\"\"===u||\".\"===u)throw t.ExceptionFactory.createAssertionError(\"PathUtil.resolvePath: invalid arguments\");break;case\".\":0===a.length&&a.push(\".\");break;case\"\":a=[\"\"];break;default:a.push(c)}}return o.host+a.join(\"/\")}function r(t){var e=t.lastIndexOf(\"/\");return-1===e?t:t.substr(0,e)}function n(t){for(var e=t.length-1;e>=0;--e){var i=t.charAt(e);if(\".\"===i)return t.substr(e);if(\"/\"===i)return\"\"}return\"\"}function o(t){var i=e.splitPath(t),r=i.host;t=i.path,\"/\"===t[t.length-1]&&(t=t.slice(0,t.length-1));for(var n=t.split(\"/\"),o=n.indexOf(\"node_modules\"),s=o>0?o-1:0,a=[],h=n.length-1;h>=s;--h)if(\"node_modules\"!==n[h]){var c=n.slice(0,h+1);c.push(\"node_modules\");var u=c.join(\"/\");a.push(r+u)}return a}function s(t,e){var i=t.indexOf(\"?\");return-1===i?t+\".\"+e:t.substring(0,i)+\".\"+e+t.substring(i,t.length)}function a(t){var e=\"\",i=t.indexOf(\"//\");if(i>=0){var r=t.indexOf(\"/\",i+2);r>=0?(e=t.slice(0,r),t=t.slice(r)):(e=t,t=\"/\")}else e=\"\";return{host:e,path:t}}e.resolvePath=i,e.resolveDirname=r,e.resolveExtname=n,e.makeNodeModulePaths=o,e.addExtname=s,e.splitPath=a}(t.PathUtil||(t.PathUtil={}))}(t||(t={}));var t;!function(t){!function(t){t[t.SansSerif=0]=\"SansSerif\",t[t.Serif=1]=\"Serif\",t[t.Monospace=2]=\"Monospace\"}(t.FontFamily||(t.FontFamily={}))}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Top=0]=\"Top\",t[t.Middle=1]=\"Middle\",t[t.Alphabetic=2]=\"Alphabetic\",t[t.Bottom=3]=\"Bottom\"}(e=t.TextBaseline||(t.TextBaseline={}));var r=function(r){function n(i){var n=r.call(this,i)||this;return n.text=i.text,n.fontSize=i.fontSize,n.textAlign=\"textAlign\"in i?i.textAlign:t.TextAlign.Left,n.textBaseline=\"textBaseline\"in i?i.textBaseline:e.Alphabetic,n.maxWidth=i.maxWidth,n.textColor=\"textColor\"in i?i.textColor:\"black\",n.fontFamily=\"fontFamily\"in i?i.fontFamily:t.FontFamily.SansSerif,n.strokeWidth=\"strokeWidth\"in i?i.strokeWidth:0,n.strokeColor=\"strokeColor\"in i?i.strokeColor:\"black\",n.strokeOnly=\"strokeOnly\"in i&&i.strokeOnly,n}return i(n,r),n.prototype.renderSelf=function(e,i){if(this.text){var r;switch(this.textAlign){case t.TextAlign.Right:r=this.width;break;case t.TextAlign.Center:r=this.width/2;break;default:r=0}e.drawSystemText(this.text,r,0,this.maxWidth,this.fontSize,this.textAlign,this.textBaseline,this.textColor,this.fontFamily,this.strokeWidth,this.strokeColor,this.strokeOnly)}return!0},n}(t.E);t.SystemLabel=r}(t||(t={}));var t;!function(t){!function(t){t[t.Left=0]=\"Left\",t[t.Center=1]=\"Center\",t[t.Right=2]=\"Right\"}(t.TextAlign||(t.TextAlign={}))}(t||(t={}));var t;!function(t){!function(t){t[t.ByClock=0]=\"ByClock\",t[t.Manual=1]=\"Manual\"}(t.TickGenerationMode||(t.TickGenerationMode={}))}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.initState(t)}return t.deserialize=function(e){var i=new t(0);return i._state0U=e._state0U,i._state0L=e._state0L,i._state1U=e._state1U,i._state1L=e._state1L,i},t.prototype.initState=function(t){t=1812433253*(t^t>>30)+1,this._state0U=t,t=1812433253*(t^t>>30)+2,this._state0L=t,t=1812433253*(t^t>>30)+3,this._state1U=t,t=1812433253*(t^t>>30)+4,this._state1L=t},t.prototype.randomInt=function(){var t=this._state0U,e=this._state0L,i=this._state1U,r=this._state1L;this._state0U=i,this._state0L=r;var n=0,o=0,s=0,a=0;n=t<<23|(-512&e)>>>9,o=e<<23,t^=n,e^=o,n=t^i,o=e^r;s=t>>>17,a=e>>>17|(131071&t)<<15,n^=s,o^=a;s=i>>>26,a=r>>>26|(67108863&i)<<6,n^=s,o^=a,this._state1U=n,this._state1L=o;var h=(o>>>0)+(r>>>0);return s=n+i+(h/2>>>31)>>>0,a=h>>>0,[s,a]},t.prototype.random=function(){var t=this.randomInt();return(4294967296*t[0]+t[1])/0x10000000000000000},t.prototype.nextInt=function(t,e){return Math.floor(t+this.random()*(e-t))},t.prototype.serialize=function(){return{_state0U:this._state0U,_state0L:this._state0L,_state1U:this._state1U,_state1L:this._state1L}},t}();t.Xorshift=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i,r){var n=this;if(void 0===i)throw t.ExceptionFactory.createAssertionError(\"XorshiftRandomGenerator#constructor: seed is undefined\");return n=e.call(this,i)||this,n._xorshift=r?t.Xorshift.deserialize(r):new t.Xorshift(i),n}return i(r,e),r.deserialize=function(t){return new r(t._seed,t._xorshift)},r.prototype.get=function(t,e){return this._xorshift.nextInt(t,e+1)},r.prototype.generate=function(){return this._xorshift.random()},r.prototype.serialize=function(){return{_seed:this.seed,_xorshift:this._xorshift.serialize()}},r}(t.RandomGenerator);t.XorshiftRandomGenerator=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.fragmentShader=t.fragmentShader,this.uniforms=t.uniforms}return t}();t.ShaderProgram=e}(t||(t={})),e.exports=t}).call(this)},{}],3:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0})},{}],4:[function(t,e,i){e.exports=t(\"./lib/index\")},{\"./lib/index\":27}],5:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(e){this.fps=e.fps,this.scaleFactor=e.scaleFactor||1,this.frameTrigger=new r.Trigger,this.rawFrameTrigger=new r.Trigger,this._platform=e.platform,this._maxFramePerOnce=e.maxFramePerOnce,this._deltaTimeBrokenThreshold=e.deltaTimeBrokenThreshold||t.DEFAULT_DELTA_TIME_BROKEN_THRESHOLD,e.frameHandler&&this.frameTrigger.add(e.frameHandler,e.frameHandlerOwner),this.running=!1,this._totalDeltaTime=0,this._onLooperCall_bound=this._onLooperCall.bind(this),this._looper=this._platform.createLooper(this._onLooperCall_bound),this._waitTime=0,this._waitTimeDoubled=0,this._waitTimeMax=0,this._skipFrameWaitTime=0,this._realMaxFramePerOnce=0}return t.prototype.start=function(){this.running||(this._totalDeltaTime=0,this._updateWaitTimes(this.fps,this.scaleFactor),this._looper.start(),this.running=!0)},t.prototype.stop=function(){this.running&&(this._looper.stop(),this.running=!1)},t.prototype.changeScaleFactor=function(t){this.running?(this.stop(),this.scaleFactor=t,this.start()):this.scaleFactor=t},t.prototype._onLooperCall=function(t){var e=t;if(t<=0)return this._waitTime-this._totalDeltaTime;t>this._deltaTimeBrokenThreshold&&(t=this._waitTime);var i=this._totalDeltaTime;if((i+=t)<=this._skipFrameWaitTime)return this._totalDeltaTime=i,this._waitTime-i;for(var r=i<this._waitTimeDoubled?1:i>this._waitTimeMax?this._realMaxFramePerOnce:i/this._waitTime|0,n=r,o={deltaTime:e,interrupt:!1};n>0&&this.running&&!o.interrupt;)--n,this.frameTrigger.fire(o),o.deltaTime=0;return i-=(r-n)*this._waitTime,this.rawFrameTrigger.fire(),this._totalDeltaTime=i,this._waitTime-i},t.prototype._updateWaitTimes=function(e,i){var r=e*i;this._waitTime=1e3/r,this._waitTimeDoubled=Math.max(2e3/r|0,1),this._waitTimeMax=Math.max(i*(1e3*this._maxFramePerOnce/r)|0,1),this._skipFrameWaitTime=this._waitTime*t.ANTICIPATE_RATE|0,this._realMaxFramePerOnce=this._maxFramePerOnce*i},t.ANTICIPATE_RATE=.8,t.DEFAULT_DELTA_TIME_BROKEN_THRESHOLD=150,t}();i.Clock=n},{\"@akashic/akashic-engine\":1}],6:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=(t(\"@akashic/akashic-pdi\"),t(\"@akashic/akashic-engine\")),n=t(\"./PointEventResolver\"),o=function(){function t(t){this._amflow=t.amflow,this._isLocalReceiver=!0,this._isReceiver=!1,this._isSender=!1,this._isDiscarder=!1,this._defaultEventPriority=0,this._buffer=[],this._joinLeaveBuffer=[],this._localBuffer=[],this._filters=null,this._unfilteredLocalEvents=[],this._unfilteredEvents=[],this._pointEventResolver=new n.PointEventResolver({game:t.game}),this._onEvent_bound=this.onEvent.bind(this)}return t.isEventLocal=function(t){switch(t[0]){case 0:return t[5];case 1:return t[3];case 2:case 32:return t[4];case 33:return t[7];case 34:case 35:return t[11];case 64:return t[5];default:throw r.ExceptionFactory.createAssertionError(\"EventBuffer.isEventLocal\")}},t.prototype.setMode=function(t){null!=t.isLocalReceiver&&(this._isLocalReceiver=t.isLocalReceiver),null!=t.isReceiver&&this._isReceiver!==t.isReceiver&&(this._isReceiver=t.isReceiver,t.isReceiver?this._amflow.onEvent(this._onEvent_bound):this._amflow.offEvent(this._onEvent_bound)),null!=t.isSender&&(this._isSender=t.isSender),null!=t.isDiscarder&&(this._isDiscarder=t.isDiscarder),null!=t.defaultEventPriority&&(this._defaultEventPriority=t.defaultEventPriority)},t.prototype.getMode=function(){return{isLocalReceiver:this._isLocalReceiver,isReceiver:this._isReceiver,isSender:this._isSender,isDiscarder:this._isDiscarder,defaultEventPriority:this._defaultEventPriority}},t.prototype.onEvent=function(e){if(t.isEventLocal(e))return void(this._isLocalReceiver&&!this._isDiscarder&&this._unfilteredLocalEvents.push(e));this._isReceiver&&!this._isDiscarder&&this._unfilteredEvents.push(e),this._isSender&&(null==e[1]&&(e[1]=this._defaultEventPriority),this._amflow.sendEvent(e))},t.prototype.onPointEvent=function(t){var e;switch(t.type){case 0:e=this._pointEventResolver.pointDown(t);break;case 1:e=this._pointEventResolver.pointMove(t);break;case 2:e=this._pointEventResolver.pointUp(t)}e&&this.onEvent(e)},t.prototype.addEventDirect=function(e){if(t.isEventLocal(e)){if(!this._isLocalReceiver||this._isDiscarder)return;return void this._localBuffer.push(e)}this._isReceiver&&!this._isDiscarder&&(0===e[0]||1===e[0]?this._joinLeaveBuffer.push(e):this._buffer.push(e)),this._isSender&&(null==e[1]&&(e[1]=this._defaultEventPriority),this._amflow.sendEvent(e))},t.prototype.readEvents=function(){var t=this._buffer;return 0===t.length?null:(this._buffer=[],t)},t.prototype.readJoinLeaves=function(){var t=this._joinLeaveBuffer;return 0===t.length?null:(this._joinLeaveBuffer=[],t)},t.prototype.readLocalEvents=function(){var t=this._localBuffer;return 0===t.length?null:(this._localBuffer=[],t)},t.prototype.addFilter=function(t,e){this._filters||(this._filters=[]),this._filters.push({func:t,handleEmpty:!!e})},t.prototype.removeFilter=function(t){if(this._filters){if(!t)return void(this._filters=null);for(var e=this._filters.length-1;e>=0;--e)this._filters[e].func===t&&this._filters.splice(e,1)}},t.prototype.processEvents=function(e){var i=this._unfilteredLocalEvents,r=this._unfilteredEvents;this._unfilteredLocalEvents=[];var n=i;if(!e&&r.length>0&&(n=n.length>0?n.concat(r):r,this._unfilteredEvents=[]),this._filters)for(var o=0;o<this._filters.length;++o){var s=this._filters[o];(n.length>0||s.handleEmpty)&&(n=this._filters[o].func(n)||[])}for(var o=0;o<n.length;++o){var a=n[o];t.isEventLocal(a)?this._localBuffer.push(a):0===a[0]||1===a[0]?this._joinLeaveBuffer.push(a):this._buffer.push(a)}},t}();i.EventBuffer=o},{\"./PointEventResolver\":17,\"@akashic/akashic-engine\":1,\"@akashic/akashic-pdi\":3}],7:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t){this._game=t.game,this._playerTable={}}return t.prototype.toGameEvent=function(t){var e,i,n,o,s,a,h,c,u=t[0],l=t[1],d=t[2],p=this._playerTable[d]||{id:d};switch(u){case 0:p={id:d,name:t[3]},this._playerTable[d]=p;var f=void 0;if(t[4]){var _=[],g=[];t[4].map(function(t){_.push(t.readKey),g.push(t.values)}),f=new r.StorageValueStore(_,g)}return new r.JoinEvent(p,f,l);case 1:return delete this._playerTable[p.id],new r.LeaveEvent(p,l);case 2:return c=t[3],new r.TimestampEvent(c,p,l);case 32:return h=t[4],new r.MessageEvent(t[3],p,h,l);case 33:return h=t[7],e=t[3],i=t[6],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:t[4],y:t[5]},new r.PointDownEvent(e,n,o,p,h,l);case 34:return h=t[11],e=t[3],i=t[10],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:t[4],y:t[5]},s={x:t[6],y:t[7]},a={x:t[8],y:t[9]},new r.PointMoveEvent(e,n,o,a,s,p,h,l);case 35:return h=t[11],e=t[3],i=t[10],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:t[4],y:t[5]},s={x:t[6],y:t[7]},a={x:t[8],y:t[9]},new r.PointUpEvent(e,n,o,a,s,p,h,l);case 64:h=t[5];var y=t[3],m=t[4],v=this._game._decodeOperationPluginOperation(y,m);return new r.OperationEvent(y,v,p,h,l);default:throw r.ExceptionFactory.createAssertionError(\"EventConverter#toGameEvent\")}},t.prototype.toPlaylogEvent=function(t,e){var i,n;switch(t.type){case r.EventType.Join:case r.EventType.Leave:throw r.ExceptionFactory.createAssertionError(\"EventConverter#toPlaylogEvent: Invalid type: \"+r.EventType[t.type]);case r.EventType.Timestamp:var o=t;return n=e?o.player.id:this._game.player.id,[2,o.priority,n,o.timestamp];case r.EventType.PointDown:var s=t;return i=s.target?s.target.id:null,n=e?s.player.id:this._game.player.id,[33,s.priority,n,s.pointerId,s.point.x,s.point.y,i,!!s.local];case r.EventType.PointMove:var a=t;return i=a.target?a.target.id:null,n=e?a.player.id:this._game.player.id,[34,a.priority,n,a.pointerId,a.point.x,a.point.y,a.startDelta.x,a.startDelta.y,a.prevDelta.x,a.prevDelta.y,i,!!a.local];case r.EventType.PointUp:var h=t;return i=h.target?h.target.id:null,n=e?h.player.id:this._game.player.id,[35,h.priority,n,h.pointerId,h.point.x,h.point.y,h.startDelta.x,h.startDelta.y,h.prevDelta.x,h.prevDelta.y,i,!!h.local];case r.EventType.Message:var c=t;return n=e?c.player.id:this._game.player.id,[32,c.priority,n,c.data,!!c.local];case r.EventType.Operation:var u=t;return n=e?u.player.id:this._game.player.id,[64,u.priority,n,u.code,u.data,!!u.local];default:throw r.ExceptionFactory.createAssertionError(\"Unknown type: \"+t.type)}},t.prototype.makePlaylogOperationEvent=function(t){var e=this._game.player.id;return[64,null!=t.priority?t.priority:0,e,t._code,t.data,!!t.local]},t}();i.EventConverter=n},{\"@akashic/akashic-engine\":1}],8:[function(t,e,i){arguments[4][3][0].apply(i,arguments)},{dup:3}],9:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r;!function(t){t[t.Active=0]=\"Active\",t[t.Passive=1]=\"Passive\"}(r||(r={})),i.default=r},{}],10:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e){var i=t.call(this,e.configuration,e.resourceFactory,e.assetBase,e.player.id,e.operationPluginViewInfo)||this;return i.agePassedTrigger=new n.Trigger,i.targetTimeReachedTrigger=new n.Trigger,i.skippingChangedTrigger=new n.Trigger,i.abortTrigger=new n.Trigger,i.player=e.player,i.raiseEventTrigger=new n.Trigger,i.raiseTickTrigger=new n.Trigger,i.snapshotTrigger=new n.Trigger,i.isSnapshotSaver=!!e.isSnapshotSaver,i._getCurrentTimeFunc=null,i._eventFilterFuncs=null,i._notifyPassedAgeTable={},i._notifiesTargetTimeReached=!1,i._isSkipAware=!1,i._gameArgs=e.gameArgs,i._globalGameArgs=e.globalGameArgs,i.skippingChangedTrigger.add(i._onSkippingChanged,i),i}return r(e,t),e.prototype.requestNotifyAgePassed=function(t){this._notifyPassedAgeTable[t]=!0},e.prototype.cancelNotifyAgePassed=function(t){delete this._notifyPassedAgeTable[t]},e.prototype.requestNotifyTargetTimeReached=function(){this._notifiesTargetTimeReached=!0},e.prototype.cancelNofityTargetTimeReached=function(){this._notifiesTargetTimeReached=!1},e.prototype.fireAgePassedIfNeeded=function(){var t=this.age-1;return!!this._notifyPassedAgeTable[t]&&(delete this._notifyPassedAgeTable[t],this.agePassedTrigger.fire(t),!0)},e.prototype.setCurrentTimeFunc=function(t){this._getCurrentTimeFunc=t},e.prototype.setEventFilterFuncs=function(t){this._eventFilterFuncs=t},e.prototype.setStorageFunc=function(t){this.storage._registerLoad(t.storageGetFunc),this.storage._registerWrite(t.storagePutFunc),this.storage.requestValuesForJoinPlayer=t.requestValuesForJoinFunc},e.prototype.getIsSkipAware=function(){return this._isSkipAware},e.prototype.setIsSkipAware=function(t){this._isSkipAware=t},e.prototype.getCurrentTime=function(){return Math.floor(this._getCurrentTimeFunc())},e.prototype.raiseEvent=function(t){this.raiseEventTrigger.fire(t)},e.prototype.raiseTick=function(t){if(!this.scene()||this.scene().tickGenerationMode!==n.TickGenerationMode.Manual)throw n.ExceptionFactory.createAssertionError(\"Game#raiseTick(): tickGenerationMode for the current scene is not Manual.\");this.raiseTickTrigger.fire(t)},e.prototype.addEventFilter=function(t,e){this._eventFilterFuncs.addFilter(t,e)},e.prototype.removeEventFilter=function(t){this._eventFilterFuncs.removeFilter(t)},e.prototype.shouldSaveSnapshot=function(){return this.isSnapshotSaver},e.prototype.isActiveInstance=function(){return this.shouldSaveSnapshot()},e.prototype.saveSnapshot=function(t,e){void 0===e&&(e=this._getCurrentTimeFunc()),this.shouldSaveSnapshot()&&this.snapshotTrigger.fire({frame:this.age,timestamp:e,data:{randGenSer:this.random[0].serialize(),gameSnapshot:t}})},e.prototype._destroy=function(){this.agePassedTrigger.destroy(),this.agePassedTrigger=null,this.targetTimeReachedTrigger.destroy(),this.targetTimeReachedTrigger=null,this.skippingChangedTrigger.destroy(),this.skippingChangedTrigger=null,this.abortTrigger.destroy(),this.abortTrigger=null,this.player=null,this.raiseEventTrigger.destroy(),this.raiseEventTrigger=null,this.raiseTickTrigger.destroy(),this.raiseTickTrigger=null,this.snapshotTrigger.destroy(),this.snapshotTrigger=null,this.isSnapshotSaver=!1,this._getCurrentTimeFunc=null,this._eventFilterFuncs=null,this._notifyPassedAgeTable=null,this._gameArgs=null,this._globalGameArgs=null,t.prototype._destroy.call(this)},e.prototype._restartWithSnapshot=function(t){var e=t.data;if(this._eventFilterFuncs.removeFilter(),null!=e.seed){var i=new n.XorshiftRandomGenerator(e.seed);this._reset({age:t.frame,randGen:i}),this._loadAndStart({args:this._gameArgs,globalArgs:this._globalGameArgs})}else{var i=new n.XorshiftRandomGenerator(0,e.randGenSer);this._reset({age:t.frame,randGen:i}),this._loadAndStart({snapshot:e.gameSnapshot})}},e.prototype._leaveGame=function(){},e.prototype._abortGame=function(){this.abortTrigger.fire()},e.prototype._onRawTargetTimeReached=function(t){this._notifiesTargetTimeReached&&(this._notifiesTargetTimeReached=!1,this.targetTimeReachedTrigger.fire(t))},e.prototype._onSkippingChanged=function(t){this._isSkipAware&&this.skippingChanged.fire(t)},e}(n.Game);i.Game=o},{\"@akashic/akashic-engine\":1}],11:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"es6-promise\"),n=t(\"@akashic/akashic-engine\"),o=t(\"./ExecutionMode\"),s=t(\"./Game\"),a=t(\"./EventBuffer\"),h=t(\"./GameLoop\"),c=t(\"./PdiUtil\"),u=function(){function t(t){this.errorTrigger=new n.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this.configurationLoadedTrigger=new n.Trigger,this.gameCreatedTrigger=new n.Trigger,this._platform=t.platform,this._loadConfigurationFunc=c.PdiUtil.makeLoadConfigurationFunc(t.platform),this._player=t.player,this._rendererRequirement=null,this._playId=null,this._game=null,this._gameLoop=null,this._eventBuffer=null,this._openedAmflow=!1,this._playToken=null,this._permission=null,this._hidden=!1,this._destroyed=!1}return t.prototype.initialize=function(t,e){this.doInitialize(t).then(function(){e()},e)},t.prototype.changeState=function(t,e){var i=this,r=this._gameLoop&&this._gameLoop.running;r&&this._gameLoop.stop(),this.initialize(t,function(t){if(t)return void e(t);r&&i._gameLoop.start(),e()})},t.prototype.startGame=function(){if(!this._gameLoop)return void this.errorTrigger.fire(new Error(\"Not initialized\"));this._gameLoop.start()},t.prototype.stopGame=function(){this._gameLoop&&this._gameLoop.stop()},t.prototype.setNextAge=function(t){this._gameLoop.setNextAge(t)},t.prototype.getPermission=function(){return this._permission},t.prototype.getDriverConfiguration=function(){return{playId:this._playId,playToken:this._playToken,executionMode:this._gameLoop?this._gameLoop.getExecutionMode():void 0,eventBufferMode:this._eventBuffer?this._eventBuffer.getMode():void 0}},t.prototype.getLoopConfiguration=function(){return this._gameLoop?this._gameLoop.getLoopConfiguration():null},t.prototype.getHidden=function(){return this._hidden},t.prototype.resetPrimarySurface=function(t,e,i){i=i||(this._rendererRequirement?this._rendererRequirement.rendererCandidates:null);var r=this._game,n=this._platform,o=n.getPrimarySurface();r.renderers=r.renderers.filter(function(t){return t!==o.renderer()}),n.setRendererRequirement({primarySurfaceWidth:t,primarySurfaceHeight:e,rendererCandidates:i}),this._rendererRequirement={primarySurfaceWidth:t,primarySurfaceHeight:e,rendererCandidates:i},r.renderers.push(n.getPrimarySurface().renderer()),r.width=t,r.height=e,r.resized.fire({width:t,height:e}),r.modified=!0},t.prototype.doInitialize=function(t){var e=this,i=new r.Promise(function(i,r){if(e._gameLoop&&e._gameLoop.running)return r(new Error(\"Game is running. Must be stopped.\"));e._gameLoop&&t.loopConfiguration&&e._gameLoop.setLoopConfiguration(t.loopConfiguration),null!=t.hidden&&(e._hidden=t.hidden,e._game&&e._game._setMuted(t.hidden)),i()}).then(function(){return e._assertLive(),e._doSetDriverConfiguration(t.driverConfiguration)});return t.configurationUrl?i.then(function(){return e._assertLive(),e._loadConfiguration(t.configurationUrl,t.assetBase,t.configurationBase)}).then(function(i){return e._assertLive(),e._createGame(i,e._player,t)}):i},t.prototype.destroy=function(){var t=this;return new r.Promise(function(e,i){t.stopGame(),t._game&&(t._game._destroy(),t._game=null),t.errorTrigger.destroy(),t.errorTrigger=null,t.configurationLoadedTrigger.destroy(),t.configurationLoadedTrigger=null,t.gameCreatedTrigger.destroy(),t.gameCreatedTrigger=null,t._platform.destroy?t._platform.destroy():t._platform.setRendererRequirement(void 0),t._platform=null,t._loadConfigurationFunc=null,t._player=null,t._rendererRequirement=null,t._playId=null,t._gameLoop=null,t._eventBuffer=null,t._openedAmflow=!1,t._playToken=null,t._permission=null,t._hidden=!1,t._destroyed=!0,e()})},t.prototype._doSetDriverConfiguration=function(t){var e=this;if(null==t)return r.Promise.resolve();void 0===t.playId&&(t.playId=this._playId),void 0===t.playToken&&(t.playToken=this._playToken),void 0===t.eventBufferMode&&(t.executionMode===o.default.Active?t.eventBufferMode={isReceiver:!0,isSender:!1}:t.executionMode===o.default.Passive&&(t.eventBufferMode={isReceiver:!1,isSender:!0}));var i=r.Promise.resolve();return this._playId!==t.playId&&(i=i.then(function(){return e._assertLive(),e._doOpenAmflow(t.playId)})),this._playToken!==t.playToken&&(i=i.then(function(){return e._assertLive(),e._doAuthenticate(t.playToken)})),i.then(function(){e._assertLive(),null!=t.eventBufferMode&&(null==t.eventBufferMode.defaultEventPriority&&(t.eventBufferMode.defaultEventPriority=e._permission.maxEventPriority),e._eventBuffer&&e._eventBuffer.setMode(t.eventBufferMode)),null!=t.executionMode&&e._gameLoop&&e._gameLoop.setExecutionMode(t.executionMode)})},t.prototype._doCloseAmflow=function(){var t=this;return new r.Promise(function(e,i){if(!t._openedAmflow)return e();t._platform.amflow.close(function(r){t._openedAmflow=!1;var n=t._getCallbackError(r);if(n)return i(n);e()})})},t.prototype._doOpenAmflow=function(t){var e=this;return void 0===t?r.Promise.resolve():this._doCloseAmflow().then(function(){return e._assertLive(),new r.Promise(function(i,r){if(null===t)return i();e._platform.amflow.open(t,function(n){var o=e._getCallbackError(n);if(o)return r(o);e._openedAmflow=!0,e._playId=t,e._game&&e._updateGamePlayId(e._game),i()})})})},t.prototype._doAuthenticate=function(t){var e=this;return null==t?r.Promise.resolve():new r.Promise(function(i,r){e._platform.amflow.authenticate(t,function(n,o){var s=e._getCallbackError(n);if(s)return r(s);e._playToken=t,e._permission=o,e._game&&(e._game.isSnapshotSaver=e._permission.writeTick),i()})})},t.prototype._loadConfiguration=function(t,e,i){var n=this;return new r.Promise(function(r,o){n._loadConfigurationFunc(t,e,i,function(t,e){var i=n._getCallbackError(t);if(i)return o(i);n.configurationLoadedTrigger.fire(e),r(e)})})},t.prototype._putZerothStartPoint=function(t){var e=this;return new r.Promise(function(i,r){var n={frame:0,timestamp:t.startedAt,data:t};e._platform.amflow.putStartPoint(n,function(t){var n=e._getCallbackError(t);if(n)return r(n);i()})})},t.prototype._getZerothStartPointData=function(){var t=this;return new r.Promise(function(e,i){t._platform.amflow.getStartPoint({frame:0},function(r,n){var o=t._getCallbackError(r);if(o)return i(o);var s=n.data;if(\"number\"!=typeof s.seed)return i(new Error(\"GameDriver#_getRandomSeed: No seed found.\"));e(s)})})},t.prototype._createGame=function(t,e,i){var c,u=this,l=i.driverConfiguration.executionMode===o.default.Active&&this._permission.writeTick;return c=l?this._putZerothStartPoint({seed:Date.now(),globalArgs:i.globalGameArgs,fps:t.fps,startedAt:Date.now()}):r.Promise.resolve(),c=c.then(function(){return u._assertLive(),u._getZerothStartPointData()}),c.then(function(r){u._assertLive();var c=u._platform,l=i.driverConfiguration||{eventBufferMode:{isReceiver:!0,isSender:!1},executionMode:o.default.Active},d=r.seed,p=i.gameArgs,f=r.globalArgs,_=r.startedAt,g={primarySurfaceWidth:t.width,primarySurfaceHeight:t.height,rendererCandidates:t.renderers};c.setRendererRequirement(g);var y=new s.Game({configuration:t,player:e,resourceFactory:c.getResourceFactory(),assetBase:i.assetBase,isSnapshotSaver:u._permission.writeTick,operationPluginViewInfo:c.getOperationPluginViewInfo?c.getOperationPluginViewInfo():null,gameArgs:p,globalGameArgs:f}),m=new a.EventBuffer({game:y,amflow:c.amflow});m.setMode(l.eventBufferMode),c.setPlatformEventHandler(m),y.setEventFilterFuncs({addFilter:m.addFilter.bind(m),removeFilter:m.removeFilter.bind(m)}),y.renderers.push(c.getPrimarySurface().renderer());var v=new h.GameLoop({game:y,amflow:c.amflow,platform:c,executionMode:l.executionMode,eventBuffer:m,configuration:i.loopConfiguration,startedAt:_,profiler:i.profiler});v.rawTargetTimeReachedTrigger.add(y._onRawTargetTimeReached,y),y.setCurrentTimeFunc(v.getCurrentTime.bind(v)),y._reset({age:0,randGen:new n.XorshiftRandomGenerator(d)}),u._updateGamePlayId(y),u._hidden&&y._setMuted(!0),y.snapshotTrigger.add(function(t){u._platform.amflow.putStartPoint(t,function(t){var e=u._getCallbackError(t);e&&u.errorTrigger.fire(e)})}),u._game=y,u._eventBuffer=m,u._gameLoop=v,u._rendererRequirement=g,u.gameCreatedTrigger.fire(y),u._game._loadAndStart({args:i.gameArgs||void 0})})},t.prototype._updateGamePlayId=function(t){var e=this;t.playId=this._playId,t.external.send=function(t){e._platform.sendToExternal(e._playId,t)}},t.prototype._assertLive=function(){if(this._destroyed)throw new Error(\"GAME_DESTROYED\")},t.prototype._getCallbackError=function(t){return t||(this._destroyed?new Error(\"GAME_DESTROYED\"):null)},t}();i.GameDriver=u},{\"./EventBuffer\":6,\"./ExecutionMode\":9,\"./Game\":10,\"./GameLoop\":12,\"./PdiUtil\":16,\"@akashic/akashic-engine\":1,\"es6-promise\":83}],12:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0})\n;var r=t(\"@akashic/akashic-engine\"),n=t(\"./constants\"),o=t(\"./LoopMode\"),s=t(\"./LoopRenderMode\"),a=t(\"./ExecutionMode\"),h=t(\"./Clock\"),c=t(\"./ProfilerClock\"),u=t(\"./EventConverter\"),l=t(\"./TickController\"),d=function(){function t(t){this.errorTrigger=new r.Trigger,this.rawTargetTimeReachedTrigger=new r.Trigger,this.running=!1,this._currentTime=t.startedAt,this._frameTime=1e3/t.game.fps,this._omittedTickDuration=0,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner);var e=t.configuration;this._startedAt=t.startedAt,this._targetTimeFunc=e.targetTimeFunc||null,this._targetTimeOffset=e.targetTimeOffset||null,this._originDate=e.originDate||null,this._realTargetTimeOffset=null!=this._originDate?this._originDate:(this._targetTimeOffset||0)+this._startedAt,this._delayIgnoreThreshold=e.delayIgnoreThreshold||n.DEFAULT_DELAY_IGNORE_THRESHOLD,this._skipTicksAtOnce=e.skipTicksAtOnce||n.DEFAULT_SKIP_TICKS_AT_ONCE,this._skipThreshold=e.skipThreshold||n.DEFAULT_SKIP_THRESHOLD,this._skipThresholdTime=this._skipThreshold*this._frameTime,this._jumpTryThreshold=e.jumpTryThreshold||n.DEFAULT_JUMP_TRY_THRESHOLD,this._jumpIgnoreThreshold=e.jumpIgnoreThreshold||n.DEFAULT_JUMP_IGNORE_THRESHOLD,this._pollingTickThreshold=e._pollingTickThreshold||n.DEFAULT_POLLING_TICK_THRESHOLD,this._playbackRate=e.playbackRate||1;var i=null!=e.loopRenderMode?e.loopRenderMode:s.default.AfterRawFrame;this._loopRenderMode=null,this._omitInterpolatedTickOnReplay=null==e.omitInterpolatedTickOnReplay||e.omitInterpolatedTickOnReplay,this._loopMode=e.loopMode,this._amflow=t.amflow,this._game=t.game,this._eventBuffer=t.eventBuffer,this._executionMode=t.executionMode,this._sceneTickMode=null,this._sceneLocalMode=null,this._targetAge=null!=e.targetAge?e.targetAge:null,this._waitingStartPoint=!1,this._lastRequestedStartPointAge=-1,this._lastRequestedStartPointTime=-1,this._waitingNextTick=!1,this._consumedLatestTick=!1,this._skipping=!1,this._lastPollingTickTime=0,t.profiler?this._clock=new c.ProfilerClock({fps:t.game.fps,scaleFactor:this._playbackRate,platform:t.platform,maxFramePerOnce:5,profiler:t.profiler}):this._clock=new h.Clock({fps:t.game.fps,scaleFactor:this._playbackRate,platform:t.platform,maxFramePerOnce:5}),this._tickController=new l.TickController({amflow:t.amflow,clock:this._clock,game:t.game,eventBuffer:t.eventBuffer,executionMode:t.executionMode,startedAt:t.startedAt,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._eventConverter=new u.EventConverter({game:t.game}),this._tickBuffer=this._tickController.getBuffer(),this._onGotStartPoint_bound=this._onGotStartPoint.bind(this),this._setLoopRenderMode(i),this._game.setIsSkipAware(null==e.skipAwareGame||e.skipAwareGame),this._game.setStorageFunc(this._tickController.storageFunc()),this._game.raiseEventTrigger.add(this._onGameRaiseEvent,this),this._game.raiseTickTrigger.add(this._onGameRaiseTick,this),this._game._started.add(this._onGameStarted,this),this._game._operationPluginOperated.add(this._onGameOperationPluginOperated,this),this._tickBuffer.gotNextTickTrigger.add(this._onGotNextFrameTick,this),this._tickBuffer.gotNoTickTrigger.add(this._onGotNoTick,this),this._tickBuffer.start(),this._updateGamePlaybackRate(),this._handleSceneChange()}return t.prototype.start=function(){this.running=!0,this._clock.start()},t.prototype.stop=function(){this._clock.stop(),this.running=!1},t.prototype.setNextAge=function(t){this._tickController.setNextAge(t)},t.prototype.getExecutionMode=function(){return this._executionMode},t.prototype.setExecutionMode=function(t){this._executionMode=t,this._tickController.setExecutionMode(t)},t.prototype.getLoopConfiguration=function(){return{loopMode:this._loopMode,delayIgnoreThreshold:this._delayIgnoreThreshold,skipTicksAtOnce:this._skipTicksAtOnce,skipThreshold:this._skipThreshold,skipAwareGame:this._game.getIsSkipAware(),jumpTryThreshold:this._jumpTryThreshold,jumpIgnoreThreshold:this._jumpIgnoreThreshold,playbackRate:this._playbackRate,loopRenderMode:this._loopRenderMode,targetTimeFunc:this._targetTimeFunc,targetTimeOffset:this._targetTimeOffset,originDate:this._originDate,omitInterpolatedTickOnReplay:this._omitInterpolatedTickOnReplay,targetAge:this._targetAge}},t.prototype.setLoopConfiguration=function(t){null!=t.loopMode&&(this._loopMode=t.loopMode),null!=t.delayIgnoreThreshold&&(this._delayIgnoreThreshold=t.delayIgnoreThreshold),null!=t.skipTicksAtOnce&&(this._skipTicksAtOnce=t.skipTicksAtOnce),null!=t.skipThreshold&&(this._skipThreshold=t.skipThreshold,this._skipThresholdTime=this._skipThreshold*this._frameTime),null!=t.skipAwareGame&&this._game.setIsSkipAware(t.skipAwareGame),null!=t.jumpTryThreshold&&(this._jumpTryThreshold=t.jumpTryThreshold),null!=t.jumpIgnoreThreshold&&(this._jumpIgnoreThreshold=t.jumpIgnoreThreshold),null!=t.playbackRate&&(this._playbackRate=t.playbackRate,this._clock.changeScaleFactor(this._playbackRate),this._updateGamePlaybackRate()),null!=t.loopRenderMode&&this._setLoopRenderMode(t.loopRenderMode),null!=t.targetTimeFunc&&(this._targetTimeFunc=t.targetTimeFunc),null!=t.targetTimeOffset&&(this._targetTimeOffset=t.targetTimeOffset),null!=t.originDate&&(this._originDate=t.originDate),this._realTargetTimeOffset=null!=this._originDate?this._originDate:(this._targetTimeOffset||0)+this._startedAt,null!=t.omitInterpolatedTickOnReplay&&(this._omitInterpolatedTickOnReplay=t.omitInterpolatedTickOnReplay),null!=t.targetAge&&(this._targetAge!==t.targetAge&&(this._waitingNextTick=!1),this._targetAge=t.targetAge)},t.prototype.addTickList=function(t){this._tickBuffer.addTickList(t)},t.prototype.getCurrentTime=function(){return this._currentTime},t.prototype._startSkipping=function(){this._skipping=!0,this._updateGamePlaybackRate(),this._game.skippingChangedTrigger.fire(!0)},t.prototype._stopSkipping=function(){this._skipping=!1,this._updateGamePlaybackRate(),this._game.skippingChangedTrigger.fire(!1)},t.prototype._updateGamePlaybackRate=function(){var t=this._skipping?this._playbackRate*this._skipTicksAtOnce:this._playbackRate;this._game._setAudioPlaybackRate(t)},t.prototype._handleSceneChange=function(){var t=this._game.scene(),e=t?t.local:r.LocalTickMode.FullLocal,i=t?t.tickGenerationMode:r.TickGenerationMode.ByClock;if(this._sceneLocalMode!==e||this._sceneTickMode!==i)switch(this._sceneLocalMode=e,this._sceneTickMode=i,this._clock.frameTrigger.remove(this._onFrame,this),this._clock.frameTrigger.remove(this._onLocalFrame,this),e){case r.LocalTickMode.FullLocal:this._tickController.stopTick(),this._clock.frameTrigger.add(this._onLocalFrame,this);break;case r.LocalTickMode.NonLocal:case r.LocalTickMode.InterpolateLocal:i===r.TickGenerationMode.ByClock?this._tickController.startTick():this._tickController.startTickOnce(),this._clock.frameTrigger.add(this._onFrame,this);break;default:return void this.errorTrigger.fire(new Error(\"Unknown LocalTickMode: \"+e))}},t.prototype._onLocalFrame=function(){this._doLocalTick()},t.prototype._doLocalTick=function(){var t=this._game,e=this._eventBuffer.readLocalEvents();if(this._currentTime+=this._frameTime,e)for(var i=0,r=e.length;i<r;++i)t.events.push(this._eventConverter.toGameEvent(e[i]));var n=t.tick(!1,Math.floor(this._omittedTickDuration/this._frameTime));this._omittedTickDuration=0,n&&this._handleSceneChange()},t.prototype._onFrame=function(t){if(this._loopMode===o.default.Replay&&this._targetTimeFunc){var e=this._targetTimeFunc(),i=e+this._realTargetTimeOffset,r=this._currentTime;this._onFrameForTimedReplay(i,t),r===this._currentTime&&r<=i&&i<=r+this._frameTime&&this.rawTargetTimeReachedTrigger.fire(e)}else this._onFrameNormal(t)},t.prototype._onFrameForTimedReplay=function(t,e){var i=!1,n=this._game,o=t-this._currentTime,s=o/this._frameTime;if((s>this._jumpTryThreshold||s<0)&&!this._waitingStartPoint&&this._lastRequestedStartPointTime<this._currentTime&&(this._waitingStartPoint=!0,this._lastRequestedStartPointTime=t,this._amflow.getStartPoint({timestamp:t},this._onGotStartPoint_bound)),s<=0)return void(this._skipping&&this._stopSkipping());this._skipping||(s>this._skipThreshold||0===this._tickBuffer.currentAge)&&(this._tickBuffer.hasNextTick()||this._omitInterpolatedTickOnReplay&&this._consumedLatestTick)&&this._startSkipping();for(var a=0;a<this._skipTicksAtOnce;++a){var h=this._currentTime+this._frameTime;if(!this._tickBuffer.hasNextTick()){this._waitingNextTick||(this._startWaitingNextTick(),this._consumedLatestTick||this._tickBuffer.requestTicks()),this._omitInterpolatedTickOnReplay&&this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&(this._consumedLatestTick&&(this._currentTime=t-this._frameTime),t>h&&this._doLocalTick());break}var c=this._tickBuffer.readNextTickTime();if(null==c&&(c=h),t<h){if(!(c<=t))break;h=t}else if(h<c){if(!this._omitInterpolatedTickOnReplay||!this._skipping){this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick();continue}if(t<=c){this._omittedTickDuration+=t-this._currentTime,this._currentTime=Math.floor(t/this._frameTime)*this._frameTime;break}h=c,this._omittedTickDuration+=c-this._currentTime}this._currentTime=h;var u=this._tickBuffer.consume(),l=-1,d=this._eventBuffer.readLocalEvents();if(d)for(var p=0,f=d.length;p<f;++p)n.events.push(this._eventConverter.toGameEvent(d[p]));if(\"number\"==typeof u)l=u,i=n.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime));else{l=u[0];var _=u[1];if(_)for(var p=0,f=_.length;p<f;++p)n.events.push(this._eventConverter.toGameEvent(_[p]));i=n.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime))}if(this._omittedTickDuration=0,n._notifyPassedAgeTable[l]&&n.fireAgePassedIfNeeded()){e.interrupt=!0;break}if(i){this._handleSceneChange();break}}this._skipping&&t-this._currentTime<this._frameTime&&this._stopSkipping()},t.prototype._onFrameNormal=function(t){var e=!1,i=this._game;if(!this._skipping&&t.deltaTime>this._skipThresholdTime&&(this._startSkipping(),this._waitingNextTick&&this._stopSkipping()),this._waitingNextTick)return void(this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick());var n,s,a=this._tickBuffer.currentAge;if(this._loopMode===o.default.Realtime?(n=this._tickBuffer.knownLatestAge+1,s=n-a):null===this._targetAge?(n=null,s=1):this._targetAge===a?(n=this._targetAge=null,s=1):(n=this._targetAge,s=n-a),(s>this._jumpTryThreshold||s<0)&&!this._waitingStartPoint&&this._lastRequestedStartPointAge<a&&(this._waitingStartPoint=!0,this._lastRequestedStartPointAge=n,this._amflow.getStartPoint({frame:n},this._onGotStartPoint_bound)),s<=0)return 0===s&&(0===a&&this._tickBuffer.requestTicks(),this._startWaitingNextTick()),this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick(),void(this._skipping&&this._stopSkipping());!this._skipping&&(s>this._skipThreshold||0===a)&&this._tickBuffer.hasNextTick()&&this._startSkipping();for(var h=!this._skipping&&s<=this._delayIgnoreThreshold?1:Math.min(s,this._skipTicksAtOnce),c=0;c<h;++c){var u=this._currentTime+this._frameTime,l=this._tickBuffer.readNextTickTime();if(null!=l&&u<l){if(!(this._loopMode===o.default.Realtime||this._omitInterpolatedTickOnReplay&&this._skipping)){if(this._sceneLocalMode===r.LocalTickMode.InterpolateLocal){this._doLocalTick();continue}break}u=Math.ceil(l/this._frameTime)*this._frameTime,this._omittedTickDuration+=u-this._currentTime}this._currentTime=u;var d=this._tickBuffer.consume(),p=-1;if(null==d){this._tickBuffer.requestTicks(),this._startWaitingNextTick();break}var f=this._eventBuffer.readLocalEvents();if(f)for(var _=0,g=f.length;_<g;++_)i.events.push(this._eventConverter.toGameEvent(f[_]));if(\"number\"==typeof d)p=d,e=i.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime));else{p=d[0];var y=d[1];if(y)for(var m=0,g=y.length;m<g;++m)i.events.push(this._eventConverter.toGameEvent(y[m]));e=i.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime))}if(this._omittedTickDuration=0,i._notifyPassedAgeTable[p]&&i.fireAgePassedIfNeeded()){t.interrupt=!0;break}if(e){this._handleSceneChange();break}}this._skipping&&n-this._tickBuffer.currentAge<1&&this._stopSkipping()},t.prototype._onGotNextFrameTick=function(){this._consumedLatestTick=!1,this._waitingNextTick&&this._loopMode!==o.default.FrameByFrame&&this._stopWaitingNextTick()},t.prototype._onGotNoTick=function(){this._waitingNextTick&&(this._consumedLatestTick=!0)},t.prototype._onGotStartPoint=function(t,e){if(this._waitingStartPoint=!1,t)return void this.errorTrigger.fire(t);if(this._targetTimeFunc&&this._loopMode!==o.default.Realtime){var i=this._targetTimeFunc()+this._realTargetTimeOffset;if(i<e.timestamp)return;var r=this._currentTime;if(r<=i&&e.timestamp<r+this._jumpIgnoreThreshold*this._frameTime)return}else{var n=this._loopMode===o.default.Realtime?this._tickBuffer.knownLatestAge+1:this._targetAge;if(null===n||n<e.frame)return;var s=this._tickBuffer.currentAge;if(s<=n&&e.frame<s+this._jumpIgnoreThreshold)return}this._clock.frameTrigger.remove(this._onEventsProcessed,this),this._skipping&&this._stopSkipping(),this._tickBuffer.setCurrentAge(e.frame),this._currentTime=e.timestamp||e.data.timestamp||0,this._waitingNextTick=!1,this._consumedLatestTick=!1,this._lastRequestedStartPointAge=-1,this._lastRequestedStartPointTime=-1,this._omittedTickDuration=0,this._game._restartWithSnapshot(e),this._handleSceneChange()},t.prototype._onGameStarted=function(){this._clock.frameTrigger.add({index:0,owner:this,func:this._onEventsProcessed})},t.prototype._onEventsProcessed=function(){this._eventBuffer.processEvents(this._sceneLocalMode===r.LocalTickMode.FullLocal)},t.prototype._setLoopRenderMode=function(t){if(t!==this._loopRenderMode)switch(this._loopRenderMode=t,t){case s.default.AfterRawFrame:this._clock.rawFrameTrigger.add(this._renderOnRawFrame,this);break;case s.default.None:this._clock.rawFrameTrigger.remove(this._renderOnRawFrame,this);break;default:this.errorTrigger.fire(new Error(\"GameLoop#_setLoopRenderMode: unknown mode: \"+t))}},t.prototype._renderOnRawFrame=function(){var t=this._game;t.modified&&t.scenes.length>0&&t.render()},t.prototype._onGameRaiseEvent=function(t){var e=this._eventConverter.toPlaylogEvent(t);this._eventBuffer.onEvent(e)},t.prototype._onGameRaiseTick=function(t){if(this._executionMode===a.default.Active){if(t)for(var e=0;e<t.length;++e)this._eventBuffer.addEventDirect(this._eventConverter.toPlaylogEvent(t[e]));this._tickController.forceGenerateTick()}},t.prototype._onGameOperationPluginOperated=function(t){var e=this._eventConverter.makePlaylogOperationEvent(t);this._eventBuffer.onEvent(e)},t.prototype._onPollingTick=function(){var t=Date.now();t-this._lastPollingTickTime>this._pollingTickThreshold&&(this._lastPollingTickTime=t,this._tickBuffer.requestTicks())},t.prototype._startWaitingNextTick=function(){this._waitingNextTick=!0,this._clock.rawFrameTrigger.add(this._onPollingTick,this),this._lastPollingTickTime=Date.now(),this._skipping&&this._stopSkipping()},t.prototype._stopWaitingNextTick=function(){this._waitingNextTick=!1,this._clock.rawFrameTrigger.remove(this._onPollingTick,this)},t}();i.GameLoop=d},{\"./Clock\":5,\"./EventConverter\":7,\"./ExecutionMode\":9,\"./LoopMode\":14,\"./LoopRenderMode\":15,\"./ProfilerClock\":18,\"./TickController\":21,\"./constants\":26,\"@akashic/akashic-engine\":1}],13:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t,e,i,r){this.joinResolver=e,this.pev=t,0===t[0]&&r?(this.resolved=!1,i.getStorageData(r,this._onGotStorageData.bind(this))):this.resolved=!0}return t.prototype._onGotStorageData=function(t,e){if(this.resolved=!0,t)return void this.joinResolver.errorTrigger.fire(t);this.pev[4]=e},t}();i.JoinLeaveRequest=n;var o=function(){function t(t){this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this._amflow=t.amflow,this._keysForJoin=null,this._requested=[]}return t.prototype.request=function(t){this._requested.push(new n(t,this,this._amflow,this._keysForJoin))},t.prototype.readResolved=function(){var t=this._requested.length;if(0===t||!this._requested[0].resolved)return null;for(var e=[],i=0;i<t;++i){var r=this._requested[i];if(!r.resolved)break;e.push(r.pev)}return this._requested.splice(0,i),e},t.prototype.setRequestValuesForJoin=function(t){this._keysForJoin=t},t}();i.JoinResolver=o},{\"@akashic/akashic-engine\":1}],14:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r;!function(t){t[t.Realtime=0]=\"Realtime\",t[t.Replay=1]=\"Replay\",t[t.FrameByFrame=2]=\"FrameByFrame\"}(r||(r={})),i.default=r},{}],15:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r;!function(t){t[t.AfterRawFrame=0]=\"AfterRawFrame\",t[t.None=1]=\"None\"}(r||(r={})),i.default=r},{}],16:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"es6-promise\"),n=t(\"@akashic/akashic-engine\");!function(t){function e(e){function i(i,s,a,h){e.loadGameConfiguration(i,function(e,c){if(e)return void h(e,null);try{c=t._resolveConfigurationBasePath(c,null!=s?s:n.PathUtil.resolveDirname(i))}catch(t){return void h(t,null)}if(!c.definitions)return void h(null,c);var u=c.definitions.map(function(t){if(\"string\"==typeof t){var e=null!=a?n.PathUtil.resolvePath(a,t):t;return o(e,void 0,a)}var e=null!=a?n.PathUtil.resolvePath(a,t.url):t.url;return o(e,t.basePath,a)});r.Promise.all(u).then(function(e){return h(null,e.reduce(t._mergeGameConfiguration))}).catch(function(t){return h(t,null)})})}function o(t,e,n){return new r.Promise(function(r,o){i(t,e,n,function(t,e){t?o(t):r(e)})})}return i}function i(t,e){function i(t,e){var i=n.PathUtil.resolvePath(t,e);if(0!==i.indexOf(t))throw n.ExceptionFactory.createAssertionError(\"PdiUtil._resolveConfigurationBasePath: invalid path: \"+e);return i}var r=t.assets;if(r instanceof Object)for(var o in r)r.hasOwnProperty(o)&&\"path\"in r[o]&&(r[o].virtualPath=r[o].virtualPath||r[o].path,r[o].path=i(e,r[o].path));return t.globalScripts&&(t.globalScripts.forEach(function(t){if(r.hasOwnProperty(t))throw n.ExceptionFactory.createAssertionError(\"PdiUtil._resolveConfigurationBasePath: asset ID already exists: \"+t);r[t]={type:/\\.json$/i.test(t)?\"text\":\"script\",virtualPath:t,path:i(e,t),global:!0}}),delete t.globalScripts),t}function o(e,i){for(var r=Object.keys(i),n=0,o=r.length;n<o;++n){var s=r[n],a=i[s];if(typeof a===typeof e[s])switch(typeof a){case\"string\":case\"number\":case\"boolean\":e[s]=a;break;case\"object\":null==a?e[s]=a:Array.isArray(a)?e[s]=e[s].concat(a):t._mergeObject(e[s],a);break;default:throw new Error(\"PdiUtil._mergeObject(): unknown type\")}else e[s]=a}return e}function s(e,i){return t._mergeObject(e,i)}t.makeLoadConfigurationFunc=e,t._resolveConfigurationBasePath=i,t._mergeObject=o,t._mergeGameConfiguration=s}(i.PdiUtil||(i.PdiUtil={}))},{\"@akashic/akashic-engine\":1,\"es6-promise\":83}],17:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this._game=t.game,this._pointEventMap={}}return t.prototype.pointDown=function(t){var e=this._game.player,i=this._game.findPointSource(t.offset),r=i.point?i.point:t.offset,n=i.target?i.target.id:null;this._pointEventMap[t.identifier]={targetId:n,local:i.local,point:r,start:{x:t.offset.x,y:t.offset.y},prev:{x:t.offset.x,y:t.offset.y}};var o=[33,2,e.id,t.identifier,r.x,r.y,n];return i.local&&o.push(i.local),o},t.prototype.pointMove=function(t){var e=this._game.player,i=this._pointEventMap[t.identifier];if(!i)return null;var r={x:0,y:0},n={x:0,y:0};this._pointMoveAndUp(i,t.offset,r,n);var o=[34,2,e.id,t.identifier,i.point.x,i.point.y,n.x,n.y,r.x,r.y,i.targetId];return i.local&&o.push(i.local),o},t.prototype.pointUp=function(t){var e=this._game.player,i=this._pointEventMap[t.identifier];if(!i)return null;var r={x:0,y:0},n={x:0,y:0};this._pointMoveAndUp(i,t.offset,r,n),delete this._pointEventMap[t.identifier];var o=[35,2,e.id,t.identifier,i.point.x,i.point.y,n.x,n.y,r.x,r.y,i.targetId];return i.local&&o.push(i.local),o},t.prototype._pointMoveAndUp=function(t,e,i,r){r.x=e.x-t.start.x,r.y=e.y-t.start.y,i.x=e.x-t.prev.x,i.y=e.y-t.prev.y,t.prev.x=e.x,t.prev.y=e.y},t}();i.PointEventResolver=r},{}],18:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./Clock\"),o=function(t){function e(e){var i=t.call(this,e)||this;return i._profiler=e.profiler,i}return r(e,t),e.prototype._onLooperCall=function(t){var e=t;if(t<=0)return this._waitTime-this._totalDeltaTime;t>this._deltaTimeBrokenThreshold&&(t=this._waitTime);var i=this._totalDeltaTime;if((i+=t)<=this._skipFrameWaitTime)return this._totalDeltaTime=i,this._waitTime-i;this._profiler.timeEnd(1),this._profiler.time(1);var r=i<this._waitTimeDoubled?1:i>this._waitTimeMax?this._realMaxFramePerOnce:i/this._waitTime|0,n=r,o={deltaTime:e,interrupt:!1};for(this._profiler.setValue(0,n-1);n>0&&this.running&&!o.interrupt;)--n,this._profiler.time(2),this.frameTrigger.fire(o),this._profiler.timeEnd(2),o.deltaTime=0;return i-=(r-n)*this._waitTime,this._profiler.time(3),this.rawFrameTrigger.fire(),this._profiler.timeEnd(3),this._totalDeltaTime=i,this._profiler.flush(),this._waitTime-i},e}(n.Clock);i.ProfilerClock=o},{\"./Clock\":5}],19:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./ExecutionMode\"),o=function(){function t(t){this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this.getStorageFunc=this._getStorage.bind(this),this.putStorageFunc=this._putStorage.bind(this),this.requestValuesForJoinFunc=this._requestValuesForJoin.bind(this),this._game=t.game,this._amflow=t.amflow,this._tickGenerator=t.tickGenerator,this._tickBuffer=t.tickBuffer,this._executionMode=null,this.setExecutionMode(t.executionMode),this._unresolvedLoaders={},this._unresolvedStorages={},this._onStoragePut_bound=this._onStoragePut.bind(this)}return t.prototype.setExecutionMode=function(t){if(this._executionMode!==t){this._executionMode=t;var e=this._tickBuffer,i=this._tickGenerator;t===n.default.Active?(e.gotStorageTrigger.remove(this._onGotStorageOnTick,this),i.gotStorageTrigger.add(this._onGotStorageOnTick,this)):(i.gotStorageTrigger.remove(this._onGotStorageOnTick,this),e.gotStorageTrigger.add(this._onGotStorageOnTick,this))}},t.prototype._onGotStorageOnTick=function(t){var e=t.age,i=t.storageData,r=this._unresolvedLoaders[e];if(!r)return void(this._unresolvedStorages[e]=i);delete this._unresolvedLoaders[e];var n=e,o=i.map(function(t){return t.values});r._onLoaded(o,n)},t.prototype._getStorage=function(t,e,i){var r;null!=i?(r=i,this._tickBuffer.requestTicks(r,1)):this._executionMode===n.default.Active?r=this._tickGenerator.requestStorageTick(t):(r=this._game.age,this._tickBuffer.requestTicks(r,1));var o=this._unresolvedStorages[r];if(!o)return void(this._unresolvedLoaders[r]=e);delete this._unresolvedStorages[r];var s=r,a=o.map(function(t){return t.values});e._onLoaded(a,s)},t.prototype._putStorage=function(t,e,i){this._executionMode===n.default.Active&&this._amflow.putStorageData(t,e,i,this._onStoragePut_bound)},t.prototype._requestValuesForJoin=function(t){this._tickGenerator.setRequestValuesForJoin(t)},t.prototype._onStoragePut=function(t){t&&this.errorTrigger.fire(t)},t}();i.StorageResolver=o},{\"./ExecutionMode\":9,\"@akashic/akashic-engine\":1}],20:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./ExecutionMode\"),o=function(){function t(e){this.currentAge=0,this.knownLatestAge=-1,this.gotNextTickTrigger=new r.Trigger,this.gotNoTickTrigger=new r.Trigger,this.gotStorageTrigger=new r.Trigger,this._amflow=e.amflow,this._prefetchThreshold=e.prefetchThreshold||t.DEFAULT_PREFETCH_THRESHOLD,this._sizeRequestOnce=e.sizeRequestOnce||t.DEFAULT_SIZE_REQUEST_ONCE,this._executionMode=e.executionMode,this._startedAt=e.startedAt||0,this._oldTimestampThreshold=null!=e.startedAt?e.startedAt-864e6:0,this._receiving=!1,this._tickRanges=[],this._nearestAbsentAge=this.currentAge,this._nextTickTimeCache=null,this._addTick_bound=this.addTick.bind(this),this._onTicks_bound=this._onTicks.bind(this)}return t.prototype.start=function(){this._receiving=!0,this._updateAmflowReceiveState()},t.prototype.stop=function(){this._receiving=!1,this._updateAmflowReceiveState()},t.prototype.setExecutionMode=function(t){this._executionMode!==t&&(this._dropUntil(this.knownLatestAge+1),this.knownLatestAge=this.currentAge,this._nextTickTimeCache=null,this._nearestAbsentAge=this.currentAge,this._executionMode=t,this._updateAmflowReceiveState())},t.prototype.setCurrentAge=function(t){this._dropUntil(t),this._nextTickTimeCache=null,this.currentAge=t,this._nearestAbsentAge=this._findNearestAbscentAge(t)},t.prototype.hasNextTick=function(){return this.currentAge!==this._nearestAbsentAge},t.prototype.consume=function(){if(this.currentAge===this._nearestAbsentAge)return null;var t=this.currentAge,e=this._tickRanges[0];return t===e.start?(this._nextTickTimeCache=null,++this.currentAge,++e.start,t+this._prefetchThreshold===this._nearestAbsentAge&&this.requestTicks(this._nearestAbsentAge,this._sizeRequestOnce),e.start===e.end&&this._tickRanges.shift(),e.ticks.length>0&&e.ticks[0][0]===t?e.ticks.shift():t):(this._dropUntil(this.currentAge),this.consume())},t.prototype.readNextTickTime=function(){if(null!=this._nextTickTimeCache)return this._nextTickTimeCache;if(this.currentAge===this._nearestAbsentAge)return null;var t=this.currentAge,e=this._tickRanges[0];if(t===e.start){if(0===e.ticks.length)return null;var i=e.ticks[0];if(i[0]!==t)return null;var r=i[1];if(!r)return null;for(var n=0;n<r.length;++n)if(2===r[n][0]){var o=r[n][3];return o<this._oldTimestampThreshold&&(o+=this._startedAt),this._nextTickTimeCache=o,o}return null}return this._dropUntil(this.currentAge),this.readNextTickTime()},t.prototype.requestTicks=function(t,e){void 0===t&&(t=this.currentAge),void 0===e&&(e=this._sizeRequestOnce),this._executionMode===n.default.Passive&&this._amflow.getTickList(t,t+e,this._onTicks_bound)},t.prototype.addTick=function(t){var e=t[0],i=this.currentAge===e&&this._nearestAbsentAge===e;this.knownLatestAge<e&&(this.knownLatestAge=e),t[2]&&this.gotStorageTrigger.fire({age:t[0],storageData:t[2]});for(var r=this._tickRanges.length-1;r>=0;--r){var n=this._tickRanges[r];if(e>=n.start)break}var o=this._tickRanges[r+1];if(r<0)this._tickRanges.unshift(this._createTickRangeFromTick(t));else{var n=this._tickRanges[r];e===n.end?(++n.end,t[1]&&n.ticks.push(t)):e>n.end&&this._tickRanges.splice(r+1,0,this._createTickRangeFromTick(t))}this._nearestAbsentAge===e&&(++this._nearestAbsentAge,o&&this._nearestAbsentAge===o.start&&(this._nearestAbsentAge=this._findNearestAbscentAge(this._nearestAbsentAge))),i&&this.gotNextTickTrigger.fire()},t.prototype.addTickList=function(t){var e=t[0],i=t[1]+1,r=t[2],n=e,o=i;this.knownLatestAge<i-1&&(this.knownLatestAge=i-1);var s=0,a=this._tickRanges.length;for(s=0;s<a;++s){var h=this._tickRanges[s];if(e<h.start)break}var c=s;if(s>0){--s;var u=this._tickRanges[s].end;e<u&&(e=u)}for(;s<a;++s){var h=this._tickRanges[s];if(i<=h.end)break}if(s<a){var l=this._tickRanges[s].start;i>l&&(i=l)}if(e>=i)return{start:e,end:e,ticks:[]};r||(r=[]),n===e&&o===i||(r=r.filter(function(t){var r=t[0];return e<=r&&r<i}));for(var d=0;d<r.length;++d){var p=r[d];p[2]&&this.gotStorageTrigger.fire({age:p[0],storageData:p[2]})}var f={start:e,end:i,ticks:r},_=Math.max(0,s-c);return this._tickRanges.splice(c,_,f),e<=this._nearestAbsentAge&&this._nearestAbsentAge<i&&(this._nearestAbsentAge=this._findNearestAbscentAge(this._nearestAbsentAge)),f},t.prototype._updateAmflowReceiveState=function(){this._receiving&&this._executionMode===n.default.Passive?this._amflow.onTick(this._addTick_bound):this._amflow.offTick(this._addTick_bound)},t.prototype._onTicks=function(t,e){if(t)throw new Error;if(!e)return void this.gotNoTickTrigger.fire();var i=this.currentAge===this._nearestAbsentAge,r=this.addTickList(e);i&&r.start<=this.currentAge&&this.currentAge<r.end&&this.gotNextTickTrigger.fire(),r.ticks.length||this.gotNoTickTrigger.fire()},t.prototype._findNearestAbscentAge=function(t){for(var e=0,i=this._tickRanges.length;e<i&&!(t<=this._tickRanges[e].end);++e);for(;e<i;++e){var r=this._tickRanges[e];if(t<r.start)break;t=r.end}return t},t.prototype._dropUntil=function(t){var e;for(e=0;e<this._tickRanges.length&&!(t<this._tickRanges[e].end);++e);if(this._tickRanges=this._tickRanges.slice(e),0!==this._tickRanges.length){var i=this._tickRanges[0];if(!(t<i.start)){for(i.start=t,e=0;e<i.ticks.length&&!(t<=i.ticks[e][0]);++e);i.ticks=i.ticks.slice(e)}}},t.prototype._createTickRangeFromTick=function(t){var e=t[0],i={start:e,end:e+1,ticks:[]};return t[1]&&i.ticks.push(t),i},t.DEFAULT_PREFETCH_THRESHOLD=1800,t.DEFAULT_SIZE_REQUEST_ONCE=9e3,t}();i.TickBuffer=o},{\"./ExecutionMode\":9,\"@akashic/akashic-engine\":1}],21:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./ExecutionMode\"),o=t(\"./TickBuffer\"),s=t(\"./TickGenerator\"),a=t(\"./StorageResolver\"),h=function(){function t(t){this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this._amflow=t.amflow,this._clock=t.clock,this._started=!1,this._executionMode=t.executionMode,this._generator=new s.TickGenerator({amflow:t.amflow,eventBuffer:t.eventBuffer,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._buffer=new o.TickBuffer({amflow:t.amflow,executionMode:t.executionMode,startedAt:t.startedAt}),this._storageResolver=new a.StorageResolver({game:t.game,amflow:t.amflow,tickGenerator:this._generator,tickBuffer:this._buffer,executionMode:t.executionMode,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._generator.tickTrigger.add(this._onTickGenerated,this),this._clock.frameTrigger.add(this._generator.next,this._generator)}return t.prototype.startTick=function(){this._started=!0,this._updateGeneratorState()},t.prototype.stopTick=function(){this._started=!1,this._updateGeneratorState()},t.prototype.startTickOnce=function(){this._started=!0,this._generator.tickTrigger.addOnce(this._stopTriggerOnTick,this),this._updateGeneratorState()},t.prototype.setNextAge=function(t){this._generator.setNextAge(t)},t.prototype.forceGenerateTick=function(){this._generator.forceNext()},t.prototype.getBuffer=function(){return this._buffer},t.prototype.storageFunc=function(){return{storageGetFunc:this._storageResolver.getStorageFunc,storagePutFunc:this._storageResolver.putStorageFunc,requestValuesForJoinFunc:this._storageResolver.requestValuesForJoinFunc}},t.prototype.setExecutionMode=function(t){this._executionMode!==t&&(this._executionMode=t,this._updateGeneratorState(),this._buffer.setExecutionMode(t),this._storageResolver.setExecutionMode(t))},t.prototype._stopTriggerOnTick=function(){this.stopTick()},t.prototype._updateGeneratorState=function(){var t=this._started&&this._executionMode===n.default.Active;this._generator.startStopGenerate(t)},t.prototype._onTickGenerated=function(t){this._amflow.sendTick(t),this._buffer.addTick(t)},t}();i.TickController=h},{\"./ExecutionMode\":9,\"./StorageResolver\":19,\"./TickBuffer\":20,\"./TickGenerator\":22,\"@akashic/akashic-engine\":1}],22:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./JoinResolver\"),o=function(){function t(t){this.tickTrigger=new r.Trigger,this.gotStorageTrigger=new r.Trigger,this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this._amflow=t.amflow,\nthis._eventBuffer=t.eventBuffer,this._joinResolver=new n.JoinResolver({amflow:t.amflow,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._nextAge=0,this._storageDataForNext=null,this._generatingTick=!1,this._waitingStorage=!1,this._onGotStorageData_bound=this._onGotStorageData.bind(this)}return t.prototype.next=function(){if(this._generatingTick&&!this._waitingStorage){var t=this._eventBuffer.readJoinLeaves();if(t)for(var e=0;e<t.length;++e)this._joinResolver.request(t[e]);var i=this._eventBuffer.readEvents(),r=this._joinResolver.readResolved();r&&(i?i.push.apply(i,r):i=r);var n=this._storageDataForNext;this._storageDataForNext=null,this.tickTrigger.fire([this._nextAge++,i,n])}},t.prototype.forceNext=function(){if(this._waitingStorage)return void this.errorTrigger.fire(new Error(\"TickGenerator#forceNext(): cannot generate tick while waiting storage.\"));var t=this._generatingTick;this._generatingTick=!0,this.next(),this._generatingTick=t},t.prototype.startStopGenerate=function(t){this._generatingTick=t},t.prototype.startTick=function(){this._generatingTick=!0},t.prototype.stopTick=function(){this._generatingTick=!1},t.prototype.setNextAge=function(t){if(this._waitingStorage)return void this.errorTrigger.fire(new Error(\"TickGenerator#setNextAge(): cannot change the next age while waiting storage.\"));this._nextAge=t},t.prototype.requestStorageTick=function(t){if(this._waitingStorage){var e=r.ExceptionFactory.createAssertionError(\"TickGenerator#requestStorageTick(): Unsupported: multiple storage request\");return this.errorTrigger.fire(e),-1}return this._waitingStorage=!0,this._amflow.getStorageData(t,this._onGotStorageData_bound),this._nextAge},t.prototype.setRequestValuesForJoin=function(t){this._joinResolver.setRequestValuesForJoin(t)},t.prototype._onGotStorageData=function(t,e){if(this._waitingStorage=!1,t)return void this.errorTrigger.fire(t);this._storageDataForNext=e,this.gotStorageTrigger.fire({age:this._nextAge,storageData:e})},t}();i.TickGenerator=o},{\"./JoinResolver\":13,\"@akashic/akashic-engine\":1}],23:[function(t,e,i){\"use strict\";function r(t){return t&&\"object\"==typeof t?Array.isArray(t)?t.map(r):Object.keys(t).reduce(function(e,i){return e[i]=r(t[i]),e},{}):t}Object.defineProperty(i,\"__esModule\",{value:!0});var n=function(){function t(t){this._playId=t.playId,this._putStorageDataSyncFunc=t.putStorageDataSyncFunc||function(){throw new Error(\"Implementation not given\")},this._getStorageDataSyncFunc=t.getStorageDataSyncFunc||function(){throw new Error(\"Implementation not given\")},this._tickHandlers=[],this._eventHandlers=[],this._events=[],this._tickList=null,t.startPoints?(this._tickList=t.tickList,this._startPoints=t.startPoints):this._startPoints=[]}return t.prototype.dump=function(){return{tickList:this._tickList,startPoints:this._startPoints}},t.prototype.open=function(t,e){var i=this;setTimeout(function(){if(t!==i._playId)return void e(new Error(\"MemoryAmflowClient#open: unknown playId\"));e(null)},0)},t.prototype.close=function(t){setTimeout(function(){t(null)},0)},t.prototype.authenticate=function(e,i){setTimeout(function(){switch(e){case t.TOKEN_ACTIVE:i(null,{writeTick:!0,readTick:!0,subscribeTick:!1,sendEvent:!1,subscribeEvent:!0,maxEventPriority:2});break;case t.TOKEN_PASSIVE:i(null,{writeTick:!1,readTick:!0,subscribeTick:!0,sendEvent:!0,subscribeEvent:!1,maxEventPriority:2});break;default:i(null,{writeTick:!0,readTick:!0,subscribeTick:!0,sendEvent:!0,subscribeEvent:!0,maxEventPriority:2})}},0)},t.prototype.sendTick=function(t){if(t=r(t),this._tickList){if(this._tickList[0]<=t[0]&&t[0]<=this._tickList[1])throw new Error(\"illegal age tick\");this._tickList[1]=t[0]}else this._tickList=[t[0],t[0],[]];(t[1]||t[2])&&this._tickList[2].push(t),this._tickHandlers.forEach(function(e){return e(t)})},t.prototype.onTick=function(t){this._tickHandlers.push(t)},t.prototype.offTick=function(t){this._tickHandlers=this._tickHandlers.filter(function(e){return e!==t})},t.prototype.sendEvent=function(t){if(t=r(t),0===this._eventHandlers.length)return void this._events.push(t);this._eventHandlers.forEach(function(e){return e(t)})},t.prototype.onEvent=function(t){var e=this;this._eventHandlers.push(t),this._events.length>0&&(this._events.forEach(function(t){e._eventHandlers.forEach(function(e){return e(t)})}),this._events=[])},t.prototype.offEvent=function(t){this._eventHandlers=this._eventHandlers.filter(function(e){return e!==t})},t.prototype.getTickList=function(t,e,i){if(!this._tickList)return void setTimeout(function(){return i(null,null)},0);t=Math.max(t,this._tickList[0]),e=Math.min(e,this._tickList[1]);var r=this._tickList[2].filter(function(i){var r=i[0];return t<=r&&r<=e}),n=[t,e,r];setTimeout(function(){return i(null,n)},0)},t.prototype.putStartPoint=function(t,e){var i=this;setTimeout(function(){i._startPoints.push(t),e(null)},0)},t.prototype.getStartPoint=function(t,e){var i=this;setTimeout(function(){if(!i._startPoints||0===i._startPoints.length)return void e(new Error(\"no startpoint\"));var r=0;if(null!=t.frame)for(var n=i._startPoints[0].frame,o=1;o<i._startPoints.length;++o){var s=i._startPoints[o].frame;s<=t.frame&&n<s&&(n=s,r=o)}else for(var a=i._startPoints[0].timestamp,o=1;o<i._startPoints.length;++o){var h=i._startPoints[o].timestamp;h<=t.timestamp&&a<h&&(a=h,r=o)}e(null,i._startPoints[r])},0)},t.prototype.putStorageData=function(t,e,i,r){var n=this;setTimeout(function(){try{n._putStorageDataSyncFunc(t,e,i),r(null)}catch(t){r(t)}},0)},t.prototype.getStorageData=function(t,e){var i=this;setTimeout(function(){try{var r=i._getStorageDataSyncFunc(t);e(null,r)}catch(t){e(t)}},0)},t.prototype.dropAfter=function(t){if(this._tickList){var e=this._tickList[0],i=this._tickList[1];t<=e?(this._tickList=null,this._startPoints=[]):t<=i&&(this._tickList[1]=t-1,this._tickList[2]=this._tickList[2].filter(function(i){var r=i[0];return e<=r&&r<=t-1}),this._startPoints=this._startPoints.filter(function(e){return e.frame<t}))}},t.TOKEN_ACTIVE=\"mamfc-token:active\",t.TOKEN_PASSIVE=\"mamfc-token:passive\",t}();i.MemoryAmflowClient=n,i._cloneDeep=r},{}],24:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this._amflow=t.amflow,this._tickList=t.tickList,this._startPoints=t.startPoints}return t.prototype.dropAfter=function(t){if(this._tickList){var e=this._tickList[0],i=this._tickList[1],r=this._tickList[2];t<=e?(this._tickList=null,this._startPoints=[]):t<=i&&(this._tickList[1]=t-1,this._tickList[2]=this._sliceTicks(r,i,t-1),this._startPoints=this._startPoints.filter(function(e){return e.frame<t}))}},t.prototype.open=function(t,e){this._amflow.open(t,e)},t.prototype.close=function(t){this._amflow.close(t)},t.prototype.authenticate=function(t,e){this._amflow.authenticate(t,e)},t.prototype.sendTick=function(t){this._amflow.sendTick(t)},t.prototype.onTick=function(t){this._amflow.onTick(t)},t.prototype.offTick=function(t){this._amflow.offTick(t)},t.prototype.sendEvent=function(t){this._amflow.sendEvent(t)},t.prototype.onEvent=function(t){this._amflow.onEvent(t)},t.prototype.offEvent=function(t){this._amflow.offEvent(t)},t.prototype.getTickList=function(t,e,i){var r=this;if(!this._tickList)return void this._amflow.getTickList(t,e,i);var n=this._tickList[0],o=this._tickList[1],s=this._tickList[2],a=n<=t&&t<=o,h=n<=e&&e<=o;a&&h?setTimeout(function(){i(null,[t,e,r._sliceTicks(s,t,e)])},0):this._amflow.getTickList(t,e,function(c,u){if(c)return void i(c);if(u)if(a||h)if(a){var l=r._sliceTicks(s,t,e).concat(u[2]||[]);i(null,[t,u[1],l])}else{var l=(u[2]||[]).concat(r._sliceTicks(s,t,e));i(null,[u[0],e,l])}else if(e<n||o<t)i(null,u);else{var l=u[2];if(l){var d=r._sliceTicks(l,t,n-1),p=r._sliceTicks(l,o+1,e);l=d.concat(s,p)}else l=s;i(null,[t,e,l])}else a||h?a?i(null,[t,o,r._sliceTicks(s,t,e)]):i(null,[n,e,r._sliceTicks(s,t,e)]):e<n||o<t?i(null,u):i(null,[n,o,r._sliceTicks(s,t,e)])})},t.prototype.putStartPoint=function(t,e){this._amflow.putStartPoint(t,e)},t.prototype.getStartPoint=function(t,e){var i=this,r=0;if(this._startPoints.length>0)if(null!=t.frame)for(var n=this._startPoints[0].frame,o=1;o<this._startPoints.length;++o){var s=this._startPoints[o].frame;s<=t.frame&&n<s&&(n=s,r=o)}else for(var a=this._startPoints[0].timestamp,o=1;o<this._startPoints.length;++o){var h=this._startPoints[o].timestamp;h<=t.timestamp&&a<h&&(a=h,r=o)}var c=this._tickList?this._tickList[1]:-1;t.frame>c?this._amflow.getStartPoint(t,function(t,n){if(t)return void e(t);c<n.frame?e(null,n):e(null,i._startPoints[r])}):setTimeout(function(){e(null,i._startPoints[r])},0)},t.prototype.putStorageData=function(t,e,i,r){this._amflow.putStorageData(t,e,i,r)},t.prototype.getStorageData=function(t,e){this._amflow.getStorageData(t,e)},t.prototype._sliceTicks=function(t,e,i){return t.filter(function(t){var r=t[0];return e<=r&&r<=i})},t}();i.ReplayAmflowProxy=r},{}],25:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(e){this._interval=null!=e.interval?e.interval:t.DEFAULT_INTERVAL,null!=e.limit?this._limit=e.limit>=t.DEFAULT_LIMIT?e.limit:t.DEFAULT_LIMIT:this._limit=t.DEFAULT_LIMIT,this._calculateProfilerValueTrigger=new r.Trigger,e.getValueHandler&&this._calculateProfilerValueTrigger.add(e.getValueHandler,e.getValueHandlerOwner),this._reset()}return t.prototype.time=function(t){this._beforeTimes[t]=this._getCurrentTime()},t.prototype.timeEnd=function(t){var e=this._getCurrentTime(),i=null!=this._beforeTimes[t]?e-this._beforeTimes[t]:0;this._values[t].push({time:e,value:i})},t.prototype.flush=function(){var e=this._getCurrentTime();if(0===this._beforeFlushTime&&(this._beforeFlushTime=e),this._beforeFlushTime+this._interval<e&&(this._calculateProfilerValueTrigger.fire(this.getProfilerValue(this._interval)),this._beforeFlushTime=e),this._values[1].length>this._limit)for(var i in this._values)this._values.hasOwnProperty(i)&&(this._values[i]=this._values[i].slice(-t.BACKUP_MARGIN))},t.prototype.setValue=function(t,e){this._values[t].push({time:this._getCurrentTime(),value:e})},t.prototype.getProfilerValue=function(t){var e=this._calculateProfilerValue(1,t);return{skippedFrameCount:this._calculateProfilerValue(0,t),rawFrameInterval:e,framePerSecond:{ave:1e3/e.ave,max:1e3/e.min,min:1e3/e.max},frameTime:this._calculateProfilerValue(2,t),renderingTime:this._calculateProfilerValue(3,t)}},t.prototype._reset=function(){this._startTime=this._getCurrentTime(),this._beforeFlushTime=0,this._beforeTimes=[],this._beforeTimes[1]=0,this._beforeTimes[2]=0,this._beforeTimes[3]=0,this._beforeTimes[0]=0,this._values=[],this._values[1]=[],this._values[2]=[],this._values[3]=[],this._values[0]=[]},t.prototype._calculateProfilerValue=function(t,e){for(var i=this._getCurrentTime()-e,r=0,n=0,o=0,s=Number.MAX_VALUE,a=this._values[t].length-1;a>=0&&!(0<n&&this._values[t][a].time<i);--a){var h=this._values[t][a].value;o<h&&(o=h),h<s&&(s=h),r+=h,++n}return{ave:r/n,max:o,min:s}},t.prototype._getCurrentTime=function(){return+new Date},t.DEFAULT_INTERVAL=1e3,t.DEFAULT_LIMIT=1e3,t.BACKUP_MARGIN=100,t}();i.SimpleProfiler=n},{\"@akashic/akashic-engine\":1}],26:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0}),i.DEFAULT_DELAY_IGNORE_THRESHOLD=6,i.DEFAULT_SKIP_TICKS_AT_ONCE=100,i.DEFAULT_SKIP_THRESHOLD=100,i.DEFAULT_JUMP_TRY_THRESHOLD=3e4,i.DEFAULT_JUMP_IGNORE_THRESHOLD=15e3,i.DEFAULT_POLLING_TICK_THRESHOLD=1e4},{}],27:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t(\"./constants\"));var r=t(\"./EventIndex\");i.EventIndex=r;var n=t(\"./LoopMode\");i.LoopMode=n.default;var o=t(\"./LoopRenderMode\");i.LoopRenderMode=o.default;var s=t(\"./ExecutionMode\");i.ExecutionMode=s.default;var a=t(\"./GameDriver\");i.GameDriver=a.GameDriver;var h=t(\"./Game\");i.Game=h.Game;var c=t(\"./auxiliary/ReplayAmflowProxy\");i.ReplayAmflowProxy=c.ReplayAmflowProxy;var u=t(\"./auxiliary/MemoryAmflowClient\");i.MemoryAmflowClient=u.MemoryAmflowClient;var l=t(\"./auxiliary/SimpleProfiler\");i.SimpleProfiler=l.SimpleProfiler},{\"./EventIndex\":8,\"./ExecutionMode\":9,\"./Game\":10,\"./GameDriver\":11,\"./LoopMode\":14,\"./LoopRenderMode\":15,\"./auxiliary/MemoryAmflowClient\":23,\"./auxiliary/ReplayAmflowProxy\":24,\"./auxiliary/SimpleProfiler\":25,\"./constants\":26}],28:[function(t,e,i){e.exports=t(\"./lib/full/index\")},{\"./lib/full/index\":63}],29:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(){this.audioAssets=[],this._masterVolume=1}return t.prototype.registerAudioAsset=function(t){-1===this.audioAssets.indexOf(t)&&this.audioAssets.push(t)},t.prototype.removeAudioAsset=function(t){var e=this.audioAssets.indexOf(t);-1===e&&this.audioAssets.splice(e,1)},t.prototype.setMasterVolume=function(t){this._masterVolume=t;for(var e=0;e<this.audioAssets.length;e++)this.audioAssets[e]._lastPlayedPlayer&&this.audioAssets[e]._lastPlayedPlayer.notifyMasterVolumeChanged()},t.prototype.getMasterVolume=function(){return this._masterVolume},t}();i.AudioManager=r},{}],30:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./InputHandlerLayer\"),o=function(){function t(t){this.container=null,this.surface=null,this.inputHandlerLayer=null,this.rootView=null,this.useResizeForScaling=!1,this.pointEventTrigger=new r.Trigger,this._rendererReq=null,this._disablePreventDefault=!1,this.resourceFactory=t}return t.prototype.initialize=function(t){this._rendererReq=t.rendererRequirement,this._disablePreventDefault=!!t.disablePreventDefault,this._loadView()},t.prototype.setRootView=function(t){t!==this.rootView&&(this.rootView&&(this.unloadView(),this._loadView()),this.rootView=t,this._appendToRootView(t))},t.prototype.resetView=function(t){this.unloadView(),this._rendererReq=t,this._loadView(),this._appendToRootView(this.rootView)},t.prototype.getRenderer=function(){if(!this.surface)throw new Error(\"this container has no surface\");return this.surface.renderer()},t.prototype.changeScale=function(t,e){this.useResizeForScaling?this.surface.changePhysicalScale(t,e):this.surface.changeVisualScale(t,e),this.inputHandlerLayer._inputHandler.setScale(t,e)},t.prototype.unloadView=function(){if(this.inputHandlerLayer.disablePointerEvent(),this.rootView)for(;this.rootView.firstChild;)this.rootView.removeChild(this.rootView.firstChild)},t.prototype._loadView=function(){var t=this._rendererReq,e=t.primarySurfaceWidth,i=t.primarySurfaceHeight,r=this._disablePreventDefault;this.container=document.createDocumentFragment(),this.inputHandlerLayer?(this.inputHandlerLayer.setViewSize({width:e,height:i}),this.inputHandlerLayer.pointEventTrigger.removeAll(),this.surface&&!this.surface.destroyed()&&(this.inputHandlerLayer.view.removeChild(this.surface.canvas),this.surface.destroy())):this.inputHandlerLayer=new n.InputHandlerLayer({width:e,height:i,disablePreventDefault:r}),this.surface=this.resourceFactory.createPrimarySurface(e,i),this.inputHandlerLayer.view.appendChild(this.surface.getHTMLElement()),this.container.appendChild(this.inputHandlerLayer.view)},t.prototype._appendToRootView=function(t){t.appendChild(this.container),this.inputHandlerLayer.enablePointerEvent(),this.inputHandlerLayer.pointEventTrigger.add(this.pointEventTrigger.fire,this.pointEventTrigger)},t}();i.ContainerController=o},{\"./InputHandlerLayer\":31,\"@akashic/akashic-engine\":1}],31:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./handler/TouchHandler\"),o=function(){function t(t){this.view=this._createInputView(t.width,t.height),this._inputHandler=void 0,this.pointEventTrigger=new r.Trigger,this._disablePreventDefault=!!t.disablePreventDefault}return t.prototype.enablePointerEvent=function(){var t=this;this._inputHandler=new n.TouchHandler(this.view,this._disablePreventDefault),this._inputHandler.pointTrigger.add(function(e){t.pointEventTrigger.fire(e)}),this._inputHandler.start()},t.prototype.disablePointerEvent=function(){this._inputHandler&&this._inputHandler.stop()},t.prototype.setOffset=function(t){var e=\"position:relative; left:\"+t.x+\"px; top:\"+t.y+\"px\";this._inputHandler.inputView.setAttribute(\"style\",e)},t.prototype.setViewSize=function(t){var e=this.view;e.style.width=t.width+\"px\",e.style.height=t.height+\"px\"},t.prototype._createInputView=function(t,e){var i=document.createElement(\"div\");return i.setAttribute(\"tabindex\",\"1\"),i.className=\"input-handler\",i.setAttribute(\"style\",\"display:inline-block; outline:none;\"),i.style.width=t+\"px\",i.style.height=e+\"px\",i},t}();i.InputHandlerLayer=o},{\"./handler/TouchHandler\":62,\"@akashic/akashic-engine\":1}],32:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./RafLooper\"),n=t(\"./ResourceFactory\"),o=t(\"./ContainerController\"),s=t(\"./plugin/AudioPluginManager\"),a=t(\"./AudioManager\"),h=t(\"./plugin/AudioPluginRegistry\"),c=t(\"./asset/XHRTextAsset\"),u=function(){function t(t){this.containerView=t.containerView,this.audioPluginManager=new s.AudioPluginManager,t.audioPlugins&&this.audioPluginManager.tryInstallPlugin(t.audioPlugins),this.audioPluginManager.tryInstallPlugin(h.AudioPluginRegistry.getRegisteredAudioPlugins()),this._audioManager=new a.AudioManager,this.amflow=t.amflow,this._platformEventHandler=null,this._resourceFactory=t.resourceFactory||new n.ResourceFactory({audioPluginManager:this.audioPluginManager,platform:this,audioManager:this._audioManager}),this.containerController=new o.ContainerController(this._resourceFactory),this._rendererReq=null,this._disablePreventDefault=!!t.disablePreventDefault}return t.prototype.setPlatformEventHandler=function(t){this.containerController&&(this.containerController.pointEventTrigger.removeAll({owner:this._platformEventHandler}),this.containerController.pointEventTrigger.add(t.onPointEvent,t)),this._platformEventHandler=t},t.prototype.loadGameConfiguration=function(t,e){var i=new c.XHRTextAsset(\"(game.json)\",t);i._load({_onAssetLoad:function(t){e(null,JSON.parse(i.data))},_onAssetError:function(t,i){e(i,null)}})},t.prototype.getResourceFactory=function(){return this._resourceFactory},t.prototype.setRendererRequirement=function(t){if(!t)return void(this.containerController&&this.containerController.unloadView());this._rendererReq=t,this._resourceFactory._rendererCandidates=this._rendererReq.rendererCandidates,this.containerController&&!this.containerController.inputHandlerLayer?(this.containerController.initialize({rendererRequirement:t,disablePreventDefault:this._disablePreventDefault}),this.containerController.setRootView(this.containerView),this._platformEventHandler&&this.containerController.pointEventTrigger.add(this._platformEventHandler.onPointEvent,this._platformEventHandler)):this.containerController.resetView(t)},t.prototype.getPrimarySurface=function(){return this.containerController.surface},t.prototype.getOperationPluginViewInfo=function(){var t=this;return{type:\"pdi-browser\",view:this.containerController.inputHandlerLayer.view,getScale:function(){return t.containerController.inputHandlerLayer._inputHandler.getScale()}}},t.prototype.createLooper=function(t){return new r.RafLooper(t)},t.prototype.sendToExternal=function(t,e){},t.prototype.registerAudioPlugins=function(t){return this.audioPluginManager.tryInstallPlugin(t)},t.prototype.setScale=function(t,e){this.containerController.changeScale(t,e)},t.prototype.notifyViewMoved=function(){},t.prototype.setMasterVolume=function(t){this._audioManager&&this._audioManager.setMasterVolume(t)},t.prototype.getMasterVolume=function(){if(this._audioManager)return this._audioManager.getMasterVolume()},t.prototype.destroy=function(){this.setRendererRequirement(void 0),this.setMasterVolume(0)},t}();i.Platform=u},{\"./AudioManager\":29,\"./ContainerController\":30,\"./RafLooper\":33,\"./ResourceFactory\":34,\"./asset/XHRTextAsset\":39,\"./plugin/AudioPluginManager\":64,\"./plugin/AudioPluginRegistry\":65}],33:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this._fun=t,this._timerId=void 0,this._prev=0}return t.prototype.start=function(){var t=this,e=function(i){null!=t._timerId&&(t._timerId=requestAnimationFrame(e),t._fun(i-t._prev),t._prev=i)},i=function(i){t._timerId=requestAnimationFrame(e),t._fun(0),t._prev=i};this._timerId=requestAnimationFrame(i)},t.prototype.stop=function(){cancelAnimationFrame(this._timerId),this._timerId=void 0,this._prev=0},t}();i.RafLooper=r},{}],34:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./asset/HTMLImageAsset\"),s=t(\"./asset/HTMLVideoAsset\"),a=t(\"./asset/XHRTextAsset\"),h=t(\"./asset/XHRScriptAsset\"),c=t(\"./canvas/GlyphFactory\"),u=t(\"./canvas/shims/SurfaceFactory\"),l=function(t){function e(e){var i=t.call(this)||this;return i._audioPluginManager=e.audioPluginManager,i._audioManager=e.audioManager,i._platform=e.platform,i._surfaceFactory=new u.SurfaceFactory,i}return r(e,t),e.prototype.createAudioAsset=function(t,e,i,r,n,o){var s=this._audioPluginManager.getActivePlugin(),a=s.createAsset(t,e,i,r,n,o);return a.onDestroyed&&(this._audioManager.registerAudioAsset(a),a.onDestroyed.add(this._onAudioAssetDestroyed,this)),a},e.prototype.createAudioPlayer=function(t){return this._audioPluginManager.getActivePlugin().createPlayer(t,this._audioManager)},e.prototype.createImageAsset=function(t,e,i,r){return new o.HTMLImageAsset(t,e,i,r)},e.prototype.createVideoAsset=function(t,e,i,r,n,o,a){return new s.HTMLVideoAsset(t,e,i,r,n,o,a)},e.prototype.createTextAsset=function(t,e){return new a.XHRTextAsset(t,e)},e.prototype.createScriptAsset=function(t,e){return new h.XHRScriptAsset(t,e)},e.prototype.createPrimarySurface=function(t,e){return this._surfaceFactory.createPrimarySurface(t,e,this._rendererCandidates)},e.prototype.createSurface=function(t,e){return this._surfaceFactory.createBackSurface(t,e,this._rendererCandidates)},e.prototype.createGlyphFactory=function(t,e,i,r,n,o,s,a){return new c.GlyphFactory(t,e,i,r,n,o,s,a)},e.prototype._onAudioAssetDestroyed=function(t){this._audioManager.removeAudioAsset(t)},e}(n.ResourceFactory);i.ResourceFactory=l},{\"./asset/HTMLImageAsset\":35,\"./asset/HTMLVideoAsset\":36,\"./asset/XHRScriptAsset\":38,\"./asset/XHRTextAsset\":39,\"./canvas/GlyphFactory\":42,\"./canvas/shims/SurfaceFactory\":48,\"@akashic/akashic-engine\":1}],35:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i,r){return t.call(this,e,i,r)||this}return r(e,t),e.prototype.renderer=function(){throw n.ExceptionFactory.createAssertionError(\"ImageAssetSurface cannot be rendered.\")},e.prototype.isPlaying=function(){return!1},e}(n.Surface);i.ImageAssetSurface=o;var s=function(t){function e(e,i,r,n){var o=t.call(this,e,i,r,n)||this;return o.data=void 0,o._surface=void 0,o}return r(e,t),e.prototype.destroy=function(){this._surface&&!this._surface.destroyed()&&this._surface.destroy(),this.data=void 0,this._surface=void 0,t.prototype.destroy.call(this)},e.prototype._load=function(t){var e=this,i=new Image;this.hint&&this.hint.untainted&&(i.crossOrigin=\"anonymous\"),i.onerror=function(){t._onAssetError(e,n.ExceptionFactory.createAssetLoadError(\"HTMLImageAsset unknown loading error\"))},i.onload=function(){e.data=i,t._onAssetLoad(e)},i.src=this.path},e.prototype.asSurface=function(){if(!this.data)throw n.ExceptionFactory.createAssertionError(\"ImageAssetImpl#asSurface: not yet loaded.\");return this._surface?this._surface:(this._surface=new o(this.width,this.height,this.data),this._surface)},e}(n.ImageAsset);i.HTMLImageAsset=s},{\"@akashic/akashic-engine\":1}],36:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./HTMLVideoPlayer\"),s=function(t){function e(e,i,r){return t.call(this,e,i,r,!0)||this}return r(e,t),e.prototype.renderer=function(){throw n.ExceptionFactory.createAssertionError(\"VideoAssetSurface cannot be rendered.\")},e.prototype.isPlaying=function(){return!1},e}(n.Surface),a=function(t){function e(e,i,r,n,a,h,c){var u=t.call(this,e,i,r,n,a,h,c)||this;return u._player=new o.HTMLVideoPlayer,u._surface=new s(r,n,null),u}return r(e,t),e.prototype.inUse=function(){return!1},e.prototype._load=function(t){var e=this;setTimeout(function(){t._onAssetLoad(e)},0)},e.prototype.getPlayer=function(){return this._player},e.prototype.asSurface=function(){return this._surface},e}(n.VideoAsset);i.HTMLVideoAsset=a},{\"./HTMLVideoPlayer\":37,\"@akashic/akashic-engine\":1}],37:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e){var i=t.call(this,e)||this;return i.isDummy=!0,i}return r(e,t),e.prototype.play=function(t){},e.prototype.stop=function(){},e.prototype.changeVolume=function(t){},e}(n.VideoPlayer);i.HTMLVideoPlayer=o},{\"@akashic/akashic-engine\":1}],38:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"../utils/XHRLoader\"),s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.script=void 0,r}return r(e,t),e.prototype._load=function(t){var e=this;(new o.XHRLoader).get(this.path,function(i,r){if(i)return void t._onAssetError(e,i);e.script=r+\"\\n\",t._onAssetLoad(e)})},e.prototype.execute=function(t){return this._wrap()(t),t.module.exports},e.prototype._wrap=function(){return new Function(\"g\",e.PRE_SCRIPT+this.script+e.POST_SCRIPT)},e.PRE_SCRIPT=\"(function(exports, require, module, __filename, __dirname) {\",e.POST_SCRIPT=\"\\n})(g.module.exports, g.module.require, g.module, g.filename, g.dirname);\",e}(n.ScriptAsset);i.XHRScriptAsset=s},{\"../utils/XHRLoader\":82,\"@akashic/akashic-engine\":1}],39:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"../utils/XHRLoader\"),s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.data=void 0,r}return r(e,t),e.prototype._load=function(t){var e=this;(new o.XHRLoader).get(this.path,function(i,r){if(i)return void t._onAssetError(e,i);e.data=r,t._onAssetLoad(e)})},e}(n.TextAsset);i.XHRTextAsset=s},{\"../utils/XHRLoader\":82,\"@akashic/akashic-engine\":1}],40:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this.matrix=t?new Float32Array(t.matrix):new Float32Array([1,0,0,1,0,0])}return t.prototype.scale=function(t,e){var i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this},t.prototype.translate=function(t,e){var i=this.matrix;return i[4]+=i[0]*t+i[2]*e,i[5]+=i[1]*t+i[3]*e,this},t.prototype.transform=function(t){var e=this.matrix,i=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],n=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],s=t[4]*e[0]+t[5]*e[2]+e[4],a=t[4]*e[1]+t[5]*e[3]+e[5];return e[0]=i,e[1]=r,e[2]=n,e[3]=o,e[4]=s,e[5]=a,this},t.prototype.setTransform=function(t){var e=this.matrix;e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5]},t.prototype.copyFrom=function(t){return this.matrix.set(t.matrix),this},t}();i.AffineTransformer=r},{}],41:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i){var r=this,n=document.createElement(\"canvas\");return r=t.call(this,e,i,n)||this,n.width=e,n.height=i,r.canvas=n,r._renderer=void 0,r}return r(e,t),e.prototype.destroy=function(){this.canvas.width=1,this.canvas.height=1,this.canvas=null,this._renderer=null,t.prototype.destroy.call(this)},e.prototype.getHTMLElement=function(){return this.canvas},e.prototype.changeVisualScale=function(t,e){var i=this.canvas.style;\"transform\"in i?(i.transformOrigin=\"0 0\",i.transform=\"scale(\"+t+\",\"+e+\")\"):\"webkitTransform\"in i?(i.webkitTransformOrigin=\"0 0\",i.webkitTransform=\"scale(\"+t+\",\"+e+\")\"):(i.width=Math.floor(t*this.width)+\"px\",i.height=Math.floor(e*this.width)+\"px\")},e}(n.Surface);i.CanvasSurface=o},{\"@akashic/akashic-engine\":1}],42:[function(t,e,i){\"use strict\";function r(t,e,i,r,n,o,s,a,h,c,d,f){var _=e<p._environmentMinimumFontSize?e/p._environmentMinimumFontSize:1,g=Math.ceil((e+2*n)*_),y=Math.ceil((e+2*o)*_),m=new l.Context2DSurface(g,y),v=m.canvas,T=v.getContext(\"2d\"),A=4294901760&t?String.fromCharCode((4294901760&t)>>>16,65535&t):String.fromCharCode(t),x=f===u.FontWeight.Bold?\"bold \":\"\";T.save(),T.font=x+e+\"px \"+i,T.textAlign=\"left\",T.textBaseline=\"alphabetic\",T.lineJoin=\"bevel\",1!==_&&T.scale(_,_),h>0&&(T.lineWidth=h,T.strokeStyle=c,T.strokeText(A,n,o+r)),d||(T.fillStyle=a,T.fillText(A,n,o+r));var w=T.measureText(A).width;return T.restore(),{surface:m,advanceWidth:w,imageData:s?T.getImageData(0,0,v.width,v.height):void 0}}function n(t){for(var e=t.width,i=t.height,r=0,n=0,o=0,s=0,a=t.height;s<a;s=s+1|0)for(var h=0,c=t.width;h<c;h=h+1|0){var u=t.data[o+3];0!==u&&(h<e&&(e=h),h>r&&(r=h),s<i&&(i=s),s>n&&(n=s)),o+=4}return e===t.width?{x:0,y:0,width:0,height:0}:{x:e,y:i,width:r-e+1,height:n-i+1}}function o(t){return 0===t.width||0===t.height}function s(t){switch(t){case u.FontFamily.Monospace:return\"monospace\";case u.FontFamily.Serif:return\"serif\";default:return\"sans-serif\"}}function a(t){return-1!==d.indexOf(t)?t:'\"'+t+'\"'}function h(t){return\"number\"==typeof t?s(t):\"string\"==typeof t?a(t):t.map(function(t){return\"string\"==typeof t?a(t):s(t)}).join(\",\")}var c=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{\n__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var u=t(\"@akashic/akashic-engine\"),l=t(\"./context2d/Context2DSurface\"),d=[\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\"],p=function(t){function e(i,r,n,o,a,c,l,d){var p=t.call(this,i,r,n,o,a,c,l,d)||this;p._glyphAreas={},p._cssFontFamily=h(i);var f=s(u.FontFamily.SansSerif);return-1===p._cssFontFamily.indexOf(f)&&(p._cssFontFamily+=\",\"+f),p._marginW=Math.ceil(.3*p.fontSize+p.strokeWidth/2),p._marginH=Math.ceil(.3*p.fontSize+p.strokeWidth/2),void 0===e._environmentMinimumFontSize&&(e._environmentMinimumFontSize=p.measureMinimumFontSize()),p}return c(e,t),e.prototype.create=function(t){var e,i=this._glyphAreas[t];return i||(e=r(t,this.fontSize,this._cssFontFamily,this.baselineHeight,this._marginW,this._marginH,!0,this.fontColor,this.strokeWidth,this.strokeColor,this.strokeOnly,this.fontWeight),i=n(e.imageData),i.advanceWidth=e.advanceWidth,this._glyphAreas[t]=i),o(i)?(e&&e.surface.destroy(),new u.Glyph(t,0,0,0,0,0,0,i.advanceWidth,void 0,!0)):(e||(e=r(t,this.fontSize,this._cssFontFamily,this.baselineHeight,this._marginW,this._marginH,!1,this.fontColor,this.strokeWidth,this.strokeColor,this.strokeOnly,this.fontWeight)),new u.Glyph(t,i.x,i.y,i.width,i.height,i.x-this._marginW,i.y-this._marginH,i.advanceWidth,e.surface,!0))},e.prototype.measureMinimumFontSize=function(){var t=1,e=document.createElement(\"canvas\"),i=e.getContext(\"2d\");i.textAlign=\"left\",i.textBaseline=\"alphabetic\",i.lineJoin=\"bevel\";var r;i.font=t+\"px sans-serif\";var n=i.measureText(\"M\").width;do{r=n,t+=1,i.font=t+\"px sans-serif\",n=i.measureText(\"M\").width}while(r===n||t>50);return t},e}(u.GlyphFactory);i.GlyphFactory=p},{\"./context2d/Context2DSurface\":47,\"@akashic/akashic-engine\":1}],43:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});!function(t){function e(t){if(0!=(t&t-1)){for(var e=1;e<t;)e*=2;return e}return t}function i(t){return Math.min(Math.max(t,0),1)}function r(t){var e=!1;return t&&0<t.length&&(e=\"webgl\"===t[0]),e}t.toPowerOfTwo=e,t.clamp=i,t.usedWebGL=r}(i.RenderingHelper||(i.RenderingHelper={}))},{}],44:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"../AffineTransformer\"),n=function(){function t(t){t?(this.fillStyle=t.fillStyle,this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer=new r.AffineTransformer(t.transformer)):(this.fillStyle=\"#000000\",this.globalAlpha=1,this.globalCompositeOperation=\"source-over\",this.transformer=new r.AffineTransformer)}return t}();i.CanvasRenderingState=n},{\"../AffineTransformer\":40}],45:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./CanvasRenderingState\"),n=function(){function t(t){this._stateStack=[],this._modifiedTransform=!1,this._context=t;var e=new r.CanvasRenderingState;this._currentFillStyle=e.fillStyle,this._currentGlobalAlpha=e.globalAlpha,this._currentGlobalCompositeOperation=e.globalCompositeOperation,this.pushState(e)}return Object.defineProperty(t.prototype,\"fillStyle\",{get:function(){return this.currentState().fillStyle},set:function(t){this.currentState().fillStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"globalAlpha\",{get:function(){return this.currentState().globalAlpha},set:function(t){this.currentState().globalAlpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"globalCompositeOperation\",{get:function(){return this.currentState().globalCompositeOperation},set:function(t){this.currentState().globalCompositeOperation=t},enumerable:!0,configurable:!0}),t.prototype.getCanvasRenderingContext2D=function(){return this._context},t.prototype.clearRect=function(t,e,i,r){this.prerender(),this._context.clearRect(t,e,i,r)},t.prototype.save=function(){var t=new r.CanvasRenderingState(this.currentState());this.pushState(t)},t.prototype.restore=function(){this.popState()},t.prototype.scale=function(t,e){this.currentState().transformer.scale(t,e),this._modifiedTransform=!0},t.prototype.drawImage=function(t,e,i,r,n,o,s,a,h){this.prerender(),this._context.drawImage(t,e,i,r,n,o,s,a,h)},t.prototype.fillRect=function(t,e,i,r){this.prerender(),this._context.fillRect(t,e,i,r)},t.prototype.fillText=function(t,e,i,r){this.prerender(),this._context.fillText(t,e,i,r)},t.prototype.strokeText=function(t,e,i,r){this.prerender(),this._context.strokeText(t,e,i,r)},t.prototype.translate=function(t,e){this.currentState().transformer.translate(t,e),this._modifiedTransform=!0},t.prototype.transform=function(t,e,i,r,n,o){this.currentState().transformer.transform([t,e,i,r,n,o]),this._modifiedTransform=!0},t.prototype.setTransform=function(t,e,i,r,n,o){this.currentState().transformer.setTransform([t,e,i,r,n,o]),this._modifiedTransform=!0},t.prototype.setGlobalAlpha=function(t){this.currentState().globalAlpha=t},t.prototype.getImageData=function(t,e,i,r){return this._context.getImageData(t,e,i,r)},t.prototype.putImageData=function(t,e,i,r,n,o,s){this._context.putImageData(t,e,i,r,n,o,s)},t.prototype.prerender=function(){var t=this.currentState();if(t.fillStyle!==this._currentFillStyle&&(this._context.fillStyle=t.fillStyle,this._currentFillStyle=t.fillStyle),t.globalAlpha!==this._currentGlobalAlpha&&(this._context.globalAlpha=t.globalAlpha,this._currentGlobalAlpha=t.globalAlpha),t.globalCompositeOperation!==this._currentGlobalCompositeOperation&&(this._context.globalCompositeOperation=t.globalCompositeOperation,this._currentGlobalCompositeOperation=t.globalCompositeOperation),this._modifiedTransform){var e=t.transformer;this._context.setTransform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this._modifiedTransform=!1}},t.prototype.pushState=function(t){this._stateStack.push(t)},t.prototype.popState=function(){this._stateStack.length<=1||(this._stateStack.pop(),this._modifiedTransform=!0)},t.prototype.currentState=function(){return this._stateStack[this._stateStack.length-1]},t}();i.CanvasSurfaceContext=n},{\"./CanvasRenderingState\":44}],46:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e){var i=t.call(this)||this;return i.surface=e,i.context=e.context(),i.canvasRenderingContext2D=i.context.getCanvasRenderingContext2D(),i}return r(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this.canvasRenderingContext2D.save(),this.context.save()},e.prototype.end=function(){this.canvasRenderingContext2D.restore(),this.context.restore(),t.prototype.end.call(this)},e.prototype.clear=function(){this.context.clearRect(0,0,this.surface.width,this.surface.height)},e.prototype.drawImage=function(t,e,i,r,n,o,s){this.context.drawImage(t._drawable,e,i,r,n,o,s,r,n)},e.prototype.drawSprites=function(t,e,i,r,n,o,s,a){for(var h=0;h<a;++h)this.drawImage(t,e[h],i[h],r[h],n[h],o[h],s[h])},e.prototype.drawSystemText=function(t,e,i,r,o,s,a,h,c,u,l,d){var p,f,_,g=this.canvasRenderingContext2D;switch(this.context.prerender(),g.save(),c){case n.FontFamily.Monospace:p=\"monospace\";break;case n.FontFamily.Serif:p=\"serif\";break;default:p=\"sans-serif\"}switch(g.font=o+\"px \"+p,s){case n.TextAlign.Right:f=\"right\";break;case n.TextAlign.Center:f=\"center\";break;default:f=\"left\"}switch(g.textAlign=f,a){case n.TextBaseline.Top:_=\"top\";break;case n.TextBaseline.Middle:_=\"middle\";break;case n.TextBaseline.Bottom:_=\"bottom\";break;default:_=\"alphabetic\"}g.textBaseline=_,g.lineJoin=\"bevel\",u>0&&(g.lineWidth=u,g.strokeStyle=l,void 0===r?g.strokeText(t,e,i):g.strokeText(t,e,i,r)),d||(g.fillStyle=h,g.fillText(t,e,i,r)),g.restore()},e.prototype.translate=function(t,e){this.context.translate(t,e)},e.prototype.transform=function(t){this.context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},e.prototype.opacity=function(t){this.context.globalAlpha*=t},e.prototype.save=function(){this.context.save()},e.prototype.restore=function(){this.context.restore()},e.prototype.fillRect=function(t,e,i,r,n){this.context.fillStyle=n,this.context.fillRect(t,e,i,r)},e.prototype.setCompositeOperation=function(t){var e;switch(t){case n.CompositeOperation.SourceAtop:e=\"source-atop\";break;case n.CompositeOperation.Lighter:e=\"lighter\";break;case n.CompositeOperation.Copy:e=\"copy\";break;case n.CompositeOperation.ExperimentalSourceIn:e=\"source-in\";break;case n.CompositeOperation.ExperimentalSourceOut:e=\"source-out\";break;case n.CompositeOperation.ExperimentalDestinationAtop:e=\"destination-atop\";break;case n.CompositeOperation.ExperimentalDestinationIn:e=\"destination-in\";break;case n.CompositeOperation.DestinationOut:e=\"destination-out\";break;case n.CompositeOperation.DestinationOver:e=\"destination-over\";break;case n.CompositeOperation.Xor:e=\"xor\";break;default:e=\"source-over\"}this.context.globalCompositeOperation=e},e.prototype.setOpacity=function(t){this.context.globalAlpha=t},e.prototype.setTransform=function(t){this.context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},e.prototype.setShaderProgram=function(t){throw n.ExceptionFactory.createAssertionError(\"Context2DRenderer#setShaderProgram() is not implemented\")},e.prototype.isSupportedShaderProgram=function(){return!1},e.prototype._getImageData=function(t,e,i,r){return this.context.getImageData(t,e,i,r)},e.prototype._putImageData=function(t,e,i,r,n,o,s){void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=t.width),void 0===s&&(s=t.height),this.context.putImageData(t,e,i,r,n,o,s)},e}(n.Renderer);i.Context2DRenderer=o},{\"@akashic/akashic-engine\":1}],47:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./Context2DRenderer\"),o=t(\"./CanvasSurfaceContext\"),s=t(\"../CanvasSurface\"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.context=function(){return this._context||(this._context=new o.CanvasSurfaceContext(this.canvas.getContext(\"2d\"))),this._context},e.prototype.renderer=function(){return this._renderer||(this._renderer=new n.Context2DRenderer(this)),this._renderer},e.prototype.changePhysicalScale=function(t,e){this.canvas.width=this.width*t,this.canvas.height=this.height*e,this._context.scale(t,e)},e.prototype.isPlaying=function(){return!1},e}(s.CanvasSurface);i.Context2DSurface=a},{\"../CanvasSurface\":41,\"./CanvasSurfaceContext\":45,\"./Context2DRenderer\":46}],48:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"../RenderingHelper\"),n=t(\"../context2d/Context2DSurface\"),o=t(\"../webgl/WebGLSharedObject\"),s=function(){function t(){}return t.prototype.createPrimarySurface=function(t,e,i){return r.RenderingHelper.usedWebGL(i)?(this._shared||(this._shared=new o.WebGLSharedObject(t,e)),this._shared.getPrimarySurface()):new n.Context2DSurface(t,e)},t.prototype.createBackSurface=function(t,e,i){return r.RenderingHelper.usedWebGL(i)?this._shared.createBackSurface(t,e):new n.Context2DSurface(t,e)},t}();i.SurfaceFactory=s},{\"../RenderingHelper\":43,\"../context2d/Context2DSurface\":47,\"../webgl/WebGLSharedObject\":57}],49:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./WebGLBackSurfaceRenderer\"),o=t(\"./WebGLPrimarySurface\"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.renderer=function(){return this._renderer||(this._renderer=new n.WebGLBackSurfaceRenderer(this,this._shared)),this._renderer},e.prototype.destroy=function(){this._renderer&&this._renderer.destroy(),this._renderer=void 0,this._drawable=void 0,t.prototype.destroy.call(this)},e}(o.WebGLPrimarySurface);i.WebGLBackSurface=s},{\"./WebGLBackSurfaceRenderer\":50,\"./WebGLPrimarySurface\":52}],50:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./WebGLRenderer\"),o=t(\"./WebGLRenderingState\"),s=function(t){function e(e,i){var r=t.call(this,i,i.createRenderTarget(e.width,e.height))||this;return e._drawable={texture:r._renderTarget.texture,textureOffsetX:0,textureOffsetY:0,textureWidth:e.width,textureHeight:e.height},r}return r(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this.save();var e=new o.WebGLRenderingState(this.currentState()),i=e.transformer.matrix;i[1]*=-1,i[3]*=-1,i[5]=-i[5]+this._renderTarget.height,this.currentState().copyFrom(e),this._shared.pushRenderTarget(this._renderTarget)},e.prototype.end=function(){this.restore(),this._shared.popRenderTarget(),t.prototype.end.call(this)},e}(n.WebGLRenderer);i.WebGLBackSurfaceRenderer=s},{\"./WebGLRenderer\":54,\"./WebGLRenderingState\":55}],51:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"../RenderingHelper\");!function(t){function e(e){var i=\"string\"==typeof e?t._toColor(e):[e[0],e[1],e[2],e[3]];return i[3]=r.RenderingHelper.clamp(i[3]),i[0]=r.RenderingHelper.clamp(i[0])*i[3],i[1]=r.RenderingHelper.clamp(i[1])*i[3],i[2]=r.RenderingHelper.clamp(i[2])*i[3],i}function i(t){var e=t[0]%360,i=t[1],r=t[2]>50?100-t[2]:t[2],n=t[3],o=r+r*i,s=r-r*i;return e<60?[o,e/60*(o-s)+s,s,n]:e<120?[(120-e)/60*(o-s)+s,o,s,n]:e<180?[s,o,(e-120)/60*(o-s)+s,n]:e<240?[s,(240-e)/60*(o-s)+s,o,n]:e<300?[(e-240)/60*(o-s)+s,s,o,n]:[o,s,(360-e)/60*(o-s)+s,n]}function n(e){var i=e.toUpperCase().replace(/\\s+/g,\"\"),n=t.colorMap[i];if(n)return n;if(i.match(/^#([\\dA-F])([\\dA-F])([\\dA-F])$/))return[parseInt(RegExp.$1,16)/15,parseInt(RegExp.$2,16)/15,parseInt(RegExp.$3,16)/15,1];if(i.match(/^#([\\dA-F]{2})([\\dA-F]{2})([\\dA-F]{2})$/))return[parseInt(RegExp.$1,16)/255,parseInt(RegExp.$2,16)/255,parseInt(RegExp.$3,16)/255,1];if(i.match(/^RGB\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)$/))return[parseInt(RegExp.$1,10)/255,parseInt(RegExp.$2,10)/255,parseInt(RegExp.$3,10)/255,1];if(i.match(/^RGBA\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3}),(\\d(\\.\\d*)?)\\)$/))return[parseInt(RegExp.$1,10)/255,parseInt(RegExp.$2,10)/255,parseInt(RegExp.$3,10)/255,parseFloat(RegExp.$4)];if(i.match(/^HSL\\((\\d{1,3}),(\\d{1,3})%,(\\d{1,3})%\\)$/))return t._hsl2rgb([parseInt(RegExp.$1,10),r.RenderingHelper.clamp(parseInt(RegExp.$2,10)/100),r.RenderingHelper.clamp(parseInt(RegExp.$3,10)/100),1]);if(i.match(/^HSLA\\((\\d{1,3}),(\\d{1,3})%,(\\d{1,3})%,(\\d(\\.\\d*)?)\\)$/))return t._hsl2rgb([parseInt(RegExp.$1,10),r.RenderingHelper.clamp(parseInt(RegExp.$2,10)/100),r.RenderingHelper.clamp(parseInt(RegExp.$3,10)/100),parseFloat(RegExp.$4)]);throw Error(\"illigal cssColor format: \"+i)}t.colorMap={ALICEBLUE:[240/255,248/255,1,1],ANTIQUEWHITE:[250/255,235/255,215/255,1],AQUA:[0,1,1,1],AQUAMARINE:[127/255,1,212/255,1],AZURE:[240/255,1,1,1],BEIGE:[245/255,245/255,220/255,1],BISQUE:[1,228/255,196/255,1],BLACK:[0,0,0,1],BLANCHEDALMOND:[1,235/255,205/255,1],BLUE:[0,0,1,1],BLUEVIOLET:[138/255,43/255,226/255,1],BROWN:[165/255,42/255,42/255,1],BURLYWOOD:[222/255,184/255,135/255,1],CADETBLUE:[95/255,158/255,160/255,1],CHARTREUSE:[127/255,1,0,1],CHOCOLATE:[210/255,105/255,30/255,1],CORAL:[1,127/255,80/255,1],CORNFLOWERBLUE:[100/255,149/255,237/255,1],CORNSILK:[1,248/255,220/255,1],CRIMSON:[220/255,20/255,60/255,1],CYAN:[0,1,1,1],DARKBLUE:[0,0,139/255,1],DARKCYAN:[0,139/255,139/255,1],DARKGOLDENROD:[184/255,134/255,11/255,1],DARKGRAY:[169/255,169/255,169/255,1],DARKGREEN:[0,100/255,0,1],DARKGREY:[169/255,169/255,169/255,1],DARKKHAKI:[189/255,183/255,107/255,1],DARKMAGENTA:[139/255,0,139/255,1],DARKOLIVEGREEN:[85/255,107/255,47/255,1],DARKORANGE:[1,140/255,0,1],DARKORCHID:[.6,50/255,.8,1],DARKRED:[139/255,0,0,1],DARKSALMON:[233/255,150/255,122/255,1],DARKSEAGREEN:[143/255,188/255,143/255,1],DARKSLATEBLUE:[72/255,61/255,139/255,1],DARKSLATEGRAY:[47/255,79/255,79/255,1],DARKSLATEGREY:[47/255,79/255,79/255,1],DARKTURQUOISE:[0,206/255,209/255,1],DARKVIOLET:[148/255,0,211/255,1],DEEPPINK:[1,20/255,147/255,1],DEEPSKYBLUE:[0,191/255,1,1],DIMGRAY:[105/255,105/255,105/255,1],DIMGREY:[105/255,105/255,105/255,1],DODGERBLUE:[30/255,144/255,1,1],FIREBRICK:[178/255,34/255,34/255,1],FLORALWHITE:[1,250/255,240/255,1],FORESTGREEN:[34/255,139/255,34/255,1],FUCHSIA:[1,0,1,1],GAINSBORO:[220/255,220/255,220/255,1],GHOSTWHITE:[248/255,248/255,1,1],GOLD:[1,215/255,0,1],GOLDENROD:[218/255,165/255,32/255,1],GRAY:[128/255,128/255,128/255,1],GREEN:[0,128/255,0,1],GREENYELLOW:[173/255,1,47/255,1],GREY:[128/255,128/255,128/255,1],HONEYDEW:[240/255,1,240/255,1],HOTPINK:[1,105/255,180/255,1],INDIANRED:[205/255,92/255,92/255,1],INDIGO:[75/255,0,130/255,1],IVORY:[1,1,240/255,1],KHAKI:[240/255,230/255,140/255,1],LAVENDER:[230/255,230/255,250/255,1],LAVENDERBLUSH:[1,240/255,245/255,1],LAWNGREEN:[124/255,252/255,0,1],LEMONCHIFFON:[1,250/255,205/255,1],LIGHTBLUE:[173/255,216/255,230/255,1],LIGHTCORAL:[240/255,128/255,128/255,1],LIGHTCYAN:[224/255,1,1,1],LIGHTGOLDENRODYELLOW:[250/255,250/255,210/255,1],LIGHTGRAY:[211/255,211/255,211/255,1],LIGHTGREEN:[144/255,238/255,144/255,1],LIGHTGREY:[211/255,211/255,211/255,1],LIGHTPINK:[1,182/255,193/255,1],LIGHTSALMON:[1,160/255,122/255,1],LIGHTSEAGREEN:[32/255,178/255,170/255,1],LIGHTSKYBLUE:[135/255,206/255,250/255,1],LIGHTSLATEGRAY:[119/255,136/255,.6,1],LIGHTSLATEGREY:[119/255,136/255,.6,1],LIGHTSTEELBLUE:[176/255,196/255,222/255,1],LIGHTYELLOW:[1,1,224/255,1],LIME:[0,1,0,1],LIMEGREEN:[50/255,205/255,50/255,1],LINEN:[250/255,240/255,230/255,1],MAGENTA:[1,0,1,1],MAROON:[128/255,0,0,1],MEDIUMAQUAMARINE:[.4,205/255,170/255,1],MEDIUMBLUE:[0,0,205/255,1],MEDIUMORCHID:[186/255,85/255,211/255,1],MEDIUMPURPLE:[147/255,112/255,219/255,1],MEDIUMSEAGREEN:[60/255,179/255,113/255,1],MEDIUMSLATEBLUE:[123/255,104/255,238/255,1],MEDIUMSPRINGGREEN:[0,250/255,154/255,1],MEDIUMTURQUOISE:[72/255,209/255,.8,1],MEDIUMVIOLETRED:[199/255,21/255,133/255,1],MIDNIGHTBLUE:[25/255,25/255,112/255,1],MINTCREAM:[245/255,1,250/255,1],MISTYROSE:[1,228/255,225/255,1],MOCCASIN:[1,228/255,181/255,1],NAVAJOWHITE:[1,222/255,173/255,1],NAVY:[0,0,128/255,1],OLDLACE:[253/255,245/255,230/255,1],OLIVE:[128/255,128/255,0,1],OLIVEDRAB:[107/255,142/255,35/255,1],ORANGE:[1,165/255,0,1],ORANGERED:[1,69/255,0,1],ORCHID:[218/255,112/255,214/255,1],PALEGOLDENROD:[238/255,232/255,170/255,1],PALEGREEN:[152/255,251/255,152/255,1],PALETURQUOISE:[175/255,238/255,238/255,1],PALEVIOLETRED:[219/255,112/255,147/255,1],PAPAYAWHIP:[1,239/255,213/255,1],PEACHPUFF:[1,218/255,185/255,1],PERU:[205/255,133/255,63/255,1],PINK:[1,192/255,203/255,1],PLUM:[221/255,160/255,221/255,1],POWDERBLUE:[176/255,224/255,230/255,1],PURPLE:[128/255,0,128/255,1],RED:[1,0,0,1],ROSYBROWN:[188/255,143/255,143/255,1],ROYALBLUE:[65/255,105/255,225/255,1],SADDLEBROWN:[139/255,69/255,19/255,1],SALMON:[250/255,128/255,114/255,1],SANDYBROWN:[244/255,164/255,96/255,1],SEAGREEN:[46/255,139/255,87/255,1],SEASHELL:[1,245/255,238/255,1],SIENNA:[160/255,82/255,45/255,1],SILVER:[192/255,192/255,192/255,1],SKYBLUE:[135/255,206/255,235/255,1],SLATEBLUE:[106/255,90/255,205/255,1],SLATEGRAY:[112/255,128/255,144/255,1],SLATEGREY:[112/255,128/255,144/255,1],SNOW:[1,250/255,250/255,1],SPRINGGREEN:[0,1,127/255,1],STEELBLUE:[70/255,130/255,180/255,1],TAN:[210/255,180/255,140/255,1],TEAL:[0,128/255,128/255,1],THISTLE:[216/255,191/255,216/255,1],TOMATO:[1,99/255,71/255,1],TURQUOISE:[64/255,224/255,208/255,1],VIOLET:[238/255,130/255,238/255,1],WHEAT:[245/255,222/255,179/255,1],WHITE:[1,1,1,1],WHITESMOKE:[245/255,245/255,245/255,1],YELLOW:[1,1,0,1],YELLOWGREEN:[154/255,205/255,50/255,1]},t.get=e,t._hsl2rgb=i,t._toColor=n}(i.WebGLColor||(i.WebGLColor={}))},{\"../RenderingHelper\":43}],52:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"../CanvasSurface\"),o=t(\"./WebGLPrimarySurfaceRenderer\"),s=function(t){function e(e,i,r){var n=t.call(this,i,r)||this;return n.canvas.style.position=\"absolute\",n._shared=e,n}return r(e,t),e.prototype.renderer=function(){return this._renderer||(this._renderer=new o.WebGLPrimarySurfaceRenderer(this._shared,this._shared.getPrimaryRenderTarget(this.width,this.height))),this._renderer},e.prototype.changePhysicalScale=function(t,e){var i=Math.ceil(this.width*t),r=Math.ceil(this.height*e);this.canvas.width=i,this.canvas.height=r,this.renderer().changeViewportSize(i,r)},e.prototype.isPlaying=function(){return!1},e}(n.CanvasSurface);i.WebGLPrimarySurface=s},{\"../CanvasSurface\":41,\"./WebGLPrimarySurfaceRenderer\":53}],53:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./WebGLRenderer\"),o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r._shared.pushRenderTarget(r._renderTarget),r}return r(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this._shared.begin()},e}(n.WebGLRenderer);i.WebGLPrimarySurfaceRenderer=o},{\"./WebGLRenderer\":54}],54:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./WebGLColor\"),s=t(\"./WebGLRenderingState\"),a=function(t){function e(i,r){var n=t.call(this)||this;return n._stateStack=[],n._stateStackPointer=0,n._capacity=0,n._reallocation(e.DEFAULT_CAPACITY),n._whiteColor=[1,1,1,1],n._shared=i,n._renderTarget=r,n}return r(e,t),e.prototype.clear=function(){this._shared.clear()},e.prototype.end=function(){this._shared.end()},e.prototype.save=function(){this._pushState()},e.prototype.restore=function(){this._popState()},e.prototype.translate=function(t,e){this.currentState().transformer.translate(t,e)},e.prototype.transform=function(t){this.currentState().transformer.transform(t)},e.prototype.opacity=function(t){this.currentState().globalAlpha*=t},e.prototype.setCompositeOperation=function(t){this.currentState().globalCompositeOperation=t},e.prototype.currentState=function(){return this._stateStack[this._stateStackPointer]},e.prototype.fillRect=function(t,e,i,r,n){this._shared.draw(this.currentState(),this._shared.getFillRectSurfaceTexture(),0,0,i,r,t,e,o.WebGLColor.get(n))},e.prototype.drawSprites=function(t,e,i,r,n,o,s,a){for(var h=0;h<a;++h)this.drawImage(t,e[h],i[h],r[h],n[h],o[h],s[h])},e.prototype.drawImage=function(t,e,i,r,o,s,a){if(!t._drawable)throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#drawImage: no drawable surface.\");if(t._drawable.texture instanceof WebGLTexture||this._shared.makeTextureForSurface(t),!t._drawable.texture)throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#drawImage: could not create a texture.\");this._shared.draw(this.currentState(),t._drawable,e,i,r,o,s,a,this._whiteColor)},e.prototype.drawSystemText=function(t,e,i,r,n,o,s,a,h,c,u,l){},e.prototype.setTransform=function(t){this.currentState().transformer.setTransform(t)},e.prototype.setOpacity=function(t){this.currentState().globalAlpha=t},e.prototype.setShaderProgram=function(t){this.currentState().shaderProgram=this._shared.initializeShaderProgram(t)},e.prototype.isSupportedShaderProgram=function(){return!0},e.prototype.changeViewportSize=function(t,e){var i=this._renderTarget;this._renderTarget={width:i.width,height:i.height,viewportWidth:t,viewportHeight:e,texture:i.texture,framebuffer:i.framebuffer}},e.prototype.destroy=function(){this._shared.requestDeleteRenderTarget(this._renderTarget),this._shared=void 0,this._renderTarget=void 0,this._whiteColor=void 0},e.prototype._getImageData=function(){throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#_getImageData() is not implemented\")},e.prototype._putImageData=function(t,e,i,r,o,s,a){throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#_putImageData() is not implemented\")},e.prototype._pushState=function(){var t=this.currentState();++this._stateStackPointer,this._isOverCapacity()&&this._reallocation(this._stateStackPointer+1),this.currentState().copyFrom(t)},e.prototype._popState=function(){if(!(this._stateStackPointer>0))throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#restore: state stack under-flow.\");this.currentState().shaderProgram=null,--this._stateStackPointer},e.prototype._isOverCapacity=function(){return this._capacity<=this._stateStackPointer},e.prototype._reallocation=function(t){var e=this._capacity;if(e<t){t<2*e?this._capacity*=2:this._capacity=t;for(var i=e;i<this._capacity;++i)this._stateStack.push(new s.WebGLRenderingState)}},e.DEFAULT_CAPACITY=16,e}(n.Renderer);i.WebGLRenderer=a},{\"./WebGLColor\":51,\"./WebGLRenderingState\":55,\"@akashic/akashic-engine\":1}],55:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"../AffineTransformer\"),o=function(){function t(t){t?(this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer=new n.AffineTransformer(t.transformer),this.shaderProgram=t.shaderProgram):(this.globalAlpha=1,this.globalCompositeOperation=r.CompositeOperation.SourceOver,this.transformer=new n.AffineTransformer,this.shaderProgram=null)}return t.prototype.copyFrom=function(t){return this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer.copyFrom(t.transformer),this.shaderProgram=t.shaderProgram,this},t}();i.WebGLRenderingState=o},{\"../AffineTransformer\":40,\"@akashic/akashic-engine\":1}],56:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(e,i,r){var n=t._DEFAULT_VERTEX_SHADER,i=i||t._DEFAULT_FRAGMENT_SHADER,o=t._makeShaderProgram(e,n,i);this.program=o,this._context=e,this._aVertex=e.getAttribLocation(this.program,\"aVertex\"),this._uColor=e.getUniformLocation(this.program,\"uColor\"),this._uAlpha=e.getUniformLocation(this.program,\"uAlpha\"),this._uSampler=e.getUniformLocation(this.program,\"uSampler\"),this._uniforms=r,this._uniformCaches=[],this._uniformSetterTable={float:this._uniform1f.bind(this),int:this._uniform1i.bind(this),float_v:this._uniform1fv.bind(this),int_v:this._uniform1iv.bind(this),vec2:this._uniform2fv.bind(this),vec3:this._uniform3fv.bind(this),vec4:this._uniform4fv.bind(this),ivec2:this._uniform2iv.bind(this),ivec3:this._uniform3iv.bind(this),ivec4:this._uniform4iv.bind(this),mat2:this._uniformMatrix2fv.bind(this),mat3:this._uniformMatrix3fv.bind(this),mat4:this._uniformMatrix4fv.bind(this)}}return t._makeShader=function(t,e,i){var r=t.createShader(e);if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var n=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error(n)}return r},t._makeShaderProgram=function(e,i,r){var n=e.createProgram(),o=t._makeShader(e,e.VERTEX_SHADER,i);e.attachShader(n,o),e.deleteShader(o);var s=t._makeShader(e,e.FRAGMENT_SHADER,r);if(e.attachShader(n,s),e.deleteShader(s),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var a=e.getProgramInfoLog(n);throw e.deleteProgram(n),new Error(a)}return n},t.prototype.set_aVertex=function(t){this._context.bindBuffer(this._context.ARRAY_BUFFER,t),this._context.enableVertexAttribArray(this._aVertex),this._context.vertexAttribPointer(this._aVertex,4,this._context.FLOAT,!1,0,0)},t.prototype.set_uColor=function(t){this._context.uniform4f(this._uColor,t[0],t[1],t[2],t[3])},t.prototype.set_uAlpha=function(t){this._context.uniform1f(this._uAlpha,t)},t.prototype.set_uSampler=function(t){this._context.uniform1i(this._uSampler,t)},t.prototype.updateUniforms=function(){for(var t=0;t<this._uniformCaches.length;++t){var e=this._uniformCaches[t],i=this._uniforms[e.name].value;(e.isArray||i!==e.beforeValue)&&(e.update(e.loc,i),e.beforeValue=i)}},t.prototype.initializeUniforms=function(){var t=this,e=[],i=this._uniforms;null!=i&&Object.keys(i).forEach(function(n){var o=i[n].type,s=Array.isArray(i[n].value);!s||\"int\"!==o&&\"float\"!==o||(o+=\"_v\");var a=t._uniformSetterTable[o];if(!a)throw r.ExceptionFactory.createAssertionError(\"WebGLShaderProgram#initializeUniforms: Uniform type '\"+o+\"' is not supported.\");e.push({name:n,update:a,beforeValue:null,isArray:s,loc:t._context.getUniformLocation(t.program,n)})}),this._uniformCaches=e},t.prototype.use=function(){this._context.useProgram(this.program)},t.prototype.unuse=function(){this._context.useProgram(null)},t.prototype.destroy=function(){this._context.deleteProgram(this.program)},t.prototype._uniform1f=function(t,e){this._context.uniform1f(t,e)},t.prototype._uniform1i=function(t,e){this._context.uniform1i(t,e)},t.prototype._uniform1fv=function(t,e){this._context.uniform1fv(t,e)},t.prototype._uniform1iv=function(t,e){this._context.uniform1iv(t,e)},t.prototype._uniform2fv=function(t,e){this._context.uniform2fv(t,e)},t.prototype._uniform3fv=function(t,e){this._context.uniform3fv(t,e)},t.prototype._uniform4fv=function(t,e){this._context.uniform4fv(t,e)},t.prototype._uniform2iv=function(t,e){this._context.uniform2iv(t,e)},t.prototype._uniform3iv=function(t,e){this._context.uniform3iv(t,e)},t.prototype._uniform4iv=function(t,e){this._context.uniform4iv(t,e)},t.prototype._uniformMatrix2fv=function(t,e){this._context.uniformMatrix2fv(t,!1,e)},t.prototype._uniformMatrix3fv=function(t,e){this._context.uniformMatrix3fv(t,!1,e)},t.prototype._uniformMatrix4fv=function(t,e){this._context.uniformMatrix4fv(t,!1,e)},t._DEFAULT_VERTEX_SHADER=\"#version 100\\nprecision mediump float;\\nattribute vec4 aVertex;\\nvarying vec2 vTexCoord;\\nvarying vec4 vColor;\\nuniform vec4 uColor;\\nuniform float uAlpha;\\nvoid main() {    gl_Position = vec4(aVertex.xy, 0.0, 1.0);    vTexCoord = aVertex.zw;    vColor = uColor * uAlpha;}\",\nt._DEFAULT_FRAGMENT_SHADER=\"#version 100\\nprecision mediump float;\\nvarying vec2 vTexCoord;\\nvarying vec4 vColor;\\nuniform sampler2D uSampler;\\nvoid main() {    gl_FragColor = texture2D(uSampler, vTexCoord) * vColor;}\",t}();i.WebGLShaderProgram=n},{\"@akashic/akashic-engine\":1}],57:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./WebGLShaderProgram\"),o=t(\"./WebGLTextureAtlas\"),s=t(\"./WebGLPrimarySurface\"),a=t(\"./WebGLBackSurface\"),h=function(){function t(t,e){var i=new s.WebGLPrimarySurface(this,t,e),n=i.canvas.getContext(\"webgl\",{depth:!1,preserveDrawingBuffer:!0});if(!n)throw r.ExceptionFactory.createAssertionError(\"WebGLSharedObject#constructor: could not initialize WebGLRenderingContext\");this._surface=i,this._context=n,this._init()}return t.prototype.getFillRectSurfaceTexture=function(){return this._fillRectSurfaceTexture},t.prototype.getPrimarySurface=function(){return this._surface},t.prototype.createBackSurface=function(t,e){return new a.WebGLBackSurface(this,t,e)},t.prototype.pushRenderTarget=function(t){this._commit(),this._renderTargetStack.push(t),this._context.bindFramebuffer(this._context.FRAMEBUFFER,t.framebuffer),this._context.viewport(0,0,t.viewportWidth,t.viewportHeight)},t.prototype.popRenderTarget=function(){this._commit(),this._renderTargetStack.pop();var t=this.getCurrentRenderTarget();this._context.bindFramebuffer(this._context.FRAMEBUFFER,t.framebuffer),this._context.viewport(0,0,t.viewportWidth,t.viewportHeight)},t.prototype.getCurrentRenderTarget=function(){return this._renderTargetStack[this._renderTargetStack.length-1]},t.prototype.begin=function(){this.clear(),this._currentShaderProgram.use(),this._currentShaderProgram.set_aVertex(this._vertices),this._currentShaderProgram.set_uColor(this._currentColor),this._currentShaderProgram.set_uAlpha(this._currentAlpha),this._currentShaderProgram.set_uSampler(0),this._currentShaderProgram.updateUniforms()},t.prototype.clear=function(){this._context.clear(this._context.COLOR_BUFFER_BIT)},t.prototype.draw=function(t,e,i,r,n,o,s,a,h){this._numSprites>=this._maxSpriteCount&&this._commit();var c;if(c=e===this._fillRectSurfaceTexture||null==t.shaderProgram||null==t.shaderProgram._program?this._defaultShaderProgram:t.shaderProgram._program,this._currentShaderProgram!==c&&(this._commit(),this._currentShaderProgram=c,this._currentShaderProgram.use(),this._currentShaderProgram.updateUniforms(),this._currentCompositeOperation=null,this._currentAlpha=null,this._currentColor=[],this._currentTexture=null),this._currentTexture!==e.texture&&(this._currentTexture=e.texture,this._commit(),this._context.bindTexture(this._context.TEXTURE_2D,e.texture)),this._currentColor[0]===h[0]&&this._currentColor[1]===h[1]&&this._currentColor[2]===h[2]&&this._currentColor[3]===h[3]||(this._currentColor=h,this._commit(),this._currentShaderProgram.set_uColor(h)),this._currentAlpha!==t.globalAlpha&&(this._currentAlpha=t.globalAlpha,this._commit(),this._currentShaderProgram.set_uAlpha(t.globalAlpha)),this._currentCompositeOperation!==t.globalCompositeOperation){this._currentCompositeOperation=t.globalCompositeOperation,this._commit();var u=this._compositeOps[this._currentCompositeOperation];this._context.blendFunc(u[0],u[1])}var l=1/e.textureWidth,d=1/e.textureHeight,p=e.textureOffsetX,f=e.textureOffsetY,_=l*(p+i+n),g=d*(f+r+o),y=l*(p+i),m=d*(f+r);this._register(this._transformVertex(s,a,n,o,t.transformer),[y,m,_,m,_,g,y,m,_,g,y,g])},t.prototype.end=function(){if(this._commit(),this._deleteRequestedTargets.length>0){for(var t=0;t<this._deleteRequestedTargets.length;++t)this.deleteRenderTarget(this._deleteRequestedTargets[t]);this._deleteRequestedTargets=[]}},t.prototype.makeTextureForSurface=function(t){this._textureAtlas.makeTextureForSurface(this,t)},t.prototype.disposeTexture=function(t){this._currentTexture===t&&this._commit()},t.prototype.assignTexture=function(t,e,i,n){if(this._context.bindTexture(this._context.TEXTURE_2D,n),t instanceof HTMLVideoElement)throw r.ExceptionFactory.createAssertionError(\"WebGLRenderer#assignTexture: HTMLVideoElement is not supported.\");this._context.texSubImage2D(this._context.TEXTURE_2D,0,e,i,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture)},t.prototype.clearTexture=function(t,e,i,r){this._context.bindTexture(this._context.TEXTURE_2D,r),this._context.texSubImage2D(this._context.TEXTURE_2D,0,0,0,e,i,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture)},t.prototype.makeTextureRaw=function(t,e,i){void 0===i&&(i=null);var r=this._context.createTexture();return this._context.bindTexture(this._context.TEXTURE_2D,r),this._context.pixelStorei(this._context.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_S,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_T,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MAG_FILTER,this._context.NEAREST),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MIN_FILTER,this._context.NEAREST),this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,t,e,0,this._context.RGBA,this._context.UNSIGNED_BYTE,i),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture),r},t.prototype.makeTexture=function(t){var e=this._context.createTexture();return this._context.bindTexture(this._context.TEXTURE_2D,e),this._context.pixelStorei(this._context.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_S,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_T,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MAG_FILTER,this._context.NEAREST),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MIN_FILTER,this._context.NEAREST),t instanceof HTMLImageElement?this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t):t instanceof HTMLCanvasElement?this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t):t instanceof ImageData&&this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture),e},t.prototype.getPrimaryRenderTarget=function(t,e){return this._renderTarget},t.prototype.createRenderTarget=function(t,e){var i=this._context,r=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,r);var n=i.createTexture();i.bindTexture(i.TEXTURE_2D,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,null),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,n,0),i.bindTexture(i.TEXTURE_2D,this._currentTexture);var o=this.getCurrentRenderTarget();return i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer),{width:t,height:e,viewportWidth:t,viewportHeight:e,framebuffer:r,texture:n}},t.prototype.requestDeleteRenderTarget=function(t){this._deleteRequestedTargets.push(t)},t.prototype.deleteRenderTarget=function(t){var e=this._context;this.getCurrentRenderTarget()===t&&this._commit(),e.deleteFramebuffer(t.framebuffer),e.deleteTexture(t.texture)},t.prototype.getContext=function(){return this._context},t.prototype.getDefaultShaderProgram=function(){return this._defaultShaderProgram},t.prototype.initializeShaderProgram=function(t){if(t&&!t._program){var e=new n.WebGLShaderProgram(this._context,t.fragmentShader,t.uniforms);e.initializeUniforms(),t._program=e}return t},t.prototype._init=function(){var t,e=new n.WebGLShaderProgram(this._context);this._textureAtlas=new o.WebGLTextureAtlas,this._fillRectTexture=this.makeTextureRaw(1,1,new Uint8Array([255,255,255,255])),this._fillRectSurfaceTexture={texture:this._fillRectTexture,textureWidth:1,textureHeight:1,textureOffsetX:0,textureOffsetY:0},this._renderTarget={width:this._surface.width,height:this._surface.height,viewportWidth:this._surface.width,viewportHeight:this._surface.height,framebuffer:null,texture:null},this._maxSpriteCount=1024,this._vertices=this._makeBuffer(24*this._maxSpriteCount*4),this._verticesCache=new Float32Array(24*this._maxSpriteCount),this._numSprites=0,this._currentTexture=null,this._currentColor=[1,1,1,1],this._currentAlpha=1,this._currentCompositeOperation=r.CompositeOperation.SourceOver,this._currentShaderProgram=e,this._defaultShaderProgram=e,this._renderTargetStack=[],this._deleteRequestedTargets=[],this._currentShaderProgram.use();try{this._currentShaderProgram.set_aVertex(this._vertices),this._currentShaderProgram.set_uColor(this._currentColor),this._currentShaderProgram.set_uAlpha(this._currentAlpha),this._currentShaderProgram.set_uSampler(0)}finally{this._currentShaderProgram.unuse()}this._context.enable(this._context.BLEND),this._context.activeTexture(this._context.TEXTURE0),this._context.bindTexture(this._context.TEXTURE_2D,this._fillRectTexture),this._compositeOps=(t={},t[r.CompositeOperation.SourceAtop]=[this._context.DST_ALPHA,this._context.ONE_MINUS_SRC_ALPHA],t[r.CompositeOperation.ExperimentalSourceIn]=[this._context.DST_ALPHA,this._context.ZERO],t[r.CompositeOperation.ExperimentalSourceOut]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ZERO],t[r.CompositeOperation.SourceOver]=[this._context.ONE,this._context.ONE_MINUS_SRC_ALPHA],t[r.CompositeOperation.ExperimentalDestinationAtop]=[this._context.ONE_MINUS_DST_ALPHA,this._context.SRC_ALPHA],t[r.CompositeOperation.ExperimentalDestinationIn]=[this._context.ZERO,this._context.SRC_ALPHA],t[r.CompositeOperation.DestinationOut]=[this._context.ZERO,this._context.ONE_MINUS_SRC_ALPHA],t[r.CompositeOperation.DestinationOver]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ONE],t[r.CompositeOperation.Lighter]=[this._context.ONE,this._context.ONE],t[r.CompositeOperation.Copy]=[this._context.ONE,this._context.ZERO],t[r.CompositeOperation.Xor]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ONE_MINUS_SRC_ALPHA],t);var i=this._compositeOps[this._currentCompositeOperation];this._context.blendFunc(i[0],i[1])},t.prototype._makeBuffer=function(t){var e=this._context.createBuffer();return this._context.bindBuffer(this._context.ARRAY_BUFFER,e),this._context.bufferData(this._context.ARRAY_BUFFER,t,this._context.DYNAMIC_DRAW),e},t.prototype._transformVertex=function(t,e,i,r,n){var o=this.getCurrentRenderTarget(),s=2/o.width,a=-2/o.height,h=n.matrix,c=s*i*h[0],u=a*i*h[1],l=s*r*h[2],d=a*r*h[3],p=s*(t*h[0]+e*h[2]+h[4])-1,f=a*(t*h[1]+e*h[3]+h[5])+1;return[p,f,c+p,u+f,c+l+p,u+d+f,p,f,c+l+p,u+d+f,l+p,d+f]},t.prototype._register=function(t,e){var i=6*this._numSprites;++this._numSprites;for(var r=0;r<6;++r)this._verticesCache[4*(r+i)+0]=t[2*r+0],this._verticesCache[4*(r+i)+1]=t[2*r+1],this._verticesCache[4*(r+i)+2]=e[2*r+0],this._verticesCache[4*(r+i)+3]=e[2*r+1]},t.prototype._commit=function(){this._numSprites>0&&(this._context.bindBuffer(this._context.ARRAY_BUFFER,this._vertices),this._context.bufferSubData(this._context.ARRAY_BUFFER,0,this._verticesCache.subarray(0,24*this._numSprites)),this._context.drawArrays(this._context.TRIANGLES,0,6*this._numSprites),this._numSprites=0)},t}();i.WebGLSharedObject=h},{\"./WebGLBackSurface\":49,\"./WebGLPrimarySurface\":52,\"./WebGLShaderProgram\":56,\"./WebGLTextureAtlas\":58,\"@akashic/akashic-engine\":1}],58:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./WebGLTextureMap\"),n=t(\"../RenderingHelper\"),o=function(){function t(){this._maps=[],this._insertPos=0,this.emptyTexturePixels=new Uint8Array(t.TEXTURE_SIZE*t.TEXTURE_SIZE*4)}return t.prototype.clear=function(){for(var t=0;t<this._maps.length;++t)this._maps[t].dispose()},t.prototype.showOccupancy=function(){for(var t=0;t<this._maps.length;++t)console.log(\"occupancy[\"+t+\"]: \"+this._maps[t].occupancy())},t.prototype.makeTextureForSurface=function(e,i){var r=i._drawable;if(r&&!r.texture){var o=r.width,s=r.height;if(o>=t.TEXTURE_SIZE||s>=t.TEXTURE_SIZE){var a=n.RenderingHelper.toPowerOfTwo(r.width),h=n.RenderingHelper.toPowerOfTwo(r.height);if(a!==r.width||h!==r.height){var c=document.createElement(\"canvas\");c.width=a,c.height=h;var u=c.getContext(\"2d\");u.globalCompositeOperation=\"copy\",u.drawImage(r,0,0),r=u.getImageData(0,0,a,h)}return i._drawable.texture=e.makeTexture(r),i._drawable.textureOffsetX=0,i._drawable.textureOffsetY=0,i._drawable.textureWidth=a,void(i._drawable.textureHeight=h)}this._assign(e,i,this._maps)}},t.prototype._assign=function(e,i,n){for(var o,s=0;s<n.length;++s)if(o=n[(s+this._insertPos)%n.length].insert(i))return this._register(e,o,i._drawable),void(this._insertPos=s);o=null,n.length>=t.TEXTURE_COUNT&&(o=n.shift(),e.disposeTexture(o.texture),o.dispose(),e.clearTexture(this.emptyTexturePixels,t.TEXTURE_SIZE,t.TEXTURE_SIZE,o.texture)),o||(o=new r.WebGLTextureMap(e.makeTextureRaw(t.TEXTURE_SIZE,t.TEXTURE_SIZE),0,0,t.TEXTURE_SIZE,t.TEXTURE_SIZE)),n.push(o),o=o.insert(i),this._register(e,o,i._drawable)},t.prototype._register=function(e,i,r){r.texture=i.texture,r.textureOffsetX=i.offsetX,r.textureOffsetY=i.offsetY,r.textureWidth=t.TEXTURE_SIZE,r.textureHeight=t.TEXTURE_SIZE,e.assignTexture(r,i.offsetX,i.offsetY,i.texture)},t.TEXTURE_SIZE=1024,t.TEXTURE_COUNT=16,t}();i.WebGLTextureAtlas=o},{\"../RenderingHelper\":43,\"./WebGLTextureMap\":59}],59:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t,e,i,r,n){this.texture=t,this.offsetX=e,this.offsetY=i,this._width=r,this._height=n}return t.prototype.dispose=function(){this._left&&(this._left.dispose(),this._left=null),this._right&&(this._right.dispose(),this._right=null),this._surface&&(this._surface._drawable&&(this._surface._drawable.texture=null),this._surface=null)},t.prototype.capacity=function(){return this._width*this._height},t.prototype.area=function(){if(!this._surface)return 0;var t=this._surface._drawable,e=t.width*t.height;return this._left&&(e+=this._left.area()),this._right&&(e+=this._right.area()),e},t.prototype.occupancy=function(){return this.area()/this.capacity()},t.prototype.insert=function(e){var i=e._drawable,r=i.width+t.TEXTURE_MARGIN,n=i.height+t.TEXTURE_MARGIN;if(this._surface){if(this._left){var o=this._left.insert(e);if(o)return o}if(this._right){var s=this._right.insert(e);if(s)return s}return null}if(this._width<r||this._height<n)return null;var a=this._width-r,h=this._height-n;return a<=h?(this._left=new t(this.texture,this.offsetX+r,this.offsetY,a,n),this._right=new t(this.texture,this.offsetX,this.offsetY+n,this._width,h)):(this._left=new t(this.texture,this.offsetX,this.offsetY+n,r,h),this._right=new t(this.texture,this.offsetX+r,this.offsetY,a,this._height)),this._surface=e,this},t.TEXTURE_MARGIN=1,t}();i.WebGLTextureMap=r},{}],60:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=(t(\"@akashic/akashic-pdi\"),function(){function t(e,i){if(Object.getPrototypeOf&&Object.getPrototypeOf(this)===t.prototype)throw new Error(\"InputAbstractHandler is abstract and should not be directly instantiated\");this.inputView=e,this.pointerEventLock={},this._xScale=1,this._yScale=1,this._disablePreventDefault=!!i,this.pointTrigger=new r.Trigger}return t.isSupported=function(){return!1},t.prototype.start=function(){throw new Error(\"This method is abstract\")},t.prototype.stop=function(){throw new Error(\"This method is abstract\")},t.prototype.setScale=function(t,e){void 0===e&&(e=t),this._xScale=t,this._yScale=e},t.prototype.pointDown=function(t,e){this.pointTrigger.fire({type:0,identifier:t,offset:this.getOffsetFromEvent(e)}),this.pointerEventLock[t]=!0},t.prototype.pointMove=function(t,e){this.pointerEventLock.hasOwnProperty(t+\"\")&&this.pointTrigger.fire({type:1,identifier:t,offset:this.getOffsetFromEvent(e)})},t.prototype.pointUp=function(t,e){this.pointerEventLock.hasOwnProperty(t+\"\")&&(this.pointTrigger.fire({type:2,identifier:t,offset:this.getOffsetFromEvent(e)}),delete this.pointerEventLock[t])},t.prototype.getOffsetFromEvent=function(t){return{x:t.offsetX,y:t.offsetY}},t.prototype.getScale=function(){return{x:this._xScale,y:this._yScale}},t.prototype.getOffsetPositionFromInputView=function(t){var e=this.inputView.getBoundingClientRect(),i=this.getScale();return{offsetX:(t.pageX-Math.round(window.pageXOffset+e.left))/i.x,offsetY:(t.pageY-Math.round(window.pageYOffset+e.top))/i.y}},t}());i.InputAbstractHandler=n},{\"@akashic/akashic-engine\":1,\"@akashic/akashic-pdi\":3}],61:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./InputAbstractHandler\"),o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.onMouseDown=function(t){0===t.button&&(r.pointDown(1,r.getOffsetPositionFromInputView(t)),window.addEventListener(\"mousemove\",r.onMouseMove,!1),window.addEventListener(\"mouseup\",r.onMouseUp,!1),r._disablePreventDefault||(t.stopPropagation(),t.preventDefault()))},r.onMouseMove=function(t){r.pointMove(1,r.getOffsetPositionFromInputView(t)),r._disablePreventDefault||(t.stopPropagation(),t.preventDefault())},r.onMouseUp=function(t){r.pointUp(1,r.getOffsetPositionFromInputView(t)),window.removeEventListener(\"mousemove\",r.onMouseMove,!1),window.removeEventListener(\"mouseup\",r.onMouseUp,!1),r._disablePreventDefault||(t.stopPropagation(),t.preventDefault())},r}return r(e,t),e.prototype.start=function(){this.inputView.addEventListener(\"mousedown\",this.onMouseDown,!1)},e.prototype.stop=function(){this.inputView.removeEventListener(\"mousedown\",this.onMouseDown,!1)},e}(n.InputAbstractHandler);i.MouseHandler=o},{\"./InputAbstractHandler\":60}],62:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./MouseHandler\"),o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.onTouchDown=function(t){for(var e=t.changedTouches,i=0,n=e.length;i<n;i++){var o=e[i];r.pointDown(o.identifier,r.getOffsetPositionFromInputView(o))}r._disablePreventDefault||(t.stopPropagation(),t.cancelable&&t.preventDefault())},r.onTouchMove=function(t){for(var e=t.changedTouches,i=0,n=e.length;i<n;i++){var o=e[i];r.pointMove(o.identifier,r.getOffsetPositionFromInputView(o))}r._disablePreventDefault||(t.stopPropagation(),t.cancelable&&t.preventDefault())},r.onTouchUp=function(t){for(var e=t.changedTouches,i=0,n=e.length;i<n;i++){var o=e[i];r.pointUp(o.identifier,r.getOffsetPositionFromInputView(o))}r._disablePreventDefault||(t.stopPropagation(),t.cancelable&&t.preventDefault())},r}return r(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.inputView.addEventListener(\"touchstart\",this.onTouchDown),this.inputView.addEventListener(\"touchmove\",this.onTouchMove),this.inputView.addEventListener(\"touchend\",this.onTouchUp)},e.prototype.stop=function(){t.prototype.stop.call(this),this.inputView.removeEventListener(\"touchstart\",this.onTouchDown),this.inputView.removeEventListener(\"touchmove\",this.onTouchMove),this.inputView.removeEventListener(\"touchend\",this.onTouchUp)},e}(n.MouseHandler);i.TouchHandler=o},{\"./MouseHandler\":61}],63:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./Platform\");i.Platform=r.Platform;var n=t(\"./ResourceFactory\");i.ResourceFactory=n.ResourceFactory;var o=t(\"@akashic/akashic-engine\");i.g=o;var s=t(\"./plugin/AudioPluginRegistry\");i.AudioPluginRegistry=s.AudioPluginRegistry;var a=t(\"./plugin/AudioPluginManager\");i.AudioPluginManager=a.AudioPluginManager;var h=t(\"./plugin/HTMLAudioPlugin/HTMLAudioPlugin\");i.HTMLAudioPlugin=h.HTMLAudioPlugin;var c=t(\"./plugin/WebAudioPlugin/WebAudioPlugin\");i.WebAudioPlugin=c.WebAudioPlugin;var u=t(\"./plugin/PostMessageAudioPlugin/PostMessageAudioPlugin\");i.PostMessageAudioPlugin=u.PostMessageAudioPlugin;var l=t(\"./plugin/ProxyAudioPlugin/ProxyAudioPlugin\");i.ProxyAudioPlugin=l.ProxyAudioPlugin},{\"./Platform\":32,\"./ResourceFactory\":34,\"./plugin/AudioPluginManager\":64,\"./plugin/AudioPluginRegistry\":65,\"./plugin/HTMLAudioPlugin/HTMLAudioPlugin\":69,\"./plugin/PostMessageAudioPlugin/PostMessageAudioPlugin\":72,\"./plugin/ProxyAudioPlugin/ProxyAudioPlugin\":76,\"./plugin/WebAudioPlugin/WebAudioPlugin\":81,\"@akashic/akashic-engine\":1}],64:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(){this._activePlugin=null}return t.prototype.getActivePlugin=function(){return this._activePlugin},t.prototype.tryInstallPlugin=function(t){for(var e=0,i=t.length;e<i;e++){var r=t[e];if(!r.isSupported)return this._activePlugin=r,!0;var n=r;if(n.isSupported())return this._activePlugin=new n,!0}return!1},t}();i.AudioPluginManager=r},{}],65:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=[];i.AudioPluginRegistry={addPlugin:function(t){-1===r.indexOf(t)&&r.push(t)},getRegisteredAudioPlugins:function(){return r},clear:function(){r=[]}}},{}],66:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._load=function(t){var i=this;if(null==this.path)return this.data=null,void setTimeout(function(){return t._onAssetLoad(i)},0);var r=new Audio,o=function(t,e){r.autoplay=!1,r.preload=\"none\",r.src=t,i._attachAll(r,e),r.preload=\"auto\",a(r,e),r.load()},s={success:function(){i._detachAll(r,s),i.data=r,t._onAssetLoad(i),window.clearInterval(i._intervalId)},error:function(){i._detachAll(r,s),i.data=r,t._onAssetError(i,n.ExceptionFactory.createAssetLoadError(\"HTMLAudioAsset loading error\")),window.clearInterval(i._intervalId)}},a=function(t,e){i._intervalCount=0,i._intervalId=window.setInterval(function(){4===t.readyState?e.success():600===++i._intervalCount&&e.error()},100)},h=this.path.indexOf(\"?\");if(\".aac\"===(h>=0?this.path.substring(0,h):this.path).slice(-4)&&-1!==e.supportedFormats.indexOf(\"mp4\")){var c={success:s.success,error:function(){i._detachAll(r,c),window.clearInterval(i._intervalId),i.path=n.PathUtil.addExtname(i.originalPath,\"mp4\"),o(i.path,s)}};return void o(this.path,c)}o(this.path,s)},e.prototype.cloneElement=function(){return this.data?new Audio(this.data.src):null},e.prototype._assetPathFilter=function(t){return-1!==e.supportedFormats.indexOf(\"ogg\")?n.PathUtil.addExtname(t,\"ogg\"):-1!==e.supportedFormats.indexOf(\"aac\")?n.PathUtil.addExtname(t,\"aac\"):null},e.prototype._attachAll=function(t,e){e.success&&t.addEventListener(\"canplaythrough\",e.success,!1),e.error&&(t.addEventListener(\"stalled\",e.error,!1),t.addEventListener(\"error\",e.error,!1),t.addEventListener(\"abort\",e.error,!1))},e.prototype._detachAll=function(t,e){e.success&&t.removeEventListener(\"canplaythrough\",e.success,!1),e.error&&(t.removeEventListener(\"stalled\",e.error,!1),t.removeEventListener(\"error\",e.error,!1),t.removeEventListener(\"abort\",e.error,!1))},e}(n.AudioAsset);i.HTMLAudioAsset=o},{\"@akashic/akashic-engine\":1}],67:[function(t,e,i){\"use strict\";function r(){s(),o()}function n(){document.addEventListener(\"keydown\",r,!0),document.addEventListener(\"mousedown\",r,!0),document.addEventListener(\"touchend\",r,!0)}function o(){document.removeEventListener(\"keydown\",r),document.removeEventListener(\"mousedown\",r),document.removeEventListener(\"touchend\",r)}function s(){h=2,c.forEach(function(t){return t.play()}),c=[]}var a,h=0,c=[];!function(t){function e(t){function e(){switch(h){case 0:case 1:s()}h=2,clearTimeout(r)}function i(){switch(t.removeEventListener(\"play\",e),h){case 0:c.push(t),h=1,n();break;case 1:c.push(t);break;case 2:t.play()}}switch(h){case 0:t.addEventListener(\"play\",e,!0);var r=setTimeout(i,100);break;case 1:c.push(t)}}t.setupChromeMEIWorkaround=e}(a||(a={})),e.exports=a},{}],68:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./HTMLAudioAutoplayHelper\"),s=function(t){function e(e,i){var r=t.call(this,e)||this;return r._manager=i,r._endedEventHandler=function(){r._onAudioEnded()},r._onPlayEventHandler=function(){r._onPlayEvent()},r._dummyDurationWaitTimer=null,r}return r(e,t),e.prototype.play=function(e){this.currentAudio&&this.stop();var i=e.cloneElement();i?(o.setupChromeMEIWorkaround(i),i.volume=this._calculateVolume(),i.play().catch(function(t){}),i.loop=e.loop,i.addEventListener(\"ended\",this._endedEventHandler,!1),i.addEventListener(\"play\",this._onPlayEventHandler,!1),this._isWaitingPlayEvent=!0,this._audioInstance=i):this._dummyDurationWaitTimer=setTimeout(this._endedEventHandler,e.duration),t.prototype.play.call(this,e)},e.prototype.stop=function(){if(!this.currentAudio)return void t.prototype.stop.call(this);this._clearEndedEventHandler(),this._audioInstance&&(this._isWaitingPlayEvent?this._isStopRequested=!0:(this._audioInstance.pause(),this._audioInstance=null)),t.prototype.stop.call(this)},e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype.notifyMasterVolumeChanged=function(){this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype._onAudioEnded=function(){this._clearEndedEventHandler(),t.prototype.stop.call(this)},e.prototype._clearEndedEventHandler=function(){this._audioInstance&&this._audioInstance.removeEventListener(\"ended\",this._endedEventHandler,!1),null!=this._dummyDurationWaitTimer&&(clearTimeout(this._dummyDurationWaitTimer),this._dummyDurationWaitTimer=null)},e.prototype._onPlayEvent=function(){this._isWaitingPlayEvent&&(this._isWaitingPlayEvent=!1,this._isStopRequested&&(this._isStopRequested=!1,this._audioInstance.pause(),this._audioInstance=null))},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(n.AudioPlayer);i.HTMLAudioPlayer=s},{\"./HTMLAudioAutoplayHelper\":67,\"@akashic/akashic-engine\":1}],69:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./HTMLAudioAsset\"),n=t(\"./HTMLAudioPlayer\"),o=function(){function t(){this._supportedFormats=this._detectSupportedFormats(),r.HTMLAudioAsset.supportedFormats=this.supportedFormats}return t.isSupported=function(){var t=document.createElement(\"audio\"),e=!1;try{e=void 0!==t.canPlayType}catch(t){}return e},Object.defineProperty(t.prototype,\"supportedFormats\",{get:function(){return this._supportedFormats},set:function(t){this._supportedFormats=t,r.HTMLAudioAsset.supportedFormats=t},enumerable:!0,configurable:!0}),t.prototype.createAsset=function(t,e,i,n,o,s){return new r.HTMLAudioAsset(t,e,i,n,o,s)},t.prototype.createPlayer=function(t,e){return new n.HTMLAudioPlayer(t,e)},t.prototype._detectSupportedFormats=function(){if(-1!==navigator.userAgent.indexOf(\"Edge/\"))return[\"aac\"];var t=document.createElement(\"audio\"),e=[];try{for(var i=[\"ogg\",\"aac\",\"mp4\"],r=0,n=i.length;r<n;r++){var o=i[r],s=t.canPlayType(\"audio/\"+o);\"no\"!==s&&\"\"!==s&&e.push(o)}}catch(t){}return e},t}();i.HTMLAudioPlugin=o},{\"./HTMLAudioAsset\":66,\"./HTMLAudioPlayer\":68}],70:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./PostMessageAudioPlugin\"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._load=function(t){var e=this,i={id:this.id,assetPath:this.path,duration:this.duration,loop:this.loop,hint:this.hint};o.PostMessageAudioPlugin.send(\"akashic:AudioAsset#_load\",i),setTimeout(function(){return t._onAssetLoad(e)})},e.prototype.destroy=function(){o.PostMessageAudioPlugin.send(\"akashic:AudioAsset#destroy\",{id:this.id}),t.prototype.destroy.call(this)},e}(n.AudioAsset);i.PostMessageAudioAsset=s},{\"./PostMessageAudioPlugin\":72,\"@akashic/akashic-engine\":1}],71:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./PostMessageAudioPlugin\"),s=function(t){function e(e,i,r){var n=t.call(this,e)||this;return n._manager=i,n.id=r,o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#new\",{id:r}),n}return r(e,t),e.prototype.play=function(t){o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#play\",{id:this.id,assetId:t.id})},e.prototype.stop=function(){o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#stop\",{id:this.id})},e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changeVolume\",{id:this.id,volume:this._calculateVolume()})},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changeVolume\",{id:this.id,volume:this._calculateVolume()})},e.prototype._changePlaybackRate=function(e){t.prototype._changePlaybackRate.call(this,e),o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changePlaybackRate\",{id:this.id,rate:e})},e.prototype.notifyMasterVolumeChanged=function(){o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changeVolume\",{id:this.id,volume:this._calculateVolume()})},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(n.AudioPlayer);i.PostMessageAudioPlayer=s},{\"./PostMessageAudioPlugin\":72,\"@akashic/akashic-engine\":1}],\n72:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r,n=t(\"./PostMessageAudioAsset\"),o=t(\"./PostMessageAudioPlayer\"),s=t(\"./PostMessageHandler\"),a=function(){function t(){this.supportedFormats=void 0,this._playerIdx=0}return t.isSupported=function(){return\"undefined\"!=typeof window&&!!window.postMessage},t.initialize=function(t,e){return r=new s.PostMessageHandler(t,e),r.start(),r},t.send=function(t,e){r.send({type:t,parameters:e})},t.prototype.createAsset=function(t,e,i,r,o,s){return new n.PostMessageAudioAsset(t,e,i,r,o,s)},t.prototype.createPlayer=function(t,e){return new o.PostMessageAudioPlayer(t,e,\"\"+this._playerIdx++)},t}();i.PostMessageAudioPlugin=a},{\"./PostMessageAudioAsset\":70,\"./PostMessageAudioPlayer\":71,\"./PostMessageHandler\":73}],73:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t,e){this.message=new r.Trigger,this.targetWindow=t,this.targetOrigin=e,this.onMessage_bound=this.onMessage.bind(this)}return t.prototype.start=function(){window.addEventListener(\"message\",this.onMessage_bound)},t.prototype.stop=function(){window.removeEventListener(\"message\",this.onMessage_bound)},t.prototype.send=function(t){this.targetWindow.postMessage(t,this.targetOrigin)},t.prototype.onMessage=function(t){t.origin===this.targetOrigin&&this.message.fire(t.data)},t}();i.PostMessageHandler=n},{\"@akashic/akashic-engine\":1}],74:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i,r,n,o,s,a){var h=t.call(this,i,r,n,o,s,a)||this;return h._handlerSet=e,h}return r(e,t),e.prototype.destroy=function(){this._handlerSet.unloadAudioAsset(this.id),t.prototype.destroy.call(this)},e.prototype._load=function(t){var e=this;this._handlerSet.loadAudioAsset({id:this.id,assetPath:this.path,duration:this.duration,loop:this.loop,hint:this.hint},function(i){i?t._onAssetError(e,n.ExceptionFactory.createAssetLoadError(i)):t._onAssetLoad(e)})},e.prototype._assetPathFilter=function(t){return t},e}(n.AudioAsset);i.ProxyAudioAsset=o},{\"@akashic/akashic-engine\":1}],75:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i,r){var n=t.call(this,i)||this;return n._audioPlayerId=null,n._handlerSet=e,n._manager=r,n}return r(e,t),e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._notifyVolumeToHandler()},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._notifyVolumeToHandler()},e.prototype.play=function(i){null!=this._audioPlayerId&&this.stop(),this._audioPlayerId=\"ap\"+e._audioPlayerIdCounter++,this._handlerSet.createAudioPlayer({assetId:i.id,audioPlayerId:this._audioPlayerId,isPlaying:!0,volume:this._calculateVolume(),playbackRate:1}),t.prototype.play.call(this,i)},e.prototype.stop=function(){null!=this._audioPlayerId&&(this._handlerSet.stopAudioPlayer(this._audioPlayerId),this._handlerSet.destroyAudioPlayer(this._audioPlayerId),this._audioPlayerId=null),t.prototype.stop.call(this)},e.prototype.notifyMasterVolumeChanged=function(){this._notifyVolumeToHandler()},e.prototype._notifyVolumeToHandler=function(){null!=this._audioPlayerId&&this._handlerSet.changeAudioVolume(this._audioPlayerId,this._calculateVolume())},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e._audioPlayerIdCounter=0,e}(n.AudioPlayer);i.ProxyAudioPlayer=o},{\"@akashic/akashic-engine\":1}],76:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./ProxyAudioAsset\"),n=t(\"./ProxyAudioPlayer\"),o=function(){function t(t){this.supportedFormats=[],this._handlerSet=t}return t.isSupported=function(){return!0},t.prototype.createAsset=function(t,e,i,n,o,s){return new r.ProxyAudioAsset(this._handlerSet,t,e,i,n,o,s)},t.prototype.createPlayer=function(t,e){return new n.ProxyAudioPlayer(this._handlerSet,t,e)},t}();i.ProxyAudioPlugin=o},{\"./ProxyAudioAsset\":74,\"./ProxyAudioPlayer\":75}],77:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"../../utils/XHRLoader\"),s=t(\"./WebAudioHelper\"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._load=function(t){var e=this;if(null==this.path)return this.data=null,void setTimeout(function(){return t._onAssetLoad(e)},0);var i=function(i){e.data=i,t._onAssetLoad(e)},r=function(){t._onAssetError(e,n.ExceptionFactory.createAssetLoadError(\"WebAudioAsset unknown loading error\"))},a=function(t){s.getAudioContext().decodeAudioData(t,i,r)},h=new o.XHRLoader,c=function(t,e,i){h.getArrayBuffer(t,function(t,r){t?i(t):e(r)})},u=this.path.indexOf(\"?\");if(\".aac\"===(u>=0?this.path.substring(0,u):this.path).slice(-4))return void c(this.path,a,function(t){var i=n.PathUtil.addExtname(e.originalPath,\"mp4\");c(i,function(t){e.path=i,a(t)},r)});c(this.path,a,r)},e.prototype._assetPathFilter=function(t){return-1!==e.supportedFormats.indexOf(\"ogg\")?n.PathUtil.addExtname(t,\"ogg\"):-1!==e.supportedFormats.indexOf(\"aac\")?n.PathUtil.addExtname(t,\"aac\"):null},e.supportedFormats=[],e}(n.AudioAsset);i.WebAudioAsset=a},{\"../../utils/XHRLoader\":82,\"./WebAudioHelper\":79,\"@akashic/akashic-engine\":1}],78:[function(t,e,i){\"use strict\";function r(){a.getAudioContext().resume(),o()}function n(){document.addEventListener(\"keydown\",r,!0),document.addEventListener(\"mousedown\",r,!0),document.addEventListener(\"touchend\",r,!0)}function o(){document.removeEventListener(\"keydown\",r),document.removeEventListener(\"mousedown\",r),document.removeEventListener(\"touchend\",r)}var s,a=t(\"./WebAudioHelper\");!function(t){function e(){var t=a.getAudioContext();if(!t||\"function\"==typeof t.resume){var e=a.createGainNode(t),i=t.createOscillator();i.type=\"sawtooth\",i.frequency.value=440,i.connect(e),i.start(0);var r=t.state;i.disconnect(),\"running\"!==r&&n()}}t.setupChromeMEIWorkaround=e}(s||(s={})),e.exports=s},{\"./WebAudioHelper\":79}],79:[function(t,e,i){\"use strict\";var r,n=window.AudioContext||window.webkitAudioContext;!function(t){function e(){window.__akashic__||Object.defineProperty(window,\"__akashic__\",{value:{},enumerable:!1,configurable:!1,writable:!1});var e=window.__akashic__.audioContext;return e instanceof n||(e=window.__akashic__.audioContext=new n,t._workAroundSafari()),e}function i(t){return t.createGain?t.createGain():t.createGainNode()}function r(t){var e=t.createBufferSource();return e.start?e:(e.start=e.noteOn,e.stop=e.noteOff,e)}function o(){document.addEventListener(\"touchstart\",function e(){document.removeEventListener(\"touchstart\",e),t.getAudioContext().createBufferSource().start(0)},!0)}t.getAudioContext=e,t.createGainNode=i,t.createBufferNode=r,t._workAroundSafari=o}(r||(r={})),e.exports=r},{}],80:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./WebAudioHelper\"),s=function(t){function e(e,i){var r=t.call(this,e)||this;return r._audioContext=o.getAudioContext(),r._manager=i,r._gainNode=o.createGainNode(r._audioContext),r._gainNode.connect(r._audioContext.destination),r._sourceNode=void 0,r._dummyDurationWaitTimer=null,r._endedEventHandler=function(){r._onAudioEnded()},r}return r(e,t),e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._gainNode.gain.value=this._calculateVolume()},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._gainNode.gain.value=this._calculateVolume()},e.prototype.play=function(e){if(this.currentAudio&&this.stop(),e.data){var i=o.createBufferNode(this._audioContext);i.loop=e.loop,i.buffer=e.data,this._gainNode.gain.value=this._calculateVolume(),i.connect(this._gainNode),this._sourceNode=i,this._sourceNode.onended=this._endedEventHandler,this._sourceNode.start(0)}else this._dummyDurationWaitTimer=setTimeout(this._endedEventHandler,e.duration);t.prototype.play.call(this,e)},e.prototype.stop=function(){if(!this.currentAudio)return void t.prototype.stop.call(this);this._clearEndedEventHandler(),this._sourceNode&&this._sourceNode.stop(0),t.prototype.stop.call(this)},e.prototype.notifyMasterVolumeChanged=function(){this._gainNode.gain.value=this._calculateVolume()},e.prototype._onAudioEnded=function(){this._clearEndedEventHandler(),t.prototype.stop.call(this)},e.prototype._clearEndedEventHandler=function(){this._sourceNode&&(this._sourceNode.onended=null),null!=this._dummyDurationWaitTimer&&(clearTimeout(this._dummyDurationWaitTimer),this._dummyDurationWaitTimer=null)},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(n.AudioPlayer);i.WebAudioPlayer=s},{\"./WebAudioHelper\":79,\"@akashic/akashic-engine\":1}],81:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./WebAudioAsset\"),n=t(\"./WebAudioPlayer\"),o=t(\"./WebAudioAutoplayHelper\"),s=function(){function t(){this.supportedFormats=this._detectSupportedFormats(),o.setupChromeMEIWorkaround()}return t.isSupported=function(){return\"AudioContext\"in window||\"webkitAudioContext\"in window},Object.defineProperty(t.prototype,\"supportedFormats\",{get:function(){return this._supportedFormats},set:function(t){this._supportedFormats=t,r.WebAudioAsset.supportedFormats=t},enumerable:!0,configurable:!0}),t.prototype.createAsset=function(t,e,i,n,o,s){return new r.WebAudioAsset(t,e,i,n,o,s)},t.prototype.createPlayer=function(t,e){return new n.WebAudioPlayer(t,e)},t.prototype._detectSupportedFormats=function(){if(-1!==navigator.userAgent.indexOf(\"Edge/\"))return[\"aac\"];var t=document.createElement(\"audio\"),e=[];try{for(var i=[\"ogg\",\"aac\",\"mp4\"],r=0,n=i.length;r<n;r++){var o=i[r],s=t.canPlayType(\"audio/\"+o);\"no\"!==s&&\"\"!==s&&e.push(o)}}catch(t){}return e},t}();i.WebAudioPlugin=s},{\"./WebAudioAsset\":77,\"./WebAudioAutoplayHelper\":78,\"./WebAudioPlayer\":80}],82:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t){void 0===t&&(t={}),this.timeout=t.timeout||15e3}return t.prototype.get=function(t,e){this._getRequestObject({url:t,responseType:\"text\"},e)},t.prototype.getArrayBuffer=function(t,e){this._getRequestObject({url:t,responseType:\"arraybuffer\"},e)},t.prototype._getRequestObject=function(t,e){var i=new XMLHttpRequest;i.open(\"GET\",t.url,!0),i.responseType=t.responseType,i.timeout=this.timeout,i.addEventListener(\"timeout\",function(){e(r.ExceptionFactory.createAssetLoadError(\"loading timeout\"))},!1),i.addEventListener(\"load\",function(){if(i.status>=200&&i.status<300){var n=\"text\"===t.responseType?i.responseText:i.response;e(null,n)}else e(r.ExceptionFactory.createAssetLoadError(\"loading error. status: \"+i.status))},!1),i.addEventListener(\"error\",function(){e(r.ExceptionFactory.createAssetLoadError(\"loading error. status: \"+i.status))},!1),i.send()},t}();i.XHRLoader=n},{\"@akashic/akashic-engine\":1}],83:[function(e,i,r){(function(n,o){!function(e,n){\"object\"==typeof r&&void 0!==i?i.exports=n():\"function\"==typeof t&&t.amd?t(n):e.ES6Promise=n()}(this,function(){\"use strict\";function t(t){var e=typeof t;return null!==t&&(\"object\"===e||\"function\"===e)}function i(t){return\"function\"==typeof t}function r(t){N=t}function s(t){W=t}function a(){return void 0!==U?function(){U(c)}:h()}function h(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;t<H;t+=2){(0,z[t])(z[t+1]),z[t]=void 0,z[t+1]=void 0}H=0}function u(t,e){var i=this,r=new this.constructor(d);void 0===r[K]&&k(r);var n=i._state;if(n){var o=arguments[n-1];W(function(){return E(n,r,o,i._result)})}else w(i,r,t,e);return r}function l(t){var e=this;if(t&&\"object\"==typeof t&&t.constructor===e)return t;var i=new e(d);return v(i,t),i}function d(){}function p(){return new TypeError(\"You cannot resolve a promise with itself\")}function f(){return new TypeError(\"A promises callback cannot return that same promise.\")}function _(t,e,i,r){try{t.call(e,i,r)}catch(t){return t}}function g(t,e,i){W(function(t){var r=!1,n=_(i,e,function(i){r||(r=!0,e!==i?v(t,i):A(t,i))},function(e){r||(r=!0,x(t,e))},\"Settle: \"+(t._label||\" unknown promise\"));!r&&n&&(r=!0,x(t,n))},t)}function y(t,e){e._state===$?A(t,e._result):e._state===Z?x(t,e._result):w(e,void 0,function(e){return v(t,e)},function(e){return x(t,e)})}function m(t,e,r){e.constructor===t.constructor&&r===u&&e.constructor.resolve===l?y(t,e):void 0===r?A(t,e):i(r)?g(t,e,r):A(t,e)}function v(e,i){if(e===i)x(e,p());else if(t(i)){var r=void 0;try{r=i.then}catch(t){return void x(e,t)}m(e,i,r)}else A(e,i)}function T(t){t._onerror&&t._onerror(t._result),S(t)}function A(t,e){t._state===J&&(t._result=e,t._state=$,0!==t._subscribers.length&&W(S,t))}function x(t,e){t._state===J&&(t._state=Z,t._result=e,W(T,t))}function w(t,e,i,r){var n=t._subscribers,o=n.length;t._onerror=null,n[o]=e,n[o+$]=i,n[o+Z]=r,0===o&&t._state&&W(S,t)}function S(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var r=void 0,n=void 0,o=t._result,s=0;s<e.length;s+=3)r=e[s],n=e[s+i],r?E(i,r,n,o):n(o);t._subscribers.length=0}}function E(t,e,r,n){var o=i(r),s=void 0,a=void 0,h=!0;if(o){try{s=r(n)}catch(t){h=!1,a=t}if(e===s)return void x(e,f())}else s=n;e._state!==J||(o&&h?v(e,s):!1===h?x(e,a):t===$?A(e,s):t===Z&&x(e,s))}function b(t,e){try{e(function(e){v(t,e)},function(e){x(t,e)})}catch(e){x(t,e)}}function P(){return Q++}function k(t){t[K]=Q++,t._state=void 0,t._result=void 0,t._subscribers=[]}function R(){return new Error(\"Array Methods must be provided an Array\")}function L(t){return new tt(this,t).promise}function M(t){var e=this;return new e(G(t)?function(i,r){for(var n=t.length,o=0;o<n;o++)e.resolve(t[o]).then(i,r)}:function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})}function C(t){var e=this,i=new e(d);return x(i,t),i}function O(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}function F(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}function I(){var t=void 0;if(void 0!==o)t=o;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(t){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if(\"[object Promise]\"===i&&!e.cast)return}t.Promise=et}var D=void 0;D=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};var G=D,H=0,U=void 0,N=void 0,W=function(t,e){z[H]=t,z[H+1]=e,2===(H+=2)&&(N?N(c):Y())},B=\"undefined\"!=typeof window?window:void 0,j=B||{},V=j.MutationObserver||j.WebKitMutationObserver,q=\"undefined\"==typeof self&&void 0!==n&&\"[object process]\"==={}.toString.call(n),X=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel,z=new Array(1e3),Y=void 0;Y=q?function(){return function(){return n.nextTick(c)}}():V?function(){var t=0,e=new V(c),i=document.createTextNode(\"\");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}():X?function(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}():void 0===B&&\"function\"==typeof e?function(){try{var t=Function(\"return this\")().require(\"vertx\");return U=t.runOnLoop||t.runOnContext,a()}catch(t){return h()}}():h();var K=Math.random().toString(36).substring(2),J=void 0,$=1,Z=2,Q=0,tt=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(d),this.promise[K]||k(this.promise),G(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&A(this.promise,this._result))):x(this.promise,R())}return t.prototype._enumerate=function(t){for(var e=0;this._state===J&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,r=i.resolve;if(r===l){var n=void 0,o=void 0,s=!1;try{n=t.then}catch(t){s=!0,o=t}if(n===u&&t._state!==J)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof n)this._remaining--,this._result[e]=t;else if(i===et){var a=new i(d);s?x(a,o):m(a,t,n),this._willSettleAt(a,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,i){var r=this.promise;r._state===J&&(this._remaining--,t===Z?x(r,i):this._result[e]=i),0===this._remaining&&A(r,this._result)},t.prototype._willSettleAt=function(t,e){var i=this;w(t,void 0,function(t){return i._settledAt($,e,t)},function(t){return i._settledAt(Z,e,t)})},t}(),et=function(){function t(e){this[K]=P(),this._result=this._state=void 0,this._subscribers=[],d!==e&&(\"function\"!=typeof e&&O(),this instanceof t?b(this,e):F())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this,r=e.constructor;return i(t)?e.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):e.then(t,t)},t}();return et.prototype.then=u,et.all=L,et.race=M,et.resolve=l,et.reject=C,et._setScheduler=r,et._setAsap=s,et._asap=W,et.polyfill=I,et.Promise=et,et})}).call(this,e(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{_process:84}],84:[function(t,e,i){function r(){throw new Error(\"setTimeout has not been defined\")}function n(){throw new Error(\"clearTimeout has not been defined\")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(t){if(d===clearTimeout)return clearTimeout(t);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){g&&f&&(g=!1,f.length?_=f.concat(_):y=-1,_.length&&h())}function h(){if(!g){var t=o(a);g=!0;for(var e=_.length;e;){for(f=_,_=[];++y<e;)f&&f[y].run();y=-1,e=_.length}f=null,g=!1,s(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,d,p=e.exports={};!function(){try{l=\"function\"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{d=\"function\"==typeof clearTimeout?clearTimeout:n}catch(t){d=n}}();var f,_=[],g=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];_.push(new c(t,e)),1!==_.length||g||o(h)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title=\"browser\",p.browser=!0,p.env={},p.argv=[],p.version=\"\",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(t){return[]},p.binding=function(t){throw new Error(\"process.binding is not supported\")},p.cwd=function(){return\"/\"},p.chdir=function(t){throw new Error(\"process.chdir is not supported\")},p.umask=function(){return 0}},{}],85:[function(t,e,i){e.exports={gameDriver:t(\"@akashic/game-driver\"),akashicEngine:t(\"@akashic/akashic-engine\"),pdiBrowser:t(\"@akashic/pdi-browser\")}},{\"@akashic/akashic-engine\":1,\"@akashic/game-driver\":4,\"@akashic/pdi-browser\":28}]},{},[85])(85)});\n\n\twindow.engineFiles=engineFilesV2_1_37,window.g=engineFiles.akashicEngine,function(){window.require;window.require=function(i){switch(i){case\"@akashic/akashic-engine\":return engineFiles.akashicEngine;default:return this.call(this,i)}}}();\n\n</script>\n\n<script>\nif (! (\"optionProps\" in window)) {\n\twindow.optionProps = {};\n}\nwindow.optionProps.magnify = false\n\nwindow.g = require(\"@akashic/akashic-engine\");\n</script>\n<script>\nif (! (\"gLocalAssetContainer\" in window)) {\n\twindow.gLocalAssetContainer = {};\n}\n\nif (! (\"__akashic__\" in window)) {\n\twindow.__akashic__ = {};\n}\n\n\n\t\n\t\twindow.gLocalAssetContainer[\"game.json\"] = `{\n\t\"width\": 640,\n\t\"height\": 320,\n\t\"fps\": 30,\n\t\"main\": \"./script/_bootstrap.js\",\n\t\"assets\": {\n\t\t\"main\": {\n\t\t\t\"type\": \"script\",\n\t\t\t\"path\": \"script/main.js\",\n\t\t\t\"global\": true\n\t\t},\n\t\t\"parameterObject\": {\n\t\t\t\"type\": \"script\",\n\t\t\t\"path\": \"script/parameterObject.js\",\n\t\t\t\"global\": true\n\t\t},\n\t\t\"_bootstrap\": {\n\t\t\t\"type\": \"script\",\n\t\t\t\"path\": \"script/_bootstrap.js\",\n\t\t\t\"global\": true\n\t\t},\n\t\t\"tori\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 32,\n\t\t\t\"height\": 32,\n\t\t\t\"path\": \"image/tori.png\"\n\t\t},\n\t\t\"play\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 300,\n\t\t\t\"height\": 150,\n\t\t\t\"path\": \"image/play.png\"\n\t\t},\n\t\t\"title\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 640,\n\t\t\t\"height\": 320,\n\t\t\t\"path\": \"image/title.png\"\n\t\t},\n\t\t\"result\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 640,\n\t\t\t\"height\": 320,\n\t\t\t\"path\": \"image/result.png\"\n\t\t}\n\t},\n\t\"environment\": {\n\t\t\"sandbox-runtime\": \"2\",\n\t\t\"niconico\": {\n\t\t\t\"preferredSessionParameters\": {\n\t\t\t\t\"totalTimeLimit\": 70\n\t\t\t}\n\t\t}\n\t}\n}`;\n\t\n\n\t\n\t\twindow.gLocalAssetContainer[\"main\"] = function(g) {\n\t\t\t!function(e,t,a,i,n){\"use strict\";function s(e){var t=60;e.sessionParameter.totalTimeLimit&&(t=e.sessionParameter.totalTimeLimit),g.game.vars.gameState={score:0};var a=new g.Scene({game:g.game,assetIds:[\"title\",\"play\"]});a.loaded.add(function(){var e=new g.Sprite({scene:a,src:a.assets.title});a.append(e);var t=new g.Sprite({scene:a,src:a.assets.play});t.x=(g.game.width-t.width)/2,t.y=150,t.touchable=!0,t.pointDown.add(function(){i()}),a.append(t)}),g.game.pushScene(a);var i=function(){var e=new g.Scene({game:g.game,assetIds:[\"tori\",\"result\",\"play\"]});e.loaded.add(function(){g.game.vars.gameState.score=0,t=60;var a=new g.FilledRect({scene:e,width:g.game.width,height:g.game.height,cssColor:\"white\"});e.append(a);var n=new g.DynamicFont({game:g.game,fontFamily:g.FontFamily.SansSerif,size:48}),s=new g.Label({scene:e,text:\"SCORE: 0\",font:n,fontSize:n.size/2,textColor:\"black\"});e.append(s);var d=function(){s.text=\"SCORE: \"+g.game.vars.gameState.score,s.invalidate()},o=new g.Sprite({scene:e,src:e.assets.tori,width:e.assets.tori.width,height:e.assets.tori.height});o.x=100,o.y=100,o.modified(),e.append(o);var r=function(){var e=o.y,t=0,a=function(){var a=.45*t*t-10*t+e;o.height+a<g.game.height&&a>0?o.y=a:a<0&&(o.y=0),t++,o.modified()};o.update.remove(a),o.update.add(a)};e.pointDownCapture.add(function(){t>=0&&r()});var c=!1,h=function(){e.pointDownCapture.removeAll(),c=!0;var t=new g.Sprite({scene:e,src:e.assets.result});e.append(t);var a=new g.Sprite({scene:e,src:e.assets.play});a.x=(g.game.width-a.width)/2,a.y=150,a.touchable=!0,a.pointDown.add(function(){i()}),e.append(a);var s=new g.Label({scene:e,text:g.game.vars.gameState.score+\" ÁÇπ\",font:n,textColor:\"black\",fontSize:n.size/2});s.x=(g.game.width-s.width)/2,s.y=a.y-s.height,e.append(s)};e.setInterval(function(){if(!c){var a=new g.FilledRect({scene:e,height:100,width:50,cssColor:\"orange\"});e.append(a),a.x=g.game.width+a.width,a.update.add(function(){t>=0&&(a.x-=10,a.modified(),g.Collision.intersectAreas(a,o)&&h())});var i=new g.FilledRect({scene:e,height:100,width:50,cssColor:\"orange\"});e.append(i),i.x=g.game.width+i.width,i.y=g.game.height-i.height,i.update.add(function(){t>=0&&(i.x-=10,i.modified(),g.Collision.intersectAreas(i,o)&&h())});var n=new g.FilledRect({scene:e,height:g.game.height-(a.height+i.height),width:1,cssColor:\"transparent\"});e.append(n),n.x=g.game.width+i.width+(i.width-n.width),n.y=a.height,n.update.add(function(){t>=0&&(n.x-=10,n.modified()),g.Collision.intersectAreas(n,o)&&(n.destroy(),g.game.vars.gameState.score++,d())})}},1e3)}),g.game.pushScene(e)}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.main=s}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);\n\t\t};\n\t\n\n\t\n\t\twindow.gLocalAssetContainer[\"parameterObject\"] = function(g) {\n\t\t\t!function(e,u,o,r,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0})}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);\n\t\t};\n\t\n\n\t\n\t\twindow.gLocalAssetContainer[\"_bootstrap\"] = function(g) {\n\t\t\t!function(e,a,n,r,d){\"use strict\";var t=a(\"./main\");n.exports=function(e){var a={};Object.keys(e).forEach(function(n){a[n]=e[n]}),a.sessionParameter={},a.isAtsumaru=\"undefined\"!=typeof window&&void 0!==window.RPGAtsumaru,a.random=g.game.random;var n=new g.Scene({game:g.game});n.message.add(function(e){e.data&&\"start\"===e.data.type&&e.data.parameters&&(a.sessionParameter=e.data.parameters,null!=e.data.parameters.randomSeed&&(a.random=new g.XorshiftRandomGenerator(e.data.parameters.randomSeed)),g.game.popScene(),t.main(a))}),n.loaded.add(function(){var e=0;n.update.add(function(){++e>3&&(g.game.popScene(),t.main(a))})}),g.game.pushScene(n)}}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);\n\t\t};\n\t\n\n\n\n</script>\n\n<script>\n\n\tvar __extends=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),LocalScriptAsset=function(t){function o(o,n){var e=t.call(this,o,n)||this;return e.func=window.gLocalAssetContainer[o],e}return __extends(o,t),o.prototype._load=function(t){var o=this;void 0!==this.func?setTimeout(function(){t._onAssetLoad(o)},0):setTimeout(function(){t._onAssetError(o,g.ExceptionFactory.createAssetLoadError(\"can not load script asset\"))},0)},o.prototype.execute=function(t){return this.func(t),t.module.exports},o}(g.ScriptAsset);\n\n\t!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,t.gameStorage=e()}}(function(){return function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){var s=\"function\"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error(\"Cannot find module '\"+a+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){return o(t[a][1][e]||e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var i=\"function\"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){\"use strict\";var n=e(\"@akashic/akashic-engine\"),o=e(\"./validator\"),i=function(){function e(e,t){this._localStorage=e,this._metaData=t}return e.prototype.set=function(e,t,r){o.validateStorageKey(e),this.expandVariables(e);var i=this.storageKeyToStringKey(e),a=this.getValue(i),u=null;switch(e.region){case n.StorageRegion.Values:u=this.createValuesValue(a,t,r);break;case n.StorageRegion.Counts:u=this.createCountsValue(a,t,r);break;case n.StorageRegion.Scores:u=this.createScoresValue(a,t,r);break;case n.StorageRegion.Slots:throw new Error(\"Slots is not supported.\");default:throw new Error(\"Unknown region.\")}if(u){var s=null,c=new Date;s=a?{data:u.data,tag:u.tag,createdAt:a.createdAt,updatedAt:c}:{data:u.data,tag:u.tag,createdAt:c,updatedAt:c},this.setValue(i,s)}},e.prototype.load=function(e){var t=this,r={};Object.keys(this._localStorage).forEach(function(e){if(0===e.indexOf(\"akst:\")){var n=e.slice(\"akst:\".length);r[n]=t.getValue(n)}});var n=[];return e.forEach(function(e){o.validateStorageReadKey(e),t.expandVariables(e);var i=[];if(-1!==e.regionKey.indexOf(\"*\")||\"*\"===e.userId){var a=t.storageReadKeyToRegExp(e);Object.keys(r).forEach(function(e){if(a.test(e)){var n=r[e],o={data:n.data,storageKey:t.stringKeyToStorageKey(e)};null!=n.tag&&(o.tag=n.tag),i.push(o)}}),e.option&&(void 0!==e.option.valueOrder&&t.sortByValue(i,e.option.valueOrder),void 0!==e.option.keyOrder&&t.sortByRegionKey(i,e.option.keyOrder))}else{var u=t.storageKeyToStringKey(e),s=r[u];if(s){var c={data:s.data,storageKey:{region:e.region,regionKey:e.regionKey,userId:e.userId,gameId:e.gameId}};null!=s.tag&&(c.tag=s.tag),i.push(c)}}n.push(i)}),n},e.prototype.clearAll=function(){var e=this;Object.keys(this._localStorage).forEach(function(t){0===t.indexOf(\"akst:\")&&e._localStorage.removeItem(t)})},e.prototype.createValuesValue=function(e,t,r){if(!t)return null;if(r&&null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data){if(r.condition!==n.StorageCondition.Equal)throw new Error(\"Invalid condition.\");if(e.data!==r.comparisonValue)return null}var o={data:t.data};return null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createScoresValue=function(e,t,r){if(!t)return null;if(r&&null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data)switch(r.condition){case n.StorageCondition.Equal:if(e.data!==r.comparisonValue)return null;break;case n.StorageCondition.GreaterThan:if(!(e.data>r.comparisonValue))return null;break;case n.StorageCondition.LessThan:if(!(e.data<r.comparisonValue))return null}var o={data:t.data};return null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createCountsIncrDecrValue=function(e,t,r){var o={data:0},i=0;if(e&&(i=Number(e.data)),null!=r.condition&&null!=r.comparisonValue)switch(r.condition){case n.StorageCondition.Equal:if(i!==r.comparisonValue)return e?null:o;break;case n.StorageCondition.GreaterThan:if(!(i>r.comparisonValue))return e?null:o;break;case n.StorageCondition.LessThan:if(!(i<r.comparisonValue))return e?null:o}if(r.operation===n.StorageCountsOperation.Incr)t&&null!=t.data?o.data=i+Number(t.data):o.data=i+1;else{if(r.operation!==n.StorageCountsOperation.Decr)throw new Error(\"Unknown StorageCountsOperation\");t&&null!=t.data?o.data=i-Number(t.data):o.data=i-1}return t&&null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createCountsValue=function(e,t,r){if(r){if(r.operation===n.StorageCountsOperation.Incr||r.operation===n.StorageCountsOperation.Decr)return this.createCountsIncrDecrValue(e,t,r);if(null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data)switch(r.condition){case n.StorageCondition.Equal:if(e.data!==r.comparisonValue)return null;break;case n.StorageCondition.GreaterThan:if(!(e.data>r.comparisonValue))return null;break;case n.StorageCondition.LessThan:if(!(e.data<r.comparisonValue))return null}}var o={data:t.data};return t&&null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.setValue=function(e,t){this._localStorage.setItem(\"akst:\"+e,JSON.stringify(t))},e.prototype.getValue=function(e){return JSON.parse(this._localStorage.getItem(\"akst:\"+e))},e.prototype.storageKeyToStringKey=function(e){return(e.region||\"\")+\"/\"+(null!=e.gameId?String(e.gameId):\"\")+\"/\"+(null!=e.userId?String(e.userId):\"\")+\"/\"+(e.regionKey||\"\")},e.prototype.stringKeyToStorageKey=function(e){var t=e.split(\"/\"),r={region:Number(t[0]),regionKey:t[3]};return t[1]&&(r.gameId=t[1]),t[2]&&(r.userId=t[2]),r},e.prototype.storageReadKeyToRegExp=function(e){var t=e.region||\"\",r=null!=e.gameId?String(e.gameId):\"\",n=null!=e.userId?String(e.userId):\"\",o=\"\";if(\"*\"===n&&(n=\"[0-9]+\"),-1!==e.regionKey.indexOf(\"*\")){var i=e.regionKey.split(\".\");i.forEach(function(e,t){\"*\"===e?o+=\"[.a-z0-9]*\":-1!==e.indexOf(\"*\")?o+=e.replace(\"*\",\"[a-z0-9]*\"):o+=e,t!==i.length-1&&(o+=\".\")})}else o=e.regionKey.replace(\".\",\".\");return new RegExp(\"^\"+t+\"/\"+r+\"/\"+n+\"/\"+o+\"$\")},e.prototype.sortByValue=function(e,t){e.sort(function(e,r){var o=e.data,i=r.data;if(t===n.StorageOrder.Asc){if(o<i)return-1;if(o>i)return 1}else if(t===n.StorageOrder.Desc){if(o<i)return 1;if(o>i)return-1}return 0})},e.prototype.sortByRegionKey=function(e,t){e.sort(function(e,r){var o=e.storageKey.regionKey,i=r.storageKey.regionKey;if(t===n.StorageOrder.Asc){if(o<i)return-1;if(o>i)return 1}else if(t===n.StorageOrder.Desc){if(o<i)return 1;if(o>i)return-1}return 0})},e.prototype.expandVariables=function(e){e.gameId&&-1!==e.gameId.indexOf(\"$gameId\")&&this._metaData.gameId&&(e.gameId=e.gameId.replace(/\\$gameId/g,this._metaData.gameId))},e}();r.GameStorage=i},{\"./validator\":3,\"@akashic/akashic-engine\":\"@akashic/akashic-engine\"}],2:[function(e,t,r){\"use strict\";var n=e(\"./GameStorage\");r.GameStorage=n.GameStorage},{\"./GameStorage\":1}],3:[function(e,t,r){\"use strict\";function n(e,t){u(e.length>0,\"regionKey is empty.\");var r=e.split(\".\");u(r.length<=c,\"The maximum number of layers in the region key is \"+c+\".\");for(var n=!1,o=0;o<r.length;++o)t?\"*\"===r[o]?(u(!n,\"The only one layer of the region key for reading consists of a wildcard character.\"),n=!0):u(/^(\\*|[a-z])[a-z0-9]{0,31}\\*?$/.test(r[o]),\"The layer of the region key for reading must match '^(*|[a-z])[a-z0-9]{0,31}*?$'.\"):u(/^[a-z][a-z0-9]{0,31}$/.test(r[o]),\"The layer of the region key for writing must match '^[a-z][a-z0-9]{0,31}$'.\")}function o(e,t){void 0===t&&(t=!1),u(e.region===s.StorageRegion.Counts||e.region===s.StorageRegion.Scores||e.region===s.StorageRegion.Values,\"Invalid region.\"),u(e.regionKey,\"regionKey must be set.\"),n(e.regionKey,t),u(e.gameId||e.userId,\"StorageKey must have any one at least from gameId and userId.\"),null!=e.gameId&&(u.equal(typeof e.gameId,\"string\",\"gameId must be a string type.\"),u(e.gameId.length>0,\"gameId is empty.\")),null!=e.userId&&(u.equal(typeof e.userId,\"string\",\"userId must be a string type.\"),u(e.userId.length>0,\"userId is empty.\"),t?\"*\"===e.userId&&(u(e.gameId,'gameId for reading must be set when userId is \"*\".'),u(-1===e.regionKey.indexOf(\"*\"),'regionKey for reading must not include \"*\" when userId is \"*\".')):u(\"*\"!==e.userId,'userId for writing must not include \"*\".'))}function i(e){if(o(e,!0),null!=e.option){var t=e.option;null!=t.keyOrder&&u(t.keyOrder===s.StorageOrder.Asc||t.keyOrder===s.StorageOrder.Desc,\"Invalid keyOrder.\"),null!=t.valueOrder&&u(t.valueOrder===s.StorageOrder.Asc||t.valueOrder===s.StorageOrder.Desc,\"Invalid valueOrder.\")}}function a(e){}var u=e(\"assert\"),s=e(\"@akashic/akashic-engine\"),c=4;r.validateRegionKey=n,r.validateStorageKey=o,r.validateStorageReadKey=i,r.validateStorageWriteOption=a},{\"@akashic/akashic-engine\":\"@akashic/akashic-engine\",assert:4}],4:[function(e,t,r){(function(r){\"use strict\";function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0}function o(e){return r.Buffer&&\"function\"==typeof r.Buffer.isBuffer?r.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function i(e){return Object.prototype.toString.call(e)}function a(e){return!o(e)&&\"function\"==typeof r.ArrayBuffer&&(\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}function u(e){if(b.isFunction(e)){if(E)return e.name;var t=e.toString(),r=t.match(I);return r&&r[1]}}function s(e,t){return\"string\"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(E||!b.isFunction(e))return b.inspect(e);var t=u(e);return\"[Function\"+(t?\": \"+t:\"\")+\"]\"}function l(e){return s(c(e.actual),128)+\" \"+e.operator+\" \"+s(c(e.expected),128)}function f(e,t,r,n,o){throw new x.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:o})}function g(e,t){e||f(e,!0,t,\"==\",x.ok)}function p(e,t,r,u){if(e===t)return!0;if(o(e)&&o(t))return 0===n(e,t);if(b.isDate(e)&&b.isDate(t))return e.getTime()===t.getTime();if(b.isRegExp(e)&&b.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&\"object\"==typeof e||null!==t&&\"object\"==typeof t){if(a(e)&&a(t)&&i(e)===i(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;u=u||{actual:[],expected:[]};var s=u.actual.indexOf(e);return-1!==s&&s===u.expected.indexOf(t)||(u.actual.push(e),u.expected.push(t),y(e,t,r,u))}return r?e===t:e==t}function d(e){return\"[object Arguments]\"==Object.prototype.toString.call(e)}function y(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(b.isPrimitive(e)||b.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=d(e),i=d(t);if(o&&!i||!o&&i)return!1;if(o)return e=O.call(e),t=O.call(t),p(e,t,r);var a,u,s=k(e),c=k(t);if(s.length!==c.length)return!1;for(s.sort(),c.sort(),u=s.length-1;u>=0;u--)if(s[u]!==c[u])return!1;for(u=s.length-1;u>=0;u--)if(a=s[u],!p(e[a],t[a],r,n))return!1;return!0}function h(e,t,r){p(e,t,!0)&&f(e,t,r,\"notDeepStrictEqual\",h)}function m(e,t){if(!e||!t)return!1;if(\"[object RegExp]\"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function v(e){var t;try{e()}catch(e){t=e}return t}function S(e,t,r,n){var o;if(\"function\"!=typeof t)throw new TypeError('\"block\" argument must be a function');\"string\"==typeof r&&(n=r,r=null),o=v(t),n=(r&&r.name?\" (\"+r.name+\").\":\".\")+(n?\" \"+n:\".\"),e&&!o&&f(o,r,\"Missing expected exception\"+n);var i=\"string\"==typeof n,a=!e&&b.isError(o),u=!e&&o&&!r;if((a&&i&&m(o,r)||u)&&f(o,r,\"Got unwanted exception\"+n),e&&o&&r&&!m(o,r)||!e&&o)throw o}var b=e(\"util/\"),w=Object.prototype.hasOwnProperty,O=Array.prototype.slice,E=function(){return\"foo\"===function(){}.name}(),x=t.exports=g,I=/\\s*function\\s+([^\\(\\s]*)\\s*/;x.AssertionError=function(e){this.name=\"AssertionError\",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var t=e.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,o=u(t),i=n.indexOf(\"\\n\"+o);if(i>=0){var a=n.indexOf(\"\\n\",i+1);n=n.substring(a+1)}this.stack=n}}},b.inherits(x.AssertionError,Error),x.fail=f,x.ok=g,x.equal=function(e,t,r){e!=t&&f(e,t,r,\"==\",x.equal)},x.notEqual=function(e,t,r){e==t&&f(e,t,r,\"!=\",x.notEqual)},x.deepEqual=function(e,t,r){p(e,t,!1)||f(e,t,r,\"deepEqual\",x.deepEqual)},x.deepStrictEqual=function(e,t,r){p(e,t,!0)||f(e,t,r,\"deepStrictEqual\",x.deepStrictEqual)},x.notDeepEqual=function(e,t,r){p(e,t,!1)&&f(e,t,r,\"notDeepEqual\",x.notDeepEqual)},x.notDeepStrictEqual=h,x.strictEqual=function(e,t,r){e!==t&&f(e,t,r,\"===\",x.strictEqual)},x.notStrictEqual=function(e,t,r){e===t&&f(e,t,r,\"!==\",x.notStrictEqual)},x.throws=function(e,t,r){S(!0,e,t,r)},x.doesNotThrow=function(e,t,r){S(!1,e,t,r)},x.ifError=function(e){if(e)throw e};var k=Object.keys||function(e){var t=[];for(var r in e)w.call(e,r)&&t.push(r);return t}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"util/\":8}],5:[function(e,t,r){function n(){throw new Error(\"setTimeout has not been defined\")}function o(){throw new Error(\"clearTimeout has not been defined\")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(g===clearTimeout)return clearTimeout(e);if((g===o||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(e);try{return g(e)}catch(t){try{return g.call(null,e)}catch(t){return g.call(this,e)}}}function u(){h&&d&&(h=!1,d.length?y=d.concat(y):m=-1,y.length&&s())}function s(){if(!h){var e=i(u);h=!0;for(var t=y.length;t;){for(d=y,y=[];++m<t;)d&&d[m].run();m=-1,t=y.length}d=null,h=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,g,p=t.exports={};!function(){try{f=\"function\"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{g=\"function\"==typeof clearTimeout?clearTimeout:o}catch(e){g=o}}();var d,y=[],h=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];y.push(new c(e,t)),1!==y.length||h||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title=\"browser\",p.browser=!0,p.env={},p.argv=[],p.version=\"\",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(e){throw new Error(\"process.binding is not supported\")},p.cwd=function(){return\"/\"},p.chdir=function(e){throw new Error(\"process.chdir is not supported\")},p.umask=function(){return 0}},{}],6:[function(e,t,r){\"function\"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],7:[function(e,t,r){t.exports=function(e){return e&&\"object\"==typeof e&&\"function\"==typeof e.copy&&\"function\"==typeof e.fill&&\"function\"==typeof e.readUInt8}},{}],8:[function(e,t,r){(function(t,n){function o(e,t){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&r._extend(n,t),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),s(n,e,n.depth)}function i(e,t){var r=o.styles[t];return r?\"\u001b[\"+o.colors[r][0]+\"m\"+e+\"\u001b[\"+o.colors[r][1]+\"m\":e}function a(e,t){return e}function u(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function s(e,t,n){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return S(o)||(o=s(e,o,n)),o}var i=c(e,t);if(i)return i;var a=Object.keys(t),y=u(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),I(t)&&(a.indexOf(\"message\")>=0||a.indexOf(\"description\")>=0))return l(t);if(0===a.length){if(k(t)){var h=t.name?\": \"+t.name:\"\";return e.stylize(\"[Function\"+h+\"]\",\"special\")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),\"regexp\");if(x(t))return e.stylize(Date.prototype.toString.call(t),\"date\");if(I(t))return l(t)}var m=\"\",v=!1,b=[\"{\",\"}\"];if(d(t)&&(v=!0,b=[\"[\",\"]\"]),k(t)&&(m=\" [Function\"+(t.name?\": \"+t.name:\"\")+\"]\"),O(t)&&(m=\" \"+RegExp.prototype.toString.call(t)),x(t)&&(m=\" \"+Date.prototype.toUTCString.call(t)),I(t)&&(m=\" \"+l(t)),0===a.length&&(!v||0==t.length))return b[0]+m+b[1];if(n<0)return O(t)?e.stylize(RegExp.prototype.toString.call(t),\"regexp\"):e.stylize(\"[Object]\",\"special\");e.seen.push(t);var w;return w=v?f(e,t,n,y,a):a.map(function(r){return g(e,t,n,y,r,v)}),e.seen.pop(),p(w,m,b)}function c(e,t){if(w(t))return e.stylize(\"undefined\",\"undefined\");if(S(t)){var r=\"'\"+JSON.stringify(t).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return e.stylize(r,\"string\")}return v(t)?e.stylize(\"\"+t,\"number\"):y(t)?e.stylize(\"\"+t,\"boolean\"):h(t)?e.stylize(\"null\",\"null\"):void 0}function l(e){return\"[\"+Error.prototype.toString.call(e)+\"]\"}function f(e,t,r,n,o){for(var i=[],a=0,u=t.length;a<u;++a)D(t,String(a))?i.push(g(e,t,r,n,String(a),!0)):i.push(\"\");return o.forEach(function(o){o.match(/^\\d+$/)||i.push(g(e,t,r,n,o,!0))}),i}function g(e,t,r,n,o,i){var a,u,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?u=c.set?e.stylize(\"[Getter/Setter]\",\"special\"):e.stylize(\"[Getter]\",\"special\"):c.set&&(u=e.stylize(\"[Setter]\",\"special\")),D(n,o)||(a=\"[\"+o+\"]\"),u||(e.seen.indexOf(c.value)<0?(u=h(r)?s(e,c.value,null):s(e,c.value,r-1),u.indexOf(\"\\n\")>-1&&(u=i?u.split(\"\\n\").map(function(e){return\"  \"+e}).join(\"\\n\").substr(2):\"\\n\"+u.split(\"\\n\").map(function(e){return\"   \"+e}).join(\"\\n\"))):u=e.stylize(\"[Circular]\",\"special\")),w(a)){if(i&&o.match(/^\\d+$/))return u;a=JSON.stringify(\"\"+o),a.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,\"name\")):(a=a.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),a=e.stylize(a,\"string\"))}return a+\": \"+u}function p(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf(\"\\n\")>=0&&n++,e+t.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60?r[0]+(\"\"===t?\"\":t+\"\\n \")+\" \"+e.join(\",\\n  \")+\" \"+r[1]:r[0]+t+\" \"+e.join(\", \")+\" \"+r[1]}function d(e){return Array.isArray(e)}function y(e){return\"boolean\"==typeof e}function h(e){return null===e}function m(e){return null==e}function v(e){return\"number\"==typeof e}function S(e){return\"string\"==typeof e}function b(e){return\"symbol\"==typeof e}function w(e){return void 0===e}function O(e){return E(e)&&\"[object RegExp]\"===K(e)}function E(e){return\"object\"==typeof e&&null!==e}function x(e){return E(e)&&\"[object Date]\"===K(e)}function I(e){return E(e)&&(\"[object Error]\"===K(e)||e instanceof Error)}function k(e){return\"function\"==typeof e}function T(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"==typeof e||void 0===e}function K(e){return Object.prototype.toString.call(e)}function j(e){return e<10?\"0\"+e.toString(10):e.toString(10)}function V(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(\":\");return[e.getDate(),C[e.getMonth()],t].join(\" \")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;r.format=function(e){if(!S(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(o(arguments[r]));return t.join(\" \")}for(var r=1,n=arguments,i=n.length,a=String(e).replace(A,function(e){if(\"%%\"===e)return\"%\";if(r>=i)return e;switch(e){case\"%s\":return String(n[r++]);case\"%d\":return Number(n[r++]);case\"%j\":try{return JSON.stringify(n[r++])}catch(e){return\"[Circular]\"}default:return e}}),u=n[r];r<i;u=n[++r])h(u)||!E(u)?a+=\" \"+u:a+=\" \"+o(u);return a},r.deprecate=function(e,o){function i(){if(!a){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),a=!0}return e.apply(this,arguments)}if(w(n.process))return function(){return r.deprecate(e,o).apply(this,arguments)};if(!0===t.noDeprecation)return e;var a=!1;return i};var z,q={};r.debuglog=function(e){if(w(z)&&(z=t.env.NODE_DEBUG||\"\"),e=e.toUpperCase(),!q[e])if(new RegExp(\"\\\\b\"+e+\"\\\\b\",\"i\").test(z)){var n=t.pid;q[e]=function(){var t=r.format.apply(r,arguments);console.error(\"%s %d: %s\",e,n,t)}}else q[e]=function(){};return q[e]},r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},r.isArray=d,r.isBoolean=y,r.isNull=h,r.isNullOrUndefined=m,r.isNumber=v,r.isString=S,r.isSymbol=b,r.isUndefined=w,r.isRegExp=O,r.isObject=E,r.isDate=x,r.isError=I,r.isFunction=k,r.isPrimitive=T,r.isBuffer=e(\"./support/isBuffer\");var C=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];r.log=function(){console.log(\"%s - %s\",V(),r.format.apply(r,arguments))},r.inherits=e(\"inherits\"),r._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./support/isBuffer\":7,_process:5,inherits:6}]},{},[2])(2)});\n\n\twindow.addEventListener(\"load\",function(){!function(e){function n(e){if(s.containerController){var n={width:window.innerWidth||document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight},t=Math.min(n.width/e.width,n.height/e.height),o={width:Math.floor(e.width*t),height:Math.floor(e.height*t)};s.containerController.changeScale(t,t);var i={x:Math.floor((n.width-o.width)/2),y:Math.floor((n.height-o.height)/2)};s.containerController.inputHandlerLayer.setOffset(i)}}var t=e,o={id:\"9999\",name:\"sandbox-player\"},i=new gameStorage.GameStorage(window.localStorage,{gameId:t}),a=engineFiles.pdiBrowser,r=engineFiles.gameDriver,d=new r.MemoryAmflowClient({playId:\"sandboxDummyPlayId\",putStorageDataSyncFunc:i.set.bind(i),getStorageDataSyncFunc:function(e){var n=i.load(e);return e.map(function(e,t){return{readKey:e,values:n[t]}})}});if(!0===window.__akashic__.autoSendEvents||\"string\"==typeof window.__akashic__.autoSendEvents){var c=window.__akashic__.sandboxConfigFunc(),l=!0===window.__akashic__.autoSendEvents?c.autoSendEvents:window.__akashic__.autoSendEvents;c&&l&&c.events&&c.events[l]&&c.events[l].forEach(function(e){d.sendEvent(e)})}var u;u=\"file:\"!==location.protocol?[a.WebAudioPlugin,a.HTMLAudioPlugin]:[a.HTMLAudioPlugin];var s=new a.Platform({amflow:d,containerView:document.getElementById(\"container\"),audioPlugins:u});s.loadGameConfiguration=function(e,n){try{var t=window.gLocalAssetContainer[\"game.json\"];t=decodeURIComponent(t),n(null,JSON.parse(t))}catch(e){n(e,null)}},s._resourceFactory.createScriptAsset=function(e,n){return new LocalScriptAsset(e,n)};var w=function(e,n){return new LocalTextAsset(e,n)};\"undefined\"!=typeof LocalTextAsset&&(s._resourceFactory.createTextAsset=w),driver=new r.GameDriver({platform:s,player:o,errorHandler:function(e){console.log(\"ERRORHANDLER:\",e)}}),driver.gameCreatedTrigger.add(function(e){window.optionProps.magnify&&(n(e),window.addEventListener(\"resize\",function(){n(e)}))}),driver.initialize({configurationUrl:\"game.json\",assetBase:\"./\",driverConfiguration:{playId:\"sandboxDummyPlayId\",playToken:\"dummyToken\",executionMode:r.ExecutionMode.Active},loopConfiguration:{loopMode:r.LoopMode.Realtime}},function(e){if(e)throw e;driver.startGame()})}(\"exportHTML\")});\n\n\twindow.g=require(\"@akashic/akashic-engine\"),\"gLocalAssetContainer\"in window||(window.gLocalAssetContainer={}),\"__akashic__\"in window||(window.__akashic__={});\n\n\tvar __extends=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),LocalTextAsset=function(t){function o(o,n){var e=t.call(this,o,n)||this;return e.data=decodeURIComponent(window.gLocalAssetContainer[o]),e}return __extends(o,t),o.prototype._load=function(t){var o=this;void 0!==this.data?setTimeout(function(){t._onAssetLoad(o)},0):setTimeout(function(){t._onAssetError(o,g.ExceptionFactory.createAssetLoadError(\"can not load text asset\"))},0)},o}(g.TextAsset);\n\n</script>\n\n<style type=\"text/css\">\n* {\n\tmargin: 0;\n\tborder: 0;\n\tpadding: 0;\n}\n\nhtml {\n\twidth: 100%;\n\theight: 100%;\n}\n\nbody {\n\toverflow: hidden;\n\twidth: 100%;\n\theight: 100%;\n}\n\n#container {\n\tmargin: 0px;\n\tpadding: 0px;\n\toverflow: hidden;\n\ttouch-action: none;\n\twidth: 100%;\n\theight: 100%;\n\n\t/* iOSË°®Á§∫Â¥©„ÇåÂØæÁ≠ñ: body„ÅÆ„Çµ„Ç§„Ç∫Ë®àÁÆó„Åã„Çâ„Åì„ÅÆË¶ÅÁ¥†„ÇíÈô§Â§ñ */\n\t/* position: absolute; */\n}\n\n#container canvas {\n\tbackground-size: contain;\n}\n\n</style>\n\n\n\n<meta name=\"generator\" content=\"Hexo 4.2.0\"></head>\n<body>\n<div id=\"container\">\n</div>\n<p>AkashicEngine+TypeScript„Åß‰Ωú„Çä„Åæ„Åó„Åü„ÄÇ</p>\n<p><a href=\"https://github.com/takusan23/AkashicEngine-FlappyBird\" target=\"_blank\" rel=\"noopener\">„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØ„Åì„Åì<a></p>\n</body>\n</html>\n","site":{"data":{}},"excerpt":"","more":"<!doctype html>\n<!-- Generated by akashic-cli-export-html@0.6.2. -->\n<!-- Options: {\"strip\":true,\"minify\":true,\"bundle\":true} -->\n<html>\n<head>\n<meta charset=\"utf-8\">\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n<title>game</title>\n<script>\n\n\t!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var e;e=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,e.engineFilesV2_1_37=t()}}(function(){var t;return function(){function t(e,i,r){function n(s,a){if(!i[s]){if(!e[s]){var h=\"function\"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var c=new Error(\"Cannot find module '\"+s+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){return n(e[s][1][t]||t)},u,u.exports,t,e,i,r)}return i[s].exports}for(var o=\"function\"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}return t}()({1:[function(t,e,i){e.exports=t(\"./lib/main.node\")},{\"./lib/main.node\":2}],2:[function(t,e,i){(function(){\"use strict\";var t,i=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(t){!function(t){t[t.Unspecified=0]=\"Unspecified\",t[t.RetryLimitExceeded=1]=\"RetryLimitExceeded\",t[t.NetworkError=2]=\"NetworkError\",t[t.ClientError=3]=\"ClientError\",t[t.ServerError=4]=\"ServerError\"}(t.AssetLoadErrorType||(t.AssetLoadErrorType={}))}(t||(t={}));var t;!function(t){!function(e){function i(t,e){var i=new Error(t);return i.name=\"AssertionError\",i.cause=e,i}function r(t,e,i,r){var n=\"Type mismatch on \"+t+\", expected type is \"+e;if(arguments.length>2)try{var o;o=i&&i.constructor&&i.constructor.name?i.constructor.name:typeof i,n+=\", actual type is \"+(o.length>40?o.substr(0,40):o)}catch(t){}n+=\".\";var s=new Error(n);return s.name=\"TypeMismatchError\",s.cause=r,s.expected=e,s.actual=i,s}function n(e,i,r,n){void 0===i&&(i=!0),void 0===r&&(r=t.AssetLoadErrorType.Unspecified);var o=new Error(e);return o.name=\"AssetLoadError\",o.cause=n,o.retriable=i,o.type=r,o}e.createAssertionError=i,e.createTypeMismatchError=r,e.createAssetLoadError=n}(t.ExceptionFactory||(t.ExceptionFactory={}))}(t||(t={}));var t;!function(t){var e=function(){function e(){}return e.prototype.createSurfaceAtlas=function(e,i){return new t.SurfaceAtlas(this.createSurface(e,i))},e.prototype.createTrimmedSurface=function(t,e){var i=e||{x:0,y:0,width:t.width,height:t.height},r=this.createSurface(i.width,i.height),n=r.renderer();return n.begin(),n.drawImage(t,i.x,i.y,i.width,i.height,0,0),n.end(),r},e}();t.ResourceFactory=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this._value=t}return t.prototype._cachedValue=function(){return this._value},t}();t.RequireCachedValue=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.seed=t,this[0]=this}return t}();t.RandomGenerator=e}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this.id=e,this.originalPath=i,this.path=this._assetPathFilter(i),this.onDestroyed=new t.Trigger}return e.prototype.destroy=function(){this.onDestroyed.fire(this),this.id=void 0,this.originalPath=void 0,this.path=void 0,this.onDestroyed.destroy(),this.onDestroyed=void 0},e.prototype.destroyed=function(){return void 0===this.id},e.prototype.inUse=function(){return!1},e.prototype._assetPathFilter=function(t){return t},e}();t.Asset=e;var r=function(t){function e(e,i,r,n){var o=t.call(this,e,i)||this;return o.width=r,o.height=n,o}return i(e,t),e.prototype.initialize=function(t){this.hint=t},e}(e);t.ImageAsset=r;var n=function(t){function e(e,i,r,n,o,s,a){var h=t.call(this,e,i,r,n)||this;return h.realWidth=0,h.realHeight=0,h._system=o,h._loop=s,h._useRealSize=a,h}return i(e,t),e.prototype.play=function(t){return this.getPlayer().play(this),this.getPlayer()},e.prototype.stop=function(){this.getPlayer().stop()},e.prototype.destroy=function(){this._system=void 0,t.prototype.destroy.call(this)},e}(r);t.VideoAsset=n;var o=function(t){function e(e,i,r,n,o,s){var a=t.call(this,e,i)||this;return a.duration=r,a.loop=o,a.hint=s,a._system=n,a.data=void 0,a}return i(e,t),e.prototype.play=function(){var t=this._system.createPlayer();return t.play(this),this._lastPlayedPlayer=t,t},e.prototype.stop=function(){for(var t=this._system.findPlayers(this),e=0;e<t.length;++e)t[e].stop()},e.prototype.inUse=function(){return this._system.findPlayers(this).length>0},e.prototype.destroy=function(){this._system&&this.stop(),this.data=void 0,this._system=void 0,this._lastPlayedPlayer=void 0,t.prototype.destroy.call(this)},e}(e);t.AudioAsset=o;var s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.data=void 0,r}return i(e,t),e.prototype.destroy=function(){this.data=void 0,t.prototype.destroy.call(this)},e}(e);t.TextAsset=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.destroy=function(){this.script=void 0,t.prototype.destroy.call(this)},e}(e);t.ScriptAsset=a}(t||(t={}));var t;!function(t){function e(t){t=t||{};var e={music:{loop:!0,hint:{streaming:!0}},sound:{loop:!1,hint:{streaming:!1}}};for(var i in e)i in t||(t[i]=e[i]);return t}var i=function(){function t(t,e){this.asset=t,this.handlers=[e],this.errorCount=0,this.loading=!1}return t}(),r=function(){function r(t,i,r,n){this.game=t,this.configuration=this._normalize(i||{},e(r)),this._assets={},this._liveAssetVirtualPathTable={},this._liveAbsolutePathTable={},this._moduleMainScripts=n||{},this._refCounts={},this._loadings={}}return r.prototype.destroy=function(){for(var t=Object.keys(this._refCounts),e=0;e<t.length;++e)this._releaseAsset(t[e]);this.game=void 0,this.configuration=void 0,this._assets=void 0,this._liveAssetVirtualPathTable=void 0,this._liveAbsolutePathTable=void 0,this._refCounts=void 0,this._loadings=void 0},r.prototype.destroyed=function(){return void 0===this.game},r.prototype.retryLoad=function(e){if(!this._loadings.hasOwnProperty(e.id))throw t.ExceptionFactory.createAssertionError(\"AssetManager#retryLoad: invalid argument.\");var i=this._loadings[e.id];if(i.errorCount>r.MAX_ERROR_COUNT){if(!this.configuration[e.id])return;throw t.ExceptionFactory.createAssertionError(\"AssetManager#retryLoad: too many retrying.\")}i.loading||(i.loading=!0,e._load(this))},r.prototype.globalAssetIds=function(){var t=[],e=this.configuration;for(var i in e)e.hasOwnProperty(i)&&e[i].global&&t.push(i);return t},r.prototype.requestAsset=function(t,e){var r,n=\"string\"==typeof t?t:t.id,o=!1;if(this._assets.hasOwnProperty(n))++this._refCounts[n],e._onAssetLoad(this._assets[n]);else if(this._loadings.hasOwnProperty(n))r=this._loadings[n],r.handlers.push(e),++this._refCounts[n],o=!0;else{var s=this._createAssetFor(t);r=new i(s,e),this._loadings[n]=r,this._refCounts[n]=1,o=!0,r.loading=!0,s._load(this)}return o},r.prototype.unrefAsset=function(t){var e=\"string\"==typeof t?t:t.id;--this._refCounts[e]>0||this._releaseAsset(e)},r.prototype.requestAssets=function(t,e){for(var i=0,r=0,n=t.length;r<n;++r)this.requestAsset(t[r],e)&&++i;return i},r.prototype.unrefAssets=function(t){for(var e=0,i=t.length;e<i;++e)this.unrefAsset(t[e])},r.prototype._normalize=function(e,i){var r={};if(!(e instanceof Object))throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: invalid arguments.\");for(var n in e)if(e.hasOwnProperty(n)){var o=Object.create(e[n]);if(!o.path)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: No path given for: \"+n);if(!o.virtualPath)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: No virtualPath given for: \"+n);if(!o.type)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: No type given for: \"+n);if(\"image\"===o.type){if(\"number\"!=typeof o.width)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong width given for the image asset: \"+n);if(\"number\"!=typeof o.height)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong height given for the image asset: \"+n)}if(\"audio\"===o.type){void 0===o.duration&&(o.duration=0);var s=i[o.systemId];void 0===o.loop&&(o.loop=!!s&&!!s.loop),void 0===o.hint&&(o.hint=s?s.hint:{})}if(\"video\"===o.type&&!o.useRealSize){if(\"number\"!=typeof o.width)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong width given for the video asset: \"+n);if(\"number\"!=typeof o.height)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_normalize: wrong height given for the video asset: \"+n);o.useRealSize=!1}o.global||(o.global=!1),r[n]=o}return r},r.prototype._createAssetFor=function(e){var i,r,n;if(\"string\"==typeof e)i=e,n=this.configuration[i],r=this.configuration[i].path;else{var o=e;i=o.id,n=o,r=o.uri}var s=this.game.resourceFactory;if(!n)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_createAssetFor: unknown asset ID: \"+i);switch(n.type){case\"image\":var a=s.createImageAsset(i,r,n.width,n.height);return a.initialize(n.hint),a;case\"audio\":var h=n.systemId?this.game.audio[n.systemId]:this.game.audio[this.game.defaultAudioSystemId];return s.createAudioAsset(i,r,n.duration,h,n.loop,n.hint);case\"text\":return s.createTextAsset(i,r);case\"script\":return s.createScriptAsset(i,r);case\"video\":return s.createVideoAsset(i,r,n.width,n.height,new t.VideoSystem,n.loop,n.useRealSize);default:throw t.ExceptionFactory.createAssertionError(\"AssertionError#_createAssetFor: unknown asset type \"+n.type+\" for asset ID: \"+i)}},r.prototype._releaseAsset=function(e){var i,r=this._assets[e]||this._loadings[e]&&this._loadings[e].asset;if(r)if(i=r.path,r.inUse())if(r instanceof t.AudioAsset)r._system.requestDestroy(r);else{if(!(r instanceof t.VideoAsset))throw t.ExceptionFactory.createAssertionError(\"AssetManager#unrefAssets: Unsupported in-use \"+r.id);r.destroy()}else r.destroy();if(delete this._refCounts[e],delete this._loadings[e],delete this._assets[e],this.configuration[e]){var n=this.configuration[e].virtualPath;n&&this._liveAssetVirtualPathTable.hasOwnProperty(n)&&delete this._liveAssetVirtualPathTable[n],i&&this._liveAbsolutePathTable.hasOwnProperty(i)&&delete this._liveAbsolutePathTable[i]}},r.prototype._countLoadingAsset=function(){return Object.keys(this._loadings).length},r.prototype._onAssetError=function(e,i){if(!this.destroyed()&&!e.destroyed()){var n=this._loadings[e.id],o=n.handlers;n.loading=!1,++n.errorCount,n.errorCount>r.MAX_ERROR_COUNT&&i.retriable&&(i=t.ExceptionFactory.createAssetLoadError(\"Retry limit exceeded\",!1,t.AssetLoadErrorType.RetryLimitExceeded,i)),i.retriable||delete this._loadings[e.id];for(var s=0;s<o.length;++s)o[s]._onAssetError(e,i,this)}},r.prototype._onAssetLoad=function(e){if(!this.destroyed()&&!e.destroyed()){var i=this._loadings[e.id];if(i.loading=!1,delete this._loadings[e.id],this._assets[e.id]=e,this.configuration[e.id]){var r=this.configuration[e.id].virtualPath;if(this._liveAssetVirtualPathTable.hasOwnProperty(r)){if(this._liveAssetVirtualPathTable[r].path!==e.path)throw t.ExceptionFactory.createAssertionError(\"AssetManager#_onAssetLoad(): duplicated asset path\")}else this._liveAssetVirtualPathTable[r]=e;this._liveAbsolutePathTable.hasOwnProperty(e.path)||(this._liveAbsolutePathTable[e.path]=r)}for(var n=i.handlers,o=0;o<n.length;++o)n[o]._onAssetLoad(e)}},r.MAX_ERROR_COUNT=3,r}();t.AssetManager=r}(t||(t={}));var t;!function(t){function e(e,i,r){var n,o,s=e._assetManager._liveAssetVirtualPathTable,a=e._assetManager._moduleMainScripts;if(-1===i.indexOf(\"/\")&&e._assetManager._assets.hasOwnProperty(i)&&(n=e._assetManager._assets[i],o=e._assetManager._liveAbsolutePathTable[n.path]),/^\\.\\/|^\\.\\.\\/|^\\//.test(i)){if(r){if(!r._virtualDirname)throw t.ExceptionFactory.createAssertionError(\"g._require: require from DynamicAsset is not supported\");o=t.PathUtil.resolvePath(r._virtualDirname,i)}else{if(!/^\\.\\//.test(i))throw t.ExceptionFactory.createAssertionError(\"g._require: entry point path must start with './'\");o=i.substring(2)}if(e._scriptCaches.hasOwnProperty(o))return e._scriptCaches[o]._cachedValue();if(e._scriptCaches.hasOwnProperty(o+\".js\"))return e._scriptCaches[o+\".js\"]._cachedValue();n||(n=t.Util.findAssetByPathAsFile(o,s)),n||(n=t.Util.findAssetByPathAsDirectory(o,s))}else if(a[i]&&(o=a[i],n=e._assetManager._liveAssetVirtualPathTable[o]),!n){var h=r?r.paths:[];h.push(\"node_modules\");for(var c=0;c<h.length;++c){var u=h[c];if(o=t.PathUtil.resolvePath(u,i),n=t.Util.findAssetByPathAsFile(o,s))break;if(n=t.Util.findAssetByPathAsDirectory(o,s))break}}if(n){if(e._scriptCaches.hasOwnProperty(o))return e._scriptCaches[o]._cachedValue();if(n instanceof t.ScriptAsset){var l=new t.ScriptAssetContext(e,n);return e._scriptCaches[o]=l,l._executeScript(r)}if(n instanceof t.TextAsset&&n&&\".json\"===t.PathUtil.resolveExtname(i)){return(e._scriptCaches[o]=new t.RequireCachedValue(JSON.parse(n.data)))._cachedValue()}}throw t.ExceptionFactory.createAssertionError(\"g._require: can not find module: \"+i)}t._require=e;var i=function(){function e(e,i,r){var n=this,o=t.PathUtil.resolveDirname(r),s=e._assetManager._liveAbsolutePathTable[r],a=s?t.PathUtil.resolveDirname(s):void 0,h=Object.create(t,{game:{value:e,enumerable:!0},filename:{value:r,enumerable:!0},dirname:{value:o,enumerable:!0},module:{value:this,writable:!0,enumerable:!0,configurable:!0}});this.id=i,this.filename=r,this.exports={},this.parent=null,this.loaded=!1,this.children=[],this.paths=a?t.PathUtil.makeNodeModulePaths(a):[],this._dirname=o,this._virtualDirname=a,this._g=h,this.require=function(i){return\"g\"===i?h:t._require(e,i,n)}}return e}();t.Module=i}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this._game=e,this._asset=i,this._module=new t.Module(e,i.path,i.path),this._g=this._module._g,this._started=!1}return e.prototype._cachedValue=function(){if(!this._started)throw t.ExceptionFactory.createAssertionError(\"ScriptAssetContext#_cachedValue: not executed yet.\");return this._module.exports},e.prototype._executeScript=function(t){return this._started?this._module.exports:(t&&(this._module.parent=t,t.children.push(this._module)),this._started=!0,this._asset.execute(this._g),this._module.loaded=!0,this._module.exports)},e}();t.ScriptAssetContext=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,n,o,s){void 0===t?(this._modified=!1,this._matrix=[1,0,0,1,0,0]):\"number\"==typeof t?(this._modified=!1,this._matrix=new Array(6),null!=o&&null!=s?this.updateWithAnchor(t,e,i,r,n,0,0,o,s):this.update(t,e,i,r,n,0,0)):(this._modified=t._modified,this._matrix=[t._matrix[0],t._matrix[1],t._matrix[2],t._matrix[3],t._matrix[4],t._matrix[5]])}return t.prototype.update=function(t,e,i,r,n,o,s){var a=n*Math.PI/180,h=Math.cos(a),c=Math.sin(a),u=h*i,l=c*i,d=c*r,p=h*r,f=t/2,_=e/2;this._matrix[0]=u,this._matrix[1]=l,this._matrix[2]=-d,this._matrix[3]=p,this._matrix[4]=-u*f+d*_+f+o,this._matrix[5]=-l*f-p*_+_+s},t.prototype.updateWithAnchor=function(t,e,i,r,n,o,s,a,h){var c=n*Math.PI/180,u=Math.cos(c),l=Math.sin(c),d=u*i,p=l*i,f=l*r,_=u*r,g=a*t,y=h*e;this._matrix[0]=d,this._matrix[1]=p,this._matrix[2]=-f,this._matrix[3]=_,this._matrix[4]=-d*g+f*y+o,this._matrix[5]=-p*g-_*y+s},t.prototype.updateByInverse=function(t,e,i,r,n,o,s){var a=n*Math.PI/180,h=Math.cos(a),c=Math.sin(a),u=h/i,l=c/r,d=c/i,p=h/r,f=t/2,_=e/2;this._matrix[0]=u,this._matrix[1]=-l,this._matrix[2]=d,this._matrix[3]=p,this._matrix[4]=-u*(f+o)-d*(_+s)+f,this._matrix[5]=l*(f+o)-p*(_+s)+_},t.prototype.updateByInverseWithAnchor=function(t,e,i,r,n,o,s,a,h){var c=n*Math.PI/180,u=Math.cos(c),l=Math.sin(c),d=u/i,p=l/r,f=l/i,_=u/r,g=a*t,y=h*e;this._matrix[0]=d,this._matrix[1]=-p,this._matrix[2]=f,this._matrix[3]=_,this._matrix[4]=-d*o-f*s+g,this._matrix[5]=p*o-_*s+y},t.prototype.multiply=function(t){var e=this._matrix,i=t._matrix,r=e[0],n=e[1],o=e[2],s=e[3];e[0]=r*i[0]+o*i[1],e[1]=n*i[0]+s*i[1],e[2]=r*i[2]+o*i[3],e[3]=n*i[2]+s*i[3],e[4]=r*i[4]+o*i[5]+e[4],e[5]=n*i[4]+s*i[5]+e[5]},t.prototype.multiplyNew=function(t){var e=this.clone();return e.multiply(t),e},t.prototype.reset=function(t,e){this._matrix[0]=1,this._matrix[1]=0,this._matrix[2]=0,this._matrix[3]=1,this._matrix[4]=t||0,this._matrix[5]=e||0},t.prototype.clone=function(){return new t(this)},t.prototype.multiplyInverseForPoint=function(t){var e=this._matrix,i=1/(e[0]*e[3]+e[2]*-e[1]);return{x:e[3]*i*t.x+-e[2]*i*t.y+(e[5]*e[2]-e[4]*e[3])*i,y:e[0]*i*t.y+-e[1]*i*t.x+(-e[5]*e[0]+e[4]*e[1])*i}},t.prototype.scale=function(t,e){var i=this._matrix;i[0]*=t,i[1]*=e,i[2]*=t,i[3]*=e,i[4]*=t,i[5]*=e},t.prototype.multiplyPoint=function(t){var e=this._matrix;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t}();t.PlainMatrix=e}(t||(t={}));var t;!function(t){!function(e){function i(t,e,i,r){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-r,2))}function r(t,i){return e.distance(t.x,t.y,i.x,i.y)}function n(t,i){return e.distance(t.x+t.width/2,t.y+t.height/2,i.x+i.width/2,i.y+i.height/2)}function o(e,i,r,n,o,s,a){return void 0===e?new t.PlainMatrix:new t.PlainMatrix(e,i,r,n,o,s,a)}function s(e,i,r){var n=i.x,o=i.y,s=0,a=0,h=i.width,c=i.height,u=i.calculateBoundingRect(r);if(!u)throw t.ExceptionFactory.createAssertionError(\"Util#createSpriteFromE: camera must look e\");h=u.right-u.left,c=u.bottom-u.top,u.left<i.x&&(s=i.x-u.left),u.top<i.y&&(a=i.y-u.top),i.moveTo(s,a),i._matrix&&(i._matrix._modified=!0);var l=e.game.resourceFactory.createSurface(Math.ceil(h),Math.ceil(c)),d=l.renderer();d.begin(),i.render(d,r),d.end();var p=new t.Sprite({scene:e,src:l,width:h,height:c});return p.moveTo(u.left,u.top),i.moveTo(n,o),i._matrix&&(i._matrix._modified=!0),p}function a(e,i,r){var n=e.game.resourceFactory.createSurface(Math.ceil(i.game.width),Math.ceil(i.game.height)),o=n.renderer();o.begin();for(var s=i.children,a=0;a<s.length;++a)s[a].render(o,r);return o.end(),new t.Sprite({scene:e,src:n,width:i.game.width,height:i.game.height})}function h(e){if(!e)return e;if(e instanceof t.Surface)return e;if(e instanceof t.ImageAsset)return e.asSurface();throw t.ExceptionFactory.createTypeMismatchError(\"Util#asSurface\",\"ImageAsset|Surface\",e)}function c(t,e){return e.hasOwnProperty(t)?e[t]:e.hasOwnProperty(t+\".js\")?e[t+\".js\"]:void 0}function u(i,r){var n;if(n=i+\"/package.json\",r.hasOwnProperty(n)&&r[n]instanceof t.TextAsset){var o=JSON.parse(r[n].data);if(o&&\"string\"==typeof o.main){var s=e.findAssetByPathAsFile(t.PathUtil.resolvePath(i,o.main),r);if(s)return s}}if(n=i+\"/index.js\",r.hasOwnProperty(n))return r[n]}function l(t,e){var i=t.charCodeAt(e);if(55296<=i&&i<=56319){return i<<16|t.charCodeAt(e+1)}return 56320<=i&&i<=57343?null:i}function d(t,e){e.isDynamic&&(e.animatingStarted.add(t._onAnimatingStarted,t),e.animatingStopped.add(t._onAnimatingStopped,t),e.isPlaying()&&t._onAnimatingStarted())}function p(t,e,i){t._onAnimatingStopped(),!e.destroyed()&&e.isDynamic&&(e.animatingStarted.remove(t._onAnimatingStarted,t),e.animatingStopped.remove(t._onAnimatingStopped,t)),i.isDynamic&&(i.animatingStarted.add(t._onAnimatingStarted,t),i.animatingStopped.add(t._onAnimatingStopped,t),i.isPlaying()&&t._onAnimatingStarted())}e.distance=i,e.distanceBetweenOffsets=r,e.distanceBetweenAreas=n,e.createMatrix=o,e.createSpriteFromE=s,e.createSpriteFromScene=a,e.asSurface=h,e.findAssetByPathAsFile=c,e.findAssetByPathAsDirectory=u,e.charCodeAt=l,e.setupAnimatingHandler=d,e.migrateAnimatingHandler=p}(t.Util||(t.Util={}))}(t||(t={}));var t;!function(t){!function(e){function i(t,e,i,r,n,o,s,a){return t<=n+s&&n<=t+i&&e<=o+a&&o<=e+r}function r(t,i){return e.intersect(t.x,t.y,t.width,t.height,i.x,i.y,i.width,i.height)}function n(e,i,r,n,o){return void 0===o&&(o=1),o>=t.Util.distance(e,i,r,n)}function o(e,i,r){return void 0===r&&(r=1),r>=t.Util.distanceBetweenAreas(e,i)}e.intersect=i,e.intersectAreas=r,e.within=n,e.withinAreas=o}(t.Collision||(t.Collision={}))}(t||(t={}));var t;!function(t){var e=function(){function t(){this._handlers=[],this.length=0}return t.prototype.add=function(t,e){if(\"function\"==typeof t)this._handlers.push({func:t,owner:e,once:!1,name:void 0});else{var i=t;\"number\"==typeof i.index?this._handlers.splice(i.index,0,{func:i.func,owner:i.owner,once:!1,name:i.name}):this._handlers.push({func:i.func,owner:i.owner,once:!1,name:i.name})}this.length=this._handlers.length},t.prototype.addOnce=function(t,e){if(\"function\"==typeof t)this._handlers.push({func:t,owner:e,once:!0,name:void 0});else{var i=t;\"number\"==typeof i.index?this._handlers.splice(i.index,0,{func:i.func,owner:i.owner,once:!0,name:i.name}):this._handlers.push({func:i.func,owner:i.owner,once:!0,name:i.name})}this.length=this._handlers.length},t.prototype.handle=function(t,e,i){this.add(e?{owner:t,func:e,name:i}:{func:t})},t.prototype.fire=function(t){if(this._handlers&&this._handlers.length){for(var e=this._handlers.concat(),i=0;i<e.length;i++){var r=e[i];if(r.func.call(r.owner,t)||r.once){var n=this._handlers.indexOf(r);-1!==n&&this._handlers.splice(n,1)}}this._handlers&&(this.length=this._handlers.length)}},t.prototype.contains=function(t,e){for(var i=\"function\"==typeof t?{func:t,owner:e}:t,r=0;r<this._handlers.length;r++)if(this._comparePartial(i,this._handlers[r]))return!0;return!1},t.prototype.remove=function(t,e){for(var i=\"function\"==typeof t?{func:t,owner:e}:t,r=0;r<this._handlers.length;r++){var n=this._handlers[r];if(i.func===n.func&&i.owner===n.owner&&i.name===n.name)return this._handlers.splice(r,1),void--this.length}},t.prototype.removeAll=function(t){var e=[];if(t)for(var i=0;i<this._handlers.length;i++){var r=this._handlers[i];this._comparePartial(t,r)||e.push(r)}this._handlers=e,this.length=this._handlers.length},t.prototype.destroy=function(){this._handlers=null,this.length=null},t.prototype.destroyed=function(){return null===this._handlers},t.prototype._comparePartial=function(t,e){return(void 0===t.func||t.func===e.func)&&((void 0===t.owner||t.owner===e.owner)&&(void 0===t.name||t.name===e.name))},t}();t.Trigger=e;var r=function(t){function e(e,i,r){var n=t.call(this)||this;return n.chain=e,n.filter=i,n.filterOwner=r,n._isActivated=!1,n}return i(e,t),e.prototype.add=function(e,i){t.prototype.add.call(this,e,i),this._isActivated||(this.chain.add(this._onChainTriggerFired,this),this._isActivated=!0)},e.prototype.addOnce=function(e,i){t.prototype.addOnce.call(this,e,i),this._isActivated||(this.chain.add(this._onChainTriggerFired,this),this._isActivated=!0)},e.prototype.remove=function(e,i){t.prototype.remove.call(this,e,i),0===this.length&&this._isActivated&&(this.chain.remove(this._onChainTriggerFired,this),this._isActivated=!1)},e.prototype.removeAll=function(e){t.prototype.removeAll.call(this,e),0===this.length&&this._isActivated&&(this.chain.remove(this._onChainTriggerFired,this),this._isActivated=!1)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.chain.remove(this._onChainTriggerFired,this),this.filter=null,this.filterOwner=null,this._isActivated=!1},e.prototype._onChainTriggerFired=function(t){this.filter&&!this.filter.call(this.filterOwner,t)||this.fire(t)},e}(e);t.ChainTrigger=r}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this.interval=e,this._scaledInterval=Math.round(e*i),this.elapsed=new t.Trigger,this._scaledElapsed=0}return e.prototype.tick=function(){for(this._scaledElapsed+=1e3;this._scaledElapsed>=this._scaledInterval&&this.elapsed;)this.elapsed.fire(),this._scaledElapsed-=this._scaledInterval},e.prototype.canDelete=function(){return!this.elapsed||0===this.elapsed.length},e.prototype.destroy=function(){this.interval=void 0,this.elapsed.destroy(),this.elapsed=void 0,this._scaledInterval=0,this._scaledElapsed=0},e.prototype.destroyed=function(){return void 0===this.elapsed},e}();t.Timer=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,n){this._timer=t,this._handler=e,this._handlerOwner=i,this._fired=r,this._firedOwner=n,this._timer.elapsed.add(this._fire,this)}return t.prototype.destroy=function(){this._timer.elapsed.remove(this._fire,this),this._timer=void 0,this._handler=void 0,this._handlerOwner=void 0,this._fired=void 0,this._firedOwner=void 0},t.prototype.destroyed=function(){return void 0===this._timer},t.prototype._fire=function(){this._handler.call(this._handlerOwner),this._fired&&this._fired.call(this._firedOwner,this)},t}();t.TimerIdentifier=e;var i=function(){function i(t,e){this._timers=[],this._trigger=t,this._identifiers=[],this._fps=e,this._registered=!1}return i.prototype.destroy=function(){for(var t=0;t<this._identifiers.length;++t)this._identifiers[t].destroy();for(var t=0;t<this._timers.length;++t)this._timers[t].destroy();this._timers=void 0,this._trigger=void 0,this._identifiers=void 0,this._fps=void 0},i.prototype.destroyed=function(){return void 0===this._timers},i.prototype.createTimer=function(e){if(this._registered||(this._trigger.add(this._tick,this),this._registered=!0),e<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#createTimer: invalid interval\");e<1&&(e=1);for(var i=Math.min(1e3,e*this._fps),r=0;r<this._timers.length;++r)if(this._timers[r].interval===e&&this._timers[r]._scaledElapsed<i)return this._timers[r];var n=new t.Timer(e,this._fps);return this._timers.push(n),n},i.prototype.deleteTimer=function(e){if(e.canDelete()){var i=this._timers.indexOf(e);if(i<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#deleteTimer: can not find timer\");if(this._timers.splice(i,1),e.destroy(),!this._timers.length){if(!this._registered)throw t.ExceptionFactory.createAssertionError(\"TimerManager#deleteTimer: handler is not handled\");this._trigger.remove(this._tick,this),this._registered=!1}}},i.prototype.setTimeout=function(t,i,r){var n=this.createTimer(i),o=new e(n,t,r,this._onTimeoutFired,this);return this._identifiers.push(o),o},i.prototype.clearTimeout=function(t){this._clear(t)},i.prototype.setInterval=function(t,i,r){var n=this.createTimer(i),o=new e(n,t,r);return this._identifiers.push(o),o},i.prototype.clearInterval=function(t){this._clear(t)},i.prototype._tick=function(){for(var t=this._timers.concat(),e=0;e<t.length;++e)t[e].tick()},i.prototype._onTimeoutFired=function(e){var i=this._identifiers.indexOf(e);if(i<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#_onTimeoutFired: can not find identifier\");this._identifiers.splice(i,1);var r=e._timer;e.destroy(),this.deleteTimer(r)},i.prototype._clear=function(e){var i=this._identifiers.indexOf(e);if(i<0)throw t.ExceptionFactory.createAssertionError(\"TimerManager#_clear: can not find identifier\");if(e.destroyed())throw t.ExceptionFactory.createAssertionError(\"TimerManager#_clear: invalid identifier\");this._identifiers.splice(i,1);var r=e._timer;e.destroy(),this.deleteTimer(r)},i}();t.TimerManager=i}(t||(t={}));var t;!function(t){var e=function(){function e(e){this.played=new t.Trigger,this.stopped=new t.Trigger,this.currentAudio=void 0,this.volume=e.volume,this._muted=e._muted,this._playbackRate=e._playbackRate,this._system=e}return e.prototype.play=function(t){this.currentAudio=t,this.played.fire({player:this,audio:t})},e.prototype.stop=function(){var t=this.currentAudio;t&&(this.currentAudio=void 0,this.stopped.fire({player:this,audio:t}))},e.prototype.canHandleStopped=function(){return!0},e.prototype.changeVolume=function(t){this.volume=t},e.prototype._changeMuted=function(t){this._muted=t},e.prototype._changePlaybackRate=function(t){this._playbackRate=t},e.prototype._supportsPlaybackRate=function(){return!1},e.prototype._onVolumeChanged=function(){},e}();t.AudioPlayer=e}(t||(t={}));var t;!function(t){var e=function(){function e(t,e){var i=e._audioSystemManager;this.id=t,this.game=e,this._volume=1,this._destroyRequestedAssets={},this._muted=i._muted,this._playbackRate=i._playbackRate}return Object.defineProperty(e.prototype,\"volume\",{get:function(){return this._volume},set:function(e){if(e<0||e>1||isNaN(e)||\"number\"!=typeof e)throw t.ExceptionFactory.createAssertionError(\"AudioSystem#volume: expected: 0.0-1.0, actual: \"+e);this._volume=e,this._onVolumeChanged()},enumerable:!0,configurable:!0}),e.prototype.requestDestroy=function(t){this._destroyRequestedAssets[t.id]=t},e.prototype._reset=function(){this.stopAll(),this._volume=1,this._destroyRequestedAssets={},this._muted=this.game._audioSystemManager._muted,this._playbackRate=this.game._audioSystemManager._playbackRate},e.prototype._setMuted=function(t){var e=this._muted;this._muted=!!t,this._muted!==e&&this._onMutedChanged()},e.prototype._setPlaybackRate=function(e){if(e<0||isNaN(e)||\"number\"!=typeof e)throw t.ExceptionFactory.createAssertionError(\"AudioSystem#playbackRate: expected: greater or equal to 0.0, actual: \"+e);var i=this._playbackRate;this._playbackRate=e,this._playbackRate!==i&&this._onPlaybackRateChanged()},e}();t.AudioSystem=e;var r=function(e){function r(t,i){var r=e.call(this,t,i)||this;return r._player=void 0,r._suppressingAudio=void 0,r}return i(r,e),Object.defineProperty(r.prototype,\"player\",{get:function(){return this._player||(this._player=this.game.resourceFactory.createAudioPlayer(this),this._player.played.handle(this,this._onPlayerPlayed),this._player.stopped.handle(this,this._onPlayerStopped)),this._player},set:function(t){this._player=t},enumerable:!0,configurable:!0}),r.prototype.findPlayers=function(t){return this.player.currentAudio&&this.player.currentAudio.id===t.id?[this.player]:[]},r.prototype.createPlayer=function(){return this.player},r.prototype.stopAll=function(){this._player&&this._player.stop()},r.prototype._reset=function(){e.prototype._reset.call(this),this._player&&(this._player.played.remove({owner:this,func:this._onPlayerPlayed}),this._player.stopped.remove({owner:this,func:this._onPlayerStopped})),this._player=void 0,this._suppressingAudio=void 0},r.prototype._onVolumeChanged=function(){this.player.changeVolume(this._volume)},r.prototype._onMutedChanged=function(){this.player._changeMuted(this._muted)},r.prototype._onPlaybackRateChanged=function(){var t=this.player;t._changePlaybackRate(this._playbackRate),t._supportsPlaybackRate()||this._onUnsupportedPlaybackRateChanged()},r.prototype._onUnsupportedPlaybackRateChanged=function(){if(1===this._playbackRate&&this._suppressingAudio){var t=this._suppressingAudio;this._suppressingAudio=void 0,t.destroyed()||this.player._changeMuted(!1)}},r.prototype._onPlayerPlayed=function(e){if(e.player!==this._player)throw t.ExceptionFactory.createAssertionError(\"MusicAudioSystem#_onPlayerPlayed: unexpected audio player\");e.player._supportsPlaybackRate()||1!==this._playbackRate&&(e.player._changeMuted(!0),this._suppressingAudio=e.audio)},r.prototype._onPlayerStopped=function(t){this._suppressingAudio&&(this._suppressingAudio=void 0,this.player._changeMuted(!1)),this._destroyRequestedAssets[t.audio.id]&&(delete this._destroyRequestedAssets[t.audio.id],t.audio.destroy())},r}(e);t.MusicAudioSystem=r;var n=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.players=[],r}return i(e,t),e.prototype.createPlayer=function(){var t=this.game.resourceFactory.createAudioPlayer(this);return t.canHandleStopped()&&this.players.push(t),t.played.handle(this,this._onPlayerPlayed),t.stopped.handle(this,this._onPlayerStopped),t},e.prototype.findPlayers=function(t){for(var e=[],i=0;i<this.players.length;++i)this.players[i].currentAudio&&this.players[i].currentAudio.id===t.id&&e.push(this.players[i]);return e},e.prototype.stopAll=function(){for(var t=this.players.concat(),e=0;e<t.length;++e)t[e].stop()},e.prototype._reset=function(){t.prototype._reset.call(this);for(var e=0;e<this.players.length;++e){var i=this.players[e];i.played.remove({owner:this,func:this._onPlayerPlayed}),i.stopped.remove({owner:this,func:this._onPlayerStopped})}this.players=[]},e.prototype._onMutedChanged=function(){for(var t=this.players,e=0;e<t.length;++e)t[e]._changeMuted(this._muted)},e.prototype._onPlaybackRateChanged=function(){for(var t=this.players,e=0;e<t.length;++e)t[e]._changePlaybackRate(this._playbackRate),t[e]._supportsPlaybackRate()||1===this._playbackRate||t[e].stop()},e.prototype._onPlayerPlayed=function(t){\nt.player._supportsPlaybackRate()||1!==this._playbackRate&&t.player.stop()},e.prototype._onPlayerStopped=function(t){var e=this.players.indexOf(t.player);e<0||(t.player.stopped.remove({owner:this,func:this._onPlayerStopped}),this.players.splice(e,1),this._destroyRequestedAssets[t.audio.id]&&(delete this._destroyRequestedAssets[t.audio.id],t.audio.destroy()))},e.prototype._onVolumeChanged=function(){for(var t=0;t<this.players.length;++t)this.players[t].changeVolume(this._volume)},e}(e);t.SoundAudioSystem=n}(t||(t={}));var t;!function(t){var e=function(){function e(e){this._loop=!!e,this.played=new t.Trigger,this.stopped=new t.Trigger,this.currentVideo=void 0,this.volume=1}return e.prototype.play=function(t){this.currentVideo=t,this.played.fire({player:this,video:t}),t.asSurface().animatingStarted.fire()},e.prototype.stop=function(){var t=this.currentVideo;this.stopped.fire({player:this,video:t}),t.asSurface().animatingStopped.fire()},e.prototype.changeVolume=function(t){this.volume=t},e}();t.VideoPlayer=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t}();t.VideoSystem=e}(t||(t={}));var t;!function(t){var e=function(){function e(t){t?(this.x=t.x||0,this.y=t.y||0,this.width=t.width||0,this.height=t.height||0,this.opacity=\"opacity\"in t?t.opacity:1,this.scaleX=\"scaleX\"in t?t.scaleX:1,this.scaleY=\"scaleY\"in t?t.scaleY:1,this.angle=t.angle||0,this.compositeOperation=t.compositeOperation,this.anchorX=t.anchorX,this.anchorY=t.anchorY,this._matrix=void 0):(this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.scaleX=1,this.scaleY=1,this.angle=0,this.compositeOperation=void 0,this.anchorX=void 0,this.anchorY=void 0,this._matrix=void 0)}return e.prototype.moveTo=function(e,i){if(\"number\"==typeof e&&\"number\"!=typeof i)throw t.ExceptionFactory.createAssertionError(\"Object2D#moveTo: arguments must be CommonOffset or pair of x and y as a number.\");\"number\"==typeof e?(this.x=e,this.y=i):(this.x=e.x,this.y=e.y)},e.prototype.moveBy=function(t,e){this.x+=t,this.y+=e},e.prototype.resizeTo=function(e,i){if(\"number\"==typeof e&&\"number\"!=typeof i)throw t.ExceptionFactory.createAssertionError(\"Object2D#resizeTo: arguments must be CommonSize or pair of width and height as a number.\");\"number\"==typeof e?(this.width=e,this.height=i):(this.width=e.width,this.height=e.height)},e.prototype.resizeBy=function(t,e){this.width+=t,this.height+=e},e.prototype.scale=function(t){this.scaleX=t,this.scaleY=t},e.prototype.anchor=function(t,e){this.anchorX=t,this.anchorY=e},e.prototype.getMatrix=function(){if(this._matrix){if(!this._matrix._modified)return this._matrix}else this._matrix=t.Util.createMatrix();return this._updateMatrix(),this._matrix._modified=!1,this._matrix},e.prototype._updateMatrix=function(){null!=this.anchorX&&null!=this.anchorY?this._matrix.updateWithAnchor(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y,this.anchorX,this.anchorY):this.angle||1!==this.scaleX||1!==this.scaleY?this._matrix.update(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y):this._matrix.reset(this.x,this.y)},e}();t.Object2D=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;if(r.children=void 0,r.parent=void 0,r._touchable=!1,r.state=0,r._hasTouchableChildren=!1,r._update=void 0,r._message=void 0,r._pointDown=void 0,r._pointMove=void 0,r._pointUp=void 0,r._targetCameras=void 0,r.tag=i.tag,r.shaderProgram=i.shaderProgram,r.local=i.scene.local!==t.LocalTickMode.NonLocal||!!i.local,i.children)for(var n=0;n<i.children.length;++n)r.append(i.children[n]);return i.parent&&i.parent.append(r),i.targetCameras&&(r.targetCameras=i.targetCameras),\"touchable\"in i&&(r.touchable=i.touchable),i.hidden&&r.hide(),r.id=i.id,i.scene.register(r),r}return i(r,e),Object.defineProperty(r.prototype,\"update\",{get:function(){return this._update||(this._update=new t.ChainTrigger(this.scene.update)),this._update},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"message\",{get:function(){return this._message||(this._message=new t.ChainTrigger(this.scene.message)),this._message},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"pointDown\",{get:function(){return this._pointDown||(this._pointDown=new t.ChainTrigger(this.scene.pointDownCapture,this._isTargetOperation,this)),this._pointDown},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"pointUp\",{get:function(){return this._pointUp||(this._pointUp=new t.ChainTrigger(this.scene.pointUpCapture,this._isTargetOperation,this)),this._pointUp},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"pointMove\",{get:function(){return this._pointMove||(this._pointMove=new t.ChainTrigger(this.scene.pointMoveCapture,this._isTargetOperation,this)),this._pointMove},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"targetCameras\",{get:function(){return this._targetCameras||(this._targetCameras=[])},set:function(t){this._targetCameras=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"touchable\",{get:function(){return this._touchable},set:function(t){this._touchable!==t&&(this._touchable=t,t?this._enableTouchPropagation():this._disableTouchPropagation())},enumerable:!0,configurable:!0}),r.prototype.render=function(t,e){if(this.state&=-5,!(1&this.state)){var i=this._targetCameras;if(!(i&&i.length>0)||e&&-1!==i.indexOf(e)){if(8&this.state){t.translate(this.x,this.y);var r=this.renderSelf(t,e);if(r&&this.children)for(var n=this.children,o=n.length,s=0;s<o;++s)n[s].render(t,e);return void t.translate(-this.x,-this.y)}t.save(),this.angle||1!==this.scaleX||1!==this.scaleY||null!=this.anchorX||null!=this.anchorY?t.transform(this.getMatrix()._matrix):t.translate(this.x,this.y),1!==this.opacity&&t.opacity(this.opacity),void 0!==this.compositeOperation&&t.setCompositeOperation(this.compositeOperation),void 0!==this.shaderProgram&&t.isSupportedShaderProgram()&&t.setShaderProgram(this.shaderProgram);var r=this.renderSelf(t,e);if(r&&this.children)for(var n=this.children,s=0;s<n.length;++s)n[s].render(t,e);t.restore()}}},r.prototype.renderSelf=function(t,e){return!0},r.prototype.game=function(){return this.scene.game},r.prototype.append=function(t){this.insertBefore(t,void 0)},r.prototype.insertBefore=function(t,e){t.parent&&t.remove(),this.children||(this.children=[]),t.parent=this;var i=-1;void 0!==e&&(i=this.children.indexOf(e))>-1?this.children.splice(i,0,t):this.children.push(t),(t._touchable||t._hasTouchableChildren)&&(this._hasTouchableChildren=!0,this._enableTouchPropagation()),this.modified(!0)},r.prototype.remove=function(e){if(void 0===e)return void this.parent.remove(this);var i=this.children?this.children.indexOf(e):-1;if(i<0)throw t.ExceptionFactory.createAssertionError(\"E#remove: invalid child\");this.children[i].parent=void 0,this.children.splice(i,1),(e._touchable||e._hasTouchableChildren)&&(this._findTouchableChildren(this)||(this._hasTouchableChildren=!1,this._disableTouchPropagation())),this.modified(!0)},r.prototype.destroy=function(){if(this.parent&&this.remove(),this.children){for(var e=this.children.length-1;e>=0;--e)this.children[e].destroy();if(0!==this.children.length)throw t.ExceptionFactory.createAssertionError(\"E#destroy: can not destroy all children, \"+this.children.length);this.children=void 0}this._update&&(this._update.destroy(),this._update=void 0),this._message&&(this._message.destroy(),this._message=void 0),this._pointDown&&(this._pointDown.destroy(),this._pointDown=void 0),this._pointMove&&(this._pointMove.destroy(),this._pointMove=void 0),this._pointUp&&(this._pointUp.destroy(),this._pointUp=void 0),this.scene.unregister(this)},r.prototype.destroyed=function(){return void 0===this.scene},r.prototype.modified=function(t){this._matrix&&(this._matrix._modified=!0),this.angle||1!==this.scaleX||1!==this.scaleY||null!=this.anchorX||null!=this.anchorY||1!==this.opacity||void 0!==this.compositeOperation||void 0!==this.shaderProgram?this.state&=-9:this.state|=8,4&this.state||(this.state|=4,this.parent&&this.parent.modified(!0))},r.prototype.shouldFindChildrenByPoint=function(t){return!0},r.prototype.findPointSourceByPoint=function(t,e,i,r){if(!(1&this.state)){var n=this._targetCameras;if(!(n&&n.length>0)||r&&-1!==n.indexOf(r)){e=e?e.multiplyNew(this.getMatrix()):this.getMatrix().clone();var o=e.multiplyInverseForPoint(t);if((this._hasTouchableChildren||i&&this.children&&this.children.length)&&this.shouldFindChildrenByPoint(o))for(var s=this.children.length-1;s>=0;--s){var a=this.children[s];if(i||a._touchable||a._hasTouchableChildren){var h=a.findPointSourceByPoint(t,e,i,r);if(h)return h}}if(i||this._touchable)return 0<=o.x&&this.width>o.x&&0<=o.y&&this.height>o.y?{target:this,point:o}:void 0}}},r.prototype.visible=function(){return 1!=(1&this.state)},r.prototype.show=function(){1&this.state&&(this.state&=-2,this.parent&&this.parent.modified(!0))},r.prototype.hide=function(){1&this.state||(this.state|=1,this.parent&&this.parent.modified(!0))},r.prototype.calculateBoundingRect=function(t){return this._calculateBoundingRect(void 0,t)},r.prototype._calculateBoundingRect=function(t,e){var i=this.getMatrix();if(t&&(i=t.multiplyNew(i)),this.visible()&&(!e||this._targetCameras&&-1!==this._targetCameras.indexOf(e))){for(var r={left:0,right:this.width,top:0,bottom:this.height},n=[{x:r.left,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.top},{x:r.right,y:r.bottom}],o=i.multiplyPoint(n[0]),s={left:o.x,right:o.x,top:o.y,bottom:o.y},a=1;a<n.length;++a)o=i.multiplyPoint(n[a]),s.left>o.x&&(s.left=o.x),s.right<o.x&&(s.right=o.x),s.top>o.y&&(s.top=o.y),s.bottom<o.y&&(s.bottom=o.y);if(void 0!==this.children)for(var a=0;a<this.children.length;++a){var h=this.children[a]._calculateBoundingRect(i,e);h&&(s.left>h.left&&(s.left=h.left),s.right<h.right&&(s.right=h.right),s.top>h.top&&(s.top=h.top),s.bottom<h.bottom&&(s.bottom=h.bottom))}return s}},r.prototype._enableTouchPropagation=function(){for(var t=this.parent;t instanceof r&&!t._hasTouchableChildren;)t._hasTouchableChildren=!0,t=t.parent},r.prototype._disableTouchPropagation=function(){for(var t=this.parent;t instanceof r&&t._hasTouchableChildren&&!this._findTouchableChildren(t);)t._hasTouchableChildren=!1,t=t.parent},r.prototype._isTargetOperation=function(e){return!(1&this.state)&&(e instanceof t.PointEvent&&(this._touchable&&e.target===this))},r.prototype._findTouchableChildren=function(t){if(t.children)for(var e=0;e<t.children.length;++e){if(t.children[e].touchable)return t.children[e];var i=this._findTouchableChildren(t.children[e]);if(i)return i}},r}(t.Object2D);t.E=e}(t||(t={}));var t;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i._shouldRenderChildren=!0,i._cache=void 0,i._renderer=void 0,i._renderedCamera=void 0,i}return i(e,t),e.prototype.invalidate=function(){this.state&=-3,this.modified()},e.prototype.renderSelf=function(t,i){var r=e.PADDING;if(this._renderedCamera!==i&&(this.state&=-3,this._renderedCamera=i),!(2&this.state)){this._cacheSize=this.calculateCacheSize();var n=Math.ceil(this._cacheSize.width)+2*r,o=Math.ceil(this._cacheSize.height)+2*r,s=!this._cache||this._cache.width<n||this._cache.height<o;s&&(this._cache&&!this._cache.destroyed()&&this._cache.destroy(),this._cache=this.scene.game.resourceFactory.createSurface(n,o),this._renderer=this._cache.renderer());var a=this._renderer;a.begin(),s||a.clear(),a.save(),a.translate(r,r),this.renderCache(a,i),a.restore(),this.state|=2,a.end()}return this._cache&&this._cacheSize.width>0&&this._cacheSize.height>0&&(t.translate(-r,-r),this.renderSelfFromCache(t),t.translate(r,r)),this._shouldRenderChildren},e.prototype.renderSelfFromCache=function(t){t.drawImage(this._cache,0,0,this._cacheSize.width+e.PADDING,this._cacheSize.height+e.PADDING,0,0)},e.prototype.destroy=function(){this._cache&&!this._cache.destroyed()&&this._cache.destroy(),this._cache=void 0,t.prototype.destroy.call(this)},e.prototype.calculateCacheSize=function(){return{width:this.width,height:this.height}},e.PADDING=1,e}(t.E);t.CacheableE=e}(t||(t={}));var t;!function(t){!function(t){t[t.Slots=1]=\"Slots\",t[t.Scores=2]=\"Scores\",t[t.Counts=3]=\"Counts\",t[t.Values=4]=\"Values\"}(t.StorageRegion||(t.StorageRegion={}));!function(t){t[t.Asc=0]=\"Asc\",t[t.Desc=1]=\"Desc\"}(t.StorageOrder||(t.StorageOrder={}));!function(t){t[t.Equal=1]=\"Equal\",t[t.GreaterThan=2]=\"GreaterThan\",t[t.LessThan=3]=\"LessThan\"}(t.StorageCondition||(t.StorageCondition={}));!function(t){t[t.Incr=1]=\"Incr\",t[t.Decr=2]=\"Decr\"}(t.StorageCountsOperation||(t.StorageCountsOperation={}));var e=function(){function t(t,e){this._keys=t,this._values=e}return t.prototype.get=function(t){if(void 0===this._values)return[];if(\"number\"==typeof t)return this._values[t];var e=this._keys.indexOf(t);if(-1!==e)return this._values[e];for(var i=0;i<this._keys.length;++i){var r=this._keys[i];if(r.region===t.region&&r.regionKey===t.regionKey&&r.userId===t.userId&&r.gameId===t.gameId)return this._values[i]}return[]},t.prototype.getOne=function(t){var e=this.get(t);if(e)return e[0]},t}();t.StorageValueStore=e;var i=function(){function t(t,i,r){this._loaded=!1,this._storage=t,this._valueStore=new e(i),this._handler=void 0,this._valueStoreSerialization=r}return t.prototype._load=function(t){this._handler=t,this._storage._load&&this._storage._load.call(this._storage,this._valueStore._keys,this,this._valueStoreSerialization)},t.prototype._onLoaded=function(t,e){this._valueStore._values=t,this._loaded=!0,e&&(this._valueStoreSerialization=e),this._handler&&this._handler._onStorageLoaded()},t.prototype._onError=function(t){this._handler&&this._handler._onStorageLoadError(t)},t}();t.StorageLoader=i;var r=function(){function t(t){this._game=t}return t.prototype.write=function(t,e,i){this._write&&this._write(t,e,i)},t.prototype.requestValuesForJoinPlayer=function(t){this._requestedKeysForJoinPlayer=t},t.prototype._createLoader=function(t,e){return new i(this,t,e)},t.prototype._registerWrite=function(t){this._write=t},t.prototype._registerLoad=function(t){this._load=t},t}();t.Storage=r}(t||(t={}));var t;!function(t){var e=function(){function e(t){this.waitingAssetsCount=t.assetIds.length,this._scene=t.scene,this._assetManager=t.assetManager,this._assetIds=t.assetIds,this._assets=[],this._handler=t.handler,this._handlerOwner=t.handlerOwner||null,this._direct=!!t.direct,this._requested=!1}return e.prototype.request=function(){return 0!==this.waitingAssetsCount&&(!!this._requested||(this._requested=!0,this._assetManager.requestAssets(this._assetIds,this),!0))},e.prototype.destroy=function(){this._requested&&this._assetManager.unrefAssets(this._assets),this.waitingAssetsCount=0,this._scene=void 0,this._assetIds=void 0,this._handler=void 0,this._requested=!1},e.prototype.destroyed=function(){return!this._scene},e.prototype.callHandler=function(){this._handler.call(this._handlerOwner)},e.prototype._onAssetError=function(t,e,i){if(!this.destroyed()&&!this._scene.destroyed()){var r={asset:t,error:e,cancelRetry:!1};this._scene.assetLoadFailed.fire(r),e.retriable&&!r.cancelRetry?this._assetManager.retryLoad(t):this._assetManager.configuration[t.id]&&(this._scene.game.terminateGame(),this._scene.game._abortGame()),this._scene.assetLoadCompleted.fire(t)}},e.prototype._onAssetLoad=function(e){if(!this.destroyed()&&!this._scene.destroyed()){if(this._scene.assets[e.id]=e,this._scene.assetLoaded.fire(e),this._scene.assetLoadCompleted.fire(e),this._assets.push(e),--this.waitingAssetsCount<0)throw t.ExceptionFactory.createAssertionError(\"SceneAssetHolder#_onAssetLoad: broken waitingAssetsCount\");this.waitingAssetsCount>0||(this._direct?this.callHandler():this._scene.game._callSceneAssetHolderHandler(this))}},e}();t.SceneAssetHolder=e;var i;!function(t){t[t.Destroyed=0]=\"Destroyed\",t[t.Standby=1]=\"Standby\",t[t.Active=2]=\"Active\",t[t.Deactive=3]=\"Deactive\",t[t.BeforeDestroyed=4]=\"BeforeDestroyed\"}(i=t.SceneState||(t.SceneState={}));var r;!function(t){t[t.Initial=0]=\"Initial\",t[t.Ready=1]=\"Ready\",t[t.ReadyFired=2]=\"ReadyFired\",t[t.LoadedFired=3]=\"LoadedFired\"}(r=t.SceneLoadState||(t.SceneLoadState={}));var n=function(){function n(n){var o,s,a,h;o=n.game,h=n.assetIds,n.storageKeys?(this._storageLoader=o.storage._createLoader(n.storageKeys,n.storageValuesSerialization),this.storageValues=this._storageLoader._valueStore):(this._storageLoader=void 0,this.storageValues=void 0),s=void 0===n.local?t.LocalTickMode.NonLocal:!1===n.local?t.LocalTickMode.NonLocal:!0===n.local?t.LocalTickMode.FullLocal:n.local,a=void 0!==n.tickGenerationMode?n.tickGenerationMode:t.TickGenerationMode.ByClock,this.name=n.name,h||(h=[]),this.game=o,this.local=s,this.tickGenerationMode=a,this.loaded=new t.Trigger,this._ready=new t.Trigger,this.assets={},this._loaded=!1,this._prefetchRequested=!1,this._loadingState=r.Initial,this.update=new t.Trigger,this._timer=new t.TimerManager(this.update,this.game.fps),this.assetLoaded=new t.Trigger,this.assetLoadFailed=new t.Trigger,this.assetLoadCompleted=new t.Trigger,this.message=new t.Trigger,this.pointDownCapture=new t.Trigger,this.pointMoveCapture=new t.Trigger,this.pointUpCapture=new t.Trigger,this.operation=new t.Trigger,this.children=[],this.state=i.Standby,this.stateChanged=new t.Trigger,this._assetHolders=[],this._sceneAssetHolder=new e({scene:this,assetManager:this.game._assetManager,assetIds:h,handler:this._onSceneAssetsLoad,handlerOwner:this,direct:!0})}return n.prototype.modified=function(t){this.game.modified=!0},n.prototype.destroy=function(){this.state=i.BeforeDestroyed,this.stateChanged.fire(this.state);var t=this.game.db;for(var e in t)t.hasOwnProperty(e)&&t[e].scene===this&&t[e].destroy();var t=this.game._localDb;for(var e in t)t.hasOwnProperty(e)&&t[e].scene===this&&t[e].destroy();this._timer.destroy(),this.update.destroy(),this.message.destroy(),this.pointDownCapture.destroy(),this.pointMoveCapture.destroy(),this.pointUpCapture.destroy(),this.operation.destroy(),this.loaded.destroy(),this.assetLoaded.destroy(),this.assetLoadFailed.destroy(),this.assetLoadCompleted.destroy(),this.assets={};for(var r=0;r<this._assetHolders.length;++r)this._assetHolders[r].destroy();this._sceneAssetHolder.destroy(),this._storageLoader=void 0,this.game=void 0,this.state=i.Destroyed,this.stateChanged.fire(this.state),this.stateChanged.destroy()},n.prototype.destroyed=function(){return void 0===this.game},n.prototype.createTimer=function(t){return this._timer.createTimer(t)},n.prototype.deleteTimer=function(t){this._timer.deleteTimer(t)},n.prototype.setInterval=function(t,e,i){var r=this._timer;return\"number\"==typeof t?(this.game.logger.warn(\"[deprecated] Scene#setInterval(): this arguments ordering is now deprecated. Specify the function first.\"),null!=i?r.setInterval(i,t,e):r.setInterval(e,t,null)):r.setInterval(t,e,i)},n.prototype.clearInterval=function(t){this._timer.clearInterval(t)},n.prototype.setTimeout=function(t,e,i){var r=this._timer;return\"number\"==typeof t?(this.game.logger.warn(\"[deprecated] Scene#setTimeout(): this arguments ordering is now deprecated. Specify the function first.\"),null!=i?r.setTimeout(i,t,e):r.setTimeout(e,t,null)):r.setTimeout(t,e,i)},n.prototype.clearTimeout=function(t){this._timer.clearTimeout(t)},n.prototype.isCurrentScene=function(){return this.game.scene()===this},n.prototype.gotoScene=function(e,i){if(!this.isCurrentScene())throw t.ExceptionFactory.createAssertionError(\"Scene#gotoScene: this scene is not the current scene\");i?this.game.pushScene(e):this.game.replaceScene(e)},n.prototype.end=function(){if(!this.isCurrentScene())throw t.ExceptionFactory.createAssertionError(\"Scene#end: this scene is not the current scene\");this.game.popScene()},n.prototype.register=function(t){this.game.register(t),t.scene=this},n.prototype.unregister=function(t){t.scene=void 0,this.game.unregister(t)},n.prototype.append=function(t){this.insertBefore(t,void 0)},n.prototype.insertBefore=function(t,e){t.parent&&t.remove(),t.parent=this;var i=-1;void 0!==e&&(i=this.children.indexOf(e))>-1?this.children.splice(i,0,t):this.children.push(t),this.modified(!0)},n.prototype.remove=function(t){var e=this.children.indexOf(t);-1!==e&&(this.children[e].parent=void 0,this.children.splice(e,1),this.modified(!0))},n.prototype.findPointSourceByPoint=function(e,i,r){var n=this.local!==t.LocalTickMode.NonLocal,o=this.children,s=void 0;r&&r instanceof t.Camera2D&&(s=r.getMatrix());for(var a=o.length-1;a>=0;--a){var h=o[a].findPointSourceByPoint(e,s,i,r);if(h)return h.local=h.target.local||n,h}return{target:void 0,point:void 0,local:n}},n.prototype.prefetch=function(){this._loaded||this._prefetchRequested||(this._prefetchRequested=!0,this._sceneAssetHolder.request())},n.prototype.serializeStorageValues=function(){if(this._storageLoader)return this._storageLoader._valueStoreSerialization},n.prototype.requestAssets=function(i,n){if(this._loadingState<r.ReadyFired)throw t.ExceptionFactory.createAssertionError(\"Scene#requestAsset(): can be called after loaded.\");var o=new e({scene:this,assetManager:this.game._assetManager,assetIds:i,handler:n});this._assetHolders.push(o),o.request()},n.prototype._activate=function(){this.state=i.Active,this.stateChanged.fire(this.state)},n.prototype._deactivate=function(){this.state=i.Deactive,this.stateChanged.fire(this.state)},n.prototype._needsLoading=function(){return this._sceneAssetHolder.waitingAssetsCount>0||this._storageLoader&&!this._storageLoader._loaded},n.prototype._load=function(){if(!this._loaded){this._loaded=!0;var t=this._sceneAssetHolder.request();this._storageLoader&&(this._storageLoader._load(this),t=!0),t||this._notifySceneReady()}},n.prototype._onSceneAssetsLoad=function(){this._loaded&&(this._storageLoader&&!this._storageLoader._loaded||this._notifySceneReady())},n.prototype._onStorageLoadError=function(t){this.game.terminateGame(),this.game._abortGame()},n.prototype._onStorageLoaded=function(){0===this._sceneAssetHolder.waitingAssetsCount&&this._notifySceneReady()},n.prototype._notifySceneReady=function(){this._loadingState=r.Ready,this.game._fireSceneReady(this)},n.prototype._fireReady=function(){this._ready.fire(this),this._loadingState=r.ReadyFired},n.prototype._fireLoaded=function(){this.loaded.fire(this),this._loadingState=r.LoadedFired},n}();t.Scene=n}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=this;return i.local=!0,r=e.call(this,i)||this,r.targetReset=new t.Trigger,r.targetReady=new t.Trigger,r.targetAssetLoaded=new t.Trigger,r._explicitEnd=!!i.explicitEnd,r._targetScene=void 0,r}return i(r,e),r.prototype.destroy=function(){this._clearTargetScene(),e.prototype.destroy.call(this)},r.prototype.reset=function(e){this._clearTargetScene(),this._targetScene=e,this._loadingState<t.SceneLoadState.LoadedFired?this.loaded.addOnce(this._doReset,this):this._doReset()},r.prototype.getTargetWaitingAssetsCount=function(){return this._targetScene?this._targetScene._sceneAssetHolder.waitingAssetsCount:0},r.prototype.end=function(){if(!this._targetScene||this._targetScene._loadingState<t.SceneLoadState.Ready){var e=this._targetScene?t.SceneLoadState[this._targetScene._loadingState]:\"(no scene)\",i=\"LoadingScene#end(): the target scene is in invalid state: \"+e;throw t.ExceptionFactory.createAssertionError(i)}this.game.popScene(!0),this.game._fireSceneLoaded(this._targetScene),this._clearTargetScene()},r.prototype._clearTargetScene=function(){this._targetScene&&(this._targetScene._ready.removeAll({owner:this}),this._targetScene.assetLoaded.removeAll({owner:this}),this._targetScene=void 0)},r.prototype._doReset=function(){this.targetReset.fire(this._targetScene),this._targetScene._loadingState<t.SceneLoadState.ReadyFired?(this._targetScene._ready.add(this._fireTriggerOnTargetReady,this),this._targetScene.assetLoaded.add(this._fireTriggerOnTargetAssetLoad,this),this._targetScene._load()):this._fireTriggerOnTargetReady(this._targetScene)},r.prototype._fireTriggerOnTargetAssetLoad=function(t){this.targetAssetLoaded.fire(t)},r.prototype._fireTriggerOnTargetReady=function(t){this.targetReady.fire(t),this._explicitEnd||this.end()},r}(t.Scene);t.LoadingScene=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._canceller=new t.Object2D,r}return i(r,e),r.prototype.renderSelf=function(t,e){if(!this.children)return!1;if(e){var i=e,r=this._canceller;i.x===r.x&&i.y===r.y&&i.angle===r.angle&&i.scaleX===r.scaleX&&i.scaleY===r.scaleY||(r.x=i.x,r.y=i.y,r.angle=i.angle,r.scaleX=i.scaleX,r.scaleY=i.scaleY,r._matrix&&(r._matrix._modified=!0)),t.save(),t.transform(r.getMatrix()._matrix)}for(var n=this.children,o=0;o<n.length;++o)n[o].render(t,e);return e&&t.restore(),!1},r}(t.E),r=function(r){function n(t){var e=r.call(this,{game:t.game,name:\"akashic:default-loading-scene\"})||this;return e._barWidth=Math.min(t.game.width,Math.max(100,t.game.width/2)),e._barHeight=5,e._gauge=void 0,e._gaugeUpdateCount=0,e._totalWaitingAssetCount=0,e.loaded.handle(e,e._onLoaded),e.targetReset.handle(e,e._onTargetReset),e.targetAssetLoaded.handle(e,e._onTargetAssetLoaded),e}return i(n,r),n.prototype._onLoaded=function(){var i;return this.append(new e({scene:this,children:[new t.FilledRect({scene:this,width:this.game.width,height:this.game.height,cssColor:\"rgba(0, 0, 0, 0.8)\",children:[new t.FilledRect({scene:this,x:(this.game.width-this._barWidth)/2,y:(this.game.height-this._barHeight)/2,width:this._barWidth,height:this._barHeight,cssColor:\"gray\",children:[i=new t.FilledRect({scene:this,width:0,height:this._barHeight,cssColor:\"white\"})]})]})]})),i.update.handle(this,this._onUpdateGuage),this._gauge=i,!0},n.prototype._onUpdateGuage=function(){++this._gaugeUpdateCount;var t=Math.round(205+50*Math.sin(this._gaugeUpdateCount/this.game.fps*(2/3)*(2*Math.PI)));this._gauge.cssColor=\"rgb(\"+t+\",\"+t+\",\"+t+\")\",this._gauge.modified()},n.prototype._onTargetReset=function(t){this._gauge&&(this._gauge.width=0,this._gauge.modified()),this._totalWaitingAssetCount=t._sceneAssetHolder.waitingAssetsCount},n.prototype._onTargetAssetLoaded=function(t){var e=this._targetScene._sceneAssetHolder.waitingAssetsCount;this._gauge.width=Math.ceil((1-e/this._totalWaitingAssetCount)*this._barWidth),this._gauge.modified()},n}(t.LoadingScene);t.DefaultLoadingScene=r}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r.surface=t.Util.asSurface(i.src),\"width\"in i||(r.width=r.surface.width),\"height\"in i||(r.height=r.surface.height),r.srcWidth=\"srcWidth\"in i?i.srcWidth:r.width,r.srcHeight=\"srcHeight\"in i?i.srcHeight:r.height,r.srcX=i.srcX||0,r.srcY=i.srcY||0,r._stretchMatrix=void 0,r._beforeSurface=r.surface,t.Util.setupAnimatingHandler(r,r.surface),r._invalidateSelf(),r}return i(r,e),r.prototype._onUpdate=function(){this.modified()},r.prototype._onAnimatingStarted=function(){this.update.contains(this._onUpdate,this)||this.update.add(this._onUpdate,this)},r.prototype._onAnimatingStopped=function(){this.destroyed()||this.update.remove(this._onUpdate,this)},r.prototype.renderSelf=function(t,e){return this.srcWidth<=0||this.srcHeight<=0||(this._stretchMatrix&&(t.save(),t.transform(this._stretchMatrix._matrix)),t.drawImage(this.surface,this.srcX,this.srcY,this.srcWidth,this.srcHeight,0,0),this._stretchMatrix&&t.restore(),!0)},r.prototype.invalidate=function(){this._invalidateSelf(),this.modified()},r.prototype.destroy=function(t){this.surface&&!this.surface.destroyed()&&(t?this.surface.destroy():this.surface.isDynamic&&(this.surface.animatingStarted.remove(this._onAnimatingStarted,this),this.surface.animatingStopped.remove(this._onAnimatingStopped,this))),this.surface=void 0,e.prototype.destroy.call(this)},r.prototype._invalidateSelf=function(){this.width===this.srcWidth&&this.height===this.srcHeight?this._stretchMatrix=void 0:(this._stretchMatrix=t.Util.createMatrix(),this._stretchMatrix.scale(this.width/this.srcWidth,this.height/this.srcHeight)),this.surface!==this._beforeSurface&&(t.Util.migrateAnimatingHandler(this,this._beforeSurface,this.surface),this._beforeSurface=this.surface)},r}(t.E);t.Sprite=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._lastUsedIndex=0,r.frameNumber=i.frameNumber||0,r.frames=\"frames\"in i?i.frames:[0],r.interval=i.interval,r._timer=void 0,r.loop=null==i.loop||i.loop,r.finished=new t.Trigger,r._modifiedSelf(),r}return i(r,e),r.createBySprite=function(t,e,i){var n=new r({scene:t.scene,src:t.surface,width:void 0===e?t.width:e,height:void 0===i?t.height:i});return n.srcHeight=void 0===i?t.srcHeight:i,n.srcWidth=void 0===e?t.srcWidth:e,n},r.prototype.start=function(){void 0===this.interval&&(this.interval=1e3/this.game().fps),this._timer&&this._free(),this._timer=this.scene.createTimer(this.interval),this._timer.elapsed.add(this._onElapsed,this)},r.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t)},r.prototype.stop=function(){this._timer&&this._free()},r.prototype.modified=function(t){this._modifiedSelf(t),e.prototype.modified.call(this,t)},r.prototype._onElapsed=function(){this.frameNumber===this.frames.length-1?this.loop?this.frameNumber=0:(this.stop(),this.finished.fire()):this.frameNumber++,this.modified()},r.prototype._free=function(){this._timer&&(this._timer.elapsed.remove(this._onElapsed,this),this._timer.canDelete()&&this.scene.deleteTimer(this._timer),this._timer=void 0)},r.prototype._changeFrame=function(){var t=this.frames[this.frameNumber],e=Math.floor(this.surface.width/this.srcWidth);this.srcX=t%e*this.srcWidth,this.srcY=Math.floor(t/e)*this.srcHeight,this._lastUsedIndex=t},r.prototype._modifiedSelf=function(t){this._lastUsedIndex!==this.frames[this.frameNumber]&&this._changeFrame()},r}(t.Sprite);t.FrameSprite=e}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Unknown=0]=\"Unknown\",t[t.Join=1]=\"Join\",t[t.Leave=2]=\"Leave\",t[t.Timestamp=3]=\"Timestamp\",t[t.Seed=4]=\"Seed\",t[t.PointDown=5]=\"PointDown\",t[t.PointMove=6]=\"PointMove\",t[t.PointUp=7]=\"PointUp\",t[t.Message=8]=\"Message\",t[t.Operation=9]=\"Operation\"}(e=t.EventType||(t.EventType={}));var r=function(){function t(t,e,i,r,n,o){this.priority=o,this.local=n,this.player=r,this.pointerId=t,this.target=e,this.point=i}return t}();t.PointEvent=r;var n=function(t){function r(i,r,n,o,s,a){var h=t.call(this,i,r,n,o,s,a)||this;return h.type=e.PointDown,h}return i(r,t),r}(r);t.PointDownEvent=n;var o=function(t){function r(i,r,n,o,s,a,h,c){var u=t.call(this,i,r,n,a,h,c)||this;return u.type=e.PointUp,u.prevDelta=o,u.startDelta=s,u}return i(r,t),r}(r);t.PointUpEvent=o;var s=function(t){function r(i,r,n,o,s,a,h,c){var u=t.call(this,i,r,n,a,h,c)||this;return u.type=e.PointMove,u.prevDelta=o,u.startDelta=s,u}return i(r,t),r}(r);t.PointMoveEvent=s;var a=function(){function t(t,i,r,n){this.type=e.Message,this.priority=n,this.local=r,this.player=i,this.data=t}return t}();t.MessageEvent=a;var h=function(){function t(t,i,r,n,o){this.type=e.Operation,this.priority=o,this.local=n,this.player=r,this.code=t,this.data=i}return t}();t.OperationEvent=h;var c=function(){function t(t,i,r){this.type=e.Join,this.priority=r,this.player=t,this.storageValues=i}return t}();t.JoinEvent=c;var u=function(){function t(t,i){this.type=e.Leave,this.priority=i,this.player=t}return t}();t.LeaveEvent=u;var l=function(){function t(t,i,r){this.type=e.Timestamp,this.priority=r,this.player=i,this.timestamp=t}return t}();t.TimestampEvent=l;var d=function(){function t(t,i){this.type=e.Seed,this.priority=i,this.generator=t}return t}();t.SeedEvent=d}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Error=0]=\"Error\",t[t.Warn=1]=\"Warn\",t[t.Info=2]=\"Info\",t[t.Debug=3]=\"Debug\"}(e=t.LogLevel||(t.LogLevel={}));var i=function(){function i(e){this.game=e,this.logging=new t.Trigger}return i.prototype.destroy=function(){this.game=void 0,this.logging.destroy(),this.logging=void 0},i.prototype.destroyed=function(){return!this.game},i.prototype.error=function(t,i){this.logging.fire({game:this.game,level:e.Error,message:t,cause:i})},i.prototype.warn=function(t,i){this.logging.fire({game:this.game,level:e.Warn,\nmessage:t,cause:i})},i.prototype.info=function(t,i){this.logging.fire({game:this.game,level:e.Info,message:t,cause:i})},i.prototype.debug=function(t,i){this.logging.fire({game:this.game,level:e.Debug,message:t,cause:i})},i}();t.Logger=i}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,n,o){e=this._normalizeConfiguration(e),this.fps=e.fps,this.width=e.width,this.height=e.height,this.renderers=[],this.scenes=[],this.random=null,this.age=0,this.assetBase=r||\"\",this.resourceFactory=i,this.selfId=n||void 0,this.playId=void 0,this._audioSystemManager=new t.AudioSystemManager(this),this.audio={music:new t.MusicAudioSystem(\"music\",this),sound:new t.SoundAudioSystem(\"sound\",this)},this.defaultAudioSystemId=\"sound\",this.storage=new t.Storage(this),this.assets={},this.surfaceAtlasSet=void 0,this.join=new t.Trigger,this.leave=new t.Trigger,this.seed=new t.Trigger,this._eventTriggerMap={},this._eventTriggerMap[t.EventType.Join]=this.join,this._eventTriggerMap[t.EventType.Leave]=this.leave,this._eventTriggerMap[t.EventType.Seed]=this.seed,this._eventTriggerMap[t.EventType.Message]=void 0,this._eventTriggerMap[t.EventType.PointDown]=void 0,this._eventTriggerMap[t.EventType.PointMove]=void 0,this._eventTriggerMap[t.EventType.PointUp]=void 0,this._eventTriggerMap[t.EventType.Operation]=void 0,this.resized=new t.Trigger,this.skippingChanged=new t.Trigger,this.isLastTickLocal=!0,this.lastOmittedLocalTickCount=0,this._loaded=new t.Trigger,this._started=new t.Trigger,this.isLoaded=!1,this.snapshotRequest=new t.Trigger,this.external={},this.logger=new t.Logger(this),this._main=e.main,this._mainParameter=void 0,this._configuration=e,this._assetManager=new t.AssetManager(this,e.assets,e.audio,e.moduleMainScripts);var s=e.operationPlugins||[];this._operationPluginManager=new t.OperationPluginManager(this,o,s),this._operationPluginOperated=new t.Trigger,this._operationPluginManager.operated.add(this._operationPluginOperated.fire,this._operationPluginOperated),this._sceneChanged=new t.Trigger,this._sceneChanged.add(this._updateEventTriggers,this),this._initialScene=new t.Scene({game:this,assetIds:this._assetManager.globalAssetIds(),local:!0,name:\"akashic:initial-scene\"}),this._initialScene.loaded.add(this._onInitialSceneLoaded,this),this._reset({age:0})}return Object.defineProperty(e.prototype,\"focusingCamera\",{get:function(){return this._focusingCamera},set:function(t){t!==this._focusingCamera&&(this.modified&&this.render(this._focusingCamera),this._focusingCamera=t)},enumerable:!0,configurable:!0}),e.prototype.pushScene=function(t){this._sceneChangeRequests.push({type:0,scene:t})},e.prototype.replaceScene=function(t,e){this._sceneChangeRequests.push({type:1,scene:t,preserveCurrent:e})},e.prototype.popScene=function(t){this._sceneChangeRequests.push({type:2,preserveCurrent:t})},e.prototype.scene=function(){if(this.scenes.length)return this.scenes[this.scenes.length-1]},e.prototype.tick=function(t,e){var i=void 0;if(this._isTerminated)return!1;if(this.isLastTickLocal=!t,this.lastOmittedLocalTickCount=e||0,this.scenes.length){if(i=this.scenes[this.scenes.length-1],this.events.length){var r=this.events;this.events=[];for(var n=0;n<r.length;++n){var o=this._eventTriggerMap[r[n].type];o&&o.fire(r[n])}}i.update.fire(),t&&++this.age}return!!this._sceneChangeRequests.length&&(this._flushSceneChangeRequests(),i!==this.scenes[this.scenes.length-1])},e.prototype.render=function(t){t||(t=this.focusingCamera);for(var e=this.renderers,i=0;i<e.length;++i)e[i].draw(this,t);this.modified=!1},e.prototype.findPointSource=function(t,e){return e||(e=this.focusingCamera),this.scene().findPointSourceByPoint(t,!1,e)},e.prototype.register=function(e){if(e.local){if(void 0===e.id)e.id=--this._localIdx;else{if(e.id>0)throw t.ExceptionFactory.createAssertionError(\"Game#register: invalid local id: \"+e.id);if(this._localDb.hasOwnProperty(String(e.id)))throw t.ExceptionFactory.createAssertionError(\"Game#register: conflicted id: \"+e.id);this._localIdx>e.id&&(this._localIdx=e.id)}this._localDb[e.id]=e}else{if(void 0===e.id)e.id=++this._idx;else{if(e.id<0)throw t.ExceptionFactory.createAssertionError(\"Game#register: invalid non-local id: \"+e.id);if(this.db.hasOwnProperty(String(e.id)))throw t.ExceptionFactory.createAssertionError(\"Game#register: conflicted id: \"+e.id);this._idx<e.id&&(this._idx=e.id)}this.db[e.id]=e}},e.prototype.unregister=function(t){t.local?delete this._localDb[t.id]:delete this.db[t.id]},e.prototype.leaveGame=function(){this._leaveGame()},e.prototype.terminateGame=function(){this._leaveGame(),this._isTerminated=!0},e.prototype._fireSceneReady=function(t){this._sceneChangeRequests.push({type:3,scene:t})},e.prototype._fireSceneLoaded=function(e){e._loadingState<t.SceneLoadState.LoadedFired&&this._sceneChangeRequests.push({type:4,scene:e})},e.prototype._callSceneAssetHolderHandler=function(t){this._sceneChangeRequests.push({type:5,assetHolder:t})},e.prototype._normalizeConfiguration=function(e){if(!e)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: invalid arguments\");if(\"assets\"in e||(e.assets={}),\"fps\"in e||(e.fps=30),\"number\"!=typeof e.fps)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: fps must be given as a number\");if(!(0<=e.fps&&e.fps<=60))throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: fps must be a number in (0, 60].\");if(\"number\"!=typeof e.width)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: width must be given as a number\");if(\"number\"!=typeof e.height)throw t.ExceptionFactory.createAssertionError(\"Game#_normalizeConfiguration: height must be given as a number\");return e},e.prototype._setAudioPlaybackRate=function(t){this._audioSystemManager._setPlaybackRate(t)},e.prototype._setMuted=function(t){this._audioSystemManager._setMuted(t)},e.prototype._decodeOperationPluginOperation=function(t,e){var i=this._operationPluginManager.plugins;return i[t]&&i[t].decode?i[t].decode(e):e},e.prototype._reset=function(e){if(this._operationPluginManager.stopAll(),this.scene()){for(;this.scene()!==this._initialScene;)this.popScene(),this._flushSceneChangeRequests();this.isLoaded||this.scenes.pop()}switch(e&&(void 0!==e.age&&(this.age=e.age),void 0!==e.randGen&&(this.random=e.randGen)),this._audioSystemManager._reset(),this._loaded.removeAll({func:this._start,owner:this}),this.join.removeAll(),this.leave.removeAll(),this.seed.removeAll(),this.resized.removeAll(),this.skippingChanged.removeAll(),this._idx=0,this._localIdx=0,this._cameraIdx=0,this.db={},this._localDb={},this.events=[],this.modified=!0,this.loadingScene=void 0,this._focusingCamera=void 0,this._scriptCaches={},this.snapshotRequest.removeAll(),this._sceneChangeRequests=[],this._isTerminated=!1,this.vars={},this.surfaceAtlasSet&&this.surfaceAtlasSet.destroy(),this.surfaceAtlasSet=new t.SurfaceAtlasSet({game:this}),this._configuration.defaultLoadingScene){case\"none\":this._defaultLoadingScene=new t.LoadingScene({game:this});break;default:this._defaultLoadingScene=new t.DefaultLoadingScene({game:this})}},e.prototype._destroy=function(){if(this._operationPluginManager.destroy(),this.scene())for(;this.scene()!==this._initialScene;)this.popScene(),this._flushSceneChangeRequests();this._initialScene.destroy(),this.loadingScene&&!this.loadingScene.destroyed()&&this.loadingScene.destroy(),this._defaultLoadingScene.destroyed()||this._defaultLoadingScene.destroy(),this.db=void 0,this.renderers=void 0,this.scenes=void 0,this.random=void 0,this.events=void 0,this.join.destroy(),this.join=void 0,this.leave.destroy(),this.leave=void 0,this.seed.destroy(),this.seed=void 0,this.modified=!1,this.age=0,this.assets=void 0,this.isLoaded=!1,this.loadingScene=void 0,this.assetBase=\"\",this.selfId=void 0;for(var t=Object.keys(this.audio),e=0;e<t.length;++e)this.audio[t[e]].stopAll();this.audio=void 0,this.defaultAudioSystemId=void 0,this.logger.destroy(),this.logger=void 0,this.snapshotRequest.destroy(),this.snapshotRequest=void 0,this.resourceFactory=void 0,this.storage=void 0,this.playId=void 0,this.operationPlugins=void 0,this.resized.destroy(),this.resized=void 0,this.skippingChanged.destroy(),this.skippingChanged=void 0,this._eventTriggerMap=void 0,this._initialScene=void 0,this._defaultLoadingScene=void 0,this._sceneChanged.destroy(),this._sceneChanged=void 0,this._scriptCaches=void 0,this._loaded.destroy(),this._loaded=void 0,this._started.destroy(),this._started=void 0,this._main=void 0,this._mainParameter=void 0,this._assetManager.destroy(),this._assetManager=void 0,this._audioSystemManager._game=void 0,this._audioSystemManager=void 0,this._operationPluginManager=void 0,this._operationPluginOperated.destroy(),this._operationPluginOperated=void 0,this._idx=0,this._localDb={},this._localIdx=0,this._cameraIdx=0,this._isTerminated=!0,this._focusingCamera=void 0,this._configuration=void 0,this._sceneChangeRequests=[],this.surfaceAtlasSet.destroy(),this.surfaceAtlasSet=void 0},e.prototype._loadAndStart=function(t){this._mainParameter=t||{},this.isLoaded?this._start():(this._loaded.add(this._start,this),this.pushScene(this._initialScene),this._flushSceneChangeRequests())},e.prototype._startLoadingGlobalAssets=function(){if(this.isLoaded)throw t.ExceptionFactory.createAssertionError(\"Game#_startLoadingGlobalAssets: already loaded.\");this.pushScene(this._initialScene),this._flushSceneChangeRequests()},e.prototype._updateEventTriggers=function(e){if(this.modified=!0,!e)return this._eventTriggerMap[t.EventType.Message]=void 0,this._eventTriggerMap[t.EventType.PointDown]=void 0,this._eventTriggerMap[t.EventType.PointMove]=void 0,this._eventTriggerMap[t.EventType.PointUp]=void 0,void(this._eventTriggerMap[t.EventType.Operation]=void 0);this._eventTriggerMap[t.EventType.Message]=e.message,this._eventTriggerMap[t.EventType.PointDown]=e.pointDownCapture,this._eventTriggerMap[t.EventType.PointMove]=e.pointMoveCapture,this._eventTriggerMap[t.EventType.PointUp]=e.pointUpCapture,this._eventTriggerMap[t.EventType.Operation]=e.operation,e._activate()},e.prototype._onInitialSceneLoaded=function(){this._initialScene.loaded.remove(this._onInitialSceneLoaded,this),this.assets=this._initialScene.assets,this.isLoaded=!0,this._loaded.fire()},e.prototype._abortGame=function(){},e.prototype._flushSceneChangeRequests=function(){do{var e=this._sceneChangeRequests;this._sceneChangeRequests=[];for(var i=0;i<e.length;++i){var r=e[i];switch(r.type){case 0:var n=this.scene();n&&n._deactivate(),this._doPushScene(r.scene);break;case 1:this._doPopScene(r.preserveCurrent,!1),this._doPushScene(r.scene);break;case 2:this._doPopScene(r.preserveCurrent,!0);break;case 3:r.scene.destroyed()||r.scene._fireReady();break;case 4:r.scene.destroyed()||r.scene._fireLoaded();break;case 5:r.assetHolder.callHandler();break;default:throw t.ExceptionFactory.createAssertionError(\"Game#_flushSceneChangeRequests: unknown scene change request.\")}}}while(this._sceneChangeRequests.length>0)},e.prototype._doPopScene=function(e,i){var r=this.scenes.pop();if(r===this._initialScene)throw t.ExceptionFactory.createAssertionError(\"Game#_doPopScene: invalid call; attempting to pop the initial scene\");e||r.destroy(),i&&this._sceneChanged.fire(this.scene())},e.prototype._start=function(){if(this._operationPluginManager.initialize(),this.operationPlugins=this._operationPluginManager.plugins,!this._main){if(this._mainParameter.snapshot){if(!this.assets.snapshotLoader)throw t.ExceptionFactory.createAssertionError(\"Game#_start: global asset 'snapshotLoader' not found.\");t._require(this,\"snapshotLoader\")(this._mainParameter.snapshot),this._flushSceneChangeRequests()}else{if(!this.assets.mainScene)throw t.ExceptionFactory.createAssertionError(\"Game#_start: global asset 'mainScene' not found.\");var e=t._require(this,\"mainScene\")();this.pushScene(e),this._flushSceneChangeRequests()}return void this._started.fire()}var i=t._require(this,this._main);if(!i||\"function\"!=typeof i)throw t.ExceptionFactory.createAssertionError(\"Game#_start: Entry point '\"+this._main+\"' not found.\");i(this._mainParameter),this._flushSceneChangeRequests(),this._started.fire()},e.prototype._doPushScene=function(e,i){if(i||(i=this.loadingScene||this._defaultLoadingScene),this.scenes.push(e),e._needsLoading()&&e._loadingState<t.SceneLoadState.LoadedFired){if(this._defaultLoadingScene._needsLoading())throw t.ExceptionFactory.createAssertionError(\"Game#_doPushScene: _defaultLoadingScene must not depend on any assets/storages.\");this._doPushScene(i,this._defaultLoadingScene),i.reset(e)}else this._sceneChanged.fire(e),e._loaded||(e._load(),this._fireSceneLoaded(e));this.modified=!0},e}();t.Game=e}(t||(t={}));var t;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i.game=e.game,i.local=!!e.local,i.name=e.name,i._modifiedCount=0,i.width=e.game.width,i.height=e.game.height,i.id=i.local?void 0:i.game._cameraIdx++,i}return i(e,t),e.deserialize=function(t,i){var r=t;r.param.game=i;var n=new e(r.param);return n.id=r.id,n},e.prototype.modified=function(){this._modifiedCount=(this._modifiedCount+1)%32768,this._matrix&&(this._matrix._modified=!0),this.game.modified=!0},e.prototype.serialize=function(){return{id:this.id,param:{game:void 0,local:this.local,name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,opacity:this.opacity,scaleX:this.scaleX,scaleY:this.scaleY,angle:this.angle,compositeOperation:this.compositeOperation}}},e.prototype._applyTransformToRenderer=function(t){this.angle||1!==this.scaleX||1!==this.scaleY||null!=this.anchorX||null!=this.anchorY?t.transform(this.getMatrix()._matrix):t.translate(-this.x,-this.y),1!==this.opacity&&t.opacity(this.opacity)},e.prototype._updateMatrix=function(){null!=this.anchorX&&null!=this.anchorY?this._matrix.updateByInverseWithAnchor(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y,this.anchorX,this.anchorY):this.angle||1!==this.scaleX||1!==this.scaleY?this._matrix.updateByInverse(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y):this._matrix.reset(-this.x,-this.y)},e}(t.Object2D);t.Camera2D=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.prototype.draw=function(t,e){var i=t.scene();if(i){this.begin(),this.save(),this.clear(),e&&(this.save(),e._applyTransformToRenderer(this));for(var r=i.children,n=0;n<r.length;++n)r[n].render(this,e);e&&this.restore(),this.restore(),this.end()}},t.prototype.begin=function(){},t.prototype.end=function(){},t}();t.Renderer=e}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,n){if(void 0===n&&(n=!1),e%1!=0||i%1!=0)throw t.ExceptionFactory.createAssertionError(\"Surface#constructor: width and height must be integers\");this.width=e,this.height=i,r&&(this._drawable=r),this.isDynamic=n,this.isDynamic?(this.animatingStarted=new t.Trigger,this.animatingStopped=new t.Trigger):(this.animatingStarted=void 0,this.animatingStopped=void 0)}return e.prototype.destroy=function(){this.animatingStarted&&this.animatingStarted.destroy(),this.animatingStopped&&this.animatingStopped.destroy(),this._destroyed=!0},e.prototype.destroyed=function(){return!!this._destroyed},e}();t.Surface=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r.text=i.text,r.font=i.font,r.textAlign=\"textAlign\"in i?i.textAlign:t.TextAlign.Left,r.glyphs=new Array(i.text.length),r.fontSize=i.fontSize,r.maxWidth=i.maxWidth,r.widthAutoAdjust=!(\"widthAutoAdjust\"in i)||i.widthAutoAdjust,r.textColor=i.textColor,r._textWidth=0,r._game=void 0,r._overhangLeft=0,r._overhangRight=0,r._invalidateSelf(),r}return i(r,e),r.prototype.aligning=function(t,e){this.width=t,this.widthAutoAdjust=!1,this.textAlign=e},r.prototype.invalidate=function(){this._invalidateSelf(),e.prototype.invalidate.call(this)},r.prototype.renderSelfFromCache=function(e){var i;switch(this.textAlign){case t.TextAlign.Center:i=this.widthAutoAdjust?this._overhangLeft:0;break;case t.TextAlign.Right:i=this.widthAutoAdjust?this._overhangLeft:this._overhangRight;break;default:i=this._overhangLeft}e.drawImage(this._cache,0,0,this._cacheSize.width+t.CacheableE.PADDING,this._cacheSize.height+t.CacheableE.PADDING,i,0)},r.prototype.renderCache=function(e){if(!(!this.fontSize||this.height<=0||this._textWidth<=0)){var i=this.maxWidth>0&&this.maxWidth<this._textWidth?this.maxWidth/this._textWidth:1,r=0;switch(this.textAlign){case t.TextAlign.Center:r=this.width/2-(this._textWidth+this._overhangLeft)/2*i;break;case t.TextAlign.Right:r=this.width-(this._textWidth+this._overhangLeft)*i;break;default:r-=this._overhangLeft*i}e.translate(r,0),1!==i&&e.transform([i,0,0,1,0,0]),e.save();for(var n=this.fontSize/this.font.size,o=0;o<this.glyphs.length;++o){var s=this.glyphs[o],a=s.advanceWidth*n,h=s.code;s.isSurfaceValid||(s=this.font.glyphForCharacter(h))?(s.surface&&(e.save(),e.transform([n,0,0,n,0,0]),e.drawImage(s.surface,s.x,s.y,s.width,s.height,s.offsetX,s.offsetY),e.restore()),e.translate(a,0)):this._outputOfWarnLogWithNoGlyph(h,\"renderCache()\")}e.restore(),e.save(),this.textColor&&(e.setCompositeOperation(t.CompositeOperation.SourceAtop),e.fillRect(0,0,this._textWidth,this.height,this.textColor)),e.restore()}},r.prototype.destroy=function(){e.prototype.destroy.call(this)},r.prototype._invalidateSelf=function(){if(this.glyphs.length=0,this._textWidth=0,!this.fontSize)return void(this.height=0);for(var e=this.text.length-1,i=this.text.length-1;i>=0;--i){var r=t.Util.charCodeAt(this.text,i);if(r){var n=this.font.glyphForCharacter(r);if(n&&0!==n.width&&0!==n.advanceWidth){e=i;break}}}for(var o=0,s=this.font.size>0?this.fontSize/this.font.size:0,i=0;i<=e;++i){var a=t.Util.charCodeAt(this.text,i);if(a){var n=this.font.glyphForCharacter(a);if(n){if(!(n.width<0||n.height<0||n.x<0||n.y<0)){this.glyphs.push(n);var h=0;0===i&&(this._overhangLeft=Math.min(n.offsetX,0),h=-this._overhangLeft),i===e&&(this._overhangRight=Math.max(n.width+n.offsetX-n.advanceWidth,0),h+=this._overhangRight),this._textWidth+=(n.advanceWidth+h)*s;var c=n.offsetY+n.height;o<c&&(o=c)}}else this._outputOfWarnLogWithNoGlyph(a,\"_invalidateSelf()\")}}this.widthAutoAdjust&&(this.width=this._textWidth),this.height=o*s},r.prototype._outputOfWarnLogWithNoGlyph=function(t,e){var i=4294901760&t?String.fromCharCode((4294901760&t)>>>16,65535&t):String.fromCharCode(t);this.game().logger.warn(\"Label#\"+e+\": failed to get a glyph for '\"+i+\"' (BitmapFont might not have the glyph or DynamicFont might create a glyph larger than its atlas).\")},r}(t.CacheableE);t.Label=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,n,o,s,a,h,c){void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=r),void 0===c&&(c=!!h),this.code=t,this.x=e,this.y=i,this.width=r,this.height=n,this.offsetX=o,this.offsetY=s,this.advanceWidth=a,this.surface=h,this.isSurfaceValid=c,this._atlas=null}return t.prototype.renderingWidth=function(t){return this.width&&this.height?t/this.height*this.width:0},t}();t.Glyph=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;if(\"string\"!=typeof i.cssColor)throw t.ExceptionFactory.createTypeMismatchError(\"ColorBox#constructor(cssColor)\",\"string\",i.cssColor);return r.cssColor=i.cssColor,r}return i(r,e),r.prototype.renderSelf=function(t){return t.fillRect(0,0,this.width,this.height,this.cssColor),!0},r}(t.E);t.FilledRect=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._oldWidth=i.width,r._oldHeight=i.height,r.backgroundImage=t.Util.asSurface(i.backgroundImage),r.backgroundEffector=i.backgroundEffector,r._shouldRenderChildren=!1,r._padding=i.padding,r._initialize(),r._paddingChanged=!1,r._bgSurface=void 0,r._bgRenderer=void 0,r}return i(r,e),Object.defineProperty(r.prototype,\"padding\",{get:function(){return this._padding},set:function(t){this._padding=t,this._paddingChanged=!0},enumerable:!0,configurable:!0}),r.prototype.modified=function(t){t&&(this.state&=-3),e.prototype.modified.call(this)},r.prototype.shouldFindChildrenByPoint=function(t){var e=this._normalizedPadding;return e.left<t.x&&this.width-e.right>t.x&&e.top<t.y&&this.height-e.bottom>t.y},r.prototype.renderCache=function(t,e){this.width<=0||this.height<=0||(this._renderBackground(),this._renderChildren(e),this._bgSurface?t.drawImage(this._bgSurface,0,0,this.width,this.height,0,0):this.backgroundImage&&t.drawImage(this.backgroundImage,0,0,this.width,this.height,0,0),this._childrenArea.width<=0||this._childrenArea.height<=0||(t.save(),0===this._childrenArea.x&&0===this._childrenArea.y||t.translate(this._childrenArea.x,this._childrenArea.y),t.drawImage(this._childrenSurface,0,0,this._childrenArea.width,this._childrenArea.height,0,0),t.restore()))},r.prototype.destroy=function(t){t&&this.backgroundImage&&!this.backgroundImage.destroyed()&&this.backgroundImage.destroy(),this._bgSurface&&!this._bgSurface.destroyed()&&this._bgSurface.destroy(),this._childrenSurface&&!this._childrenSurface.destroyed()&&this._childrenSurface.destroy(),this.backgroundImage=void 0,this._bgSurface=void 0,this._childrenSurface=void 0,e.prototype.destroy.call(this)},r.prototype._renderBackground=function(){if(this.backgroundImage&&this.backgroundEffector){var t=this.backgroundEffector.render(this.backgroundImage,this.width,this.height);this._bgSurface!==t&&(this._bgSurface&&!this._bgSurface.destroyed()&&this._bgSurface.destroy(),this._bgSurface=t)}else this._bgSurface=void 0},r.prototype._renderChildren=function(t){var e=this._oldWidth!==this.width||this._oldHeight!==this.height||this._paddingChanged;if(e&&(this._initialize(),this._paddingChanged=!1,this._oldWidth=this.width,this._oldHeight=this.height),this._childrenRenderer.begin(),e||this._childrenRenderer.clear(),this.children)for(var i=this.children,r=0;r<i.length;++r)i[r].render(this._childrenRenderer,t);this._childrenRenderer.end()},r.prototype._initialize=function(){var t,e=void 0===this._padding?0:this._padding;t=\"number\"==typeof e?{top:e,bottom:e,left:e,right:e}:this._padding,this._childrenArea={x:t.left,y:t.top,width:this.width-t.left-t.right,height:this.height-t.top-t.bottom};var i=this.scene.game.resourceFactory;this._childrenSurface&&!this._childrenSurface.destroyed()&&this._childrenSurface.destroy(),this._childrenSurface=i.createSurface(Math.ceil(this._childrenArea.width),Math.ceil(this._childrenArea.height)),this._childrenRenderer=this._childrenSurface.renderer(),this._normalizedPadding=t},r.prototype._calculateBoundingRect=function(t,e){var i=this.getMatrix();if(t&&(i=t.multiplyNew(i)),this.visible()&&(!e||this._targetCameras&&-1!==this._targetCameras.indexOf(e))){for(var r={left:0,right:this.width,top:0,bottom:this.height},n=[{x:r.left,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.top},{x:r.right,y:r.bottom}],o=i.multiplyPoint(n[0]),s={left:o.x,right:o.x,top:o.y,bottom:o.y},a=1;a<n.length;++a)o=i.multiplyPoint(n[a]),s.left>o.x&&(s.left=o.x),s.right<o.x&&(s.right=o.x),s.top>o.y&&(s.top=o.y),s.bottom<o.y&&(s.bottom=o.y);return s}},r}(t.CacheableE);t.Pane=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i){this._code=t,this._handler=i,this._handlerOwner=e}return t.prototype.onOperation=function(t){var e;t instanceof Array?e={_code:this._code,data:t}:(e=t,e._code=this._code),this._handler.call(this._handlerOwner,e)},t}(),i=function(){function i(e,i,r){this.operated=new t.Trigger,this.plugins={},this._game=e,this._viewInfo=i,this._infos=r,this._initialized=!1}return i.prototype.initialize=function(){this._initialized||(this._initialized=!0,this._loadOperationPlugins()),this._doAutoStart()},i.prototype.destroy=function(){this.stopAll(),this.operated.destroy(),this.operated=void 0,this.plugins=void 0,this._game=void 0,this._viewInfo=void 0,this._infos=void 0},i.prototype.stopAll=function(){if(this._initialized)for(var t=0;t<this._infos.length;++t){var e=this._infos[t];e._plugin&&e._plugin.stop()}},i.prototype._doAutoStart=function(){for(var t=0;t<this._infos.length;++t){var e=this._infos[t];!e.manualStart&&e._plugin&&e._plugin.start()}},i.prototype._loadOperationPlugins=function(){for(var i=0;i<this._infos.length;++i){var r=this._infos[i];if(r.script){var n=t._require(this._game,r.script);if(n.isSupported()){var o=new n(this._game,this._viewInfo,r.option),s=r.code;if(this.plugins[s])throw new Error(\"Plugin#code conflicted for code: \"+s);this.plugins[s]=o,r._plugin=o;var a=new e(s,this.operated,this.operated.fire);o.operationTrigger.handle(a,a.onOperation)}}}},i}();t.OperationPluginManager=i}(t||(t={}));var t;t||(t={});var t;!function(t){var e=function(){function e(){}return e.prototype.measureText=function(e){for(var i,r=0,n=0,o=0,s=0;s<e.length;s++){var a=t.Util.charCodeAt(e,s);if(a){var h=this.glyphForCharacter(a);!h||h.x<0||h.y<0||h.width<0||h.height<0||(0===s&&(n=-h.offsetX),i=h,r+=h.advanceWidth)}}return i&&(o=r+i.offsetX+i.width-i.advanceWidth),{width:r,actualBoundingBoxLeft:n,actualBoundingBoxRight:o}},e}();t.Font=e}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Normal=0]=\"Normal\",t[t.Bold=1]=\"Bold\"}(e=t.FontWeight||(t.FontWeight={}));var r=function(r){function n(i){var n=r.call(this)||this;if(n.fontFamily=i.fontFamily,n.size=i.size,n.hint=\"hint\"in i?i.hint:{},n.fontColor=\"fontColor\"in i?i.fontColor:\"black\",n.fontWeight=\"fontWeight\"in i?i.fontWeight:e.Normal,n.strokeWidth=\"strokeWidth\"in i?i.strokeWidth:0,n.strokeColor=\"strokeColor\"in i?i.strokeColor:\"black\",n.strokeOnly=\"strokeOnly\"in i&&i.strokeOnly,n._resourceFactory=i.game.resourceFactory,n._glyphFactory=n._resourceFactory.createGlyphFactory(n.fontFamily,n.size,n.hint.baselineHeight,n.fontColor,n.strokeWidth,n.strokeColor,n.strokeOnly,n.fontWeight),n._glyphs={},n._destroyed=!1,n._isSurfaceAtlasSetOwner=!1,i.surfaceAtlasSet?n._atlasSet=i.surfaceAtlasSet:i.hint?(n._isSurfaceAtlasSetOwner=!0,n._atlasSet=new t.SurfaceAtlasSet({game:i.game,hint:n.hint})):n._atlasSet=i.game.surfaceAtlasSet,n._atlasSet.addAtlas(),n.hint.presetChars)for(var o=0,s=n.hint.presetChars.length;o<s;o++){var a=t.Util.charCodeAt(n.hint.presetChars,o);a&&n.glyphForCharacter(a)}return n}return i(n,r),n.prototype.glyphForCharacter=function(t){var e=this._glyphs[t];if(!e||!e.isSurfaceValid){if(e=this._glyphFactory.create(t),e.surface){var i=this._atlasSet.addGlyph(e);if(!i)return null;e._atlas=i,e._atlas._accessScore+=1}this._glyphs[t]=e}for(var r=0;r<this._atlasSet.getAtlasNum();r++){this._atlasSet.getAtlas(r)._accessScore/=2}return e},n.prototype.asBitmapFont=function(e){var i=this;if(1!==this._atlasSet.getAtlasNum())return null;var r;e&&(r=t.Util.charCodeAt(e,0),this.glyphForCharacter(r));var n={};Object.keys(this._glyphs).forEach(function(t){var e=Number(t),r=i._glyphs[e],o={x:r.x,y:r.y,width:r.width,height:r.height,offsetX:r.offsetX,offsetY:r.offsetY,advanceWidth:r.advanceWidth};n[e]=o});var o=n[r],s=this._atlasSet.getAtlas(0).duplicateSurface(this._resourceFactory);return new t.BitmapFont({src:s,map:n,defaultGlyphWidth:0,defaultGlyphHeight:this.size,missingGlyph:o})},n.prototype.destroy=function(){this._isSurfaceAtlasSetOwner&&this._atlasSet.destroy(),this._glyphs=null,this._glyphFactory=null,this._destroyed=!0},n.prototype.destroyed=function(){return this._destroyed},n}(t.Font);t.DynamicFont=r}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this)||this;return r.surface=t.Util.asSurface(i.src),r.map=i.map,r.defaultGlyphWidth=i.defaultGlyphWidth,r.defaultGlyphHeight=i.defaultGlyphHeight,r.missingGlyph=i.missingGlyph,r.size=i.defaultGlyphHeight,r}return i(r,e),r.prototype.glyphForCharacter=function(e){var i=this.map[e]||this.missingGlyph;if(!i)return null;var r=void 0===i.width?this.defaultGlyphWidth:i.width,n=void 0===i.height?this.defaultGlyphHeight:i.height,o=i.offsetX||0,s=i.offsetY||0,a=void 0===i.advanceWidth?r:i.advanceWidth,h=0===r||0===n?void 0:this.surface;return new t.Glyph(e,i.x,i.y,r,n,o,s,a,h,!0)},r.prototype.destroy=function(){this.surface&&!this.surface.destroyed()&&this.surface.destroy(),this.map=void 0},r.prototype.destroyed=function(){return!this.map},r}(t.Font);t.BitmapFont=e}(t||(t={}));var t;!function(t){function e(t,e,i){for(;t;){if(t.width>=e&&t.height>=i)return t;t=t.next}return null}function i(t){return{width:Math.ceil(Math.min(t.initialAtlasWidth,t.maxAtlasWidth)),height:Math.ceil(Math.min(t.initialAtlasHeight,t.maxAtlasHeight))}}var r=function(){function t(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r,this.prev=null,this.next=null}return t}();t.SurfaceAtlasSlot=r;var n=function(){function t(t){this._surface=t,this._emptySurfaceAtlasSlotHead=new r(0,0,this._surface.width,this._surface.height),this._accessScore=0,this._usedRectangleAreaSize={width:0,height:0}}return t.prototype._acquireSurfaceAtlasSlot=function(t,i){t+=1,i+=1;var n=e(this._emptySurfaceAtlasSlotHead,t,i);if(!n)return null;var o,s,a=n.width-t,h=n.height-i;a<=h?(o=new r(n.x+t,n.y,a,i),s=new r(n.x,n.y+i,n.width,h)):(o=new r(n.x,n.y+i,t,h),s=new r(n.x+t,n.y,a,n.height)),o.prev=n.prev,o.next=s,null===o.prev?this._emptySurfaceAtlasSlotHead=o:o.prev.next=o,s.prev=o,s.next=n.next,s.next&&(s.next.prev=s);var c=new r(n.x,n.y,t,i);return this._updateUsedRectangleAreaSize(c),c},t.prototype._updateUsedRectangleAreaSize=function(t){var e=t.x+t.width,i=t.y+t.height;e>this._usedRectangleAreaSize.width&&(this._usedRectangleAreaSize.width=e),i>this._usedRectangleAreaSize.height&&(this._usedRectangleAreaSize.height=i)},t.prototype.addSurface=function(t){var e=this._acquireSurfaceAtlasSlot(t.width,t.height);if(!e)return null;var i=this._surface.renderer();return i.begin(),i.drawImage(t.surface,t.x,t.y,t.width,t.height,e.x,e.y),i.end(),e},t.prototype.destroy=function(){this._surface.destroy()},t.prototype.destroyed=function(){return this._surface.destroyed()},t.prototype.duplicateSurface=function(t){var e=this._surface,i=t.createSurface(this._usedRectangleAreaSize.width,this._usedRectangleAreaSize.height),r=i.renderer();return r.begin(),r.drawImage(e,0,0,this._usedRectangleAreaSize.width,this._usedRectangleAreaSize.height,0,0),r.end(),i},t}();t.SurfaceAtlas=n;var o=function(){function t(e){this._surfaceAtlases=[],this._atlasGlyphsTable=[],this._resourceFactory=e.game.resourceFactory,this._currentAtlasIndex=0;var r=e.hint?e.hint:{};this._maxAtlasNum=r.maxAtlasNum?r.maxAtlasNum:t.INITIAL_MAX_SURFACEATLAS_NUM,r.initialAtlasWidth=r.initialAtlasWidth?r.initialAtlasWidth:512,r.initialAtlasHeight=r.initialAtlasHeight?r.initialAtlasHeight:512,r.maxAtlasWidth=r.maxAtlasWidth?r.maxAtlasWidth:512,r.maxAtlasHeight=r.maxAtlasHeight?r.maxAtlasHeight:512,this._atlasSize=i(r)}return t.prototype._deleteAtlas=function(t){for(var e=this._removeLeastFrequentlyUsedAtlas(t),i=e.surfaceAtlases,r=0;r<i.length;++r)i[r].destroy()},t.prototype._removeLeastFrequentlyUsedAtlas=function(t){for(var e=[],i=[],r=0;r<t;++r){for(var n=Number.MAX_VALUE,o=-1,s=0;s<this._surfaceAtlases.length;++s)this._surfaceAtlases[s]._accessScore<=n&&(n=this._surfaceAtlases[s]._accessScore,o=s);var a=this._surfaceAtlases.splice(o,1)[0];e.push(a),i.push(this._atlasGlyphsTable.splice(o,1)[0])}return{surfaceAtlases:e,glyphs:i}},t.prototype._moveGlyphSurface=function(t){for(var e=0;e<this._surfaceAtlases.length;++e){var i=(this._currentAtlasIndex+e)%this._surfaceAtlases.length,r=this._surfaceAtlases[i],n=r.addSurface(t);if(n)return this._currentAtlasIndex=i,t.surface.destroy(),t.surface=r._surface,t.x=n.x,t.y=n.y,this._atlasGlyphsTable[i]||(this._atlasGlyphsTable[i]=[]),this._atlasGlyphsTable[i].push(t),r}return null},t.prototype._reallocateAtlas=function(){if(this._surfaceAtlases.length>=this._maxAtlasNum){for(var t=this._removeLeastFrequentlyUsedAtlas(1),e=t.surfaceAtlases[0],i=t.glyphs[0],r=0;r<i.length;r++){var n=i[r];n.surface=null,n.isSurfaceValid=!1,n._atlas=null}e.destroy()}this._surfaceAtlases.push(this._resourceFactory.createSurfaceAtlas(this._atlasSize.width,this._atlasSize.height)),this._currentAtlasIndex=this._surfaceAtlases.length-1},t.prototype.addAtlas=function(){this._surfaceAtlases.length>=this._maxAtlasNum&&this._deleteAtlas(1),\nthis._surfaceAtlases.push(this._resourceFactory.createSurfaceAtlas(this._atlasSize.width,this._atlasSize.height))},t.prototype.getAtlas=function(t){return this._surfaceAtlases[t]},t.prototype.getAtlasNum=function(){return this._surfaceAtlases.length},t.prototype.getMaxAtlasNum=function(){return this._maxAtlasNum},t.prototype.changeMaxAtlasNum=function(t){if(this._maxAtlasNum=t,this._surfaceAtlases.length>this._maxAtlasNum){var e=this._surfaceAtlases.length-this._maxAtlasNum;this._deleteAtlas(e)}},t.prototype.getAtlasSize=function(){return this._atlasSize},t.prototype.addGlyph=function(t){if(t.width>this._atlasSize.width||t.height>this._atlasSize.height)return null;var e=this._moveGlyphSurface(t);return e||(this._reallocateAtlas(),e=this._moveGlyphSurface(t)),e},t.prototype.destroy=function(){for(var t=0;t<this._surfaceAtlases.length;++t)this._surfaceAtlases[t].destroy();this._surfaceAtlases=void 0,this._resourceFactory=void 0,this._atlasGlyphsTable=void 0},t.prototype.destroyed=function(){return void 0===this._surfaceAtlases},t.INITIAL_MAX_SURFACEATLAS_NUM=10,t}();t.SurfaceAtlasSet=o}(t||(t={}));var t;!function(t){var e=function(){function t(t){this._game=t,this._muted=!1,this._playbackRate=1}return t.prototype._reset=function(){this._muted=!1,this._playbackRate=1;var t=this._game.audio;for(var e in t)t.hasOwnProperty(e)&&t[e]._reset()},t.prototype._setMuted=function(t){if(this._muted!==t){this._muted=t;var e=this._game.audio;for(var i in e)e.hasOwnProperty(i)&&e[i]._setMuted(t)}},t.prototype._setPlaybackRate=function(t){if(this._playbackRate!==t){this._playbackRate=t;var e=this._game.audio;for(var i in e)e.hasOwnProperty(i)&&e[i]._setPlaybackRate(t)}},t}();t.AudioSystemManager=e}(t||(t={}));var t;!function(t){!function(t){t[t.SourceOver=0]=\"SourceOver\",t[t.SourceAtop=1]=\"SourceAtop\",t[t.Lighter=2]=\"Lighter\",t[t.Copy=3]=\"Copy\",t[t.ExperimentalSourceIn=4]=\"ExperimentalSourceIn\",t[t.ExperimentalSourceOut=5]=\"ExperimentalSourceOut\",t[t.ExperimentalDestinationAtop=6]=\"ExperimentalDestinationAtop\",t[t.ExperimentalDestinationIn=7]=\"ExperimentalDestinationIn\",t[t.DestinationOut=8]=\"DestinationOut\",t[t.DestinationOver=9]=\"DestinationOver\",t[t.Xor=10]=\"Xor\"}(t.CompositeOperation||(t.CompositeOperation={}))}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,n,o,s,a,h){void 0===r&&(r=i),void 0===n&&(n=\"black\"),void 0===o&&(o=0),void 0===s&&(s=\"black\"),void 0===a&&(a=!1),void 0===h&&(h=t.FontWeight.Normal),this.fontFamily=e,this.fontSize=i,this.fontWeight=h,this.baselineHeight=r,this.fontColor=n,this.strokeWidth=o,this.strokeColor=s,this.strokeOnly=a}return e}();t.GlyphFactory=e}(t||(t={}));var t;!function(t){!function(t){t[t.NonLocal=0]=\"NonLocal\",t[t.FullLocal=1]=\"FullLocal\",t[t.InterpolateLocal=2]=\"InterpolateLocal\"}(t.LocalTickMode||(t.LocalTickMode={}))}(t||(t={}));var t;!function(t){var e=function(){function t(t,e){void 0===e&&(e=4),this.game=t,this.borderWidth=\"number\"==typeof e?{top:e,bottom:e,left:e,right:e}:e}return t.prototype.render=function(t,e,i){var r=!0;this._surface&&this._surface.width===e&&this._surface.height===i&&this._beforeSrcSurface===t?r=!1:(this._surface=this.game.resourceFactory.createSurface(Math.ceil(e),Math.ceil(i)),this._beforeSrcSurface=t);var n=this._surface.renderer();n.begin(),r||n.clear();var o=this.borderWidth.left,s=t.width-this.borderWidth.right,a=this.borderWidth.top,h=t.height-this.borderWidth.bottom,c=this.borderWidth.left,u=e-this.borderWidth.right,l=this.borderWidth.top,d=i-this.borderWidth.bottom,p=[{x:0,y:0,width:this.borderWidth.left,height:this.borderWidth.top},{x:s,y:0,width:this.borderWidth.right,height:this.borderWidth.top},{x:0,y:h,width:this.borderWidth.left,height:this.borderWidth.bottom},{x:s,y:h,width:this.borderWidth.right,height:this.borderWidth.bottom}],f=[{x:0,y:0},{x:u,y:0},{x:0,y:d},{x:u,y:d}],_=0;for(_=0;_<p.length;++_){var g=p[_];n.save(),n.translate(f[_].x,f[_].y),n.drawImage(t,g.x,g.y,g.width,g.height,0,0),n.restore()}var y=[{x:o,y:0,width:s-o,height:this.borderWidth.top},{x:0,y:a,width:this.borderWidth.left,height:h-a},{x:s,y:a,width:this.borderWidth.right,height:h-a},{x:o,y:h,width:s-o,height:this.borderWidth.bottom}],m=[{x:c,y:0,width:u-c,height:this.borderWidth.top},{x:0,y:l,width:this.borderWidth.left,height:d-l},{x:u,y:l,width:this.borderWidth.right,height:d-l},{x:c,y:d,width:u-c,height:this.borderWidth.bottom}];for(_=0;_<y.length;++_){var v=y[_],T=m[_];n.save(),n.translate(T.x,T.y),n.transform([T.width/v.width,0,0,T.height/v.height,0,0]),n.drawImage(t,v.x,v.y,v.width,v.height,0,0),n.restore()}var A=s-o,x=h-a,w=u-c,S=d-l;return n.save(),n.translate(c,l),n.transform([w/A,0,0,S/x,0,0]),n.drawImage(t,o,a,A,x,0,0),n.restore(),n.end(),this._surface},t}();t.NinePatchSurfaceEffector=e}(t||(t={}));var t;!function(t){!function(e){function i(i,r){function n(t){var e=t.split(\"/\");return\"\"===e[e.length-1]&&e.pop(),e}if(\"\"===r)return i;for(var o=e.splitPath(i),s=n(o.path).concat(n(r)),a=[],h=0;h<s.length;++h){var c=s[h];switch(c){case\"..\":var u=a.pop();if(void 0===u||\"\"===u||\".\"===u)throw t.ExceptionFactory.createAssertionError(\"PathUtil.resolvePath: invalid arguments\");break;case\".\":0===a.length&&a.push(\".\");break;case\"\":a=[\"\"];break;default:a.push(c)}}return o.host+a.join(\"/\")}function r(t){var e=t.lastIndexOf(\"/\");return-1===e?t:t.substr(0,e)}function n(t){for(var e=t.length-1;e>=0;--e){var i=t.charAt(e);if(\".\"===i)return t.substr(e);if(\"/\"===i)return\"\"}return\"\"}function o(t){var i=e.splitPath(t),r=i.host;t=i.path,\"/\"===t[t.length-1]&&(t=t.slice(0,t.length-1));for(var n=t.split(\"/\"),o=n.indexOf(\"node_modules\"),s=o>0?o-1:0,a=[],h=n.length-1;h>=s;--h)if(\"node_modules\"!==n[h]){var c=n.slice(0,h+1);c.push(\"node_modules\");var u=c.join(\"/\");a.push(r+u)}return a}function s(t,e){var i=t.indexOf(\"?\");return-1===i?t+\".\"+e:t.substring(0,i)+\".\"+e+t.substring(i,t.length)}function a(t){var e=\"\",i=t.indexOf(\"//\");if(i>=0){var r=t.indexOf(\"/\",i+2);r>=0?(e=t.slice(0,r),t=t.slice(r)):(e=t,t=\"/\")}else e=\"\";return{host:e,path:t}}e.resolvePath=i,e.resolveDirname=r,e.resolveExtname=n,e.makeNodeModulePaths=o,e.addExtname=s,e.splitPath=a}(t.PathUtil||(t.PathUtil={}))}(t||(t={}));var t;!function(t){!function(t){t[t.SansSerif=0]=\"SansSerif\",t[t.Serif=1]=\"Serif\",t[t.Monospace=2]=\"Monospace\"}(t.FontFamily||(t.FontFamily={}))}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Top=0]=\"Top\",t[t.Middle=1]=\"Middle\",t[t.Alphabetic=2]=\"Alphabetic\",t[t.Bottom=3]=\"Bottom\"}(e=t.TextBaseline||(t.TextBaseline={}));var r=function(r){function n(i){var n=r.call(this,i)||this;return n.text=i.text,n.fontSize=i.fontSize,n.textAlign=\"textAlign\"in i?i.textAlign:t.TextAlign.Left,n.textBaseline=\"textBaseline\"in i?i.textBaseline:e.Alphabetic,n.maxWidth=i.maxWidth,n.textColor=\"textColor\"in i?i.textColor:\"black\",n.fontFamily=\"fontFamily\"in i?i.fontFamily:t.FontFamily.SansSerif,n.strokeWidth=\"strokeWidth\"in i?i.strokeWidth:0,n.strokeColor=\"strokeColor\"in i?i.strokeColor:\"black\",n.strokeOnly=\"strokeOnly\"in i&&i.strokeOnly,n}return i(n,r),n.prototype.renderSelf=function(e,i){if(this.text){var r;switch(this.textAlign){case t.TextAlign.Right:r=this.width;break;case t.TextAlign.Center:r=this.width/2;break;default:r=0}e.drawSystemText(this.text,r,0,this.maxWidth,this.fontSize,this.textAlign,this.textBaseline,this.textColor,this.fontFamily,this.strokeWidth,this.strokeColor,this.strokeOnly)}return!0},n}(t.E);t.SystemLabel=r}(t||(t={}));var t;!function(t){!function(t){t[t.Left=0]=\"Left\",t[t.Center=1]=\"Center\",t[t.Right=2]=\"Right\"}(t.TextAlign||(t.TextAlign={}))}(t||(t={}));var t;!function(t){!function(t){t[t.ByClock=0]=\"ByClock\",t[t.Manual=1]=\"Manual\"}(t.TickGenerationMode||(t.TickGenerationMode={}))}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.initState(t)}return t.deserialize=function(e){var i=new t(0);return i._state0U=e._state0U,i._state0L=e._state0L,i._state1U=e._state1U,i._state1L=e._state1L,i},t.prototype.initState=function(t){t=1812433253*(t^t>>30)+1,this._state0U=t,t=1812433253*(t^t>>30)+2,this._state0L=t,t=1812433253*(t^t>>30)+3,this._state1U=t,t=1812433253*(t^t>>30)+4,this._state1L=t},t.prototype.randomInt=function(){var t=this._state0U,e=this._state0L,i=this._state1U,r=this._state1L;this._state0U=i,this._state0L=r;var n=0,o=0,s=0,a=0;n=t<<23|(-512&e)>>>9,o=e<<23,t^=n,e^=o,n=t^i,o=e^r;s=t>>>17,a=e>>>17|(131071&t)<<15,n^=s,o^=a;s=i>>>26,a=r>>>26|(67108863&i)<<6,n^=s,o^=a,this._state1U=n,this._state1L=o;var h=(o>>>0)+(r>>>0);return s=n+i+(h/2>>>31)>>>0,a=h>>>0,[s,a]},t.prototype.random=function(){var t=this.randomInt();return(4294967296*t[0]+t[1])/0x10000000000000000},t.prototype.nextInt=function(t,e){return Math.floor(t+this.random()*(e-t))},t.prototype.serialize=function(){return{_state0U:this._state0U,_state0L:this._state0L,_state1U:this._state1U,_state1L:this._state1L}},t}();t.Xorshift=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i,r){var n=this;if(void 0===i)throw t.ExceptionFactory.createAssertionError(\"XorshiftRandomGenerator#constructor: seed is undefined\");return n=e.call(this,i)||this,n._xorshift=r?t.Xorshift.deserialize(r):new t.Xorshift(i),n}return i(r,e),r.deserialize=function(t){return new r(t._seed,t._xorshift)},r.prototype.get=function(t,e){return this._xorshift.nextInt(t,e+1)},r.prototype.generate=function(){return this._xorshift.random()},r.prototype.serialize=function(){return{_seed:this.seed,_xorshift:this._xorshift.serialize()}},r}(t.RandomGenerator);t.XorshiftRandomGenerator=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.fragmentShader=t.fragmentShader,this.uniforms=t.uniforms}return t}();t.ShaderProgram=e}(t||(t={})),e.exports=t}).call(this)},{}],3:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0})},{}],4:[function(t,e,i){e.exports=t(\"./lib/index\")},{\"./lib/index\":27}],5:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(e){this.fps=e.fps,this.scaleFactor=e.scaleFactor||1,this.frameTrigger=new r.Trigger,this.rawFrameTrigger=new r.Trigger,this._platform=e.platform,this._maxFramePerOnce=e.maxFramePerOnce,this._deltaTimeBrokenThreshold=e.deltaTimeBrokenThreshold||t.DEFAULT_DELTA_TIME_BROKEN_THRESHOLD,e.frameHandler&&this.frameTrigger.add(e.frameHandler,e.frameHandlerOwner),this.running=!1,this._totalDeltaTime=0,this._onLooperCall_bound=this._onLooperCall.bind(this),this._looper=this._platform.createLooper(this._onLooperCall_bound),this._waitTime=0,this._waitTimeDoubled=0,this._waitTimeMax=0,this._skipFrameWaitTime=0,this._realMaxFramePerOnce=0}return t.prototype.start=function(){this.running||(this._totalDeltaTime=0,this._updateWaitTimes(this.fps,this.scaleFactor),this._looper.start(),this.running=!0)},t.prototype.stop=function(){this.running&&(this._looper.stop(),this.running=!1)},t.prototype.changeScaleFactor=function(t){this.running?(this.stop(),this.scaleFactor=t,this.start()):this.scaleFactor=t},t.prototype._onLooperCall=function(t){var e=t;if(t<=0)return this._waitTime-this._totalDeltaTime;t>this._deltaTimeBrokenThreshold&&(t=this._waitTime);var i=this._totalDeltaTime;if((i+=t)<=this._skipFrameWaitTime)return this._totalDeltaTime=i,this._waitTime-i;for(var r=i<this._waitTimeDoubled?1:i>this._waitTimeMax?this._realMaxFramePerOnce:i/this._waitTime|0,n=r,o={deltaTime:e,interrupt:!1};n>0&&this.running&&!o.interrupt;)--n,this.frameTrigger.fire(o),o.deltaTime=0;return i-=(r-n)*this._waitTime,this.rawFrameTrigger.fire(),this._totalDeltaTime=i,this._waitTime-i},t.prototype._updateWaitTimes=function(e,i){var r=e*i;this._waitTime=1e3/r,this._waitTimeDoubled=Math.max(2e3/r|0,1),this._waitTimeMax=Math.max(i*(1e3*this._maxFramePerOnce/r)|0,1),this._skipFrameWaitTime=this._waitTime*t.ANTICIPATE_RATE|0,this._realMaxFramePerOnce=this._maxFramePerOnce*i},t.ANTICIPATE_RATE=.8,t.DEFAULT_DELTA_TIME_BROKEN_THRESHOLD=150,t}();i.Clock=n},{\"@akashic/akashic-engine\":1}],6:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=(t(\"@akashic/akashic-pdi\"),t(\"@akashic/akashic-engine\")),n=t(\"./PointEventResolver\"),o=function(){function t(t){this._amflow=t.amflow,this._isLocalReceiver=!0,this._isReceiver=!1,this._isSender=!1,this._isDiscarder=!1,this._defaultEventPriority=0,this._buffer=[],this._joinLeaveBuffer=[],this._localBuffer=[],this._filters=null,this._unfilteredLocalEvents=[],this._unfilteredEvents=[],this._pointEventResolver=new n.PointEventResolver({game:t.game}),this._onEvent_bound=this.onEvent.bind(this)}return t.isEventLocal=function(t){switch(t[0]){case 0:return t[5];case 1:return t[3];case 2:case 32:return t[4];case 33:return t[7];case 34:case 35:return t[11];case 64:return t[5];default:throw r.ExceptionFactory.createAssertionError(\"EventBuffer.isEventLocal\")}},t.prototype.setMode=function(t){null!=t.isLocalReceiver&&(this._isLocalReceiver=t.isLocalReceiver),null!=t.isReceiver&&this._isReceiver!==t.isReceiver&&(this._isReceiver=t.isReceiver,t.isReceiver?this._amflow.onEvent(this._onEvent_bound):this._amflow.offEvent(this._onEvent_bound)),null!=t.isSender&&(this._isSender=t.isSender),null!=t.isDiscarder&&(this._isDiscarder=t.isDiscarder),null!=t.defaultEventPriority&&(this._defaultEventPriority=t.defaultEventPriority)},t.prototype.getMode=function(){return{isLocalReceiver:this._isLocalReceiver,isReceiver:this._isReceiver,isSender:this._isSender,isDiscarder:this._isDiscarder,defaultEventPriority:this._defaultEventPriority}},t.prototype.onEvent=function(e){if(t.isEventLocal(e))return void(this._isLocalReceiver&&!this._isDiscarder&&this._unfilteredLocalEvents.push(e));this._isReceiver&&!this._isDiscarder&&this._unfilteredEvents.push(e),this._isSender&&(null==e[1]&&(e[1]=this._defaultEventPriority),this._amflow.sendEvent(e))},t.prototype.onPointEvent=function(t){var e;switch(t.type){case 0:e=this._pointEventResolver.pointDown(t);break;case 1:e=this._pointEventResolver.pointMove(t);break;case 2:e=this._pointEventResolver.pointUp(t)}e&&this.onEvent(e)},t.prototype.addEventDirect=function(e){if(t.isEventLocal(e)){if(!this._isLocalReceiver||this._isDiscarder)return;return void this._localBuffer.push(e)}this._isReceiver&&!this._isDiscarder&&(0===e[0]||1===e[0]?this._joinLeaveBuffer.push(e):this._buffer.push(e)),this._isSender&&(null==e[1]&&(e[1]=this._defaultEventPriority),this._amflow.sendEvent(e))},t.prototype.readEvents=function(){var t=this._buffer;return 0===t.length?null:(this._buffer=[],t)},t.prototype.readJoinLeaves=function(){var t=this._joinLeaveBuffer;return 0===t.length?null:(this._joinLeaveBuffer=[],t)},t.prototype.readLocalEvents=function(){var t=this._localBuffer;return 0===t.length?null:(this._localBuffer=[],t)},t.prototype.addFilter=function(t,e){this._filters||(this._filters=[]),this._filters.push({func:t,handleEmpty:!!e})},t.prototype.removeFilter=function(t){if(this._filters){if(!t)return void(this._filters=null);for(var e=this._filters.length-1;e>=0;--e)this._filters[e].func===t&&this._filters.splice(e,1)}},t.prototype.processEvents=function(e){var i=this._unfilteredLocalEvents,r=this._unfilteredEvents;this._unfilteredLocalEvents=[];var n=i;if(!e&&r.length>0&&(n=n.length>0?n.concat(r):r,this._unfilteredEvents=[]),this._filters)for(var o=0;o<this._filters.length;++o){var s=this._filters[o];(n.length>0||s.handleEmpty)&&(n=this._filters[o].func(n)||[])}for(var o=0;o<n.length;++o){var a=n[o];t.isEventLocal(a)?this._localBuffer.push(a):0===a[0]||1===a[0]?this._joinLeaveBuffer.push(a):this._buffer.push(a)}},t}();i.EventBuffer=o},{\"./PointEventResolver\":17,\"@akashic/akashic-engine\":1,\"@akashic/akashic-pdi\":3}],7:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t){this._game=t.game,this._playerTable={}}return t.prototype.toGameEvent=function(t){var e,i,n,o,s,a,h,c,u=t[0],l=t[1],d=t[2],p=this._playerTable[d]||{id:d};switch(u){case 0:p={id:d,name:t[3]},this._playerTable[d]=p;var f=void 0;if(t[4]){var _=[],g=[];t[4].map(function(t){_.push(t.readKey),g.push(t.values)}),f=new r.StorageValueStore(_,g)}return new r.JoinEvent(p,f,l);case 1:return delete this._playerTable[p.id],new r.LeaveEvent(p,l);case 2:return c=t[3],new r.TimestampEvent(c,p,l);case 32:return h=t[4],new r.MessageEvent(t[3],p,h,l);case 33:return h=t[7],e=t[3],i=t[6],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:t[4],y:t[5]},new r.PointDownEvent(e,n,o,p,h,l);case 34:return h=t[11],e=t[3],i=t[10],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:t[4],y:t[5]},s={x:t[6],y:t[7]},a={x:t[8],y:t[9]},new r.PointMoveEvent(e,n,o,a,s,p,h,l);case 35:return h=t[11],e=t[3],i=t[10],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:t[4],y:t[5]},s={x:t[6],y:t[7]},a={x:t[8],y:t[9]},new r.PointUpEvent(e,n,o,a,s,p,h,l);case 64:h=t[5];var y=t[3],m=t[4],v=this._game._decodeOperationPluginOperation(y,m);return new r.OperationEvent(y,v,p,h,l);default:throw r.ExceptionFactory.createAssertionError(\"EventConverter#toGameEvent\")}},t.prototype.toPlaylogEvent=function(t,e){var i,n;switch(t.type){case r.EventType.Join:case r.EventType.Leave:throw r.ExceptionFactory.createAssertionError(\"EventConverter#toPlaylogEvent: Invalid type: \"+r.EventType[t.type]);case r.EventType.Timestamp:var o=t;return n=e?o.player.id:this._game.player.id,[2,o.priority,n,o.timestamp];case r.EventType.PointDown:var s=t;return i=s.target?s.target.id:null,n=e?s.player.id:this._game.player.id,[33,s.priority,n,s.pointerId,s.point.x,s.point.y,i,!!s.local];case r.EventType.PointMove:var a=t;return i=a.target?a.target.id:null,n=e?a.player.id:this._game.player.id,[34,a.priority,n,a.pointerId,a.point.x,a.point.y,a.startDelta.x,a.startDelta.y,a.prevDelta.x,a.prevDelta.y,i,!!a.local];case r.EventType.PointUp:var h=t;return i=h.target?h.target.id:null,n=e?h.player.id:this._game.player.id,[35,h.priority,n,h.pointerId,h.point.x,h.point.y,h.startDelta.x,h.startDelta.y,h.prevDelta.x,h.prevDelta.y,i,!!h.local];case r.EventType.Message:var c=t;return n=e?c.player.id:this._game.player.id,[32,c.priority,n,c.data,!!c.local];case r.EventType.Operation:var u=t;return n=e?u.player.id:this._game.player.id,[64,u.priority,n,u.code,u.data,!!u.local];default:throw r.ExceptionFactory.createAssertionError(\"Unknown type: \"+t.type)}},t.prototype.makePlaylogOperationEvent=function(t){var e=this._game.player.id;return[64,null!=t.priority?t.priority:0,e,t._code,t.data,!!t.local]},t}();i.EventConverter=n},{\"@akashic/akashic-engine\":1}],8:[function(t,e,i){arguments[4][3][0].apply(i,arguments)},{dup:3}],9:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r;!function(t){t[t.Active=0]=\"Active\",t[t.Passive=1]=\"Passive\"}(r||(r={})),i.default=r},{}],10:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e){var i=t.call(this,e.configuration,e.resourceFactory,e.assetBase,e.player.id,e.operationPluginViewInfo)||this;return i.agePassedTrigger=new n.Trigger,i.targetTimeReachedTrigger=new n.Trigger,i.skippingChangedTrigger=new n.Trigger,i.abortTrigger=new n.Trigger,i.player=e.player,i.raiseEventTrigger=new n.Trigger,i.raiseTickTrigger=new n.Trigger,i.snapshotTrigger=new n.Trigger,i.isSnapshotSaver=!!e.isSnapshotSaver,i._getCurrentTimeFunc=null,i._eventFilterFuncs=null,i._notifyPassedAgeTable={},i._notifiesTargetTimeReached=!1,i._isSkipAware=!1,i._gameArgs=e.gameArgs,i._globalGameArgs=e.globalGameArgs,i.skippingChangedTrigger.add(i._onSkippingChanged,i),i}return r(e,t),e.prototype.requestNotifyAgePassed=function(t){this._notifyPassedAgeTable[t]=!0},e.prototype.cancelNotifyAgePassed=function(t){delete this._notifyPassedAgeTable[t]},e.prototype.requestNotifyTargetTimeReached=function(){this._notifiesTargetTimeReached=!0},e.prototype.cancelNofityTargetTimeReached=function(){this._notifiesTargetTimeReached=!1},e.prototype.fireAgePassedIfNeeded=function(){var t=this.age-1;return!!this._notifyPassedAgeTable[t]&&(delete this._notifyPassedAgeTable[t],this.agePassedTrigger.fire(t),!0)},e.prototype.setCurrentTimeFunc=function(t){this._getCurrentTimeFunc=t},e.prototype.setEventFilterFuncs=function(t){this._eventFilterFuncs=t},e.prototype.setStorageFunc=function(t){this.storage._registerLoad(t.storageGetFunc),this.storage._registerWrite(t.storagePutFunc),this.storage.requestValuesForJoinPlayer=t.requestValuesForJoinFunc},e.prototype.getIsSkipAware=function(){return this._isSkipAware},e.prototype.setIsSkipAware=function(t){this._isSkipAware=t},e.prototype.getCurrentTime=function(){return Math.floor(this._getCurrentTimeFunc())},e.prototype.raiseEvent=function(t){this.raiseEventTrigger.fire(t)},e.prototype.raiseTick=function(t){if(!this.scene()||this.scene().tickGenerationMode!==n.TickGenerationMode.Manual)throw n.ExceptionFactory.createAssertionError(\"Game#raiseTick(): tickGenerationMode for the current scene is not Manual.\");this.raiseTickTrigger.fire(t)},e.prototype.addEventFilter=function(t,e){this._eventFilterFuncs.addFilter(t,e)},e.prototype.removeEventFilter=function(t){this._eventFilterFuncs.removeFilter(t)},e.prototype.shouldSaveSnapshot=function(){return this.isSnapshotSaver},e.prototype.isActiveInstance=function(){return this.shouldSaveSnapshot()},e.prototype.saveSnapshot=function(t,e){void 0===e&&(e=this._getCurrentTimeFunc()),this.shouldSaveSnapshot()&&this.snapshotTrigger.fire({frame:this.age,timestamp:e,data:{randGenSer:this.random[0].serialize(),gameSnapshot:t}})},e.prototype._destroy=function(){this.agePassedTrigger.destroy(),this.agePassedTrigger=null,this.targetTimeReachedTrigger.destroy(),this.targetTimeReachedTrigger=null,this.skippingChangedTrigger.destroy(),this.skippingChangedTrigger=null,this.abortTrigger.destroy(),this.abortTrigger=null,this.player=null,this.raiseEventTrigger.destroy(),this.raiseEventTrigger=null,this.raiseTickTrigger.destroy(),this.raiseTickTrigger=null,this.snapshotTrigger.destroy(),this.snapshotTrigger=null,this.isSnapshotSaver=!1,this._getCurrentTimeFunc=null,this._eventFilterFuncs=null,this._notifyPassedAgeTable=null,this._gameArgs=null,this._globalGameArgs=null,t.prototype._destroy.call(this)},e.prototype._restartWithSnapshot=function(t){var e=t.data;if(this._eventFilterFuncs.removeFilter(),null!=e.seed){var i=new n.XorshiftRandomGenerator(e.seed);this._reset({age:t.frame,randGen:i}),this._loadAndStart({args:this._gameArgs,globalArgs:this._globalGameArgs})}else{var i=new n.XorshiftRandomGenerator(0,e.randGenSer);this._reset({age:t.frame,randGen:i}),this._loadAndStart({snapshot:e.gameSnapshot})}},e.prototype._leaveGame=function(){},e.prototype._abortGame=function(){this.abortTrigger.fire()},e.prototype._onRawTargetTimeReached=function(t){this._notifiesTargetTimeReached&&(this._notifiesTargetTimeReached=!1,this.targetTimeReachedTrigger.fire(t))},e.prototype._onSkippingChanged=function(t){this._isSkipAware&&this.skippingChanged.fire(t)},e}(n.Game);i.Game=o},{\"@akashic/akashic-engine\":1}],11:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"es6-promise\"),n=t(\"@akashic/akashic-engine\"),o=t(\"./ExecutionMode\"),s=t(\"./Game\"),a=t(\"./EventBuffer\"),h=t(\"./GameLoop\"),c=t(\"./PdiUtil\"),u=function(){function t(t){this.errorTrigger=new n.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this.configurationLoadedTrigger=new n.Trigger,this.gameCreatedTrigger=new n.Trigger,this._platform=t.platform,this._loadConfigurationFunc=c.PdiUtil.makeLoadConfigurationFunc(t.platform),this._player=t.player,this._rendererRequirement=null,this._playId=null,this._game=null,this._gameLoop=null,this._eventBuffer=null,this._openedAmflow=!1,this._playToken=null,this._permission=null,this._hidden=!1,this._destroyed=!1}return t.prototype.initialize=function(t,e){this.doInitialize(t).then(function(){e()},e)},t.prototype.changeState=function(t,e){var i=this,r=this._gameLoop&&this._gameLoop.running;r&&this._gameLoop.stop(),this.initialize(t,function(t){if(t)return void e(t);r&&i._gameLoop.start(),e()})},t.prototype.startGame=function(){if(!this._gameLoop)return void this.errorTrigger.fire(new Error(\"Not initialized\"));this._gameLoop.start()},t.prototype.stopGame=function(){this._gameLoop&&this._gameLoop.stop()},t.prototype.setNextAge=function(t){this._gameLoop.setNextAge(t)},t.prototype.getPermission=function(){return this._permission},t.prototype.getDriverConfiguration=function(){return{playId:this._playId,playToken:this._playToken,executionMode:this._gameLoop?this._gameLoop.getExecutionMode():void 0,eventBufferMode:this._eventBuffer?this._eventBuffer.getMode():void 0}},t.prototype.getLoopConfiguration=function(){return this._gameLoop?this._gameLoop.getLoopConfiguration():null},t.prototype.getHidden=function(){return this._hidden},t.prototype.resetPrimarySurface=function(t,e,i){i=i||(this._rendererRequirement?this._rendererRequirement.rendererCandidates:null);var r=this._game,n=this._platform,o=n.getPrimarySurface();r.renderers=r.renderers.filter(function(t){return t!==o.renderer()}),n.setRendererRequirement({primarySurfaceWidth:t,primarySurfaceHeight:e,rendererCandidates:i}),this._rendererRequirement={primarySurfaceWidth:t,primarySurfaceHeight:e,rendererCandidates:i},r.renderers.push(n.getPrimarySurface().renderer()),r.width=t,r.height=e,r.resized.fire({width:t,height:e}),r.modified=!0},t.prototype.doInitialize=function(t){var e=this,i=new r.Promise(function(i,r){if(e._gameLoop&&e._gameLoop.running)return r(new Error(\"Game is running. Must be stopped.\"));e._gameLoop&&t.loopConfiguration&&e._gameLoop.setLoopConfiguration(t.loopConfiguration),null!=t.hidden&&(e._hidden=t.hidden,e._game&&e._game._setMuted(t.hidden)),i()}).then(function(){return e._assertLive(),e._doSetDriverConfiguration(t.driverConfiguration)});return t.configurationUrl?i.then(function(){return e._assertLive(),e._loadConfiguration(t.configurationUrl,t.assetBase,t.configurationBase)}).then(function(i){return e._assertLive(),e._createGame(i,e._player,t)}):i},t.prototype.destroy=function(){var t=this;return new r.Promise(function(e,i){t.stopGame(),t._game&&(t._game._destroy(),t._game=null),t.errorTrigger.destroy(),t.errorTrigger=null,t.configurationLoadedTrigger.destroy(),t.configurationLoadedTrigger=null,t.gameCreatedTrigger.destroy(),t.gameCreatedTrigger=null,t._platform.destroy?t._platform.destroy():t._platform.setRendererRequirement(void 0),t._platform=null,t._loadConfigurationFunc=null,t._player=null,t._rendererRequirement=null,t._playId=null,t._gameLoop=null,t._eventBuffer=null,t._openedAmflow=!1,t._playToken=null,t._permission=null,t._hidden=!1,t._destroyed=!0,e()})},t.prototype._doSetDriverConfiguration=function(t){var e=this;if(null==t)return r.Promise.resolve();void 0===t.playId&&(t.playId=this._playId),void 0===t.playToken&&(t.playToken=this._playToken),void 0===t.eventBufferMode&&(t.executionMode===o.default.Active?t.eventBufferMode={isReceiver:!0,isSender:!1}:t.executionMode===o.default.Passive&&(t.eventBufferMode={isReceiver:!1,isSender:!0}));var i=r.Promise.resolve();return this._playId!==t.playId&&(i=i.then(function(){return e._assertLive(),e._doOpenAmflow(t.playId)})),this._playToken!==t.playToken&&(i=i.then(function(){return e._assertLive(),e._doAuthenticate(t.playToken)})),i.then(function(){e._assertLive(),null!=t.eventBufferMode&&(null==t.eventBufferMode.defaultEventPriority&&(t.eventBufferMode.defaultEventPriority=e._permission.maxEventPriority),e._eventBuffer&&e._eventBuffer.setMode(t.eventBufferMode)),null!=t.executionMode&&e._gameLoop&&e._gameLoop.setExecutionMode(t.executionMode)})},t.prototype._doCloseAmflow=function(){var t=this;return new r.Promise(function(e,i){if(!t._openedAmflow)return e();t._platform.amflow.close(function(r){t._openedAmflow=!1;var n=t._getCallbackError(r);if(n)return i(n);e()})})},t.prototype._doOpenAmflow=function(t){var e=this;return void 0===t?r.Promise.resolve():this._doCloseAmflow().then(function(){return e._assertLive(),new r.Promise(function(i,r){if(null===t)return i();e._platform.amflow.open(t,function(n){var o=e._getCallbackError(n);if(o)return r(o);e._openedAmflow=!0,e._playId=t,e._game&&e._updateGamePlayId(e._game),i()})})})},t.prototype._doAuthenticate=function(t){var e=this;return null==t?r.Promise.resolve():new r.Promise(function(i,r){e._platform.amflow.authenticate(t,function(n,o){var s=e._getCallbackError(n);if(s)return r(s);e._playToken=t,e._permission=o,e._game&&(e._game.isSnapshotSaver=e._permission.writeTick),i()})})},t.prototype._loadConfiguration=function(t,e,i){var n=this;return new r.Promise(function(r,o){n._loadConfigurationFunc(t,e,i,function(t,e){var i=n._getCallbackError(t);if(i)return o(i);n.configurationLoadedTrigger.fire(e),r(e)})})},t.prototype._putZerothStartPoint=function(t){var e=this;return new r.Promise(function(i,r){var n={frame:0,timestamp:t.startedAt,data:t};e._platform.amflow.putStartPoint(n,function(t){var n=e._getCallbackError(t);if(n)return r(n);i()})})},t.prototype._getZerothStartPointData=function(){var t=this;return new r.Promise(function(e,i){t._platform.amflow.getStartPoint({frame:0},function(r,n){var o=t._getCallbackError(r);if(o)return i(o);var s=n.data;if(\"number\"!=typeof s.seed)return i(new Error(\"GameDriver#_getRandomSeed: No seed found.\"));e(s)})})},t.prototype._createGame=function(t,e,i){var c,u=this,l=i.driverConfiguration.executionMode===o.default.Active&&this._permission.writeTick;return c=l?this._putZerothStartPoint({seed:Date.now(),globalArgs:i.globalGameArgs,fps:t.fps,startedAt:Date.now()}):r.Promise.resolve(),c=c.then(function(){return u._assertLive(),u._getZerothStartPointData()}),c.then(function(r){u._assertLive();var c=u._platform,l=i.driverConfiguration||{eventBufferMode:{isReceiver:!0,isSender:!1},executionMode:o.default.Active},d=r.seed,p=i.gameArgs,f=r.globalArgs,_=r.startedAt,g={primarySurfaceWidth:t.width,primarySurfaceHeight:t.height,rendererCandidates:t.renderers};c.setRendererRequirement(g);var y=new s.Game({configuration:t,player:e,resourceFactory:c.getResourceFactory(),assetBase:i.assetBase,isSnapshotSaver:u._permission.writeTick,operationPluginViewInfo:c.getOperationPluginViewInfo?c.getOperationPluginViewInfo():null,gameArgs:p,globalGameArgs:f}),m=new a.EventBuffer({game:y,amflow:c.amflow});m.setMode(l.eventBufferMode),c.setPlatformEventHandler(m),y.setEventFilterFuncs({addFilter:m.addFilter.bind(m),removeFilter:m.removeFilter.bind(m)}),y.renderers.push(c.getPrimarySurface().renderer());var v=new h.GameLoop({game:y,amflow:c.amflow,platform:c,executionMode:l.executionMode,eventBuffer:m,configuration:i.loopConfiguration,startedAt:_,profiler:i.profiler});v.rawTargetTimeReachedTrigger.add(y._onRawTargetTimeReached,y),y.setCurrentTimeFunc(v.getCurrentTime.bind(v)),y._reset({age:0,randGen:new n.XorshiftRandomGenerator(d)}),u._updateGamePlayId(y),u._hidden&&y._setMuted(!0),y.snapshotTrigger.add(function(t){u._platform.amflow.putStartPoint(t,function(t){var e=u._getCallbackError(t);e&&u.errorTrigger.fire(e)})}),u._game=y,u._eventBuffer=m,u._gameLoop=v,u._rendererRequirement=g,u.gameCreatedTrigger.fire(y),u._game._loadAndStart({args:i.gameArgs||void 0})})},t.prototype._updateGamePlayId=function(t){var e=this;t.playId=this._playId,t.external.send=function(t){e._platform.sendToExternal(e._playId,t)}},t.prototype._assertLive=function(){if(this._destroyed)throw new Error(\"GAME_DESTROYED\")},t.prototype._getCallbackError=function(t){return t||(this._destroyed?new Error(\"GAME_DESTROYED\"):null)},t}();i.GameDriver=u},{\"./EventBuffer\":6,\"./ExecutionMode\":9,\"./Game\":10,\"./GameLoop\":12,\"./PdiUtil\":16,\"@akashic/akashic-engine\":1,\"es6-promise\":83}],12:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0})\n;var r=t(\"@akashic/akashic-engine\"),n=t(\"./constants\"),o=t(\"./LoopMode\"),s=t(\"./LoopRenderMode\"),a=t(\"./ExecutionMode\"),h=t(\"./Clock\"),c=t(\"./ProfilerClock\"),u=t(\"./EventConverter\"),l=t(\"./TickController\"),d=function(){function t(t){this.errorTrigger=new r.Trigger,this.rawTargetTimeReachedTrigger=new r.Trigger,this.running=!1,this._currentTime=t.startedAt,this._frameTime=1e3/t.game.fps,this._omittedTickDuration=0,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner);var e=t.configuration;this._startedAt=t.startedAt,this._targetTimeFunc=e.targetTimeFunc||null,this._targetTimeOffset=e.targetTimeOffset||null,this._originDate=e.originDate||null,this._realTargetTimeOffset=null!=this._originDate?this._originDate:(this._targetTimeOffset||0)+this._startedAt,this._delayIgnoreThreshold=e.delayIgnoreThreshold||n.DEFAULT_DELAY_IGNORE_THRESHOLD,this._skipTicksAtOnce=e.skipTicksAtOnce||n.DEFAULT_SKIP_TICKS_AT_ONCE,this._skipThreshold=e.skipThreshold||n.DEFAULT_SKIP_THRESHOLD,this._skipThresholdTime=this._skipThreshold*this._frameTime,this._jumpTryThreshold=e.jumpTryThreshold||n.DEFAULT_JUMP_TRY_THRESHOLD,this._jumpIgnoreThreshold=e.jumpIgnoreThreshold||n.DEFAULT_JUMP_IGNORE_THRESHOLD,this._pollingTickThreshold=e._pollingTickThreshold||n.DEFAULT_POLLING_TICK_THRESHOLD,this._playbackRate=e.playbackRate||1;var i=null!=e.loopRenderMode?e.loopRenderMode:s.default.AfterRawFrame;this._loopRenderMode=null,this._omitInterpolatedTickOnReplay=null==e.omitInterpolatedTickOnReplay||e.omitInterpolatedTickOnReplay,this._loopMode=e.loopMode,this._amflow=t.amflow,this._game=t.game,this._eventBuffer=t.eventBuffer,this._executionMode=t.executionMode,this._sceneTickMode=null,this._sceneLocalMode=null,this._targetAge=null!=e.targetAge?e.targetAge:null,this._waitingStartPoint=!1,this._lastRequestedStartPointAge=-1,this._lastRequestedStartPointTime=-1,this._waitingNextTick=!1,this._consumedLatestTick=!1,this._skipping=!1,this._lastPollingTickTime=0,t.profiler?this._clock=new c.ProfilerClock({fps:t.game.fps,scaleFactor:this._playbackRate,platform:t.platform,maxFramePerOnce:5,profiler:t.profiler}):this._clock=new h.Clock({fps:t.game.fps,scaleFactor:this._playbackRate,platform:t.platform,maxFramePerOnce:5}),this._tickController=new l.TickController({amflow:t.amflow,clock:this._clock,game:t.game,eventBuffer:t.eventBuffer,executionMode:t.executionMode,startedAt:t.startedAt,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._eventConverter=new u.EventConverter({game:t.game}),this._tickBuffer=this._tickController.getBuffer(),this._onGotStartPoint_bound=this._onGotStartPoint.bind(this),this._setLoopRenderMode(i),this._game.setIsSkipAware(null==e.skipAwareGame||e.skipAwareGame),this._game.setStorageFunc(this._tickController.storageFunc()),this._game.raiseEventTrigger.add(this._onGameRaiseEvent,this),this._game.raiseTickTrigger.add(this._onGameRaiseTick,this),this._game._started.add(this._onGameStarted,this),this._game._operationPluginOperated.add(this._onGameOperationPluginOperated,this),this._tickBuffer.gotNextTickTrigger.add(this._onGotNextFrameTick,this),this._tickBuffer.gotNoTickTrigger.add(this._onGotNoTick,this),this._tickBuffer.start(),this._updateGamePlaybackRate(),this._handleSceneChange()}return t.prototype.start=function(){this.running=!0,this._clock.start()},t.prototype.stop=function(){this._clock.stop(),this.running=!1},t.prototype.setNextAge=function(t){this._tickController.setNextAge(t)},t.prototype.getExecutionMode=function(){return this._executionMode},t.prototype.setExecutionMode=function(t){this._executionMode=t,this._tickController.setExecutionMode(t)},t.prototype.getLoopConfiguration=function(){return{loopMode:this._loopMode,delayIgnoreThreshold:this._delayIgnoreThreshold,skipTicksAtOnce:this._skipTicksAtOnce,skipThreshold:this._skipThreshold,skipAwareGame:this._game.getIsSkipAware(),jumpTryThreshold:this._jumpTryThreshold,jumpIgnoreThreshold:this._jumpIgnoreThreshold,playbackRate:this._playbackRate,loopRenderMode:this._loopRenderMode,targetTimeFunc:this._targetTimeFunc,targetTimeOffset:this._targetTimeOffset,originDate:this._originDate,omitInterpolatedTickOnReplay:this._omitInterpolatedTickOnReplay,targetAge:this._targetAge}},t.prototype.setLoopConfiguration=function(t){null!=t.loopMode&&(this._loopMode=t.loopMode),null!=t.delayIgnoreThreshold&&(this._delayIgnoreThreshold=t.delayIgnoreThreshold),null!=t.skipTicksAtOnce&&(this._skipTicksAtOnce=t.skipTicksAtOnce),null!=t.skipThreshold&&(this._skipThreshold=t.skipThreshold,this._skipThresholdTime=this._skipThreshold*this._frameTime),null!=t.skipAwareGame&&this._game.setIsSkipAware(t.skipAwareGame),null!=t.jumpTryThreshold&&(this._jumpTryThreshold=t.jumpTryThreshold),null!=t.jumpIgnoreThreshold&&(this._jumpIgnoreThreshold=t.jumpIgnoreThreshold),null!=t.playbackRate&&(this._playbackRate=t.playbackRate,this._clock.changeScaleFactor(this._playbackRate),this._updateGamePlaybackRate()),null!=t.loopRenderMode&&this._setLoopRenderMode(t.loopRenderMode),null!=t.targetTimeFunc&&(this._targetTimeFunc=t.targetTimeFunc),null!=t.targetTimeOffset&&(this._targetTimeOffset=t.targetTimeOffset),null!=t.originDate&&(this._originDate=t.originDate),this._realTargetTimeOffset=null!=this._originDate?this._originDate:(this._targetTimeOffset||0)+this._startedAt,null!=t.omitInterpolatedTickOnReplay&&(this._omitInterpolatedTickOnReplay=t.omitInterpolatedTickOnReplay),null!=t.targetAge&&(this._targetAge!==t.targetAge&&(this._waitingNextTick=!1),this._targetAge=t.targetAge)},t.prototype.addTickList=function(t){this._tickBuffer.addTickList(t)},t.prototype.getCurrentTime=function(){return this._currentTime},t.prototype._startSkipping=function(){this._skipping=!0,this._updateGamePlaybackRate(),this._game.skippingChangedTrigger.fire(!0)},t.prototype._stopSkipping=function(){this._skipping=!1,this._updateGamePlaybackRate(),this._game.skippingChangedTrigger.fire(!1)},t.prototype._updateGamePlaybackRate=function(){var t=this._skipping?this._playbackRate*this._skipTicksAtOnce:this._playbackRate;this._game._setAudioPlaybackRate(t)},t.prototype._handleSceneChange=function(){var t=this._game.scene(),e=t?t.local:r.LocalTickMode.FullLocal,i=t?t.tickGenerationMode:r.TickGenerationMode.ByClock;if(this._sceneLocalMode!==e||this._sceneTickMode!==i)switch(this._sceneLocalMode=e,this._sceneTickMode=i,this._clock.frameTrigger.remove(this._onFrame,this),this._clock.frameTrigger.remove(this._onLocalFrame,this),e){case r.LocalTickMode.FullLocal:this._tickController.stopTick(),this._clock.frameTrigger.add(this._onLocalFrame,this);break;case r.LocalTickMode.NonLocal:case r.LocalTickMode.InterpolateLocal:i===r.TickGenerationMode.ByClock?this._tickController.startTick():this._tickController.startTickOnce(),this._clock.frameTrigger.add(this._onFrame,this);break;default:return void this.errorTrigger.fire(new Error(\"Unknown LocalTickMode: \"+e))}},t.prototype._onLocalFrame=function(){this._doLocalTick()},t.prototype._doLocalTick=function(){var t=this._game,e=this._eventBuffer.readLocalEvents();if(this._currentTime+=this._frameTime,e)for(var i=0,r=e.length;i<r;++i)t.events.push(this._eventConverter.toGameEvent(e[i]));var n=t.tick(!1,Math.floor(this._omittedTickDuration/this._frameTime));this._omittedTickDuration=0,n&&this._handleSceneChange()},t.prototype._onFrame=function(t){if(this._loopMode===o.default.Replay&&this._targetTimeFunc){var e=this._targetTimeFunc(),i=e+this._realTargetTimeOffset,r=this._currentTime;this._onFrameForTimedReplay(i,t),r===this._currentTime&&r<=i&&i<=r+this._frameTime&&this.rawTargetTimeReachedTrigger.fire(e)}else this._onFrameNormal(t)},t.prototype._onFrameForTimedReplay=function(t,e){var i=!1,n=this._game,o=t-this._currentTime,s=o/this._frameTime;if((s>this._jumpTryThreshold||s<0)&&!this._waitingStartPoint&&this._lastRequestedStartPointTime<this._currentTime&&(this._waitingStartPoint=!0,this._lastRequestedStartPointTime=t,this._amflow.getStartPoint({timestamp:t},this._onGotStartPoint_bound)),s<=0)return void(this._skipping&&this._stopSkipping());this._skipping||(s>this._skipThreshold||0===this._tickBuffer.currentAge)&&(this._tickBuffer.hasNextTick()||this._omitInterpolatedTickOnReplay&&this._consumedLatestTick)&&this._startSkipping();for(var a=0;a<this._skipTicksAtOnce;++a){var h=this._currentTime+this._frameTime;if(!this._tickBuffer.hasNextTick()){this._waitingNextTick||(this._startWaitingNextTick(),this._consumedLatestTick||this._tickBuffer.requestTicks()),this._omitInterpolatedTickOnReplay&&this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&(this._consumedLatestTick&&(this._currentTime=t-this._frameTime),t>h&&this._doLocalTick());break}var c=this._tickBuffer.readNextTickTime();if(null==c&&(c=h),t<h){if(!(c<=t))break;h=t}else if(h<c){if(!this._omitInterpolatedTickOnReplay||!this._skipping){this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick();continue}if(t<=c){this._omittedTickDuration+=t-this._currentTime,this._currentTime=Math.floor(t/this._frameTime)*this._frameTime;break}h=c,this._omittedTickDuration+=c-this._currentTime}this._currentTime=h;var u=this._tickBuffer.consume(),l=-1,d=this._eventBuffer.readLocalEvents();if(d)for(var p=0,f=d.length;p<f;++p)n.events.push(this._eventConverter.toGameEvent(d[p]));if(\"number\"==typeof u)l=u,i=n.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime));else{l=u[0];var _=u[1];if(_)for(var p=0,f=_.length;p<f;++p)n.events.push(this._eventConverter.toGameEvent(_[p]));i=n.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime))}if(this._omittedTickDuration=0,n._notifyPassedAgeTable[l]&&n.fireAgePassedIfNeeded()){e.interrupt=!0;break}if(i){this._handleSceneChange();break}}this._skipping&&t-this._currentTime<this._frameTime&&this._stopSkipping()},t.prototype._onFrameNormal=function(t){var e=!1,i=this._game;if(!this._skipping&&t.deltaTime>this._skipThresholdTime&&(this._startSkipping(),this._waitingNextTick&&this._stopSkipping()),this._waitingNextTick)return void(this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick());var n,s,a=this._tickBuffer.currentAge;if(this._loopMode===o.default.Realtime?(n=this._tickBuffer.knownLatestAge+1,s=n-a):null===this._targetAge?(n=null,s=1):this._targetAge===a?(n=this._targetAge=null,s=1):(n=this._targetAge,s=n-a),(s>this._jumpTryThreshold||s<0)&&!this._waitingStartPoint&&this._lastRequestedStartPointAge<a&&(this._waitingStartPoint=!0,this._lastRequestedStartPointAge=n,this._amflow.getStartPoint({frame:n},this._onGotStartPoint_bound)),s<=0)return 0===s&&(0===a&&this._tickBuffer.requestTicks(),this._startWaitingNextTick()),this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick(),void(this._skipping&&this._stopSkipping());!this._skipping&&(s>this._skipThreshold||0===a)&&this._tickBuffer.hasNextTick()&&this._startSkipping();for(var h=!this._skipping&&s<=this._delayIgnoreThreshold?1:Math.min(s,this._skipTicksAtOnce),c=0;c<h;++c){var u=this._currentTime+this._frameTime,l=this._tickBuffer.readNextTickTime();if(null!=l&&u<l){if(!(this._loopMode===o.default.Realtime||this._omitInterpolatedTickOnReplay&&this._skipping)){if(this._sceneLocalMode===r.LocalTickMode.InterpolateLocal){this._doLocalTick();continue}break}u=Math.ceil(l/this._frameTime)*this._frameTime,this._omittedTickDuration+=u-this._currentTime}this._currentTime=u;var d=this._tickBuffer.consume(),p=-1;if(null==d){this._tickBuffer.requestTicks(),this._startWaitingNextTick();break}var f=this._eventBuffer.readLocalEvents();if(f)for(var _=0,g=f.length;_<g;++_)i.events.push(this._eventConverter.toGameEvent(f[_]));if(\"number\"==typeof d)p=d,e=i.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime));else{p=d[0];var y=d[1];if(y)for(var m=0,g=y.length;m<g;++m)i.events.push(this._eventConverter.toGameEvent(y[m]));e=i.tick(!0,Math.floor(this._omittedTickDuration/this._frameTime))}if(this._omittedTickDuration=0,i._notifyPassedAgeTable[p]&&i.fireAgePassedIfNeeded()){t.interrupt=!0;break}if(e){this._handleSceneChange();break}}this._skipping&&n-this._tickBuffer.currentAge<1&&this._stopSkipping()},t.prototype._onGotNextFrameTick=function(){this._consumedLatestTick=!1,this._waitingNextTick&&this._loopMode!==o.default.FrameByFrame&&this._stopWaitingNextTick()},t.prototype._onGotNoTick=function(){this._waitingNextTick&&(this._consumedLatestTick=!0)},t.prototype._onGotStartPoint=function(t,e){if(this._waitingStartPoint=!1,t)return void this.errorTrigger.fire(t);if(this._targetTimeFunc&&this._loopMode!==o.default.Realtime){var i=this._targetTimeFunc()+this._realTargetTimeOffset;if(i<e.timestamp)return;var r=this._currentTime;if(r<=i&&e.timestamp<r+this._jumpIgnoreThreshold*this._frameTime)return}else{var n=this._loopMode===o.default.Realtime?this._tickBuffer.knownLatestAge+1:this._targetAge;if(null===n||n<e.frame)return;var s=this._tickBuffer.currentAge;if(s<=n&&e.frame<s+this._jumpIgnoreThreshold)return}this._clock.frameTrigger.remove(this._onEventsProcessed,this),this._skipping&&this._stopSkipping(),this._tickBuffer.setCurrentAge(e.frame),this._currentTime=e.timestamp||e.data.timestamp||0,this._waitingNextTick=!1,this._consumedLatestTick=!1,this._lastRequestedStartPointAge=-1,this._lastRequestedStartPointTime=-1,this._omittedTickDuration=0,this._game._restartWithSnapshot(e),this._handleSceneChange()},t.prototype._onGameStarted=function(){this._clock.frameTrigger.add({index:0,owner:this,func:this._onEventsProcessed})},t.prototype._onEventsProcessed=function(){this._eventBuffer.processEvents(this._sceneLocalMode===r.LocalTickMode.FullLocal)},t.prototype._setLoopRenderMode=function(t){if(t!==this._loopRenderMode)switch(this._loopRenderMode=t,t){case s.default.AfterRawFrame:this._clock.rawFrameTrigger.add(this._renderOnRawFrame,this);break;case s.default.None:this._clock.rawFrameTrigger.remove(this._renderOnRawFrame,this);break;default:this.errorTrigger.fire(new Error(\"GameLoop#_setLoopRenderMode: unknown mode: \"+t))}},t.prototype._renderOnRawFrame=function(){var t=this._game;t.modified&&t.scenes.length>0&&t.render()},t.prototype._onGameRaiseEvent=function(t){var e=this._eventConverter.toPlaylogEvent(t);this._eventBuffer.onEvent(e)},t.prototype._onGameRaiseTick=function(t){if(this._executionMode===a.default.Active){if(t)for(var e=0;e<t.length;++e)this._eventBuffer.addEventDirect(this._eventConverter.toPlaylogEvent(t[e]));this._tickController.forceGenerateTick()}},t.prototype._onGameOperationPluginOperated=function(t){var e=this._eventConverter.makePlaylogOperationEvent(t);this._eventBuffer.onEvent(e)},t.prototype._onPollingTick=function(){var t=Date.now();t-this._lastPollingTickTime>this._pollingTickThreshold&&(this._lastPollingTickTime=t,this._tickBuffer.requestTicks())},t.prototype._startWaitingNextTick=function(){this._waitingNextTick=!0,this._clock.rawFrameTrigger.add(this._onPollingTick,this),this._lastPollingTickTime=Date.now(),this._skipping&&this._stopSkipping()},t.prototype._stopWaitingNextTick=function(){this._waitingNextTick=!1,this._clock.rawFrameTrigger.remove(this._onPollingTick,this)},t}();i.GameLoop=d},{\"./Clock\":5,\"./EventConverter\":7,\"./ExecutionMode\":9,\"./LoopMode\":14,\"./LoopRenderMode\":15,\"./ProfilerClock\":18,\"./TickController\":21,\"./constants\":26,\"@akashic/akashic-engine\":1}],13:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t,e,i,r){this.joinResolver=e,this.pev=t,0===t[0]&&r?(this.resolved=!1,i.getStorageData(r,this._onGotStorageData.bind(this))):this.resolved=!0}return t.prototype._onGotStorageData=function(t,e){if(this.resolved=!0,t)return void this.joinResolver.errorTrigger.fire(t);this.pev[4]=e},t}();i.JoinLeaveRequest=n;var o=function(){function t(t){this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this._amflow=t.amflow,this._keysForJoin=null,this._requested=[]}return t.prototype.request=function(t){this._requested.push(new n(t,this,this._amflow,this._keysForJoin))},t.prototype.readResolved=function(){var t=this._requested.length;if(0===t||!this._requested[0].resolved)return null;for(var e=[],i=0;i<t;++i){var r=this._requested[i];if(!r.resolved)break;e.push(r.pev)}return this._requested.splice(0,i),e},t.prototype.setRequestValuesForJoin=function(t){this._keysForJoin=t},t}();i.JoinResolver=o},{\"@akashic/akashic-engine\":1}],14:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r;!function(t){t[t.Realtime=0]=\"Realtime\",t[t.Replay=1]=\"Replay\",t[t.FrameByFrame=2]=\"FrameByFrame\"}(r||(r={})),i.default=r},{}],15:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r;!function(t){t[t.AfterRawFrame=0]=\"AfterRawFrame\",t[t.None=1]=\"None\"}(r||(r={})),i.default=r},{}],16:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"es6-promise\"),n=t(\"@akashic/akashic-engine\");!function(t){function e(e){function i(i,s,a,h){e.loadGameConfiguration(i,function(e,c){if(e)return void h(e,null);try{c=t._resolveConfigurationBasePath(c,null!=s?s:n.PathUtil.resolveDirname(i))}catch(t){return void h(t,null)}if(!c.definitions)return void h(null,c);var u=c.definitions.map(function(t){if(\"string\"==typeof t){var e=null!=a?n.PathUtil.resolvePath(a,t):t;return o(e,void 0,a)}var e=null!=a?n.PathUtil.resolvePath(a,t.url):t.url;return o(e,t.basePath,a)});r.Promise.all(u).then(function(e){return h(null,e.reduce(t._mergeGameConfiguration))}).catch(function(t){return h(t,null)})})}function o(t,e,n){return new r.Promise(function(r,o){i(t,e,n,function(t,e){t?o(t):r(e)})})}return i}function i(t,e){function i(t,e){var i=n.PathUtil.resolvePath(t,e);if(0!==i.indexOf(t))throw n.ExceptionFactory.createAssertionError(\"PdiUtil._resolveConfigurationBasePath: invalid path: \"+e);return i}var r=t.assets;if(r instanceof Object)for(var o in r)r.hasOwnProperty(o)&&\"path\"in r[o]&&(r[o].virtualPath=r[o].virtualPath||r[o].path,r[o].path=i(e,r[o].path));return t.globalScripts&&(t.globalScripts.forEach(function(t){if(r.hasOwnProperty(t))throw n.ExceptionFactory.createAssertionError(\"PdiUtil._resolveConfigurationBasePath: asset ID already exists: \"+t);r[t]={type:/\\.json$/i.test(t)?\"text\":\"script\",virtualPath:t,path:i(e,t),global:!0}}),delete t.globalScripts),t}function o(e,i){for(var r=Object.keys(i),n=0,o=r.length;n<o;++n){var s=r[n],a=i[s];if(typeof a===typeof e[s])switch(typeof a){case\"string\":case\"number\":case\"boolean\":e[s]=a;break;case\"object\":null==a?e[s]=a:Array.isArray(a)?e[s]=e[s].concat(a):t._mergeObject(e[s],a);break;default:throw new Error(\"PdiUtil._mergeObject(): unknown type\")}else e[s]=a}return e}function s(e,i){return t._mergeObject(e,i)}t.makeLoadConfigurationFunc=e,t._resolveConfigurationBasePath=i,t._mergeObject=o,t._mergeGameConfiguration=s}(i.PdiUtil||(i.PdiUtil={}))},{\"@akashic/akashic-engine\":1,\"es6-promise\":83}],17:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this._game=t.game,this._pointEventMap={}}return t.prototype.pointDown=function(t){var e=this._game.player,i=this._game.findPointSource(t.offset),r=i.point?i.point:t.offset,n=i.target?i.target.id:null;this._pointEventMap[t.identifier]={targetId:n,local:i.local,point:r,start:{x:t.offset.x,y:t.offset.y},prev:{x:t.offset.x,y:t.offset.y}};var o=[33,2,e.id,t.identifier,r.x,r.y,n];return i.local&&o.push(i.local),o},t.prototype.pointMove=function(t){var e=this._game.player,i=this._pointEventMap[t.identifier];if(!i)return null;var r={x:0,y:0},n={x:0,y:0};this._pointMoveAndUp(i,t.offset,r,n);var o=[34,2,e.id,t.identifier,i.point.x,i.point.y,n.x,n.y,r.x,r.y,i.targetId];return i.local&&o.push(i.local),o},t.prototype.pointUp=function(t){var e=this._game.player,i=this._pointEventMap[t.identifier];if(!i)return null;var r={x:0,y:0},n={x:0,y:0};this._pointMoveAndUp(i,t.offset,r,n),delete this._pointEventMap[t.identifier];var o=[35,2,e.id,t.identifier,i.point.x,i.point.y,n.x,n.y,r.x,r.y,i.targetId];return i.local&&o.push(i.local),o},t.prototype._pointMoveAndUp=function(t,e,i,r){r.x=e.x-t.start.x,r.y=e.y-t.start.y,i.x=e.x-t.prev.x,i.y=e.y-t.prev.y,t.prev.x=e.x,t.prev.y=e.y},t}();i.PointEventResolver=r},{}],18:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./Clock\"),o=function(t){function e(e){var i=t.call(this,e)||this;return i._profiler=e.profiler,i}return r(e,t),e.prototype._onLooperCall=function(t){var e=t;if(t<=0)return this._waitTime-this._totalDeltaTime;t>this._deltaTimeBrokenThreshold&&(t=this._waitTime);var i=this._totalDeltaTime;if((i+=t)<=this._skipFrameWaitTime)return this._totalDeltaTime=i,this._waitTime-i;this._profiler.timeEnd(1),this._profiler.time(1);var r=i<this._waitTimeDoubled?1:i>this._waitTimeMax?this._realMaxFramePerOnce:i/this._waitTime|0,n=r,o={deltaTime:e,interrupt:!1};for(this._profiler.setValue(0,n-1);n>0&&this.running&&!o.interrupt;)--n,this._profiler.time(2),this.frameTrigger.fire(o),this._profiler.timeEnd(2),o.deltaTime=0;return i-=(r-n)*this._waitTime,this._profiler.time(3),this.rawFrameTrigger.fire(),this._profiler.timeEnd(3),this._totalDeltaTime=i,this._profiler.flush(),this._waitTime-i},e}(n.Clock);i.ProfilerClock=o},{\"./Clock\":5}],19:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./ExecutionMode\"),o=function(){function t(t){this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this.getStorageFunc=this._getStorage.bind(this),this.putStorageFunc=this._putStorage.bind(this),this.requestValuesForJoinFunc=this._requestValuesForJoin.bind(this),this._game=t.game,this._amflow=t.amflow,this._tickGenerator=t.tickGenerator,this._tickBuffer=t.tickBuffer,this._executionMode=null,this.setExecutionMode(t.executionMode),this._unresolvedLoaders={},this._unresolvedStorages={},this._onStoragePut_bound=this._onStoragePut.bind(this)}return t.prototype.setExecutionMode=function(t){if(this._executionMode!==t){this._executionMode=t;var e=this._tickBuffer,i=this._tickGenerator;t===n.default.Active?(e.gotStorageTrigger.remove(this._onGotStorageOnTick,this),i.gotStorageTrigger.add(this._onGotStorageOnTick,this)):(i.gotStorageTrigger.remove(this._onGotStorageOnTick,this),e.gotStorageTrigger.add(this._onGotStorageOnTick,this))}},t.prototype._onGotStorageOnTick=function(t){var e=t.age,i=t.storageData,r=this._unresolvedLoaders[e];if(!r)return void(this._unresolvedStorages[e]=i);delete this._unresolvedLoaders[e];var n=e,o=i.map(function(t){return t.values});r._onLoaded(o,n)},t.prototype._getStorage=function(t,e,i){var r;null!=i?(r=i,this._tickBuffer.requestTicks(r,1)):this._executionMode===n.default.Active?r=this._tickGenerator.requestStorageTick(t):(r=this._game.age,this._tickBuffer.requestTicks(r,1));var o=this._unresolvedStorages[r];if(!o)return void(this._unresolvedLoaders[r]=e);delete this._unresolvedStorages[r];var s=r,a=o.map(function(t){return t.values});e._onLoaded(a,s)},t.prototype._putStorage=function(t,e,i){this._executionMode===n.default.Active&&this._amflow.putStorageData(t,e,i,this._onStoragePut_bound)},t.prototype._requestValuesForJoin=function(t){this._tickGenerator.setRequestValuesForJoin(t)},t.prototype._onStoragePut=function(t){t&&this.errorTrigger.fire(t)},t}();i.StorageResolver=o},{\"./ExecutionMode\":9,\"@akashic/akashic-engine\":1}],20:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./ExecutionMode\"),o=function(){function t(e){this.currentAge=0,this.knownLatestAge=-1,this.gotNextTickTrigger=new r.Trigger,this.gotNoTickTrigger=new r.Trigger,this.gotStorageTrigger=new r.Trigger,this._amflow=e.amflow,this._prefetchThreshold=e.prefetchThreshold||t.DEFAULT_PREFETCH_THRESHOLD,this._sizeRequestOnce=e.sizeRequestOnce||t.DEFAULT_SIZE_REQUEST_ONCE,this._executionMode=e.executionMode,this._startedAt=e.startedAt||0,this._oldTimestampThreshold=null!=e.startedAt?e.startedAt-864e6:0,this._receiving=!1,this._tickRanges=[],this._nearestAbsentAge=this.currentAge,this._nextTickTimeCache=null,this._addTick_bound=this.addTick.bind(this),this._onTicks_bound=this._onTicks.bind(this)}return t.prototype.start=function(){this._receiving=!0,this._updateAmflowReceiveState()},t.prototype.stop=function(){this._receiving=!1,this._updateAmflowReceiveState()},t.prototype.setExecutionMode=function(t){this._executionMode!==t&&(this._dropUntil(this.knownLatestAge+1),this.knownLatestAge=this.currentAge,this._nextTickTimeCache=null,this._nearestAbsentAge=this.currentAge,this._executionMode=t,this._updateAmflowReceiveState())},t.prototype.setCurrentAge=function(t){this._dropUntil(t),this._nextTickTimeCache=null,this.currentAge=t,this._nearestAbsentAge=this._findNearestAbscentAge(t)},t.prototype.hasNextTick=function(){return this.currentAge!==this._nearestAbsentAge},t.prototype.consume=function(){if(this.currentAge===this._nearestAbsentAge)return null;var t=this.currentAge,e=this._tickRanges[0];return t===e.start?(this._nextTickTimeCache=null,++this.currentAge,++e.start,t+this._prefetchThreshold===this._nearestAbsentAge&&this.requestTicks(this._nearestAbsentAge,this._sizeRequestOnce),e.start===e.end&&this._tickRanges.shift(),e.ticks.length>0&&e.ticks[0][0]===t?e.ticks.shift():t):(this._dropUntil(this.currentAge),this.consume())},t.prototype.readNextTickTime=function(){if(null!=this._nextTickTimeCache)return this._nextTickTimeCache;if(this.currentAge===this._nearestAbsentAge)return null;var t=this.currentAge,e=this._tickRanges[0];if(t===e.start){if(0===e.ticks.length)return null;var i=e.ticks[0];if(i[0]!==t)return null;var r=i[1];if(!r)return null;for(var n=0;n<r.length;++n)if(2===r[n][0]){var o=r[n][3];return o<this._oldTimestampThreshold&&(o+=this._startedAt),this._nextTickTimeCache=o,o}return null}return this._dropUntil(this.currentAge),this.readNextTickTime()},t.prototype.requestTicks=function(t,e){void 0===t&&(t=this.currentAge),void 0===e&&(e=this._sizeRequestOnce),this._executionMode===n.default.Passive&&this._amflow.getTickList(t,t+e,this._onTicks_bound)},t.prototype.addTick=function(t){var e=t[0],i=this.currentAge===e&&this._nearestAbsentAge===e;this.knownLatestAge<e&&(this.knownLatestAge=e),t[2]&&this.gotStorageTrigger.fire({age:t[0],storageData:t[2]});for(var r=this._tickRanges.length-1;r>=0;--r){var n=this._tickRanges[r];if(e>=n.start)break}var o=this._tickRanges[r+1];if(r<0)this._tickRanges.unshift(this._createTickRangeFromTick(t));else{var n=this._tickRanges[r];e===n.end?(++n.end,t[1]&&n.ticks.push(t)):e>n.end&&this._tickRanges.splice(r+1,0,this._createTickRangeFromTick(t))}this._nearestAbsentAge===e&&(++this._nearestAbsentAge,o&&this._nearestAbsentAge===o.start&&(this._nearestAbsentAge=this._findNearestAbscentAge(this._nearestAbsentAge))),i&&this.gotNextTickTrigger.fire()},t.prototype.addTickList=function(t){var e=t[0],i=t[1]+1,r=t[2],n=e,o=i;this.knownLatestAge<i-1&&(this.knownLatestAge=i-1);var s=0,a=this._tickRanges.length;for(s=0;s<a;++s){var h=this._tickRanges[s];if(e<h.start)break}var c=s;if(s>0){--s;var u=this._tickRanges[s].end;e<u&&(e=u)}for(;s<a;++s){var h=this._tickRanges[s];if(i<=h.end)break}if(s<a){var l=this._tickRanges[s].start;i>l&&(i=l)}if(e>=i)return{start:e,end:e,ticks:[]};r||(r=[]),n===e&&o===i||(r=r.filter(function(t){var r=t[0];return e<=r&&r<i}));for(var d=0;d<r.length;++d){var p=r[d];p[2]&&this.gotStorageTrigger.fire({age:p[0],storageData:p[2]})}var f={start:e,end:i,ticks:r},_=Math.max(0,s-c);return this._tickRanges.splice(c,_,f),e<=this._nearestAbsentAge&&this._nearestAbsentAge<i&&(this._nearestAbsentAge=this._findNearestAbscentAge(this._nearestAbsentAge)),f},t.prototype._updateAmflowReceiveState=function(){this._receiving&&this._executionMode===n.default.Passive?this._amflow.onTick(this._addTick_bound):this._amflow.offTick(this._addTick_bound)},t.prototype._onTicks=function(t,e){if(t)throw new Error;if(!e)return void this.gotNoTickTrigger.fire();var i=this.currentAge===this._nearestAbsentAge,r=this.addTickList(e);i&&r.start<=this.currentAge&&this.currentAge<r.end&&this.gotNextTickTrigger.fire(),r.ticks.length||this.gotNoTickTrigger.fire()},t.prototype._findNearestAbscentAge=function(t){for(var e=0,i=this._tickRanges.length;e<i&&!(t<=this._tickRanges[e].end);++e);for(;e<i;++e){var r=this._tickRanges[e];if(t<r.start)break;t=r.end}return t},t.prototype._dropUntil=function(t){var e;for(e=0;e<this._tickRanges.length&&!(t<this._tickRanges[e].end);++e);if(this._tickRanges=this._tickRanges.slice(e),0!==this._tickRanges.length){var i=this._tickRanges[0];if(!(t<i.start)){for(i.start=t,e=0;e<i.ticks.length&&!(t<=i.ticks[e][0]);++e);i.ticks=i.ticks.slice(e)}}},t.prototype._createTickRangeFromTick=function(t){var e=t[0],i={start:e,end:e+1,ticks:[]};return t[1]&&i.ticks.push(t),i},t.DEFAULT_PREFETCH_THRESHOLD=1800,t.DEFAULT_SIZE_REQUEST_ONCE=9e3,t}();i.TickBuffer=o},{\"./ExecutionMode\":9,\"@akashic/akashic-engine\":1}],21:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./ExecutionMode\"),o=t(\"./TickBuffer\"),s=t(\"./TickGenerator\"),a=t(\"./StorageResolver\"),h=function(){function t(t){this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this._amflow=t.amflow,this._clock=t.clock,this._started=!1,this._executionMode=t.executionMode,this._generator=new s.TickGenerator({amflow:t.amflow,eventBuffer:t.eventBuffer,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._buffer=new o.TickBuffer({amflow:t.amflow,executionMode:t.executionMode,startedAt:t.startedAt}),this._storageResolver=new a.StorageResolver({game:t.game,amflow:t.amflow,tickGenerator:this._generator,tickBuffer:this._buffer,executionMode:t.executionMode,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._generator.tickTrigger.add(this._onTickGenerated,this),this._clock.frameTrigger.add(this._generator.next,this._generator)}return t.prototype.startTick=function(){this._started=!0,this._updateGeneratorState()},t.prototype.stopTick=function(){this._started=!1,this._updateGeneratorState()},t.prototype.startTickOnce=function(){this._started=!0,this._generator.tickTrigger.addOnce(this._stopTriggerOnTick,this),this._updateGeneratorState()},t.prototype.setNextAge=function(t){this._generator.setNextAge(t)},t.prototype.forceGenerateTick=function(){this._generator.forceNext()},t.prototype.getBuffer=function(){return this._buffer},t.prototype.storageFunc=function(){return{storageGetFunc:this._storageResolver.getStorageFunc,storagePutFunc:this._storageResolver.putStorageFunc,requestValuesForJoinFunc:this._storageResolver.requestValuesForJoinFunc}},t.prototype.setExecutionMode=function(t){this._executionMode!==t&&(this._executionMode=t,this._updateGeneratorState(),this._buffer.setExecutionMode(t),this._storageResolver.setExecutionMode(t))},t.prototype._stopTriggerOnTick=function(){this.stopTick()},t.prototype._updateGeneratorState=function(){var t=this._started&&this._executionMode===n.default.Active;this._generator.startStopGenerate(t)},t.prototype._onTickGenerated=function(t){this._amflow.sendTick(t),this._buffer.addTick(t)},t}();i.TickController=h},{\"./ExecutionMode\":9,\"./StorageResolver\":19,\"./TickBuffer\":20,\"./TickGenerator\":22,\"@akashic/akashic-engine\":1}],22:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./JoinResolver\"),o=function(){function t(t){this.tickTrigger=new r.Trigger,this.gotStorageTrigger=new r.Trigger,this.errorTrigger=new r.Trigger,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner),this._amflow=t.amflow,\nthis._eventBuffer=t.eventBuffer,this._joinResolver=new n.JoinResolver({amflow:t.amflow,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._nextAge=0,this._storageDataForNext=null,this._generatingTick=!1,this._waitingStorage=!1,this._onGotStorageData_bound=this._onGotStorageData.bind(this)}return t.prototype.next=function(){if(this._generatingTick&&!this._waitingStorage){var t=this._eventBuffer.readJoinLeaves();if(t)for(var e=0;e<t.length;++e)this._joinResolver.request(t[e]);var i=this._eventBuffer.readEvents(),r=this._joinResolver.readResolved();r&&(i?i.push.apply(i,r):i=r);var n=this._storageDataForNext;this._storageDataForNext=null,this.tickTrigger.fire([this._nextAge++,i,n])}},t.prototype.forceNext=function(){if(this._waitingStorage)return void this.errorTrigger.fire(new Error(\"TickGenerator#forceNext(): cannot generate tick while waiting storage.\"));var t=this._generatingTick;this._generatingTick=!0,this.next(),this._generatingTick=t},t.prototype.startStopGenerate=function(t){this._generatingTick=t},t.prototype.startTick=function(){this._generatingTick=!0},t.prototype.stopTick=function(){this._generatingTick=!1},t.prototype.setNextAge=function(t){if(this._waitingStorage)return void this.errorTrigger.fire(new Error(\"TickGenerator#setNextAge(): cannot change the next age while waiting storage.\"));this._nextAge=t},t.prototype.requestStorageTick=function(t){if(this._waitingStorage){var e=r.ExceptionFactory.createAssertionError(\"TickGenerator#requestStorageTick(): Unsupported: multiple storage request\");return this.errorTrigger.fire(e),-1}return this._waitingStorage=!0,this._amflow.getStorageData(t,this._onGotStorageData_bound),this._nextAge},t.prototype.setRequestValuesForJoin=function(t){this._joinResolver.setRequestValuesForJoin(t)},t.prototype._onGotStorageData=function(t,e){if(this._waitingStorage=!1,t)return void this.errorTrigger.fire(t);this._storageDataForNext=e,this.gotStorageTrigger.fire({age:this._nextAge,storageData:e})},t}();i.TickGenerator=o},{\"./JoinResolver\":13,\"@akashic/akashic-engine\":1}],23:[function(t,e,i){\"use strict\";function r(t){return t&&\"object\"==typeof t?Array.isArray(t)?t.map(r):Object.keys(t).reduce(function(e,i){return e[i]=r(t[i]),e},{}):t}Object.defineProperty(i,\"__esModule\",{value:!0});var n=function(){function t(t){this._playId=t.playId,this._putStorageDataSyncFunc=t.putStorageDataSyncFunc||function(){throw new Error(\"Implementation not given\")},this._getStorageDataSyncFunc=t.getStorageDataSyncFunc||function(){throw new Error(\"Implementation not given\")},this._tickHandlers=[],this._eventHandlers=[],this._events=[],this._tickList=null,t.startPoints?(this._tickList=t.tickList,this._startPoints=t.startPoints):this._startPoints=[]}return t.prototype.dump=function(){return{tickList:this._tickList,startPoints:this._startPoints}},t.prototype.open=function(t,e){var i=this;setTimeout(function(){if(t!==i._playId)return void e(new Error(\"MemoryAmflowClient#open: unknown playId\"));e(null)},0)},t.prototype.close=function(t){setTimeout(function(){t(null)},0)},t.prototype.authenticate=function(e,i){setTimeout(function(){switch(e){case t.TOKEN_ACTIVE:i(null,{writeTick:!0,readTick:!0,subscribeTick:!1,sendEvent:!1,subscribeEvent:!0,maxEventPriority:2});break;case t.TOKEN_PASSIVE:i(null,{writeTick:!1,readTick:!0,subscribeTick:!0,sendEvent:!0,subscribeEvent:!1,maxEventPriority:2});break;default:i(null,{writeTick:!0,readTick:!0,subscribeTick:!0,sendEvent:!0,subscribeEvent:!0,maxEventPriority:2})}},0)},t.prototype.sendTick=function(t){if(t=r(t),this._tickList){if(this._tickList[0]<=t[0]&&t[0]<=this._tickList[1])throw new Error(\"illegal age tick\");this._tickList[1]=t[0]}else this._tickList=[t[0],t[0],[]];(t[1]||t[2])&&this._tickList[2].push(t),this._tickHandlers.forEach(function(e){return e(t)})},t.prototype.onTick=function(t){this._tickHandlers.push(t)},t.prototype.offTick=function(t){this._tickHandlers=this._tickHandlers.filter(function(e){return e!==t})},t.prototype.sendEvent=function(t){if(t=r(t),0===this._eventHandlers.length)return void this._events.push(t);this._eventHandlers.forEach(function(e){return e(t)})},t.prototype.onEvent=function(t){var e=this;this._eventHandlers.push(t),this._events.length>0&&(this._events.forEach(function(t){e._eventHandlers.forEach(function(e){return e(t)})}),this._events=[])},t.prototype.offEvent=function(t){this._eventHandlers=this._eventHandlers.filter(function(e){return e!==t})},t.prototype.getTickList=function(t,e,i){if(!this._tickList)return void setTimeout(function(){return i(null,null)},0);t=Math.max(t,this._tickList[0]),e=Math.min(e,this._tickList[1]);var r=this._tickList[2].filter(function(i){var r=i[0];return t<=r&&r<=e}),n=[t,e,r];setTimeout(function(){return i(null,n)},0)},t.prototype.putStartPoint=function(t,e){var i=this;setTimeout(function(){i._startPoints.push(t),e(null)},0)},t.prototype.getStartPoint=function(t,e){var i=this;setTimeout(function(){if(!i._startPoints||0===i._startPoints.length)return void e(new Error(\"no startpoint\"));var r=0;if(null!=t.frame)for(var n=i._startPoints[0].frame,o=1;o<i._startPoints.length;++o){var s=i._startPoints[o].frame;s<=t.frame&&n<s&&(n=s,r=o)}else for(var a=i._startPoints[0].timestamp,o=1;o<i._startPoints.length;++o){var h=i._startPoints[o].timestamp;h<=t.timestamp&&a<h&&(a=h,r=o)}e(null,i._startPoints[r])},0)},t.prototype.putStorageData=function(t,e,i,r){var n=this;setTimeout(function(){try{n._putStorageDataSyncFunc(t,e,i),r(null)}catch(t){r(t)}},0)},t.prototype.getStorageData=function(t,e){var i=this;setTimeout(function(){try{var r=i._getStorageDataSyncFunc(t);e(null,r)}catch(t){e(t)}},0)},t.prototype.dropAfter=function(t){if(this._tickList){var e=this._tickList[0],i=this._tickList[1];t<=e?(this._tickList=null,this._startPoints=[]):t<=i&&(this._tickList[1]=t-1,this._tickList[2]=this._tickList[2].filter(function(i){var r=i[0];return e<=r&&r<=t-1}),this._startPoints=this._startPoints.filter(function(e){return e.frame<t}))}},t.TOKEN_ACTIVE=\"mamfc-token:active\",t.TOKEN_PASSIVE=\"mamfc-token:passive\",t}();i.MemoryAmflowClient=n,i._cloneDeep=r},{}],24:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this._amflow=t.amflow,this._tickList=t.tickList,this._startPoints=t.startPoints}return t.prototype.dropAfter=function(t){if(this._tickList){var e=this._tickList[0],i=this._tickList[1],r=this._tickList[2];t<=e?(this._tickList=null,this._startPoints=[]):t<=i&&(this._tickList[1]=t-1,this._tickList[2]=this._sliceTicks(r,i,t-1),this._startPoints=this._startPoints.filter(function(e){return e.frame<t}))}},t.prototype.open=function(t,e){this._amflow.open(t,e)},t.prototype.close=function(t){this._amflow.close(t)},t.prototype.authenticate=function(t,e){this._amflow.authenticate(t,e)},t.prototype.sendTick=function(t){this._amflow.sendTick(t)},t.prototype.onTick=function(t){this._amflow.onTick(t)},t.prototype.offTick=function(t){this._amflow.offTick(t)},t.prototype.sendEvent=function(t){this._amflow.sendEvent(t)},t.prototype.onEvent=function(t){this._amflow.onEvent(t)},t.prototype.offEvent=function(t){this._amflow.offEvent(t)},t.prototype.getTickList=function(t,e,i){var r=this;if(!this._tickList)return void this._amflow.getTickList(t,e,i);var n=this._tickList[0],o=this._tickList[1],s=this._tickList[2],a=n<=t&&t<=o,h=n<=e&&e<=o;a&&h?setTimeout(function(){i(null,[t,e,r._sliceTicks(s,t,e)])},0):this._amflow.getTickList(t,e,function(c,u){if(c)return void i(c);if(u)if(a||h)if(a){var l=r._sliceTicks(s,t,e).concat(u[2]||[]);i(null,[t,u[1],l])}else{var l=(u[2]||[]).concat(r._sliceTicks(s,t,e));i(null,[u[0],e,l])}else if(e<n||o<t)i(null,u);else{var l=u[2];if(l){var d=r._sliceTicks(l,t,n-1),p=r._sliceTicks(l,o+1,e);l=d.concat(s,p)}else l=s;i(null,[t,e,l])}else a||h?a?i(null,[t,o,r._sliceTicks(s,t,e)]):i(null,[n,e,r._sliceTicks(s,t,e)]):e<n||o<t?i(null,u):i(null,[n,o,r._sliceTicks(s,t,e)])})},t.prototype.putStartPoint=function(t,e){this._amflow.putStartPoint(t,e)},t.prototype.getStartPoint=function(t,e){var i=this,r=0;if(this._startPoints.length>0)if(null!=t.frame)for(var n=this._startPoints[0].frame,o=1;o<this._startPoints.length;++o){var s=this._startPoints[o].frame;s<=t.frame&&n<s&&(n=s,r=o)}else for(var a=this._startPoints[0].timestamp,o=1;o<this._startPoints.length;++o){var h=this._startPoints[o].timestamp;h<=t.timestamp&&a<h&&(a=h,r=o)}var c=this._tickList?this._tickList[1]:-1;t.frame>c?this._amflow.getStartPoint(t,function(t,n){if(t)return void e(t);c<n.frame?e(null,n):e(null,i._startPoints[r])}):setTimeout(function(){e(null,i._startPoints[r])},0)},t.prototype.putStorageData=function(t,e,i,r){this._amflow.putStorageData(t,e,i,r)},t.prototype.getStorageData=function(t,e){this._amflow.getStorageData(t,e)},t.prototype._sliceTicks=function(t,e,i){return t.filter(function(t){var r=t[0];return e<=r&&r<=i})},t}();i.ReplayAmflowProxy=r},{}],25:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(e){this._interval=null!=e.interval?e.interval:t.DEFAULT_INTERVAL,null!=e.limit?this._limit=e.limit>=t.DEFAULT_LIMIT?e.limit:t.DEFAULT_LIMIT:this._limit=t.DEFAULT_LIMIT,this._calculateProfilerValueTrigger=new r.Trigger,e.getValueHandler&&this._calculateProfilerValueTrigger.add(e.getValueHandler,e.getValueHandlerOwner),this._reset()}return t.prototype.time=function(t){this._beforeTimes[t]=this._getCurrentTime()},t.prototype.timeEnd=function(t){var e=this._getCurrentTime(),i=null!=this._beforeTimes[t]?e-this._beforeTimes[t]:0;this._values[t].push({time:e,value:i})},t.prototype.flush=function(){var e=this._getCurrentTime();if(0===this._beforeFlushTime&&(this._beforeFlushTime=e),this._beforeFlushTime+this._interval<e&&(this._calculateProfilerValueTrigger.fire(this.getProfilerValue(this._interval)),this._beforeFlushTime=e),this._values[1].length>this._limit)for(var i in this._values)this._values.hasOwnProperty(i)&&(this._values[i]=this._values[i].slice(-t.BACKUP_MARGIN))},t.prototype.setValue=function(t,e){this._values[t].push({time:this._getCurrentTime(),value:e})},t.prototype.getProfilerValue=function(t){var e=this._calculateProfilerValue(1,t);return{skippedFrameCount:this._calculateProfilerValue(0,t),rawFrameInterval:e,framePerSecond:{ave:1e3/e.ave,max:1e3/e.min,min:1e3/e.max},frameTime:this._calculateProfilerValue(2,t),renderingTime:this._calculateProfilerValue(3,t)}},t.prototype._reset=function(){this._startTime=this._getCurrentTime(),this._beforeFlushTime=0,this._beforeTimes=[],this._beforeTimes[1]=0,this._beforeTimes[2]=0,this._beforeTimes[3]=0,this._beforeTimes[0]=0,this._values=[],this._values[1]=[],this._values[2]=[],this._values[3]=[],this._values[0]=[]},t.prototype._calculateProfilerValue=function(t,e){for(var i=this._getCurrentTime()-e,r=0,n=0,o=0,s=Number.MAX_VALUE,a=this._values[t].length-1;a>=0&&!(0<n&&this._values[t][a].time<i);--a){var h=this._values[t][a].value;o<h&&(o=h),h<s&&(s=h),r+=h,++n}return{ave:r/n,max:o,min:s}},t.prototype._getCurrentTime=function(){return+new Date},t.DEFAULT_INTERVAL=1e3,t.DEFAULT_LIMIT=1e3,t.BACKUP_MARGIN=100,t}();i.SimpleProfiler=n},{\"@akashic/akashic-engine\":1}],26:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0}),i.DEFAULT_DELAY_IGNORE_THRESHOLD=6,i.DEFAULT_SKIP_TICKS_AT_ONCE=100,i.DEFAULT_SKIP_THRESHOLD=100,i.DEFAULT_JUMP_TRY_THRESHOLD=3e4,i.DEFAULT_JUMP_IGNORE_THRESHOLD=15e3,i.DEFAULT_POLLING_TICK_THRESHOLD=1e4},{}],27:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t(\"./constants\"));var r=t(\"./EventIndex\");i.EventIndex=r;var n=t(\"./LoopMode\");i.LoopMode=n.default;var o=t(\"./LoopRenderMode\");i.LoopRenderMode=o.default;var s=t(\"./ExecutionMode\");i.ExecutionMode=s.default;var a=t(\"./GameDriver\");i.GameDriver=a.GameDriver;var h=t(\"./Game\");i.Game=h.Game;var c=t(\"./auxiliary/ReplayAmflowProxy\");i.ReplayAmflowProxy=c.ReplayAmflowProxy;var u=t(\"./auxiliary/MemoryAmflowClient\");i.MemoryAmflowClient=u.MemoryAmflowClient;var l=t(\"./auxiliary/SimpleProfiler\");i.SimpleProfiler=l.SimpleProfiler},{\"./EventIndex\":8,\"./ExecutionMode\":9,\"./Game\":10,\"./GameDriver\":11,\"./LoopMode\":14,\"./LoopRenderMode\":15,\"./auxiliary/MemoryAmflowClient\":23,\"./auxiliary/ReplayAmflowProxy\":24,\"./auxiliary/SimpleProfiler\":25,\"./constants\":26}],28:[function(t,e,i){e.exports=t(\"./lib/full/index\")},{\"./lib/full/index\":63}],29:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(){this.audioAssets=[],this._masterVolume=1}return t.prototype.registerAudioAsset=function(t){-1===this.audioAssets.indexOf(t)&&this.audioAssets.push(t)},t.prototype.removeAudioAsset=function(t){var e=this.audioAssets.indexOf(t);-1===e&&this.audioAssets.splice(e,1)},t.prototype.setMasterVolume=function(t){this._masterVolume=t;for(var e=0;e<this.audioAssets.length;e++)this.audioAssets[e]._lastPlayedPlayer&&this.audioAssets[e]._lastPlayedPlayer.notifyMasterVolumeChanged()},t.prototype.getMasterVolume=function(){return this._masterVolume},t}();i.AudioManager=r},{}],30:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./InputHandlerLayer\"),o=function(){function t(t){this.container=null,this.surface=null,this.inputHandlerLayer=null,this.rootView=null,this.useResizeForScaling=!1,this.pointEventTrigger=new r.Trigger,this._rendererReq=null,this._disablePreventDefault=!1,this.resourceFactory=t}return t.prototype.initialize=function(t){this._rendererReq=t.rendererRequirement,this._disablePreventDefault=!!t.disablePreventDefault,this._loadView()},t.prototype.setRootView=function(t){t!==this.rootView&&(this.rootView&&(this.unloadView(),this._loadView()),this.rootView=t,this._appendToRootView(t))},t.prototype.resetView=function(t){this.unloadView(),this._rendererReq=t,this._loadView(),this._appendToRootView(this.rootView)},t.prototype.getRenderer=function(){if(!this.surface)throw new Error(\"this container has no surface\");return this.surface.renderer()},t.prototype.changeScale=function(t,e){this.useResizeForScaling?this.surface.changePhysicalScale(t,e):this.surface.changeVisualScale(t,e),this.inputHandlerLayer._inputHandler.setScale(t,e)},t.prototype.unloadView=function(){if(this.inputHandlerLayer.disablePointerEvent(),this.rootView)for(;this.rootView.firstChild;)this.rootView.removeChild(this.rootView.firstChild)},t.prototype._loadView=function(){var t=this._rendererReq,e=t.primarySurfaceWidth,i=t.primarySurfaceHeight,r=this._disablePreventDefault;this.container=document.createDocumentFragment(),this.inputHandlerLayer?(this.inputHandlerLayer.setViewSize({width:e,height:i}),this.inputHandlerLayer.pointEventTrigger.removeAll(),this.surface&&!this.surface.destroyed()&&(this.inputHandlerLayer.view.removeChild(this.surface.canvas),this.surface.destroy())):this.inputHandlerLayer=new n.InputHandlerLayer({width:e,height:i,disablePreventDefault:r}),this.surface=this.resourceFactory.createPrimarySurface(e,i),this.inputHandlerLayer.view.appendChild(this.surface.getHTMLElement()),this.container.appendChild(this.inputHandlerLayer.view)},t.prototype._appendToRootView=function(t){t.appendChild(this.container),this.inputHandlerLayer.enablePointerEvent(),this.inputHandlerLayer.pointEventTrigger.add(this.pointEventTrigger.fire,this.pointEventTrigger)},t}();i.ContainerController=o},{\"./InputHandlerLayer\":31,\"@akashic/akashic-engine\":1}],31:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./handler/TouchHandler\"),o=function(){function t(t){this.view=this._createInputView(t.width,t.height),this._inputHandler=void 0,this.pointEventTrigger=new r.Trigger,this._disablePreventDefault=!!t.disablePreventDefault}return t.prototype.enablePointerEvent=function(){var t=this;this._inputHandler=new n.TouchHandler(this.view,this._disablePreventDefault),this._inputHandler.pointTrigger.add(function(e){t.pointEventTrigger.fire(e)}),this._inputHandler.start()},t.prototype.disablePointerEvent=function(){this._inputHandler&&this._inputHandler.stop()},t.prototype.setOffset=function(t){var e=\"position:relative; left:\"+t.x+\"px; top:\"+t.y+\"px\";this._inputHandler.inputView.setAttribute(\"style\",e)},t.prototype.setViewSize=function(t){var e=this.view;e.style.width=t.width+\"px\",e.style.height=t.height+\"px\"},t.prototype._createInputView=function(t,e){var i=document.createElement(\"div\");return i.setAttribute(\"tabindex\",\"1\"),i.className=\"input-handler\",i.setAttribute(\"style\",\"display:inline-block; outline:none;\"),i.style.width=t+\"px\",i.style.height=e+\"px\",i},t}();i.InputHandlerLayer=o},{\"./handler/TouchHandler\":62,\"@akashic/akashic-engine\":1}],32:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./RafLooper\"),n=t(\"./ResourceFactory\"),o=t(\"./ContainerController\"),s=t(\"./plugin/AudioPluginManager\"),a=t(\"./AudioManager\"),h=t(\"./plugin/AudioPluginRegistry\"),c=t(\"./asset/XHRTextAsset\"),u=function(){function t(t){this.containerView=t.containerView,this.audioPluginManager=new s.AudioPluginManager,t.audioPlugins&&this.audioPluginManager.tryInstallPlugin(t.audioPlugins),this.audioPluginManager.tryInstallPlugin(h.AudioPluginRegistry.getRegisteredAudioPlugins()),this._audioManager=new a.AudioManager,this.amflow=t.amflow,this._platformEventHandler=null,this._resourceFactory=t.resourceFactory||new n.ResourceFactory({audioPluginManager:this.audioPluginManager,platform:this,audioManager:this._audioManager}),this.containerController=new o.ContainerController(this._resourceFactory),this._rendererReq=null,this._disablePreventDefault=!!t.disablePreventDefault}return t.prototype.setPlatformEventHandler=function(t){this.containerController&&(this.containerController.pointEventTrigger.removeAll({owner:this._platformEventHandler}),this.containerController.pointEventTrigger.add(t.onPointEvent,t)),this._platformEventHandler=t},t.prototype.loadGameConfiguration=function(t,e){var i=new c.XHRTextAsset(\"(game.json)\",t);i._load({_onAssetLoad:function(t){e(null,JSON.parse(i.data))},_onAssetError:function(t,i){e(i,null)}})},t.prototype.getResourceFactory=function(){return this._resourceFactory},t.prototype.setRendererRequirement=function(t){if(!t)return void(this.containerController&&this.containerController.unloadView());this._rendererReq=t,this._resourceFactory._rendererCandidates=this._rendererReq.rendererCandidates,this.containerController&&!this.containerController.inputHandlerLayer?(this.containerController.initialize({rendererRequirement:t,disablePreventDefault:this._disablePreventDefault}),this.containerController.setRootView(this.containerView),this._platformEventHandler&&this.containerController.pointEventTrigger.add(this._platformEventHandler.onPointEvent,this._platformEventHandler)):this.containerController.resetView(t)},t.prototype.getPrimarySurface=function(){return this.containerController.surface},t.prototype.getOperationPluginViewInfo=function(){var t=this;return{type:\"pdi-browser\",view:this.containerController.inputHandlerLayer.view,getScale:function(){return t.containerController.inputHandlerLayer._inputHandler.getScale()}}},t.prototype.createLooper=function(t){return new r.RafLooper(t)},t.prototype.sendToExternal=function(t,e){},t.prototype.registerAudioPlugins=function(t){return this.audioPluginManager.tryInstallPlugin(t)},t.prototype.setScale=function(t,e){this.containerController.changeScale(t,e)},t.prototype.notifyViewMoved=function(){},t.prototype.setMasterVolume=function(t){this._audioManager&&this._audioManager.setMasterVolume(t)},t.prototype.getMasterVolume=function(){if(this._audioManager)return this._audioManager.getMasterVolume()},t.prototype.destroy=function(){this.setRendererRequirement(void 0),this.setMasterVolume(0)},t}();i.Platform=u},{\"./AudioManager\":29,\"./ContainerController\":30,\"./RafLooper\":33,\"./ResourceFactory\":34,\"./asset/XHRTextAsset\":39,\"./plugin/AudioPluginManager\":64,\"./plugin/AudioPluginRegistry\":65}],33:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this._fun=t,this._timerId=void 0,this._prev=0}return t.prototype.start=function(){var t=this,e=function(i){null!=t._timerId&&(t._timerId=requestAnimationFrame(e),t._fun(i-t._prev),t._prev=i)},i=function(i){t._timerId=requestAnimationFrame(e),t._fun(0),t._prev=i};this._timerId=requestAnimationFrame(i)},t.prototype.stop=function(){cancelAnimationFrame(this._timerId),this._timerId=void 0,this._prev=0},t}();i.RafLooper=r},{}],34:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./asset/HTMLImageAsset\"),s=t(\"./asset/HTMLVideoAsset\"),a=t(\"./asset/XHRTextAsset\"),h=t(\"./asset/XHRScriptAsset\"),c=t(\"./canvas/GlyphFactory\"),u=t(\"./canvas/shims/SurfaceFactory\"),l=function(t){function e(e){var i=t.call(this)||this;return i._audioPluginManager=e.audioPluginManager,i._audioManager=e.audioManager,i._platform=e.platform,i._surfaceFactory=new u.SurfaceFactory,i}return r(e,t),e.prototype.createAudioAsset=function(t,e,i,r,n,o){var s=this._audioPluginManager.getActivePlugin(),a=s.createAsset(t,e,i,r,n,o);return a.onDestroyed&&(this._audioManager.registerAudioAsset(a),a.onDestroyed.add(this._onAudioAssetDestroyed,this)),a},e.prototype.createAudioPlayer=function(t){return this._audioPluginManager.getActivePlugin().createPlayer(t,this._audioManager)},e.prototype.createImageAsset=function(t,e,i,r){return new o.HTMLImageAsset(t,e,i,r)},e.prototype.createVideoAsset=function(t,e,i,r,n,o,a){return new s.HTMLVideoAsset(t,e,i,r,n,o,a)},e.prototype.createTextAsset=function(t,e){return new a.XHRTextAsset(t,e)},e.prototype.createScriptAsset=function(t,e){return new h.XHRScriptAsset(t,e)},e.prototype.createPrimarySurface=function(t,e){return this._surfaceFactory.createPrimarySurface(t,e,this._rendererCandidates)},e.prototype.createSurface=function(t,e){return this._surfaceFactory.createBackSurface(t,e,this._rendererCandidates)},e.prototype.createGlyphFactory=function(t,e,i,r,n,o,s,a){return new c.GlyphFactory(t,e,i,r,n,o,s,a)},e.prototype._onAudioAssetDestroyed=function(t){this._audioManager.removeAudioAsset(t)},e}(n.ResourceFactory);i.ResourceFactory=l},{\"./asset/HTMLImageAsset\":35,\"./asset/HTMLVideoAsset\":36,\"./asset/XHRScriptAsset\":38,\"./asset/XHRTextAsset\":39,\"./canvas/GlyphFactory\":42,\"./canvas/shims/SurfaceFactory\":48,\"@akashic/akashic-engine\":1}],35:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i,r){return t.call(this,e,i,r)||this}return r(e,t),e.prototype.renderer=function(){throw n.ExceptionFactory.createAssertionError(\"ImageAssetSurface cannot be rendered.\")},e.prototype.isPlaying=function(){return!1},e}(n.Surface);i.ImageAssetSurface=o;var s=function(t){function e(e,i,r,n){var o=t.call(this,e,i,r,n)||this;return o.data=void 0,o._surface=void 0,o}return r(e,t),e.prototype.destroy=function(){this._surface&&!this._surface.destroyed()&&this._surface.destroy(),this.data=void 0,this._surface=void 0,t.prototype.destroy.call(this)},e.prototype._load=function(t){var e=this,i=new Image;this.hint&&this.hint.untainted&&(i.crossOrigin=\"anonymous\"),i.onerror=function(){t._onAssetError(e,n.ExceptionFactory.createAssetLoadError(\"HTMLImageAsset unknown loading error\"))},i.onload=function(){e.data=i,t._onAssetLoad(e)},i.src=this.path},e.prototype.asSurface=function(){if(!this.data)throw n.ExceptionFactory.createAssertionError(\"ImageAssetImpl#asSurface: not yet loaded.\");return this._surface?this._surface:(this._surface=new o(this.width,this.height,this.data),this._surface)},e}(n.ImageAsset);i.HTMLImageAsset=s},{\"@akashic/akashic-engine\":1}],36:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./HTMLVideoPlayer\"),s=function(t){function e(e,i,r){return t.call(this,e,i,r,!0)||this}return r(e,t),e.prototype.renderer=function(){throw n.ExceptionFactory.createAssertionError(\"VideoAssetSurface cannot be rendered.\")},e.prototype.isPlaying=function(){return!1},e}(n.Surface),a=function(t){function e(e,i,r,n,a,h,c){var u=t.call(this,e,i,r,n,a,h,c)||this;return u._player=new o.HTMLVideoPlayer,u._surface=new s(r,n,null),u}return r(e,t),e.prototype.inUse=function(){return!1},e.prototype._load=function(t){var e=this;setTimeout(function(){t._onAssetLoad(e)},0)},e.prototype.getPlayer=function(){return this._player},e.prototype.asSurface=function(){return this._surface},e}(n.VideoAsset);i.HTMLVideoAsset=a},{\"./HTMLVideoPlayer\":37,\"@akashic/akashic-engine\":1}],37:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e){var i=t.call(this,e)||this;return i.isDummy=!0,i}return r(e,t),e.prototype.play=function(t){},e.prototype.stop=function(){},e.prototype.changeVolume=function(t){},e}(n.VideoPlayer);i.HTMLVideoPlayer=o},{\"@akashic/akashic-engine\":1}],38:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"../utils/XHRLoader\"),s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.script=void 0,r}return r(e,t),e.prototype._load=function(t){var e=this;(new o.XHRLoader).get(this.path,function(i,r){if(i)return void t._onAssetError(e,i);e.script=r+\"\\n\",t._onAssetLoad(e)})},e.prototype.execute=function(t){return this._wrap()(t),t.module.exports},e.prototype._wrap=function(){return new Function(\"g\",e.PRE_SCRIPT+this.script+e.POST_SCRIPT)},e.PRE_SCRIPT=\"(function(exports, require, module, __filename, __dirname) {\",e.POST_SCRIPT=\"\\n})(g.module.exports, g.module.require, g.module, g.filename, g.dirname);\",e}(n.ScriptAsset);i.XHRScriptAsset=s},{\"../utils/XHRLoader\":82,\"@akashic/akashic-engine\":1}],39:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"../utils/XHRLoader\"),s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.data=void 0,r}return r(e,t),e.prototype._load=function(t){var e=this;(new o.XHRLoader).get(this.path,function(i,r){if(i)return void t._onAssetError(e,i);e.data=r,t._onAssetLoad(e)})},e}(n.TextAsset);i.XHRTextAsset=s},{\"../utils/XHRLoader\":82,\"@akashic/akashic-engine\":1}],40:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t){this.matrix=t?new Float32Array(t.matrix):new Float32Array([1,0,0,1,0,0])}return t.prototype.scale=function(t,e){var i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this},t.prototype.translate=function(t,e){var i=this.matrix;return i[4]+=i[0]*t+i[2]*e,i[5]+=i[1]*t+i[3]*e,this},t.prototype.transform=function(t){var e=this.matrix,i=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],n=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],s=t[4]*e[0]+t[5]*e[2]+e[4],a=t[4]*e[1]+t[5]*e[3]+e[5];return e[0]=i,e[1]=r,e[2]=n,e[3]=o,e[4]=s,e[5]=a,this},t.prototype.setTransform=function(t){var e=this.matrix;e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5]},t.prototype.copyFrom=function(t){return this.matrix.set(t.matrix),this},t}();i.AffineTransformer=r},{}],41:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i){var r=this,n=document.createElement(\"canvas\");return r=t.call(this,e,i,n)||this,n.width=e,n.height=i,r.canvas=n,r._renderer=void 0,r}return r(e,t),e.prototype.destroy=function(){this.canvas.width=1,this.canvas.height=1,this.canvas=null,this._renderer=null,t.prototype.destroy.call(this)},e.prototype.getHTMLElement=function(){return this.canvas},e.prototype.changeVisualScale=function(t,e){var i=this.canvas.style;\"transform\"in i?(i.transformOrigin=\"0 0\",i.transform=\"scale(\"+t+\",\"+e+\")\"):\"webkitTransform\"in i?(i.webkitTransformOrigin=\"0 0\",i.webkitTransform=\"scale(\"+t+\",\"+e+\")\"):(i.width=Math.floor(t*this.width)+\"px\",i.height=Math.floor(e*this.width)+\"px\")},e}(n.Surface);i.CanvasSurface=o},{\"@akashic/akashic-engine\":1}],42:[function(t,e,i){\"use strict\";function r(t,e,i,r,n,o,s,a,h,c,d,f){var _=e<p._environmentMinimumFontSize?e/p._environmentMinimumFontSize:1,g=Math.ceil((e+2*n)*_),y=Math.ceil((e+2*o)*_),m=new l.Context2DSurface(g,y),v=m.canvas,T=v.getContext(\"2d\"),A=4294901760&t?String.fromCharCode((4294901760&t)>>>16,65535&t):String.fromCharCode(t),x=f===u.FontWeight.Bold?\"bold \":\"\";T.save(),T.font=x+e+\"px \"+i,T.textAlign=\"left\",T.textBaseline=\"alphabetic\",T.lineJoin=\"bevel\",1!==_&&T.scale(_,_),h>0&&(T.lineWidth=h,T.strokeStyle=c,T.strokeText(A,n,o+r)),d||(T.fillStyle=a,T.fillText(A,n,o+r));var w=T.measureText(A).width;return T.restore(),{surface:m,advanceWidth:w,imageData:s?T.getImageData(0,0,v.width,v.height):void 0}}function n(t){for(var e=t.width,i=t.height,r=0,n=0,o=0,s=0,a=t.height;s<a;s=s+1|0)for(var h=0,c=t.width;h<c;h=h+1|0){var u=t.data[o+3];0!==u&&(h<e&&(e=h),h>r&&(r=h),s<i&&(i=s),s>n&&(n=s)),o+=4}return e===t.width?{x:0,y:0,width:0,height:0}:{x:e,y:i,width:r-e+1,height:n-i+1}}function o(t){return 0===t.width||0===t.height}function s(t){switch(t){case u.FontFamily.Monospace:return\"monospace\";case u.FontFamily.Serif:return\"serif\";default:return\"sans-serif\"}}function a(t){return-1!==d.indexOf(t)?t:'\"'+t+'\"'}function h(t){return\"number\"==typeof t?s(t):\"string\"==typeof t?a(t):t.map(function(t){return\"string\"==typeof t?a(t):s(t)}).join(\",\")}var c=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{\n__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var u=t(\"@akashic/akashic-engine\"),l=t(\"./context2d/Context2DSurface\"),d=[\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\"],p=function(t){function e(i,r,n,o,a,c,l,d){var p=t.call(this,i,r,n,o,a,c,l,d)||this;p._glyphAreas={},p._cssFontFamily=h(i);var f=s(u.FontFamily.SansSerif);return-1===p._cssFontFamily.indexOf(f)&&(p._cssFontFamily+=\",\"+f),p._marginW=Math.ceil(.3*p.fontSize+p.strokeWidth/2),p._marginH=Math.ceil(.3*p.fontSize+p.strokeWidth/2),void 0===e._environmentMinimumFontSize&&(e._environmentMinimumFontSize=p.measureMinimumFontSize()),p}return c(e,t),e.prototype.create=function(t){var e,i=this._glyphAreas[t];return i||(e=r(t,this.fontSize,this._cssFontFamily,this.baselineHeight,this._marginW,this._marginH,!0,this.fontColor,this.strokeWidth,this.strokeColor,this.strokeOnly,this.fontWeight),i=n(e.imageData),i.advanceWidth=e.advanceWidth,this._glyphAreas[t]=i),o(i)?(e&&e.surface.destroy(),new u.Glyph(t,0,0,0,0,0,0,i.advanceWidth,void 0,!0)):(e||(e=r(t,this.fontSize,this._cssFontFamily,this.baselineHeight,this._marginW,this._marginH,!1,this.fontColor,this.strokeWidth,this.strokeColor,this.strokeOnly,this.fontWeight)),new u.Glyph(t,i.x,i.y,i.width,i.height,i.x-this._marginW,i.y-this._marginH,i.advanceWidth,e.surface,!0))},e.prototype.measureMinimumFontSize=function(){var t=1,e=document.createElement(\"canvas\"),i=e.getContext(\"2d\");i.textAlign=\"left\",i.textBaseline=\"alphabetic\",i.lineJoin=\"bevel\";var r;i.font=t+\"px sans-serif\";var n=i.measureText(\"M\").width;do{r=n,t+=1,i.font=t+\"px sans-serif\",n=i.measureText(\"M\").width}while(r===n||t>50);return t},e}(u.GlyphFactory);i.GlyphFactory=p},{\"./context2d/Context2DSurface\":47,\"@akashic/akashic-engine\":1}],43:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});!function(t){function e(t){if(0!=(t&t-1)){for(var e=1;e<t;)e*=2;return e}return t}function i(t){return Math.min(Math.max(t,0),1)}function r(t){var e=!1;return t&&0<t.length&&(e=\"webgl\"===t[0]),e}t.toPowerOfTwo=e,t.clamp=i,t.usedWebGL=r}(i.RenderingHelper||(i.RenderingHelper={}))},{}],44:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"../AffineTransformer\"),n=function(){function t(t){t?(this.fillStyle=t.fillStyle,this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer=new r.AffineTransformer(t.transformer)):(this.fillStyle=\"#000000\",this.globalAlpha=1,this.globalCompositeOperation=\"source-over\",this.transformer=new r.AffineTransformer)}return t}();i.CanvasRenderingState=n},{\"../AffineTransformer\":40}],45:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./CanvasRenderingState\"),n=function(){function t(t){this._stateStack=[],this._modifiedTransform=!1,this._context=t;var e=new r.CanvasRenderingState;this._currentFillStyle=e.fillStyle,this._currentGlobalAlpha=e.globalAlpha,this._currentGlobalCompositeOperation=e.globalCompositeOperation,this.pushState(e)}return Object.defineProperty(t.prototype,\"fillStyle\",{get:function(){return this.currentState().fillStyle},set:function(t){this.currentState().fillStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"globalAlpha\",{get:function(){return this.currentState().globalAlpha},set:function(t){this.currentState().globalAlpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"globalCompositeOperation\",{get:function(){return this.currentState().globalCompositeOperation},set:function(t){this.currentState().globalCompositeOperation=t},enumerable:!0,configurable:!0}),t.prototype.getCanvasRenderingContext2D=function(){return this._context},t.prototype.clearRect=function(t,e,i,r){this.prerender(),this._context.clearRect(t,e,i,r)},t.prototype.save=function(){var t=new r.CanvasRenderingState(this.currentState());this.pushState(t)},t.prototype.restore=function(){this.popState()},t.prototype.scale=function(t,e){this.currentState().transformer.scale(t,e),this._modifiedTransform=!0},t.prototype.drawImage=function(t,e,i,r,n,o,s,a,h){this.prerender(),this._context.drawImage(t,e,i,r,n,o,s,a,h)},t.prototype.fillRect=function(t,e,i,r){this.prerender(),this._context.fillRect(t,e,i,r)},t.prototype.fillText=function(t,e,i,r){this.prerender(),this._context.fillText(t,e,i,r)},t.prototype.strokeText=function(t,e,i,r){this.prerender(),this._context.strokeText(t,e,i,r)},t.prototype.translate=function(t,e){this.currentState().transformer.translate(t,e),this._modifiedTransform=!0},t.prototype.transform=function(t,e,i,r,n,o){this.currentState().transformer.transform([t,e,i,r,n,o]),this._modifiedTransform=!0},t.prototype.setTransform=function(t,e,i,r,n,o){this.currentState().transformer.setTransform([t,e,i,r,n,o]),this._modifiedTransform=!0},t.prototype.setGlobalAlpha=function(t){this.currentState().globalAlpha=t},t.prototype.getImageData=function(t,e,i,r){return this._context.getImageData(t,e,i,r)},t.prototype.putImageData=function(t,e,i,r,n,o,s){this._context.putImageData(t,e,i,r,n,o,s)},t.prototype.prerender=function(){var t=this.currentState();if(t.fillStyle!==this._currentFillStyle&&(this._context.fillStyle=t.fillStyle,this._currentFillStyle=t.fillStyle),t.globalAlpha!==this._currentGlobalAlpha&&(this._context.globalAlpha=t.globalAlpha,this._currentGlobalAlpha=t.globalAlpha),t.globalCompositeOperation!==this._currentGlobalCompositeOperation&&(this._context.globalCompositeOperation=t.globalCompositeOperation,this._currentGlobalCompositeOperation=t.globalCompositeOperation),this._modifiedTransform){var e=t.transformer;this._context.setTransform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this._modifiedTransform=!1}},t.prototype.pushState=function(t){this._stateStack.push(t)},t.prototype.popState=function(){this._stateStack.length<=1||(this._stateStack.pop(),this._modifiedTransform=!0)},t.prototype.currentState=function(){return this._stateStack[this._stateStack.length-1]},t}();i.CanvasSurfaceContext=n},{\"./CanvasRenderingState\":44}],46:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e){var i=t.call(this)||this;return i.surface=e,i.context=e.context(),i.canvasRenderingContext2D=i.context.getCanvasRenderingContext2D(),i}return r(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this.canvasRenderingContext2D.save(),this.context.save()},e.prototype.end=function(){this.canvasRenderingContext2D.restore(),this.context.restore(),t.prototype.end.call(this)},e.prototype.clear=function(){this.context.clearRect(0,0,this.surface.width,this.surface.height)},e.prototype.drawImage=function(t,e,i,r,n,o,s){this.context.drawImage(t._drawable,e,i,r,n,o,s,r,n)},e.prototype.drawSprites=function(t,e,i,r,n,o,s,a){for(var h=0;h<a;++h)this.drawImage(t,e[h],i[h],r[h],n[h],o[h],s[h])},e.prototype.drawSystemText=function(t,e,i,r,o,s,a,h,c,u,l,d){var p,f,_,g=this.canvasRenderingContext2D;switch(this.context.prerender(),g.save(),c){case n.FontFamily.Monospace:p=\"monospace\";break;case n.FontFamily.Serif:p=\"serif\";break;default:p=\"sans-serif\"}switch(g.font=o+\"px \"+p,s){case n.TextAlign.Right:f=\"right\";break;case n.TextAlign.Center:f=\"center\";break;default:f=\"left\"}switch(g.textAlign=f,a){case n.TextBaseline.Top:_=\"top\";break;case n.TextBaseline.Middle:_=\"middle\";break;case n.TextBaseline.Bottom:_=\"bottom\";break;default:_=\"alphabetic\"}g.textBaseline=_,g.lineJoin=\"bevel\",u>0&&(g.lineWidth=u,g.strokeStyle=l,void 0===r?g.strokeText(t,e,i):g.strokeText(t,e,i,r)),d||(g.fillStyle=h,g.fillText(t,e,i,r)),g.restore()},e.prototype.translate=function(t,e){this.context.translate(t,e)},e.prototype.transform=function(t){this.context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},e.prototype.opacity=function(t){this.context.globalAlpha*=t},e.prototype.save=function(){this.context.save()},e.prototype.restore=function(){this.context.restore()},e.prototype.fillRect=function(t,e,i,r,n){this.context.fillStyle=n,this.context.fillRect(t,e,i,r)},e.prototype.setCompositeOperation=function(t){var e;switch(t){case n.CompositeOperation.SourceAtop:e=\"source-atop\";break;case n.CompositeOperation.Lighter:e=\"lighter\";break;case n.CompositeOperation.Copy:e=\"copy\";break;case n.CompositeOperation.ExperimentalSourceIn:e=\"source-in\";break;case n.CompositeOperation.ExperimentalSourceOut:e=\"source-out\";break;case n.CompositeOperation.ExperimentalDestinationAtop:e=\"destination-atop\";break;case n.CompositeOperation.ExperimentalDestinationIn:e=\"destination-in\";break;case n.CompositeOperation.DestinationOut:e=\"destination-out\";break;case n.CompositeOperation.DestinationOver:e=\"destination-over\";break;case n.CompositeOperation.Xor:e=\"xor\";break;default:e=\"source-over\"}this.context.globalCompositeOperation=e},e.prototype.setOpacity=function(t){this.context.globalAlpha=t},e.prototype.setTransform=function(t){this.context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},e.prototype.setShaderProgram=function(t){throw n.ExceptionFactory.createAssertionError(\"Context2DRenderer#setShaderProgram() is not implemented\")},e.prototype.isSupportedShaderProgram=function(){return!1},e.prototype._getImageData=function(t,e,i,r){return this.context.getImageData(t,e,i,r)},e.prototype._putImageData=function(t,e,i,r,n,o,s){void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=t.width),void 0===s&&(s=t.height),this.context.putImageData(t,e,i,r,n,o,s)},e}(n.Renderer);i.Context2DRenderer=o},{\"@akashic/akashic-engine\":1}],47:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./Context2DRenderer\"),o=t(\"./CanvasSurfaceContext\"),s=t(\"../CanvasSurface\"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.context=function(){return this._context||(this._context=new o.CanvasSurfaceContext(this.canvas.getContext(\"2d\"))),this._context},e.prototype.renderer=function(){return this._renderer||(this._renderer=new n.Context2DRenderer(this)),this._renderer},e.prototype.changePhysicalScale=function(t,e){this.canvas.width=this.width*t,this.canvas.height=this.height*e,this._context.scale(t,e)},e.prototype.isPlaying=function(){return!1},e}(s.CanvasSurface);i.Context2DSurface=a},{\"../CanvasSurface\":41,\"./CanvasSurfaceContext\":45,\"./Context2DRenderer\":46}],48:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"../RenderingHelper\"),n=t(\"../context2d/Context2DSurface\"),o=t(\"../webgl/WebGLSharedObject\"),s=function(){function t(){}return t.prototype.createPrimarySurface=function(t,e,i){return r.RenderingHelper.usedWebGL(i)?(this._shared||(this._shared=new o.WebGLSharedObject(t,e)),this._shared.getPrimarySurface()):new n.Context2DSurface(t,e)},t.prototype.createBackSurface=function(t,e,i){return r.RenderingHelper.usedWebGL(i)?this._shared.createBackSurface(t,e):new n.Context2DSurface(t,e)},t}();i.SurfaceFactory=s},{\"../RenderingHelper\":43,\"../context2d/Context2DSurface\":47,\"../webgl/WebGLSharedObject\":57}],49:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./WebGLBackSurfaceRenderer\"),o=t(\"./WebGLPrimarySurface\"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.renderer=function(){return this._renderer||(this._renderer=new n.WebGLBackSurfaceRenderer(this,this._shared)),this._renderer},e.prototype.destroy=function(){this._renderer&&this._renderer.destroy(),this._renderer=void 0,this._drawable=void 0,t.prototype.destroy.call(this)},e}(o.WebGLPrimarySurface);i.WebGLBackSurface=s},{\"./WebGLBackSurfaceRenderer\":50,\"./WebGLPrimarySurface\":52}],50:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./WebGLRenderer\"),o=t(\"./WebGLRenderingState\"),s=function(t){function e(e,i){var r=t.call(this,i,i.createRenderTarget(e.width,e.height))||this;return e._drawable={texture:r._renderTarget.texture,textureOffsetX:0,textureOffsetY:0,textureWidth:e.width,textureHeight:e.height},r}return r(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this.save();var e=new o.WebGLRenderingState(this.currentState()),i=e.transformer.matrix;i[1]*=-1,i[3]*=-1,i[5]=-i[5]+this._renderTarget.height,this.currentState().copyFrom(e),this._shared.pushRenderTarget(this._renderTarget)},e.prototype.end=function(){this.restore(),this._shared.popRenderTarget(),t.prototype.end.call(this)},e}(n.WebGLRenderer);i.WebGLBackSurfaceRenderer=s},{\"./WebGLRenderer\":54,\"./WebGLRenderingState\":55}],51:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"../RenderingHelper\");!function(t){function e(e){var i=\"string\"==typeof e?t._toColor(e):[e[0],e[1],e[2],e[3]];return i[3]=r.RenderingHelper.clamp(i[3]),i[0]=r.RenderingHelper.clamp(i[0])*i[3],i[1]=r.RenderingHelper.clamp(i[1])*i[3],i[2]=r.RenderingHelper.clamp(i[2])*i[3],i}function i(t){var e=t[0]%360,i=t[1],r=t[2]>50?100-t[2]:t[2],n=t[3],o=r+r*i,s=r-r*i;return e<60?[o,e/60*(o-s)+s,s,n]:e<120?[(120-e)/60*(o-s)+s,o,s,n]:e<180?[s,o,(e-120)/60*(o-s)+s,n]:e<240?[s,(240-e)/60*(o-s)+s,o,n]:e<300?[(e-240)/60*(o-s)+s,s,o,n]:[o,s,(360-e)/60*(o-s)+s,n]}function n(e){var i=e.toUpperCase().replace(/\\s+/g,\"\"),n=t.colorMap[i];if(n)return n;if(i.match(/^#([\\dA-F])([\\dA-F])([\\dA-F])$/))return[parseInt(RegExp.$1,16)/15,parseInt(RegExp.$2,16)/15,parseInt(RegExp.$3,16)/15,1];if(i.match(/^#([\\dA-F]{2})([\\dA-F]{2})([\\dA-F]{2})$/))return[parseInt(RegExp.$1,16)/255,parseInt(RegExp.$2,16)/255,parseInt(RegExp.$3,16)/255,1];if(i.match(/^RGB\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)$/))return[parseInt(RegExp.$1,10)/255,parseInt(RegExp.$2,10)/255,parseInt(RegExp.$3,10)/255,1];if(i.match(/^RGBA\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3}),(\\d(\\.\\d*)?)\\)$/))return[parseInt(RegExp.$1,10)/255,parseInt(RegExp.$2,10)/255,parseInt(RegExp.$3,10)/255,parseFloat(RegExp.$4)];if(i.match(/^HSL\\((\\d{1,3}),(\\d{1,3})%,(\\d{1,3})%\\)$/))return t._hsl2rgb([parseInt(RegExp.$1,10),r.RenderingHelper.clamp(parseInt(RegExp.$2,10)/100),r.RenderingHelper.clamp(parseInt(RegExp.$3,10)/100),1]);if(i.match(/^HSLA\\((\\d{1,3}),(\\d{1,3})%,(\\d{1,3})%,(\\d(\\.\\d*)?)\\)$/))return t._hsl2rgb([parseInt(RegExp.$1,10),r.RenderingHelper.clamp(parseInt(RegExp.$2,10)/100),r.RenderingHelper.clamp(parseInt(RegExp.$3,10)/100),parseFloat(RegExp.$4)]);throw Error(\"illigal cssColor format: \"+i)}t.colorMap={ALICEBLUE:[240/255,248/255,1,1],ANTIQUEWHITE:[250/255,235/255,215/255,1],AQUA:[0,1,1,1],AQUAMARINE:[127/255,1,212/255,1],AZURE:[240/255,1,1,1],BEIGE:[245/255,245/255,220/255,1],BISQUE:[1,228/255,196/255,1],BLACK:[0,0,0,1],BLANCHEDALMOND:[1,235/255,205/255,1],BLUE:[0,0,1,1],BLUEVIOLET:[138/255,43/255,226/255,1],BROWN:[165/255,42/255,42/255,1],BURLYWOOD:[222/255,184/255,135/255,1],CADETBLUE:[95/255,158/255,160/255,1],CHARTREUSE:[127/255,1,0,1],CHOCOLATE:[210/255,105/255,30/255,1],CORAL:[1,127/255,80/255,1],CORNFLOWERBLUE:[100/255,149/255,237/255,1],CORNSILK:[1,248/255,220/255,1],CRIMSON:[220/255,20/255,60/255,1],CYAN:[0,1,1,1],DARKBLUE:[0,0,139/255,1],DARKCYAN:[0,139/255,139/255,1],DARKGOLDENROD:[184/255,134/255,11/255,1],DARKGRAY:[169/255,169/255,169/255,1],DARKGREEN:[0,100/255,0,1],DARKGREY:[169/255,169/255,169/255,1],DARKKHAKI:[189/255,183/255,107/255,1],DARKMAGENTA:[139/255,0,139/255,1],DARKOLIVEGREEN:[85/255,107/255,47/255,1],DARKORANGE:[1,140/255,0,1],DARKORCHID:[.6,50/255,.8,1],DARKRED:[139/255,0,0,1],DARKSALMON:[233/255,150/255,122/255,1],DARKSEAGREEN:[143/255,188/255,143/255,1],DARKSLATEBLUE:[72/255,61/255,139/255,1],DARKSLATEGRAY:[47/255,79/255,79/255,1],DARKSLATEGREY:[47/255,79/255,79/255,1],DARKTURQUOISE:[0,206/255,209/255,1],DARKVIOLET:[148/255,0,211/255,1],DEEPPINK:[1,20/255,147/255,1],DEEPSKYBLUE:[0,191/255,1,1],DIMGRAY:[105/255,105/255,105/255,1],DIMGREY:[105/255,105/255,105/255,1],DODGERBLUE:[30/255,144/255,1,1],FIREBRICK:[178/255,34/255,34/255,1],FLORALWHITE:[1,250/255,240/255,1],FORESTGREEN:[34/255,139/255,34/255,1],FUCHSIA:[1,0,1,1],GAINSBORO:[220/255,220/255,220/255,1],GHOSTWHITE:[248/255,248/255,1,1],GOLD:[1,215/255,0,1],GOLDENROD:[218/255,165/255,32/255,1],GRAY:[128/255,128/255,128/255,1],GREEN:[0,128/255,0,1],GREENYELLOW:[173/255,1,47/255,1],GREY:[128/255,128/255,128/255,1],HONEYDEW:[240/255,1,240/255,1],HOTPINK:[1,105/255,180/255,1],INDIANRED:[205/255,92/255,92/255,1],INDIGO:[75/255,0,130/255,1],IVORY:[1,1,240/255,1],KHAKI:[240/255,230/255,140/255,1],LAVENDER:[230/255,230/255,250/255,1],LAVENDERBLUSH:[1,240/255,245/255,1],LAWNGREEN:[124/255,252/255,0,1],LEMONCHIFFON:[1,250/255,205/255,1],LIGHTBLUE:[173/255,216/255,230/255,1],LIGHTCORAL:[240/255,128/255,128/255,1],LIGHTCYAN:[224/255,1,1,1],LIGHTGOLDENRODYELLOW:[250/255,250/255,210/255,1],LIGHTGRAY:[211/255,211/255,211/255,1],LIGHTGREEN:[144/255,238/255,144/255,1],LIGHTGREY:[211/255,211/255,211/255,1],LIGHTPINK:[1,182/255,193/255,1],LIGHTSALMON:[1,160/255,122/255,1],LIGHTSEAGREEN:[32/255,178/255,170/255,1],LIGHTSKYBLUE:[135/255,206/255,250/255,1],LIGHTSLATEGRAY:[119/255,136/255,.6,1],LIGHTSLATEGREY:[119/255,136/255,.6,1],LIGHTSTEELBLUE:[176/255,196/255,222/255,1],LIGHTYELLOW:[1,1,224/255,1],LIME:[0,1,0,1],LIMEGREEN:[50/255,205/255,50/255,1],LINEN:[250/255,240/255,230/255,1],MAGENTA:[1,0,1,1],MAROON:[128/255,0,0,1],MEDIUMAQUAMARINE:[.4,205/255,170/255,1],MEDIUMBLUE:[0,0,205/255,1],MEDIUMORCHID:[186/255,85/255,211/255,1],MEDIUMPURPLE:[147/255,112/255,219/255,1],MEDIUMSEAGREEN:[60/255,179/255,113/255,1],MEDIUMSLATEBLUE:[123/255,104/255,238/255,1],MEDIUMSPRINGGREEN:[0,250/255,154/255,1],MEDIUMTURQUOISE:[72/255,209/255,.8,1],MEDIUMVIOLETRED:[199/255,21/255,133/255,1],MIDNIGHTBLUE:[25/255,25/255,112/255,1],MINTCREAM:[245/255,1,250/255,1],MISTYROSE:[1,228/255,225/255,1],MOCCASIN:[1,228/255,181/255,1],NAVAJOWHITE:[1,222/255,173/255,1],NAVY:[0,0,128/255,1],OLDLACE:[253/255,245/255,230/255,1],OLIVE:[128/255,128/255,0,1],OLIVEDRAB:[107/255,142/255,35/255,1],ORANGE:[1,165/255,0,1],ORANGERED:[1,69/255,0,1],ORCHID:[218/255,112/255,214/255,1],PALEGOLDENROD:[238/255,232/255,170/255,1],PALEGREEN:[152/255,251/255,152/255,1],PALETURQUOISE:[175/255,238/255,238/255,1],PALEVIOLETRED:[219/255,112/255,147/255,1],PAPAYAWHIP:[1,239/255,213/255,1],PEACHPUFF:[1,218/255,185/255,1],PERU:[205/255,133/255,63/255,1],PINK:[1,192/255,203/255,1],PLUM:[221/255,160/255,221/255,1],POWDERBLUE:[176/255,224/255,230/255,1],PURPLE:[128/255,0,128/255,1],RED:[1,0,0,1],ROSYBROWN:[188/255,143/255,143/255,1],ROYALBLUE:[65/255,105/255,225/255,1],SADDLEBROWN:[139/255,69/255,19/255,1],SALMON:[250/255,128/255,114/255,1],SANDYBROWN:[244/255,164/255,96/255,1],SEAGREEN:[46/255,139/255,87/255,1],SEASHELL:[1,245/255,238/255,1],SIENNA:[160/255,82/255,45/255,1],SILVER:[192/255,192/255,192/255,1],SKYBLUE:[135/255,206/255,235/255,1],SLATEBLUE:[106/255,90/255,205/255,1],SLATEGRAY:[112/255,128/255,144/255,1],SLATEGREY:[112/255,128/255,144/255,1],SNOW:[1,250/255,250/255,1],SPRINGGREEN:[0,1,127/255,1],STEELBLUE:[70/255,130/255,180/255,1],TAN:[210/255,180/255,140/255,1],TEAL:[0,128/255,128/255,1],THISTLE:[216/255,191/255,216/255,1],TOMATO:[1,99/255,71/255,1],TURQUOISE:[64/255,224/255,208/255,1],VIOLET:[238/255,130/255,238/255,1],WHEAT:[245/255,222/255,179/255,1],WHITE:[1,1,1,1],WHITESMOKE:[245/255,245/255,245/255,1],YELLOW:[1,1,0,1],YELLOWGREEN:[154/255,205/255,50/255,1]},t.get=e,t._hsl2rgb=i,t._toColor=n}(i.WebGLColor||(i.WebGLColor={}))},{\"../RenderingHelper\":43}],52:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"../CanvasSurface\"),o=t(\"./WebGLPrimarySurfaceRenderer\"),s=function(t){function e(e,i,r){var n=t.call(this,i,r)||this;return n.canvas.style.position=\"absolute\",n._shared=e,n}return r(e,t),e.prototype.renderer=function(){return this._renderer||(this._renderer=new o.WebGLPrimarySurfaceRenderer(this._shared,this._shared.getPrimaryRenderTarget(this.width,this.height))),this._renderer},e.prototype.changePhysicalScale=function(t,e){var i=Math.ceil(this.width*t),r=Math.ceil(this.height*e);this.canvas.width=i,this.canvas.height=r,this.renderer().changeViewportSize(i,r)},e.prototype.isPlaying=function(){return!1},e}(n.CanvasSurface);i.WebGLPrimarySurface=s},{\"../CanvasSurface\":41,\"./WebGLPrimarySurfaceRenderer\":53}],53:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./WebGLRenderer\"),o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r._shared.pushRenderTarget(r._renderTarget),r}return r(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this._shared.begin()},e}(n.WebGLRenderer);i.WebGLPrimarySurfaceRenderer=o},{\"./WebGLRenderer\":54}],54:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./WebGLColor\"),s=t(\"./WebGLRenderingState\"),a=function(t){function e(i,r){var n=t.call(this)||this;return n._stateStack=[],n._stateStackPointer=0,n._capacity=0,n._reallocation(e.DEFAULT_CAPACITY),n._whiteColor=[1,1,1,1],n._shared=i,n._renderTarget=r,n}return r(e,t),e.prototype.clear=function(){this._shared.clear()},e.prototype.end=function(){this._shared.end()},e.prototype.save=function(){this._pushState()},e.prototype.restore=function(){this._popState()},e.prototype.translate=function(t,e){this.currentState().transformer.translate(t,e)},e.prototype.transform=function(t){this.currentState().transformer.transform(t)},e.prototype.opacity=function(t){this.currentState().globalAlpha*=t},e.prototype.setCompositeOperation=function(t){this.currentState().globalCompositeOperation=t},e.prototype.currentState=function(){return this._stateStack[this._stateStackPointer]},e.prototype.fillRect=function(t,e,i,r,n){this._shared.draw(this.currentState(),this._shared.getFillRectSurfaceTexture(),0,0,i,r,t,e,o.WebGLColor.get(n))},e.prototype.drawSprites=function(t,e,i,r,n,o,s,a){for(var h=0;h<a;++h)this.drawImage(t,e[h],i[h],r[h],n[h],o[h],s[h])},e.prototype.drawImage=function(t,e,i,r,o,s,a){if(!t._drawable)throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#drawImage: no drawable surface.\");if(t._drawable.texture instanceof WebGLTexture||this._shared.makeTextureForSurface(t),!t._drawable.texture)throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#drawImage: could not create a texture.\");this._shared.draw(this.currentState(),t._drawable,e,i,r,o,s,a,this._whiteColor)},e.prototype.drawSystemText=function(t,e,i,r,n,o,s,a,h,c,u,l){},e.prototype.setTransform=function(t){this.currentState().transformer.setTransform(t)},e.prototype.setOpacity=function(t){this.currentState().globalAlpha=t},e.prototype.setShaderProgram=function(t){this.currentState().shaderProgram=this._shared.initializeShaderProgram(t)},e.prototype.isSupportedShaderProgram=function(){return!0},e.prototype.changeViewportSize=function(t,e){var i=this._renderTarget;this._renderTarget={width:i.width,height:i.height,viewportWidth:t,viewportHeight:e,texture:i.texture,framebuffer:i.framebuffer}},e.prototype.destroy=function(){this._shared.requestDeleteRenderTarget(this._renderTarget),this._shared=void 0,this._renderTarget=void 0,this._whiteColor=void 0},e.prototype._getImageData=function(){throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#_getImageData() is not implemented\")},e.prototype._putImageData=function(t,e,i,r,o,s,a){throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#_putImageData() is not implemented\")},e.prototype._pushState=function(){var t=this.currentState();++this._stateStackPointer,this._isOverCapacity()&&this._reallocation(this._stateStackPointer+1),this.currentState().copyFrom(t)},e.prototype._popState=function(){if(!(this._stateStackPointer>0))throw n.ExceptionFactory.createAssertionError(\"WebGLRenderer#restore: state stack under-flow.\");this.currentState().shaderProgram=null,--this._stateStackPointer},e.prototype._isOverCapacity=function(){return this._capacity<=this._stateStackPointer},e.prototype._reallocation=function(t){var e=this._capacity;if(e<t){t<2*e?this._capacity*=2:this._capacity=t;for(var i=e;i<this._capacity;++i)this._stateStack.push(new s.WebGLRenderingState)}},e.DEFAULT_CAPACITY=16,e}(n.Renderer);i.WebGLRenderer=a},{\"./WebGLColor\":51,\"./WebGLRenderingState\":55,\"@akashic/akashic-engine\":1}],55:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"../AffineTransformer\"),o=function(){function t(t){t?(this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer=new n.AffineTransformer(t.transformer),this.shaderProgram=t.shaderProgram):(this.globalAlpha=1,this.globalCompositeOperation=r.CompositeOperation.SourceOver,this.transformer=new n.AffineTransformer,this.shaderProgram=null)}return t.prototype.copyFrom=function(t){return this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer.copyFrom(t.transformer),this.shaderProgram=t.shaderProgram,this},t}();i.WebGLRenderingState=o},{\"../AffineTransformer\":40,\"@akashic/akashic-engine\":1}],56:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(e,i,r){var n=t._DEFAULT_VERTEX_SHADER,i=i||t._DEFAULT_FRAGMENT_SHADER,o=t._makeShaderProgram(e,n,i);this.program=o,this._context=e,this._aVertex=e.getAttribLocation(this.program,\"aVertex\"),this._uColor=e.getUniformLocation(this.program,\"uColor\"),this._uAlpha=e.getUniformLocation(this.program,\"uAlpha\"),this._uSampler=e.getUniformLocation(this.program,\"uSampler\"),this._uniforms=r,this._uniformCaches=[],this._uniformSetterTable={float:this._uniform1f.bind(this),int:this._uniform1i.bind(this),float_v:this._uniform1fv.bind(this),int_v:this._uniform1iv.bind(this),vec2:this._uniform2fv.bind(this),vec3:this._uniform3fv.bind(this),vec4:this._uniform4fv.bind(this),ivec2:this._uniform2iv.bind(this),ivec3:this._uniform3iv.bind(this),ivec4:this._uniform4iv.bind(this),mat2:this._uniformMatrix2fv.bind(this),mat3:this._uniformMatrix3fv.bind(this),mat4:this._uniformMatrix4fv.bind(this)}}return t._makeShader=function(t,e,i){var r=t.createShader(e);if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var n=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error(n)}return r},t._makeShaderProgram=function(e,i,r){var n=e.createProgram(),o=t._makeShader(e,e.VERTEX_SHADER,i);e.attachShader(n,o),e.deleteShader(o);var s=t._makeShader(e,e.FRAGMENT_SHADER,r);if(e.attachShader(n,s),e.deleteShader(s),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var a=e.getProgramInfoLog(n);throw e.deleteProgram(n),new Error(a)}return n},t.prototype.set_aVertex=function(t){this._context.bindBuffer(this._context.ARRAY_BUFFER,t),this._context.enableVertexAttribArray(this._aVertex),this._context.vertexAttribPointer(this._aVertex,4,this._context.FLOAT,!1,0,0)},t.prototype.set_uColor=function(t){this._context.uniform4f(this._uColor,t[0],t[1],t[2],t[3])},t.prototype.set_uAlpha=function(t){this._context.uniform1f(this._uAlpha,t)},t.prototype.set_uSampler=function(t){this._context.uniform1i(this._uSampler,t)},t.prototype.updateUniforms=function(){for(var t=0;t<this._uniformCaches.length;++t){var e=this._uniformCaches[t],i=this._uniforms[e.name].value;(e.isArray||i!==e.beforeValue)&&(e.update(e.loc,i),e.beforeValue=i)}},t.prototype.initializeUniforms=function(){var t=this,e=[],i=this._uniforms;null!=i&&Object.keys(i).forEach(function(n){var o=i[n].type,s=Array.isArray(i[n].value);!s||\"int\"!==o&&\"float\"!==o||(o+=\"_v\");var a=t._uniformSetterTable[o];if(!a)throw r.ExceptionFactory.createAssertionError(\"WebGLShaderProgram#initializeUniforms: Uniform type '\"+o+\"' is not supported.\");e.push({name:n,update:a,beforeValue:null,isArray:s,loc:t._context.getUniformLocation(t.program,n)})}),this._uniformCaches=e},t.prototype.use=function(){this._context.useProgram(this.program)},t.prototype.unuse=function(){this._context.useProgram(null)},t.prototype.destroy=function(){this._context.deleteProgram(this.program)},t.prototype._uniform1f=function(t,e){this._context.uniform1f(t,e)},t.prototype._uniform1i=function(t,e){this._context.uniform1i(t,e)},t.prototype._uniform1fv=function(t,e){this._context.uniform1fv(t,e)},t.prototype._uniform1iv=function(t,e){this._context.uniform1iv(t,e)},t.prototype._uniform2fv=function(t,e){this._context.uniform2fv(t,e)},t.prototype._uniform3fv=function(t,e){this._context.uniform3fv(t,e)},t.prototype._uniform4fv=function(t,e){this._context.uniform4fv(t,e)},t.prototype._uniform2iv=function(t,e){this._context.uniform2iv(t,e)},t.prototype._uniform3iv=function(t,e){this._context.uniform3iv(t,e)},t.prototype._uniform4iv=function(t,e){this._context.uniform4iv(t,e)},t.prototype._uniformMatrix2fv=function(t,e){this._context.uniformMatrix2fv(t,!1,e)},t.prototype._uniformMatrix3fv=function(t,e){this._context.uniformMatrix3fv(t,!1,e)},t.prototype._uniformMatrix4fv=function(t,e){this._context.uniformMatrix4fv(t,!1,e)},t._DEFAULT_VERTEX_SHADER=\"#version 100\\nprecision mediump float;\\nattribute vec4 aVertex;\\nvarying vec2 vTexCoord;\\nvarying vec4 vColor;\\nuniform vec4 uColor;\\nuniform float uAlpha;\\nvoid main() {    gl_Position = vec4(aVertex.xy, 0.0, 1.0);    vTexCoord = aVertex.zw;    vColor = uColor * uAlpha;}\",\nt._DEFAULT_FRAGMENT_SHADER=\"#version 100\\nprecision mediump float;\\nvarying vec2 vTexCoord;\\nvarying vec4 vColor;\\nuniform sampler2D uSampler;\\nvoid main() {    gl_FragColor = texture2D(uSampler, vTexCoord) * vColor;}\",t}();i.WebGLShaderProgram=n},{\"@akashic/akashic-engine\":1}],57:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=t(\"./WebGLShaderProgram\"),o=t(\"./WebGLTextureAtlas\"),s=t(\"./WebGLPrimarySurface\"),a=t(\"./WebGLBackSurface\"),h=function(){function t(t,e){var i=new s.WebGLPrimarySurface(this,t,e),n=i.canvas.getContext(\"webgl\",{depth:!1,preserveDrawingBuffer:!0});if(!n)throw r.ExceptionFactory.createAssertionError(\"WebGLSharedObject#constructor: could not initialize WebGLRenderingContext\");this._surface=i,this._context=n,this._init()}return t.prototype.getFillRectSurfaceTexture=function(){return this._fillRectSurfaceTexture},t.prototype.getPrimarySurface=function(){return this._surface},t.prototype.createBackSurface=function(t,e){return new a.WebGLBackSurface(this,t,e)},t.prototype.pushRenderTarget=function(t){this._commit(),this._renderTargetStack.push(t),this._context.bindFramebuffer(this._context.FRAMEBUFFER,t.framebuffer),this._context.viewport(0,0,t.viewportWidth,t.viewportHeight)},t.prototype.popRenderTarget=function(){this._commit(),this._renderTargetStack.pop();var t=this.getCurrentRenderTarget();this._context.bindFramebuffer(this._context.FRAMEBUFFER,t.framebuffer),this._context.viewport(0,0,t.viewportWidth,t.viewportHeight)},t.prototype.getCurrentRenderTarget=function(){return this._renderTargetStack[this._renderTargetStack.length-1]},t.prototype.begin=function(){this.clear(),this._currentShaderProgram.use(),this._currentShaderProgram.set_aVertex(this._vertices),this._currentShaderProgram.set_uColor(this._currentColor),this._currentShaderProgram.set_uAlpha(this._currentAlpha),this._currentShaderProgram.set_uSampler(0),this._currentShaderProgram.updateUniforms()},t.prototype.clear=function(){this._context.clear(this._context.COLOR_BUFFER_BIT)},t.prototype.draw=function(t,e,i,r,n,o,s,a,h){this._numSprites>=this._maxSpriteCount&&this._commit();var c;if(c=e===this._fillRectSurfaceTexture||null==t.shaderProgram||null==t.shaderProgram._program?this._defaultShaderProgram:t.shaderProgram._program,this._currentShaderProgram!==c&&(this._commit(),this._currentShaderProgram=c,this._currentShaderProgram.use(),this._currentShaderProgram.updateUniforms(),this._currentCompositeOperation=null,this._currentAlpha=null,this._currentColor=[],this._currentTexture=null),this._currentTexture!==e.texture&&(this._currentTexture=e.texture,this._commit(),this._context.bindTexture(this._context.TEXTURE_2D,e.texture)),this._currentColor[0]===h[0]&&this._currentColor[1]===h[1]&&this._currentColor[2]===h[2]&&this._currentColor[3]===h[3]||(this._currentColor=h,this._commit(),this._currentShaderProgram.set_uColor(h)),this._currentAlpha!==t.globalAlpha&&(this._currentAlpha=t.globalAlpha,this._commit(),this._currentShaderProgram.set_uAlpha(t.globalAlpha)),this._currentCompositeOperation!==t.globalCompositeOperation){this._currentCompositeOperation=t.globalCompositeOperation,this._commit();var u=this._compositeOps[this._currentCompositeOperation];this._context.blendFunc(u[0],u[1])}var l=1/e.textureWidth,d=1/e.textureHeight,p=e.textureOffsetX,f=e.textureOffsetY,_=l*(p+i+n),g=d*(f+r+o),y=l*(p+i),m=d*(f+r);this._register(this._transformVertex(s,a,n,o,t.transformer),[y,m,_,m,_,g,y,m,_,g,y,g])},t.prototype.end=function(){if(this._commit(),this._deleteRequestedTargets.length>0){for(var t=0;t<this._deleteRequestedTargets.length;++t)this.deleteRenderTarget(this._deleteRequestedTargets[t]);this._deleteRequestedTargets=[]}},t.prototype.makeTextureForSurface=function(t){this._textureAtlas.makeTextureForSurface(this,t)},t.prototype.disposeTexture=function(t){this._currentTexture===t&&this._commit()},t.prototype.assignTexture=function(t,e,i,n){if(this._context.bindTexture(this._context.TEXTURE_2D,n),t instanceof HTMLVideoElement)throw r.ExceptionFactory.createAssertionError(\"WebGLRenderer#assignTexture: HTMLVideoElement is not supported.\");this._context.texSubImage2D(this._context.TEXTURE_2D,0,e,i,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture)},t.prototype.clearTexture=function(t,e,i,r){this._context.bindTexture(this._context.TEXTURE_2D,r),this._context.texSubImage2D(this._context.TEXTURE_2D,0,0,0,e,i,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture)},t.prototype.makeTextureRaw=function(t,e,i){void 0===i&&(i=null);var r=this._context.createTexture();return this._context.bindTexture(this._context.TEXTURE_2D,r),this._context.pixelStorei(this._context.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_S,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_T,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MAG_FILTER,this._context.NEAREST),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MIN_FILTER,this._context.NEAREST),this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,t,e,0,this._context.RGBA,this._context.UNSIGNED_BYTE,i),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture),r},t.prototype.makeTexture=function(t){var e=this._context.createTexture();return this._context.bindTexture(this._context.TEXTURE_2D,e),this._context.pixelStorei(this._context.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_S,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_T,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MAG_FILTER,this._context.NEAREST),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MIN_FILTER,this._context.NEAREST),t instanceof HTMLImageElement?this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t):t instanceof HTMLCanvasElement?this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t):t instanceof ImageData&&this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture),e},t.prototype.getPrimaryRenderTarget=function(t,e){return this._renderTarget},t.prototype.createRenderTarget=function(t,e){var i=this._context,r=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,r);var n=i.createTexture();i.bindTexture(i.TEXTURE_2D,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,null),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,n,0),i.bindTexture(i.TEXTURE_2D,this._currentTexture);var o=this.getCurrentRenderTarget();return i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer),{width:t,height:e,viewportWidth:t,viewportHeight:e,framebuffer:r,texture:n}},t.prototype.requestDeleteRenderTarget=function(t){this._deleteRequestedTargets.push(t)},t.prototype.deleteRenderTarget=function(t){var e=this._context;this.getCurrentRenderTarget()===t&&this._commit(),e.deleteFramebuffer(t.framebuffer),e.deleteTexture(t.texture)},t.prototype.getContext=function(){return this._context},t.prototype.getDefaultShaderProgram=function(){return this._defaultShaderProgram},t.prototype.initializeShaderProgram=function(t){if(t&&!t._program){var e=new n.WebGLShaderProgram(this._context,t.fragmentShader,t.uniforms);e.initializeUniforms(),t._program=e}return t},t.prototype._init=function(){var t,e=new n.WebGLShaderProgram(this._context);this._textureAtlas=new o.WebGLTextureAtlas,this._fillRectTexture=this.makeTextureRaw(1,1,new Uint8Array([255,255,255,255])),this._fillRectSurfaceTexture={texture:this._fillRectTexture,textureWidth:1,textureHeight:1,textureOffsetX:0,textureOffsetY:0},this._renderTarget={width:this._surface.width,height:this._surface.height,viewportWidth:this._surface.width,viewportHeight:this._surface.height,framebuffer:null,texture:null},this._maxSpriteCount=1024,this._vertices=this._makeBuffer(24*this._maxSpriteCount*4),this._verticesCache=new Float32Array(24*this._maxSpriteCount),this._numSprites=0,this._currentTexture=null,this._currentColor=[1,1,1,1],this._currentAlpha=1,this._currentCompositeOperation=r.CompositeOperation.SourceOver,this._currentShaderProgram=e,this._defaultShaderProgram=e,this._renderTargetStack=[],this._deleteRequestedTargets=[],this._currentShaderProgram.use();try{this._currentShaderProgram.set_aVertex(this._vertices),this._currentShaderProgram.set_uColor(this._currentColor),this._currentShaderProgram.set_uAlpha(this._currentAlpha),this._currentShaderProgram.set_uSampler(0)}finally{this._currentShaderProgram.unuse()}this._context.enable(this._context.BLEND),this._context.activeTexture(this._context.TEXTURE0),this._context.bindTexture(this._context.TEXTURE_2D,this._fillRectTexture),this._compositeOps=(t={},t[r.CompositeOperation.SourceAtop]=[this._context.DST_ALPHA,this._context.ONE_MINUS_SRC_ALPHA],t[r.CompositeOperation.ExperimentalSourceIn]=[this._context.DST_ALPHA,this._context.ZERO],t[r.CompositeOperation.ExperimentalSourceOut]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ZERO],t[r.CompositeOperation.SourceOver]=[this._context.ONE,this._context.ONE_MINUS_SRC_ALPHA],t[r.CompositeOperation.ExperimentalDestinationAtop]=[this._context.ONE_MINUS_DST_ALPHA,this._context.SRC_ALPHA],t[r.CompositeOperation.ExperimentalDestinationIn]=[this._context.ZERO,this._context.SRC_ALPHA],t[r.CompositeOperation.DestinationOut]=[this._context.ZERO,this._context.ONE_MINUS_SRC_ALPHA],t[r.CompositeOperation.DestinationOver]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ONE],t[r.CompositeOperation.Lighter]=[this._context.ONE,this._context.ONE],t[r.CompositeOperation.Copy]=[this._context.ONE,this._context.ZERO],t[r.CompositeOperation.Xor]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ONE_MINUS_SRC_ALPHA],t);var i=this._compositeOps[this._currentCompositeOperation];this._context.blendFunc(i[0],i[1])},t.prototype._makeBuffer=function(t){var e=this._context.createBuffer();return this._context.bindBuffer(this._context.ARRAY_BUFFER,e),this._context.bufferData(this._context.ARRAY_BUFFER,t,this._context.DYNAMIC_DRAW),e},t.prototype._transformVertex=function(t,e,i,r,n){var o=this.getCurrentRenderTarget(),s=2/o.width,a=-2/o.height,h=n.matrix,c=s*i*h[0],u=a*i*h[1],l=s*r*h[2],d=a*r*h[3],p=s*(t*h[0]+e*h[2]+h[4])-1,f=a*(t*h[1]+e*h[3]+h[5])+1;return[p,f,c+p,u+f,c+l+p,u+d+f,p,f,c+l+p,u+d+f,l+p,d+f]},t.prototype._register=function(t,e){var i=6*this._numSprites;++this._numSprites;for(var r=0;r<6;++r)this._verticesCache[4*(r+i)+0]=t[2*r+0],this._verticesCache[4*(r+i)+1]=t[2*r+1],this._verticesCache[4*(r+i)+2]=e[2*r+0],this._verticesCache[4*(r+i)+3]=e[2*r+1]},t.prototype._commit=function(){this._numSprites>0&&(this._context.bindBuffer(this._context.ARRAY_BUFFER,this._vertices),this._context.bufferSubData(this._context.ARRAY_BUFFER,0,this._verticesCache.subarray(0,24*this._numSprites)),this._context.drawArrays(this._context.TRIANGLES,0,6*this._numSprites),this._numSprites=0)},t}();i.WebGLSharedObject=h},{\"./WebGLBackSurface\":49,\"./WebGLPrimarySurface\":52,\"./WebGLShaderProgram\":56,\"./WebGLTextureAtlas\":58,\"@akashic/akashic-engine\":1}],58:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./WebGLTextureMap\"),n=t(\"../RenderingHelper\"),o=function(){function t(){this._maps=[],this._insertPos=0,this.emptyTexturePixels=new Uint8Array(t.TEXTURE_SIZE*t.TEXTURE_SIZE*4)}return t.prototype.clear=function(){for(var t=0;t<this._maps.length;++t)this._maps[t].dispose()},t.prototype.showOccupancy=function(){for(var t=0;t<this._maps.length;++t)console.log(\"occupancy[\"+t+\"]: \"+this._maps[t].occupancy())},t.prototype.makeTextureForSurface=function(e,i){var r=i._drawable;if(r&&!r.texture){var o=r.width,s=r.height;if(o>=t.TEXTURE_SIZE||s>=t.TEXTURE_SIZE){var a=n.RenderingHelper.toPowerOfTwo(r.width),h=n.RenderingHelper.toPowerOfTwo(r.height);if(a!==r.width||h!==r.height){var c=document.createElement(\"canvas\");c.width=a,c.height=h;var u=c.getContext(\"2d\");u.globalCompositeOperation=\"copy\",u.drawImage(r,0,0),r=u.getImageData(0,0,a,h)}return i._drawable.texture=e.makeTexture(r),i._drawable.textureOffsetX=0,i._drawable.textureOffsetY=0,i._drawable.textureWidth=a,void(i._drawable.textureHeight=h)}this._assign(e,i,this._maps)}},t.prototype._assign=function(e,i,n){for(var o,s=0;s<n.length;++s)if(o=n[(s+this._insertPos)%n.length].insert(i))return this._register(e,o,i._drawable),void(this._insertPos=s);o=null,n.length>=t.TEXTURE_COUNT&&(o=n.shift(),e.disposeTexture(o.texture),o.dispose(),e.clearTexture(this.emptyTexturePixels,t.TEXTURE_SIZE,t.TEXTURE_SIZE,o.texture)),o||(o=new r.WebGLTextureMap(e.makeTextureRaw(t.TEXTURE_SIZE,t.TEXTURE_SIZE),0,0,t.TEXTURE_SIZE,t.TEXTURE_SIZE)),n.push(o),o=o.insert(i),this._register(e,o,i._drawable)},t.prototype._register=function(e,i,r){r.texture=i.texture,r.textureOffsetX=i.offsetX,r.textureOffsetY=i.offsetY,r.textureWidth=t.TEXTURE_SIZE,r.textureHeight=t.TEXTURE_SIZE,e.assignTexture(r,i.offsetX,i.offsetY,i.texture)},t.TEXTURE_SIZE=1024,t.TEXTURE_COUNT=16,t}();i.WebGLTextureAtlas=o},{\"../RenderingHelper\":43,\"./WebGLTextureMap\":59}],59:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(t,e,i,r,n){this.texture=t,this.offsetX=e,this.offsetY=i,this._width=r,this._height=n}return t.prototype.dispose=function(){this._left&&(this._left.dispose(),this._left=null),this._right&&(this._right.dispose(),this._right=null),this._surface&&(this._surface._drawable&&(this._surface._drawable.texture=null),this._surface=null)},t.prototype.capacity=function(){return this._width*this._height},t.prototype.area=function(){if(!this._surface)return 0;var t=this._surface._drawable,e=t.width*t.height;return this._left&&(e+=this._left.area()),this._right&&(e+=this._right.area()),e},t.prototype.occupancy=function(){return this.area()/this.capacity()},t.prototype.insert=function(e){var i=e._drawable,r=i.width+t.TEXTURE_MARGIN,n=i.height+t.TEXTURE_MARGIN;if(this._surface){if(this._left){var o=this._left.insert(e);if(o)return o}if(this._right){var s=this._right.insert(e);if(s)return s}return null}if(this._width<r||this._height<n)return null;var a=this._width-r,h=this._height-n;return a<=h?(this._left=new t(this.texture,this.offsetX+r,this.offsetY,a,n),this._right=new t(this.texture,this.offsetX,this.offsetY+n,this._width,h)):(this._left=new t(this.texture,this.offsetX,this.offsetY+n,r,h),this._right=new t(this.texture,this.offsetX+r,this.offsetY,a,this._height)),this._surface=e,this},t.TEXTURE_MARGIN=1,t}();i.WebGLTextureMap=r},{}],60:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=(t(\"@akashic/akashic-pdi\"),function(){function t(e,i){if(Object.getPrototypeOf&&Object.getPrototypeOf(this)===t.prototype)throw new Error(\"InputAbstractHandler is abstract and should not be directly instantiated\");this.inputView=e,this.pointerEventLock={},this._xScale=1,this._yScale=1,this._disablePreventDefault=!!i,this.pointTrigger=new r.Trigger}return t.isSupported=function(){return!1},t.prototype.start=function(){throw new Error(\"This method is abstract\")},t.prototype.stop=function(){throw new Error(\"This method is abstract\")},t.prototype.setScale=function(t,e){void 0===e&&(e=t),this._xScale=t,this._yScale=e},t.prototype.pointDown=function(t,e){this.pointTrigger.fire({type:0,identifier:t,offset:this.getOffsetFromEvent(e)}),this.pointerEventLock[t]=!0},t.prototype.pointMove=function(t,e){this.pointerEventLock.hasOwnProperty(t+\"\")&&this.pointTrigger.fire({type:1,identifier:t,offset:this.getOffsetFromEvent(e)})},t.prototype.pointUp=function(t,e){this.pointerEventLock.hasOwnProperty(t+\"\")&&(this.pointTrigger.fire({type:2,identifier:t,offset:this.getOffsetFromEvent(e)}),delete this.pointerEventLock[t])},t.prototype.getOffsetFromEvent=function(t){return{x:t.offsetX,y:t.offsetY}},t.prototype.getScale=function(){return{x:this._xScale,y:this._yScale}},t.prototype.getOffsetPositionFromInputView=function(t){var e=this.inputView.getBoundingClientRect(),i=this.getScale();return{offsetX:(t.pageX-Math.round(window.pageXOffset+e.left))/i.x,offsetY:(t.pageY-Math.round(window.pageYOffset+e.top))/i.y}},t}());i.InputAbstractHandler=n},{\"@akashic/akashic-engine\":1,\"@akashic/akashic-pdi\":3}],61:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./InputAbstractHandler\"),o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.onMouseDown=function(t){0===t.button&&(r.pointDown(1,r.getOffsetPositionFromInputView(t)),window.addEventListener(\"mousemove\",r.onMouseMove,!1),window.addEventListener(\"mouseup\",r.onMouseUp,!1),r._disablePreventDefault||(t.stopPropagation(),t.preventDefault()))},r.onMouseMove=function(t){r.pointMove(1,r.getOffsetPositionFromInputView(t)),r._disablePreventDefault||(t.stopPropagation(),t.preventDefault())},r.onMouseUp=function(t){r.pointUp(1,r.getOffsetPositionFromInputView(t)),window.removeEventListener(\"mousemove\",r.onMouseMove,!1),window.removeEventListener(\"mouseup\",r.onMouseUp,!1),r._disablePreventDefault||(t.stopPropagation(),t.preventDefault())},r}return r(e,t),e.prototype.start=function(){this.inputView.addEventListener(\"mousedown\",this.onMouseDown,!1)},e.prototype.stop=function(){this.inputView.removeEventListener(\"mousedown\",this.onMouseDown,!1)},e}(n.InputAbstractHandler);i.MouseHandler=o},{\"./InputAbstractHandler\":60}],62:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"./MouseHandler\"),o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.onTouchDown=function(t){for(var e=t.changedTouches,i=0,n=e.length;i<n;i++){var o=e[i];r.pointDown(o.identifier,r.getOffsetPositionFromInputView(o))}r._disablePreventDefault||(t.stopPropagation(),t.cancelable&&t.preventDefault())},r.onTouchMove=function(t){for(var e=t.changedTouches,i=0,n=e.length;i<n;i++){var o=e[i];r.pointMove(o.identifier,r.getOffsetPositionFromInputView(o))}r._disablePreventDefault||(t.stopPropagation(),t.cancelable&&t.preventDefault())},r.onTouchUp=function(t){for(var e=t.changedTouches,i=0,n=e.length;i<n;i++){var o=e[i];r.pointUp(o.identifier,r.getOffsetPositionFromInputView(o))}r._disablePreventDefault||(t.stopPropagation(),t.cancelable&&t.preventDefault())},r}return r(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.inputView.addEventListener(\"touchstart\",this.onTouchDown),this.inputView.addEventListener(\"touchmove\",this.onTouchMove),this.inputView.addEventListener(\"touchend\",this.onTouchUp)},e.prototype.stop=function(){t.prototype.stop.call(this),this.inputView.removeEventListener(\"touchstart\",this.onTouchDown),this.inputView.removeEventListener(\"touchmove\",this.onTouchMove),this.inputView.removeEventListener(\"touchend\",this.onTouchUp)},e}(n.MouseHandler);i.TouchHandler=o},{\"./MouseHandler\":61}],63:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./Platform\");i.Platform=r.Platform;var n=t(\"./ResourceFactory\");i.ResourceFactory=n.ResourceFactory;var o=t(\"@akashic/akashic-engine\");i.g=o;var s=t(\"./plugin/AudioPluginRegistry\");i.AudioPluginRegistry=s.AudioPluginRegistry;var a=t(\"./plugin/AudioPluginManager\");i.AudioPluginManager=a.AudioPluginManager;var h=t(\"./plugin/HTMLAudioPlugin/HTMLAudioPlugin\");i.HTMLAudioPlugin=h.HTMLAudioPlugin;var c=t(\"./plugin/WebAudioPlugin/WebAudioPlugin\");i.WebAudioPlugin=c.WebAudioPlugin;var u=t(\"./plugin/PostMessageAudioPlugin/PostMessageAudioPlugin\");i.PostMessageAudioPlugin=u.PostMessageAudioPlugin;var l=t(\"./plugin/ProxyAudioPlugin/ProxyAudioPlugin\");i.ProxyAudioPlugin=l.ProxyAudioPlugin},{\"./Platform\":32,\"./ResourceFactory\":34,\"./plugin/AudioPluginManager\":64,\"./plugin/AudioPluginRegistry\":65,\"./plugin/HTMLAudioPlugin/HTMLAudioPlugin\":69,\"./plugin/PostMessageAudioPlugin/PostMessageAudioPlugin\":72,\"./plugin/ProxyAudioPlugin/ProxyAudioPlugin\":76,\"./plugin/WebAudioPlugin/WebAudioPlugin\":81,\"@akashic/akashic-engine\":1}],64:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=function(){function t(){this._activePlugin=null}return t.prototype.getActivePlugin=function(){return this._activePlugin},t.prototype.tryInstallPlugin=function(t){for(var e=0,i=t.length;e<i;e++){var r=t[e];if(!r.isSupported)return this._activePlugin=r,!0;var n=r;if(n.isSupported())return this._activePlugin=new n,!0}return!1},t}();i.AudioPluginManager=r},{}],65:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=[];i.AudioPluginRegistry={addPlugin:function(t){-1===r.indexOf(t)&&r.push(t)},getRegisteredAudioPlugins:function(){return r},clear:function(){r=[]}}},{}],66:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._load=function(t){var i=this;if(null==this.path)return this.data=null,void setTimeout(function(){return t._onAssetLoad(i)},0);var r=new Audio,o=function(t,e){r.autoplay=!1,r.preload=\"none\",r.src=t,i._attachAll(r,e),r.preload=\"auto\",a(r,e),r.load()},s={success:function(){i._detachAll(r,s),i.data=r,t._onAssetLoad(i),window.clearInterval(i._intervalId)},error:function(){i._detachAll(r,s),i.data=r,t._onAssetError(i,n.ExceptionFactory.createAssetLoadError(\"HTMLAudioAsset loading error\")),window.clearInterval(i._intervalId)}},a=function(t,e){i._intervalCount=0,i._intervalId=window.setInterval(function(){4===t.readyState?e.success():600===++i._intervalCount&&e.error()},100)},h=this.path.indexOf(\"?\");if(\".aac\"===(h>=0?this.path.substring(0,h):this.path).slice(-4)&&-1!==e.supportedFormats.indexOf(\"mp4\")){var c={success:s.success,error:function(){i._detachAll(r,c),window.clearInterval(i._intervalId),i.path=n.PathUtil.addExtname(i.originalPath,\"mp4\"),o(i.path,s)}};return void o(this.path,c)}o(this.path,s)},e.prototype.cloneElement=function(){return this.data?new Audio(this.data.src):null},e.prototype._assetPathFilter=function(t){return-1!==e.supportedFormats.indexOf(\"ogg\")?n.PathUtil.addExtname(t,\"ogg\"):-1!==e.supportedFormats.indexOf(\"aac\")?n.PathUtil.addExtname(t,\"aac\"):null},e.prototype._attachAll=function(t,e){e.success&&t.addEventListener(\"canplaythrough\",e.success,!1),e.error&&(t.addEventListener(\"stalled\",e.error,!1),t.addEventListener(\"error\",e.error,!1),t.addEventListener(\"abort\",e.error,!1))},e.prototype._detachAll=function(t,e){e.success&&t.removeEventListener(\"canplaythrough\",e.success,!1),e.error&&(t.removeEventListener(\"stalled\",e.error,!1),t.removeEventListener(\"error\",e.error,!1),t.removeEventListener(\"abort\",e.error,!1))},e}(n.AudioAsset);i.HTMLAudioAsset=o},{\"@akashic/akashic-engine\":1}],67:[function(t,e,i){\"use strict\";function r(){s(),o()}function n(){document.addEventListener(\"keydown\",r,!0),document.addEventListener(\"mousedown\",r,!0),document.addEventListener(\"touchend\",r,!0)}function o(){document.removeEventListener(\"keydown\",r),document.removeEventListener(\"mousedown\",r),document.removeEventListener(\"touchend\",r)}function s(){h=2,c.forEach(function(t){return t.play()}),c=[]}var a,h=0,c=[];!function(t){function e(t){function e(){switch(h){case 0:case 1:s()}h=2,clearTimeout(r)}function i(){switch(t.removeEventListener(\"play\",e),h){case 0:c.push(t),h=1,n();break;case 1:c.push(t);break;case 2:t.play()}}switch(h){case 0:t.addEventListener(\"play\",e,!0);var r=setTimeout(i,100);break;case 1:c.push(t)}}t.setupChromeMEIWorkaround=e}(a||(a={})),e.exports=a},{}],68:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./HTMLAudioAutoplayHelper\"),s=function(t){function e(e,i){var r=t.call(this,e)||this;return r._manager=i,r._endedEventHandler=function(){r._onAudioEnded()},r._onPlayEventHandler=function(){r._onPlayEvent()},r._dummyDurationWaitTimer=null,r}return r(e,t),e.prototype.play=function(e){this.currentAudio&&this.stop();var i=e.cloneElement();i?(o.setupChromeMEIWorkaround(i),i.volume=this._calculateVolume(),i.play().catch(function(t){}),i.loop=e.loop,i.addEventListener(\"ended\",this._endedEventHandler,!1),i.addEventListener(\"play\",this._onPlayEventHandler,!1),this._isWaitingPlayEvent=!0,this._audioInstance=i):this._dummyDurationWaitTimer=setTimeout(this._endedEventHandler,e.duration),t.prototype.play.call(this,e)},e.prototype.stop=function(){if(!this.currentAudio)return void t.prototype.stop.call(this);this._clearEndedEventHandler(),this._audioInstance&&(this._isWaitingPlayEvent?this._isStopRequested=!0:(this._audioInstance.pause(),this._audioInstance=null)),t.prototype.stop.call(this)},e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype.notifyMasterVolumeChanged=function(){this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype._onAudioEnded=function(){this._clearEndedEventHandler(),t.prototype.stop.call(this)},e.prototype._clearEndedEventHandler=function(){this._audioInstance&&this._audioInstance.removeEventListener(\"ended\",this._endedEventHandler,!1),null!=this._dummyDurationWaitTimer&&(clearTimeout(this._dummyDurationWaitTimer),this._dummyDurationWaitTimer=null)},e.prototype._onPlayEvent=function(){this._isWaitingPlayEvent&&(this._isWaitingPlayEvent=!1,this._isStopRequested&&(this._isStopRequested=!1,this._audioInstance.pause(),this._audioInstance=null))},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(n.AudioPlayer);i.HTMLAudioPlayer=s},{\"./HTMLAudioAutoplayHelper\":67,\"@akashic/akashic-engine\":1}],69:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./HTMLAudioAsset\"),n=t(\"./HTMLAudioPlayer\"),o=function(){function t(){this._supportedFormats=this._detectSupportedFormats(),r.HTMLAudioAsset.supportedFormats=this.supportedFormats}return t.isSupported=function(){var t=document.createElement(\"audio\"),e=!1;try{e=void 0!==t.canPlayType}catch(t){}return e},Object.defineProperty(t.prototype,\"supportedFormats\",{get:function(){return this._supportedFormats},set:function(t){this._supportedFormats=t,r.HTMLAudioAsset.supportedFormats=t},enumerable:!0,configurable:!0}),t.prototype.createAsset=function(t,e,i,n,o,s){return new r.HTMLAudioAsset(t,e,i,n,o,s)},t.prototype.createPlayer=function(t,e){return new n.HTMLAudioPlayer(t,e)},t.prototype._detectSupportedFormats=function(){if(-1!==navigator.userAgent.indexOf(\"Edge/\"))return[\"aac\"];var t=document.createElement(\"audio\"),e=[];try{for(var i=[\"ogg\",\"aac\",\"mp4\"],r=0,n=i.length;r<n;r++){var o=i[r],s=t.canPlayType(\"audio/\"+o);\"no\"!==s&&\"\"!==s&&e.push(o)}}catch(t){}return e},t}();i.HTMLAudioPlugin=o},{\"./HTMLAudioAsset\":66,\"./HTMLAudioPlayer\":68}],70:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./PostMessageAudioPlugin\"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._load=function(t){var e=this,i={id:this.id,assetPath:this.path,duration:this.duration,loop:this.loop,hint:this.hint};o.PostMessageAudioPlugin.send(\"akashic:AudioAsset#_load\",i),setTimeout(function(){return t._onAssetLoad(e)})},e.prototype.destroy=function(){o.PostMessageAudioPlugin.send(\"akashic:AudioAsset#destroy\",{id:this.id}),t.prototype.destroy.call(this)},e}(n.AudioAsset);i.PostMessageAudioAsset=s},{\"./PostMessageAudioPlugin\":72,\"@akashic/akashic-engine\":1}],71:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./PostMessageAudioPlugin\"),s=function(t){function e(e,i,r){var n=t.call(this,e)||this;return n._manager=i,n.id=r,o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#new\",{id:r}),n}return r(e,t),e.prototype.play=function(t){o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#play\",{id:this.id,assetId:t.id})},e.prototype.stop=function(){o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#stop\",{id:this.id})},e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changeVolume\",{id:this.id,volume:this._calculateVolume()})},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changeVolume\",{id:this.id,volume:this._calculateVolume()})},e.prototype._changePlaybackRate=function(e){t.prototype._changePlaybackRate.call(this,e),o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changePlaybackRate\",{id:this.id,rate:e})},e.prototype.notifyMasterVolumeChanged=function(){o.PostMessageAudioPlugin.send(\"akashic:AudioPlayer#changeVolume\",{id:this.id,volume:this._calculateVolume()})},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(n.AudioPlayer);i.PostMessageAudioPlayer=s},{\"./PostMessageAudioPlugin\":72,\"@akashic/akashic-engine\":1}],\n72:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r,n=t(\"./PostMessageAudioAsset\"),o=t(\"./PostMessageAudioPlayer\"),s=t(\"./PostMessageHandler\"),a=function(){function t(){this.supportedFormats=void 0,this._playerIdx=0}return t.isSupported=function(){return\"undefined\"!=typeof window&&!!window.postMessage},t.initialize=function(t,e){return r=new s.PostMessageHandler(t,e),r.start(),r},t.send=function(t,e){r.send({type:t,parameters:e})},t.prototype.createAsset=function(t,e,i,r,o,s){return new n.PostMessageAudioAsset(t,e,i,r,o,s)},t.prototype.createPlayer=function(t,e){return new o.PostMessageAudioPlayer(t,e,\"\"+this._playerIdx++)},t}();i.PostMessageAudioPlugin=a},{\"./PostMessageAudioAsset\":70,\"./PostMessageAudioPlayer\":71,\"./PostMessageHandler\":73}],73:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t,e){this.message=new r.Trigger,this.targetWindow=t,this.targetOrigin=e,this.onMessage_bound=this.onMessage.bind(this)}return t.prototype.start=function(){window.addEventListener(\"message\",this.onMessage_bound)},t.prototype.stop=function(){window.removeEventListener(\"message\",this.onMessage_bound)},t.prototype.send=function(t){this.targetWindow.postMessage(t,this.targetOrigin)},t.prototype.onMessage=function(t){t.origin===this.targetOrigin&&this.message.fire(t.data)},t}();i.PostMessageHandler=n},{\"@akashic/akashic-engine\":1}],74:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i,r,n,o,s,a){var h=t.call(this,i,r,n,o,s,a)||this;return h._handlerSet=e,h}return r(e,t),e.prototype.destroy=function(){this._handlerSet.unloadAudioAsset(this.id),t.prototype.destroy.call(this)},e.prototype._load=function(t){var e=this;this._handlerSet.loadAudioAsset({id:this.id,assetPath:this.path,duration:this.duration,loop:this.loop,hint:this.hint},function(i){i?t._onAssetError(e,n.ExceptionFactory.createAssetLoadError(i)):t._onAssetLoad(e)})},e.prototype._assetPathFilter=function(t){return t},e}(n.AudioAsset);i.ProxyAudioAsset=o},{\"@akashic/akashic-engine\":1}],75:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=function(t){function e(e,i,r){var n=t.call(this,i)||this;return n._audioPlayerId=null,n._handlerSet=e,n._manager=r,n}return r(e,t),e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._notifyVolumeToHandler()},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._notifyVolumeToHandler()},e.prototype.play=function(i){null!=this._audioPlayerId&&this.stop(),this._audioPlayerId=\"ap\"+e._audioPlayerIdCounter++,this._handlerSet.createAudioPlayer({assetId:i.id,audioPlayerId:this._audioPlayerId,isPlaying:!0,volume:this._calculateVolume(),playbackRate:1}),t.prototype.play.call(this,i)},e.prototype.stop=function(){null!=this._audioPlayerId&&(this._handlerSet.stopAudioPlayer(this._audioPlayerId),this._handlerSet.destroyAudioPlayer(this._audioPlayerId),this._audioPlayerId=null),t.prototype.stop.call(this)},e.prototype.notifyMasterVolumeChanged=function(){this._notifyVolumeToHandler()},e.prototype._notifyVolumeToHandler=function(){null!=this._audioPlayerId&&this._handlerSet.changeAudioVolume(this._audioPlayerId,this._calculateVolume())},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e._audioPlayerIdCounter=0,e}(n.AudioPlayer);i.ProxyAudioPlayer=o},{\"@akashic/akashic-engine\":1}],76:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./ProxyAudioAsset\"),n=t(\"./ProxyAudioPlayer\"),o=function(){function t(t){this.supportedFormats=[],this._handlerSet=t}return t.isSupported=function(){return!0},t.prototype.createAsset=function(t,e,i,n,o,s){return new r.ProxyAudioAsset(this._handlerSet,t,e,i,n,o,s)},t.prototype.createPlayer=function(t,e){return new n.ProxyAudioPlayer(this._handlerSet,t,e)},t}();i.ProxyAudioPlugin=o},{\"./ProxyAudioAsset\":74,\"./ProxyAudioPlayer\":75}],77:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"../../utils/XHRLoader\"),s=t(\"./WebAudioHelper\"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._load=function(t){var e=this;if(null==this.path)return this.data=null,void setTimeout(function(){return t._onAssetLoad(e)},0);var i=function(i){e.data=i,t._onAssetLoad(e)},r=function(){t._onAssetError(e,n.ExceptionFactory.createAssetLoadError(\"WebAudioAsset unknown loading error\"))},a=function(t){s.getAudioContext().decodeAudioData(t,i,r)},h=new o.XHRLoader,c=function(t,e,i){h.getArrayBuffer(t,function(t,r){t?i(t):e(r)})},u=this.path.indexOf(\"?\");if(\".aac\"===(u>=0?this.path.substring(0,u):this.path).slice(-4))return void c(this.path,a,function(t){var i=n.PathUtil.addExtname(e.originalPath,\"mp4\");c(i,function(t){e.path=i,a(t)},r)});c(this.path,a,r)},e.prototype._assetPathFilter=function(t){return-1!==e.supportedFormats.indexOf(\"ogg\")?n.PathUtil.addExtname(t,\"ogg\"):-1!==e.supportedFormats.indexOf(\"aac\")?n.PathUtil.addExtname(t,\"aac\"):null},e.supportedFormats=[],e}(n.AudioAsset);i.WebAudioAsset=a},{\"../../utils/XHRLoader\":82,\"./WebAudioHelper\":79,\"@akashic/akashic-engine\":1}],78:[function(t,e,i){\"use strict\";function r(){a.getAudioContext().resume(),o()}function n(){document.addEventListener(\"keydown\",r,!0),document.addEventListener(\"mousedown\",r,!0),document.addEventListener(\"touchend\",r,!0)}function o(){document.removeEventListener(\"keydown\",r),document.removeEventListener(\"mousedown\",r),document.removeEventListener(\"touchend\",r)}var s,a=t(\"./WebAudioHelper\");!function(t){function e(){var t=a.getAudioContext();if(!t||\"function\"==typeof t.resume){var e=a.createGainNode(t),i=t.createOscillator();i.type=\"sawtooth\",i.frequency.value=440,i.connect(e),i.start(0);var r=t.state;i.disconnect(),\"running\"!==r&&n()}}t.setupChromeMEIWorkaround=e}(s||(s={})),e.exports=s},{\"./WebAudioHelper\":79}],79:[function(t,e,i){\"use strict\";var r,n=window.AudioContext||window.webkitAudioContext;!function(t){function e(){window.__akashic__||Object.defineProperty(window,\"__akashic__\",{value:{},enumerable:!1,configurable:!1,writable:!1});var e=window.__akashic__.audioContext;return e instanceof n||(e=window.__akashic__.audioContext=new n,t._workAroundSafari()),e}function i(t){return t.createGain?t.createGain():t.createGainNode()}function r(t){var e=t.createBufferSource();return e.start?e:(e.start=e.noteOn,e.stop=e.noteOff,e)}function o(){document.addEventListener(\"touchstart\",function e(){document.removeEventListener(\"touchstart\",e),t.getAudioContext().createBufferSource().start(0)},!0)}t.getAudioContext=e,t.createGainNode=i,t.createBufferNode=r,t._workAroundSafari=o}(r||(r={})),e.exports=r},{}],80:[function(t,e,i){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,\"__esModule\",{value:!0});var n=t(\"@akashic/akashic-engine\"),o=t(\"./WebAudioHelper\"),s=function(t){function e(e,i){var r=t.call(this,e)||this;return r._audioContext=o.getAudioContext(),r._manager=i,r._gainNode=o.createGainNode(r._audioContext),r._gainNode.connect(r._audioContext.destination),r._sourceNode=void 0,r._dummyDurationWaitTimer=null,r._endedEventHandler=function(){r._onAudioEnded()},r}return r(e,t),e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._gainNode.gain.value=this._calculateVolume()},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._gainNode.gain.value=this._calculateVolume()},e.prototype.play=function(e){if(this.currentAudio&&this.stop(),e.data){var i=o.createBufferNode(this._audioContext);i.loop=e.loop,i.buffer=e.data,this._gainNode.gain.value=this._calculateVolume(),i.connect(this._gainNode),this._sourceNode=i,this._sourceNode.onended=this._endedEventHandler,this._sourceNode.start(0)}else this._dummyDurationWaitTimer=setTimeout(this._endedEventHandler,e.duration);t.prototype.play.call(this,e)},e.prototype.stop=function(){if(!this.currentAudio)return void t.prototype.stop.call(this);this._clearEndedEventHandler(),this._sourceNode&&this._sourceNode.stop(0),t.prototype.stop.call(this)},e.prototype.notifyMasterVolumeChanged=function(){this._gainNode.gain.value=this._calculateVolume()},e.prototype._onAudioEnded=function(){this._clearEndedEventHandler(),t.prototype.stop.call(this)},e.prototype._clearEndedEventHandler=function(){this._sourceNode&&(this._sourceNode.onended=null),null!=this._dummyDurationWaitTimer&&(clearTimeout(this._dummyDurationWaitTimer),this._dummyDurationWaitTimer=null)},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(n.AudioPlayer);i.WebAudioPlayer=s},{\"./WebAudioHelper\":79,\"@akashic/akashic-engine\":1}],81:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"./WebAudioAsset\"),n=t(\"./WebAudioPlayer\"),o=t(\"./WebAudioAutoplayHelper\"),s=function(){function t(){this.supportedFormats=this._detectSupportedFormats(),o.setupChromeMEIWorkaround()}return t.isSupported=function(){return\"AudioContext\"in window||\"webkitAudioContext\"in window},Object.defineProperty(t.prototype,\"supportedFormats\",{get:function(){return this._supportedFormats},set:function(t){this._supportedFormats=t,r.WebAudioAsset.supportedFormats=t},enumerable:!0,configurable:!0}),t.prototype.createAsset=function(t,e,i,n,o,s){return new r.WebAudioAsset(t,e,i,n,o,s)},t.prototype.createPlayer=function(t,e){return new n.WebAudioPlayer(t,e)},t.prototype._detectSupportedFormats=function(){if(-1!==navigator.userAgent.indexOf(\"Edge/\"))return[\"aac\"];var t=document.createElement(\"audio\"),e=[];try{for(var i=[\"ogg\",\"aac\",\"mp4\"],r=0,n=i.length;r<n;r++){var o=i[r],s=t.canPlayType(\"audio/\"+o);\"no\"!==s&&\"\"!==s&&e.push(o)}}catch(t){}return e},t}();i.WebAudioPlugin=s},{\"./WebAudioAsset\":77,\"./WebAudioAutoplayHelper\":78,\"./WebAudioPlayer\":80}],82:[function(t,e,i){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var r=t(\"@akashic/akashic-engine\"),n=function(){function t(t){void 0===t&&(t={}),this.timeout=t.timeout||15e3}return t.prototype.get=function(t,e){this._getRequestObject({url:t,responseType:\"text\"},e)},t.prototype.getArrayBuffer=function(t,e){this._getRequestObject({url:t,responseType:\"arraybuffer\"},e)},t.prototype._getRequestObject=function(t,e){var i=new XMLHttpRequest;i.open(\"GET\",t.url,!0),i.responseType=t.responseType,i.timeout=this.timeout,i.addEventListener(\"timeout\",function(){e(r.ExceptionFactory.createAssetLoadError(\"loading timeout\"))},!1),i.addEventListener(\"load\",function(){if(i.status>=200&&i.status<300){var n=\"text\"===t.responseType?i.responseText:i.response;e(null,n)}else e(r.ExceptionFactory.createAssetLoadError(\"loading error. status: \"+i.status))},!1),i.addEventListener(\"error\",function(){e(r.ExceptionFactory.createAssetLoadError(\"loading error. status: \"+i.status))},!1),i.send()},t}();i.XHRLoader=n},{\"@akashic/akashic-engine\":1}],83:[function(e,i,r){(function(n,o){!function(e,n){\"object\"==typeof r&&void 0!==i?i.exports=n():\"function\"==typeof t&&t.amd?t(n):e.ES6Promise=n()}(this,function(){\"use strict\";function t(t){var e=typeof t;return null!==t&&(\"object\"===e||\"function\"===e)}function i(t){return\"function\"==typeof t}function r(t){N=t}function s(t){W=t}function a(){return void 0!==U?function(){U(c)}:h()}function h(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;t<H;t+=2){(0,z[t])(z[t+1]),z[t]=void 0,z[t+1]=void 0}H=0}function u(t,e){var i=this,r=new this.constructor(d);void 0===r[K]&&k(r);var n=i._state;if(n){var o=arguments[n-1];W(function(){return E(n,r,o,i._result)})}else w(i,r,t,e);return r}function l(t){var e=this;if(t&&\"object\"==typeof t&&t.constructor===e)return t;var i=new e(d);return v(i,t),i}function d(){}function p(){return new TypeError(\"You cannot resolve a promise with itself\")}function f(){return new TypeError(\"A promises callback cannot return that same promise.\")}function _(t,e,i,r){try{t.call(e,i,r)}catch(t){return t}}function g(t,e,i){W(function(t){var r=!1,n=_(i,e,function(i){r||(r=!0,e!==i?v(t,i):A(t,i))},function(e){r||(r=!0,x(t,e))},\"Settle: \"+(t._label||\" unknown promise\"));!r&&n&&(r=!0,x(t,n))},t)}function y(t,e){e._state===$?A(t,e._result):e._state===Z?x(t,e._result):w(e,void 0,function(e){return v(t,e)},function(e){return x(t,e)})}function m(t,e,r){e.constructor===t.constructor&&r===u&&e.constructor.resolve===l?y(t,e):void 0===r?A(t,e):i(r)?g(t,e,r):A(t,e)}function v(e,i){if(e===i)x(e,p());else if(t(i)){var r=void 0;try{r=i.then}catch(t){return void x(e,t)}m(e,i,r)}else A(e,i)}function T(t){t._onerror&&t._onerror(t._result),S(t)}function A(t,e){t._state===J&&(t._result=e,t._state=$,0!==t._subscribers.length&&W(S,t))}function x(t,e){t._state===J&&(t._state=Z,t._result=e,W(T,t))}function w(t,e,i,r){var n=t._subscribers,o=n.length;t._onerror=null,n[o]=e,n[o+$]=i,n[o+Z]=r,0===o&&t._state&&W(S,t)}function S(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var r=void 0,n=void 0,o=t._result,s=0;s<e.length;s+=3)r=e[s],n=e[s+i],r?E(i,r,n,o):n(o);t._subscribers.length=0}}function E(t,e,r,n){var o=i(r),s=void 0,a=void 0,h=!0;if(o){try{s=r(n)}catch(t){h=!1,a=t}if(e===s)return void x(e,f())}else s=n;e._state!==J||(o&&h?v(e,s):!1===h?x(e,a):t===$?A(e,s):t===Z&&x(e,s))}function b(t,e){try{e(function(e){v(t,e)},function(e){x(t,e)})}catch(e){x(t,e)}}function P(){return Q++}function k(t){t[K]=Q++,t._state=void 0,t._result=void 0,t._subscribers=[]}function R(){return new Error(\"Array Methods must be provided an Array\")}function L(t){return new tt(this,t).promise}function M(t){var e=this;return new e(G(t)?function(i,r){for(var n=t.length,o=0;o<n;o++)e.resolve(t[o]).then(i,r)}:function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})}function C(t){var e=this,i=new e(d);return x(i,t),i}function O(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}function F(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}function I(){var t=void 0;if(void 0!==o)t=o;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(t){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if(\"[object Promise]\"===i&&!e.cast)return}t.Promise=et}var D=void 0;D=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};var G=D,H=0,U=void 0,N=void 0,W=function(t,e){z[H]=t,z[H+1]=e,2===(H+=2)&&(N?N(c):Y())},B=\"undefined\"!=typeof window?window:void 0,j=B||{},V=j.MutationObserver||j.WebKitMutationObserver,q=\"undefined\"==typeof self&&void 0!==n&&\"[object process]\"==={}.toString.call(n),X=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel,z=new Array(1e3),Y=void 0;Y=q?function(){return function(){return n.nextTick(c)}}():V?function(){var t=0,e=new V(c),i=document.createTextNode(\"\");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}():X?function(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}():void 0===B&&\"function\"==typeof e?function(){try{var t=Function(\"return this\")().require(\"vertx\");return U=t.runOnLoop||t.runOnContext,a()}catch(t){return h()}}():h();var K=Math.random().toString(36).substring(2),J=void 0,$=1,Z=2,Q=0,tt=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(d),this.promise[K]||k(this.promise),G(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&A(this.promise,this._result))):x(this.promise,R())}return t.prototype._enumerate=function(t){for(var e=0;this._state===J&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,r=i.resolve;if(r===l){var n=void 0,o=void 0,s=!1;try{n=t.then}catch(t){s=!0,o=t}if(n===u&&t._state!==J)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof n)this._remaining--,this._result[e]=t;else if(i===et){var a=new i(d);s?x(a,o):m(a,t,n),this._willSettleAt(a,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,i){var r=this.promise;r._state===J&&(this._remaining--,t===Z?x(r,i):this._result[e]=i),0===this._remaining&&A(r,this._result)},t.prototype._willSettleAt=function(t,e){var i=this;w(t,void 0,function(t){return i._settledAt($,e,t)},function(t){return i._settledAt(Z,e,t)})},t}(),et=function(){function t(e){this[K]=P(),this._result=this._state=void 0,this._subscribers=[],d!==e&&(\"function\"!=typeof e&&O(),this instanceof t?b(this,e):F())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this,r=e.constructor;return i(t)?e.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):e.then(t,t)},t}();return et.prototype.then=u,et.all=L,et.race=M,et.resolve=l,et.reject=C,et._setScheduler=r,et._setAsap=s,et._asap=W,et.polyfill=I,et.Promise=et,et})}).call(this,e(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{_process:84}],84:[function(t,e,i){function r(){throw new Error(\"setTimeout has not been defined\")}function n(){throw new Error(\"clearTimeout has not been defined\")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(t){if(d===clearTimeout)return clearTimeout(t);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){g&&f&&(g=!1,f.length?_=f.concat(_):y=-1,_.length&&h())}function h(){if(!g){var t=o(a);g=!0;for(var e=_.length;e;){for(f=_,_=[];++y<e;)f&&f[y].run();y=-1,e=_.length}f=null,g=!1,s(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,d,p=e.exports={};!function(){try{l=\"function\"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{d=\"function\"==typeof clearTimeout?clearTimeout:n}catch(t){d=n}}();var f,_=[],g=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];_.push(new c(t,e)),1!==_.length||g||o(h)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title=\"browser\",p.browser=!0,p.env={},p.argv=[],p.version=\"\",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(t){return[]},p.binding=function(t){throw new Error(\"process.binding is not supported\")},p.cwd=function(){return\"/\"},p.chdir=function(t){throw new Error(\"process.chdir is not supported\")},p.umask=function(){return 0}},{}],85:[function(t,e,i){e.exports={gameDriver:t(\"@akashic/game-driver\"),akashicEngine:t(\"@akashic/akashic-engine\"),pdiBrowser:t(\"@akashic/pdi-browser\")}},{\"@akashic/akashic-engine\":1,\"@akashic/game-driver\":4,\"@akashic/pdi-browser\":28}]},{},[85])(85)});\n\n\twindow.engineFiles=engineFilesV2_1_37,window.g=engineFiles.akashicEngine,function(){window.require;window.require=function(i){switch(i){case\"@akashic/akashic-engine\":return engineFiles.akashicEngine;default:return this.call(this,i)}}}();\n\n</script>\n\n<script>\nif (! (\"optionProps\" in window)) {\n\twindow.optionProps = {};\n}\nwindow.optionProps.magnify = false\n\nwindow.g = require(\"@akashic/akashic-engine\");\n</script>\n<script>\nif (! (\"gLocalAssetContainer\" in window)) {\n\twindow.gLocalAssetContainer = {};\n}\n\nif (! (\"__akashic__\" in window)) {\n\twindow.__akashic__ = {};\n}\n\n\n\t\n\t\twindow.gLocalAssetContainer[\"game.json\"] = `{\n\t\"width\": 640,\n\t\"height\": 320,\n\t\"fps\": 30,\n\t\"main\": \"./script/_bootstrap.js\",\n\t\"assets\": {\n\t\t\"main\": {\n\t\t\t\"type\": \"script\",\n\t\t\t\"path\": \"script/main.js\",\n\t\t\t\"global\": true\n\t\t},\n\t\t\"parameterObject\": {\n\t\t\t\"type\": \"script\",\n\t\t\t\"path\": \"script/parameterObject.js\",\n\t\t\t\"global\": true\n\t\t},\n\t\t\"_bootstrap\": {\n\t\t\t\"type\": \"script\",\n\t\t\t\"path\": \"script/_bootstrap.js\",\n\t\t\t\"global\": true\n\t\t},\n\t\t\"tori\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 32,\n\t\t\t\"height\": 32,\n\t\t\t\"path\": \"image/tori.png\"\n\t\t},\n\t\t\"play\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 300,\n\t\t\t\"height\": 150,\n\t\t\t\"path\": \"image/play.png\"\n\t\t},\n\t\t\"title\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 640,\n\t\t\t\"height\": 320,\n\t\t\t\"path\": \"image/title.png\"\n\t\t},\n\t\t\"result\": {\n\t\t\t\"type\": \"image\",\n\t\t\t\"width\": 640,\n\t\t\t\"height\": 320,\n\t\t\t\"path\": \"image/result.png\"\n\t\t}\n\t},\n\t\"environment\": {\n\t\t\"sandbox-runtime\": \"2\",\n\t\t\"niconico\": {\n\t\t\t\"preferredSessionParameters\": {\n\t\t\t\t\"totalTimeLimit\": 70\n\t\t\t}\n\t\t}\n\t}\n}`;\n\t\n\n\t\n\t\twindow.gLocalAssetContainer[\"main\"] = function(g) {\n\t\t\t!function(e,t,a,i,n){\"use strict\";function s(e){var t=60;e.sessionParameter.totalTimeLimit&&(t=e.sessionParameter.totalTimeLimit),g.game.vars.gameState={score:0};var a=new g.Scene({game:g.game,assetIds:[\"title\",\"play\"]});a.loaded.add(function(){var e=new g.Sprite({scene:a,src:a.assets.title});a.append(e);var t=new g.Sprite({scene:a,src:a.assets.play});t.x=(g.game.width-t.width)/2,t.y=150,t.touchable=!0,t.pointDown.add(function(){i()}),a.append(t)}),g.game.pushScene(a);var i=function(){var e=new g.Scene({game:g.game,assetIds:[\"tori\",\"result\",\"play\"]});e.loaded.add(function(){g.game.vars.gameState.score=0,t=60;var a=new g.FilledRect({scene:e,width:g.game.width,height:g.game.height,cssColor:\"white\"});e.append(a);var n=new g.DynamicFont({game:g.game,fontFamily:g.FontFamily.SansSerif,size:48}),s=new g.Label({scene:e,text:\"SCORE: 0\",font:n,fontSize:n.size/2,textColor:\"black\"});e.append(s);var d=function(){s.text=\"SCORE: \"+g.game.vars.gameState.score,s.invalidate()},o=new g.Sprite({scene:e,src:e.assets.tori,width:e.assets.tori.width,height:e.assets.tori.height});o.x=100,o.y=100,o.modified(),e.append(o);var r=function(){var e=o.y,t=0,a=function(){var a=.45*t*t-10*t+e;o.height+a<g.game.height&&a>0?o.y=a:a<0&&(o.y=0),t++,o.modified()};o.update.remove(a),o.update.add(a)};e.pointDownCapture.add(function(){t>=0&&r()});var c=!1,h=function(){e.pointDownCapture.removeAll(),c=!0;var t=new g.Sprite({scene:e,src:e.assets.result});e.append(t);var a=new g.Sprite({scene:e,src:e.assets.play});a.x=(g.game.width-a.width)/2,a.y=150,a.touchable=!0,a.pointDown.add(function(){i()}),e.append(a);var s=new g.Label({scene:e,text:g.game.vars.gameState.score+\" ÁÇπ\",font:n,textColor:\"black\",fontSize:n.size/2});s.x=(g.game.width-s.width)/2,s.y=a.y-s.height,e.append(s)};e.setInterval(function(){if(!c){var a=new g.FilledRect({scene:e,height:100,width:50,cssColor:\"orange\"});e.append(a),a.x=g.game.width+a.width,a.update.add(function(){t>=0&&(a.x-=10,a.modified(),g.Collision.intersectAreas(a,o)&&h())});var i=new g.FilledRect({scene:e,height:100,width:50,cssColor:\"orange\"});e.append(i),i.x=g.game.width+i.width,i.y=g.game.height-i.height,i.update.add(function(){t>=0&&(i.x-=10,i.modified(),g.Collision.intersectAreas(i,o)&&h())});var n=new g.FilledRect({scene:e,height:g.game.height-(a.height+i.height),width:1,cssColor:\"transparent\"});e.append(n),n.x=g.game.width+i.width+(i.width-n.width),n.y=a.height,n.update.add(function(){t>=0&&(n.x-=10,n.modified()),g.Collision.intersectAreas(n,o)&&(n.destroy(),g.game.vars.gameState.score++,d())})}},1e3)}),g.game.pushScene(e)}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.main=s}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);\n\t\t};\n\t\n\n\t\n\t\twindow.gLocalAssetContainer[\"parameterObject\"] = function(g) {\n\t\t\t!function(e,u,o,r,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0})}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);\n\t\t};\n\t\n\n\t\n\t\twindow.gLocalAssetContainer[\"_bootstrap\"] = function(g) {\n\t\t\t!function(e,a,n,r,d){\"use strict\";var t=a(\"./main\");n.exports=function(e){var a={};Object.keys(e).forEach(function(n){a[n]=e[n]}),a.sessionParameter={},a.isAtsumaru=\"undefined\"!=typeof window&&void 0!==window.RPGAtsumaru,a.random=g.game.random;var n=new g.Scene({game:g.game});n.message.add(function(e){e.data&&\"start\"===e.data.type&&e.data.parameters&&(a.sessionParameter=e.data.parameters,null!=e.data.parameters.randomSeed&&(a.random=new g.XorshiftRandomGenerator(e.data.parameters.randomSeed)),g.game.popScene(),t.main(a))}),n.loaded.add(function(){var e=0;n.update.add(function(){++e>3&&(g.game.popScene(),t.main(a))})}),g.game.pushScene(n)}}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);\n\t\t};\n\t\n\n\n\n</script>\n\n<script>\n\n\tvar __extends=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),LocalScriptAsset=function(t){function o(o,n){var e=t.call(this,o,n)||this;return e.func=window.gLocalAssetContainer[o],e}return __extends(o,t),o.prototype._load=function(t){var o=this;void 0!==this.func?setTimeout(function(){t._onAssetLoad(o)},0):setTimeout(function(){t._onAssetError(o,g.ExceptionFactory.createAssetLoadError(\"can not load script asset\"))},0)},o.prototype.execute=function(t){return this.func(t),t.module.exports},o}(g.ScriptAsset);\n\n\t!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,t.gameStorage=e()}}(function(){return function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){var s=\"function\"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error(\"Cannot find module '\"+a+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){return o(t[a][1][e]||e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var i=\"function\"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){\"use strict\";var n=e(\"@akashic/akashic-engine\"),o=e(\"./validator\"),i=function(){function e(e,t){this._localStorage=e,this._metaData=t}return e.prototype.set=function(e,t,r){o.validateStorageKey(e),this.expandVariables(e);var i=this.storageKeyToStringKey(e),a=this.getValue(i),u=null;switch(e.region){case n.StorageRegion.Values:u=this.createValuesValue(a,t,r);break;case n.StorageRegion.Counts:u=this.createCountsValue(a,t,r);break;case n.StorageRegion.Scores:u=this.createScoresValue(a,t,r);break;case n.StorageRegion.Slots:throw new Error(\"Slots is not supported.\");default:throw new Error(\"Unknown region.\")}if(u){var s=null,c=new Date;s=a?{data:u.data,tag:u.tag,createdAt:a.createdAt,updatedAt:c}:{data:u.data,tag:u.tag,createdAt:c,updatedAt:c},this.setValue(i,s)}},e.prototype.load=function(e){var t=this,r={};Object.keys(this._localStorage).forEach(function(e){if(0===e.indexOf(\"akst:\")){var n=e.slice(\"akst:\".length);r[n]=t.getValue(n)}});var n=[];return e.forEach(function(e){o.validateStorageReadKey(e),t.expandVariables(e);var i=[];if(-1!==e.regionKey.indexOf(\"*\")||\"*\"===e.userId){var a=t.storageReadKeyToRegExp(e);Object.keys(r).forEach(function(e){if(a.test(e)){var n=r[e],o={data:n.data,storageKey:t.stringKeyToStorageKey(e)};null!=n.tag&&(o.tag=n.tag),i.push(o)}}),e.option&&(void 0!==e.option.valueOrder&&t.sortByValue(i,e.option.valueOrder),void 0!==e.option.keyOrder&&t.sortByRegionKey(i,e.option.keyOrder))}else{var u=t.storageKeyToStringKey(e),s=r[u];if(s){var c={data:s.data,storageKey:{region:e.region,regionKey:e.regionKey,userId:e.userId,gameId:e.gameId}};null!=s.tag&&(c.tag=s.tag),i.push(c)}}n.push(i)}),n},e.prototype.clearAll=function(){var e=this;Object.keys(this._localStorage).forEach(function(t){0===t.indexOf(\"akst:\")&&e._localStorage.removeItem(t)})},e.prototype.createValuesValue=function(e,t,r){if(!t)return null;if(r&&null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data){if(r.condition!==n.StorageCondition.Equal)throw new Error(\"Invalid condition.\");if(e.data!==r.comparisonValue)return null}var o={data:t.data};return null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createScoresValue=function(e,t,r){if(!t)return null;if(r&&null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data)switch(r.condition){case n.StorageCondition.Equal:if(e.data!==r.comparisonValue)return null;break;case n.StorageCondition.GreaterThan:if(!(e.data>r.comparisonValue))return null;break;case n.StorageCondition.LessThan:if(!(e.data<r.comparisonValue))return null}var o={data:t.data};return null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createCountsIncrDecrValue=function(e,t,r){var o={data:0},i=0;if(e&&(i=Number(e.data)),null!=r.condition&&null!=r.comparisonValue)switch(r.condition){case n.StorageCondition.Equal:if(i!==r.comparisonValue)return e?null:o;break;case n.StorageCondition.GreaterThan:if(!(i>r.comparisonValue))return e?null:o;break;case n.StorageCondition.LessThan:if(!(i<r.comparisonValue))return e?null:o}if(r.operation===n.StorageCountsOperation.Incr)t&&null!=t.data?o.data=i+Number(t.data):o.data=i+1;else{if(r.operation!==n.StorageCountsOperation.Decr)throw new Error(\"Unknown StorageCountsOperation\");t&&null!=t.data?o.data=i-Number(t.data):o.data=i-1}return t&&null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createCountsValue=function(e,t,r){if(r){if(r.operation===n.StorageCountsOperation.Incr||r.operation===n.StorageCountsOperation.Decr)return this.createCountsIncrDecrValue(e,t,r);if(null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data)switch(r.condition){case n.StorageCondition.Equal:if(e.data!==r.comparisonValue)return null;break;case n.StorageCondition.GreaterThan:if(!(e.data>r.comparisonValue))return null;break;case n.StorageCondition.LessThan:if(!(e.data<r.comparisonValue))return null}}var o={data:t.data};return t&&null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.setValue=function(e,t){this._localStorage.setItem(\"akst:\"+e,JSON.stringify(t))},e.prototype.getValue=function(e){return JSON.parse(this._localStorage.getItem(\"akst:\"+e))},e.prototype.storageKeyToStringKey=function(e){return(e.region||\"\")+\"/\"+(null!=e.gameId?String(e.gameId):\"\")+\"/\"+(null!=e.userId?String(e.userId):\"\")+\"/\"+(e.regionKey||\"\")},e.prototype.stringKeyToStorageKey=function(e){var t=e.split(\"/\"),r={region:Number(t[0]),regionKey:t[3]};return t[1]&&(r.gameId=t[1]),t[2]&&(r.userId=t[2]),r},e.prototype.storageReadKeyToRegExp=function(e){var t=e.region||\"\",r=null!=e.gameId?String(e.gameId):\"\",n=null!=e.userId?String(e.userId):\"\",o=\"\";if(\"*\"===n&&(n=\"[0-9]+\"),-1!==e.regionKey.indexOf(\"*\")){var i=e.regionKey.split(\".\");i.forEach(function(e,t){\"*\"===e?o+=\"[.a-z0-9]*\":-1!==e.indexOf(\"*\")?o+=e.replace(\"*\",\"[a-z0-9]*\"):o+=e,t!==i.length-1&&(o+=\".\")})}else o=e.regionKey.replace(\".\",\".\");return new RegExp(\"^\"+t+\"/\"+r+\"/\"+n+\"/\"+o+\"$\")},e.prototype.sortByValue=function(e,t){e.sort(function(e,r){var o=e.data,i=r.data;if(t===n.StorageOrder.Asc){if(o<i)return-1;if(o>i)return 1}else if(t===n.StorageOrder.Desc){if(o<i)return 1;if(o>i)return-1}return 0})},e.prototype.sortByRegionKey=function(e,t){e.sort(function(e,r){var o=e.storageKey.regionKey,i=r.storageKey.regionKey;if(t===n.StorageOrder.Asc){if(o<i)return-1;if(o>i)return 1}else if(t===n.StorageOrder.Desc){if(o<i)return 1;if(o>i)return-1}return 0})},e.prototype.expandVariables=function(e){e.gameId&&-1!==e.gameId.indexOf(\"$gameId\")&&this._metaData.gameId&&(e.gameId=e.gameId.replace(/\\$gameId/g,this._metaData.gameId))},e}();r.GameStorage=i},{\"./validator\":3,\"@akashic/akashic-engine\":\"@akashic/akashic-engine\"}],2:[function(e,t,r){\"use strict\";var n=e(\"./GameStorage\");r.GameStorage=n.GameStorage},{\"./GameStorage\":1}],3:[function(e,t,r){\"use strict\";function n(e,t){u(e.length>0,\"regionKey is empty.\");var r=e.split(\".\");u(r.length<=c,\"The maximum number of layers in the region key is \"+c+\".\");for(var n=!1,o=0;o<r.length;++o)t?\"*\"===r[o]?(u(!n,\"The only one layer of the region key for reading consists of a wildcard character.\"),n=!0):u(/^(\\*|[a-z])[a-z0-9]{0,31}\\*?$/.test(r[o]),\"The layer of the region key for reading must match '^(*|[a-z])[a-z0-9]{0,31}*?$'.\"):u(/^[a-z][a-z0-9]{0,31}$/.test(r[o]),\"The layer of the region key for writing must match '^[a-z][a-z0-9]{0,31}$'.\")}function o(e,t){void 0===t&&(t=!1),u(e.region===s.StorageRegion.Counts||e.region===s.StorageRegion.Scores||e.region===s.StorageRegion.Values,\"Invalid region.\"),u(e.regionKey,\"regionKey must be set.\"),n(e.regionKey,t),u(e.gameId||e.userId,\"StorageKey must have any one at least from gameId and userId.\"),null!=e.gameId&&(u.equal(typeof e.gameId,\"string\",\"gameId must be a string type.\"),u(e.gameId.length>0,\"gameId is empty.\")),null!=e.userId&&(u.equal(typeof e.userId,\"string\",\"userId must be a string type.\"),u(e.userId.length>0,\"userId is empty.\"),t?\"*\"===e.userId&&(u(e.gameId,'gameId for reading must be set when userId is \"*\".'),u(-1===e.regionKey.indexOf(\"*\"),'regionKey for reading must not include \"*\" when userId is \"*\".')):u(\"*\"!==e.userId,'userId for writing must not include \"*\".'))}function i(e){if(o(e,!0),null!=e.option){var t=e.option;null!=t.keyOrder&&u(t.keyOrder===s.StorageOrder.Asc||t.keyOrder===s.StorageOrder.Desc,\"Invalid keyOrder.\"),null!=t.valueOrder&&u(t.valueOrder===s.StorageOrder.Asc||t.valueOrder===s.StorageOrder.Desc,\"Invalid valueOrder.\")}}function a(e){}var u=e(\"assert\"),s=e(\"@akashic/akashic-engine\"),c=4;r.validateRegionKey=n,r.validateStorageKey=o,r.validateStorageReadKey=i,r.validateStorageWriteOption=a},{\"@akashic/akashic-engine\":\"@akashic/akashic-engine\",assert:4}],4:[function(e,t,r){(function(r){\"use strict\";function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0}function o(e){return r.Buffer&&\"function\"==typeof r.Buffer.isBuffer?r.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function i(e){return Object.prototype.toString.call(e)}function a(e){return!o(e)&&\"function\"==typeof r.ArrayBuffer&&(\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}function u(e){if(b.isFunction(e)){if(E)return e.name;var t=e.toString(),r=t.match(I);return r&&r[1]}}function s(e,t){return\"string\"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(E||!b.isFunction(e))return b.inspect(e);var t=u(e);return\"[Function\"+(t?\": \"+t:\"\")+\"]\"}function l(e){return s(c(e.actual),128)+\" \"+e.operator+\" \"+s(c(e.expected),128)}function f(e,t,r,n,o){throw new x.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:o})}function g(e,t){e||f(e,!0,t,\"==\",x.ok)}function p(e,t,r,u){if(e===t)return!0;if(o(e)&&o(t))return 0===n(e,t);if(b.isDate(e)&&b.isDate(t))return e.getTime()===t.getTime();if(b.isRegExp(e)&&b.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&\"object\"==typeof e||null!==t&&\"object\"==typeof t){if(a(e)&&a(t)&&i(e)===i(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;u=u||{actual:[],expected:[]};var s=u.actual.indexOf(e);return-1!==s&&s===u.expected.indexOf(t)||(u.actual.push(e),u.expected.push(t),y(e,t,r,u))}return r?e===t:e==t}function d(e){return\"[object Arguments]\"==Object.prototype.toString.call(e)}function y(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(b.isPrimitive(e)||b.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=d(e),i=d(t);if(o&&!i||!o&&i)return!1;if(o)return e=O.call(e),t=O.call(t),p(e,t,r);var a,u,s=k(e),c=k(t);if(s.length!==c.length)return!1;for(s.sort(),c.sort(),u=s.length-1;u>=0;u--)if(s[u]!==c[u])return!1;for(u=s.length-1;u>=0;u--)if(a=s[u],!p(e[a],t[a],r,n))return!1;return!0}function h(e,t,r){p(e,t,!0)&&f(e,t,r,\"notDeepStrictEqual\",h)}function m(e,t){if(!e||!t)return!1;if(\"[object RegExp]\"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function v(e){var t;try{e()}catch(e){t=e}return t}function S(e,t,r,n){var o;if(\"function\"!=typeof t)throw new TypeError('\"block\" argument must be a function');\"string\"==typeof r&&(n=r,r=null),o=v(t),n=(r&&r.name?\" (\"+r.name+\").\":\".\")+(n?\" \"+n:\".\"),e&&!o&&f(o,r,\"Missing expected exception\"+n);var i=\"string\"==typeof n,a=!e&&b.isError(o),u=!e&&o&&!r;if((a&&i&&m(o,r)||u)&&f(o,r,\"Got unwanted exception\"+n),e&&o&&r&&!m(o,r)||!e&&o)throw o}var b=e(\"util/\"),w=Object.prototype.hasOwnProperty,O=Array.prototype.slice,E=function(){return\"foo\"===function(){}.name}(),x=t.exports=g,I=/\\s*function\\s+([^\\(\\s]*)\\s*/;x.AssertionError=function(e){this.name=\"AssertionError\",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var t=e.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,o=u(t),i=n.indexOf(\"\\n\"+o);if(i>=0){var a=n.indexOf(\"\\n\",i+1);n=n.substring(a+1)}this.stack=n}}},b.inherits(x.AssertionError,Error),x.fail=f,x.ok=g,x.equal=function(e,t,r){e!=t&&f(e,t,r,\"==\",x.equal)},x.notEqual=function(e,t,r){e==t&&f(e,t,r,\"!=\",x.notEqual)},x.deepEqual=function(e,t,r){p(e,t,!1)||f(e,t,r,\"deepEqual\",x.deepEqual)},x.deepStrictEqual=function(e,t,r){p(e,t,!0)||f(e,t,r,\"deepStrictEqual\",x.deepStrictEqual)},x.notDeepEqual=function(e,t,r){p(e,t,!1)&&f(e,t,r,\"notDeepEqual\",x.notDeepEqual)},x.notDeepStrictEqual=h,x.strictEqual=function(e,t,r){e!==t&&f(e,t,r,\"===\",x.strictEqual)},x.notStrictEqual=function(e,t,r){e===t&&f(e,t,r,\"!==\",x.notStrictEqual)},x.throws=function(e,t,r){S(!0,e,t,r)},x.doesNotThrow=function(e,t,r){S(!1,e,t,r)},x.ifError=function(e){if(e)throw e};var k=Object.keys||function(e){var t=[];for(var r in e)w.call(e,r)&&t.push(r);return t}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"util/\":8}],5:[function(e,t,r){function n(){throw new Error(\"setTimeout has not been defined\")}function o(){throw new Error(\"clearTimeout has not been defined\")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(g===clearTimeout)return clearTimeout(e);if((g===o||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(e);try{return g(e)}catch(t){try{return g.call(null,e)}catch(t){return g.call(this,e)}}}function u(){h&&d&&(h=!1,d.length?y=d.concat(y):m=-1,y.length&&s())}function s(){if(!h){var e=i(u);h=!0;for(var t=y.length;t;){for(d=y,y=[];++m<t;)d&&d[m].run();m=-1,t=y.length}d=null,h=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,g,p=t.exports={};!function(){try{f=\"function\"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{g=\"function\"==typeof clearTimeout?clearTimeout:o}catch(e){g=o}}();var d,y=[],h=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];y.push(new c(e,t)),1!==y.length||h||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title=\"browser\",p.browser=!0,p.env={},p.argv=[],p.version=\"\",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(e){throw new Error(\"process.binding is not supported\")},p.cwd=function(){return\"/\"},p.chdir=function(e){throw new Error(\"process.chdir is not supported\")},p.umask=function(){return 0}},{}],6:[function(e,t,r){\"function\"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],7:[function(e,t,r){t.exports=function(e){return e&&\"object\"==typeof e&&\"function\"==typeof e.copy&&\"function\"==typeof e.fill&&\"function\"==typeof e.readUInt8}},{}],8:[function(e,t,r){(function(t,n){function o(e,t){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&r._extend(n,t),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),s(n,e,n.depth)}function i(e,t){var r=o.styles[t];return r?\"\u001b[\"+o.colors[r][0]+\"m\"+e+\"\u001b[\"+o.colors[r][1]+\"m\":e}function a(e,t){return e}function u(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function s(e,t,n){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return S(o)||(o=s(e,o,n)),o}var i=c(e,t);if(i)return i;var a=Object.keys(t),y=u(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),I(t)&&(a.indexOf(\"message\")>=0||a.indexOf(\"description\")>=0))return l(t);if(0===a.length){if(k(t)){var h=t.name?\": \"+t.name:\"\";return e.stylize(\"[Function\"+h+\"]\",\"special\")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),\"regexp\");if(x(t))return e.stylize(Date.prototype.toString.call(t),\"date\");if(I(t))return l(t)}var m=\"\",v=!1,b=[\"{\",\"}\"];if(d(t)&&(v=!0,b=[\"[\",\"]\"]),k(t)&&(m=\" [Function\"+(t.name?\": \"+t.name:\"\")+\"]\"),O(t)&&(m=\" \"+RegExp.prototype.toString.call(t)),x(t)&&(m=\" \"+Date.prototype.toUTCString.call(t)),I(t)&&(m=\" \"+l(t)),0===a.length&&(!v||0==t.length))return b[0]+m+b[1];if(n<0)return O(t)?e.stylize(RegExp.prototype.toString.call(t),\"regexp\"):e.stylize(\"[Object]\",\"special\");e.seen.push(t);var w;return w=v?f(e,t,n,y,a):a.map(function(r){return g(e,t,n,y,r,v)}),e.seen.pop(),p(w,m,b)}function c(e,t){if(w(t))return e.stylize(\"undefined\",\"undefined\");if(S(t)){var r=\"'\"+JSON.stringify(t).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return e.stylize(r,\"string\")}return v(t)?e.stylize(\"\"+t,\"number\"):y(t)?e.stylize(\"\"+t,\"boolean\"):h(t)?e.stylize(\"null\",\"null\"):void 0}function l(e){return\"[\"+Error.prototype.toString.call(e)+\"]\"}function f(e,t,r,n,o){for(var i=[],a=0,u=t.length;a<u;++a)D(t,String(a))?i.push(g(e,t,r,n,String(a),!0)):i.push(\"\");return o.forEach(function(o){o.match(/^\\d+$/)||i.push(g(e,t,r,n,o,!0))}),i}function g(e,t,r,n,o,i){var a,u,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?u=c.set?e.stylize(\"[Getter/Setter]\",\"special\"):e.stylize(\"[Getter]\",\"special\"):c.set&&(u=e.stylize(\"[Setter]\",\"special\")),D(n,o)||(a=\"[\"+o+\"]\"),u||(e.seen.indexOf(c.value)<0?(u=h(r)?s(e,c.value,null):s(e,c.value,r-1),u.indexOf(\"\\n\")>-1&&(u=i?u.split(\"\\n\").map(function(e){return\"  \"+e}).join(\"\\n\").substr(2):\"\\n\"+u.split(\"\\n\").map(function(e){return\"   \"+e}).join(\"\\n\"))):u=e.stylize(\"[Circular]\",\"special\")),w(a)){if(i&&o.match(/^\\d+$/))return u;a=JSON.stringify(\"\"+o),a.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,\"name\")):(a=a.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),a=e.stylize(a,\"string\"))}return a+\": \"+u}function p(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf(\"\\n\")>=0&&n++,e+t.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60?r[0]+(\"\"===t?\"\":t+\"\\n \")+\" \"+e.join(\",\\n  \")+\" \"+r[1]:r[0]+t+\" \"+e.join(\", \")+\" \"+r[1]}function d(e){return Array.isArray(e)}function y(e){return\"boolean\"==typeof e}function h(e){return null===e}function m(e){return null==e}function v(e){return\"number\"==typeof e}function S(e){return\"string\"==typeof e}function b(e){return\"symbol\"==typeof e}function w(e){return void 0===e}function O(e){return E(e)&&\"[object RegExp]\"===K(e)}function E(e){return\"object\"==typeof e&&null!==e}function x(e){return E(e)&&\"[object Date]\"===K(e)}function I(e){return E(e)&&(\"[object Error]\"===K(e)||e instanceof Error)}function k(e){return\"function\"==typeof e}function T(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"==typeof e||void 0===e}function K(e){return Object.prototype.toString.call(e)}function j(e){return e<10?\"0\"+e.toString(10):e.toString(10)}function V(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(\":\");return[e.getDate(),C[e.getMonth()],t].join(\" \")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;r.format=function(e){if(!S(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(o(arguments[r]));return t.join(\" \")}for(var r=1,n=arguments,i=n.length,a=String(e).replace(A,function(e){if(\"%%\"===e)return\"%\";if(r>=i)return e;switch(e){case\"%s\":return String(n[r++]);case\"%d\":return Number(n[r++]);case\"%j\":try{return JSON.stringify(n[r++])}catch(e){return\"[Circular]\"}default:return e}}),u=n[r];r<i;u=n[++r])h(u)||!E(u)?a+=\" \"+u:a+=\" \"+o(u);return a},r.deprecate=function(e,o){function i(){if(!a){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),a=!0}return e.apply(this,arguments)}if(w(n.process))return function(){return r.deprecate(e,o).apply(this,arguments)};if(!0===t.noDeprecation)return e;var a=!1;return i};var z,q={};r.debuglog=function(e){if(w(z)&&(z=t.env.NODE_DEBUG||\"\"),e=e.toUpperCase(),!q[e])if(new RegExp(\"\\\\b\"+e+\"\\\\b\",\"i\").test(z)){var n=t.pid;q[e]=function(){var t=r.format.apply(r,arguments);console.error(\"%s %d: %s\",e,n,t)}}else q[e]=function(){};return q[e]},r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},r.isArray=d,r.isBoolean=y,r.isNull=h,r.isNullOrUndefined=m,r.isNumber=v,r.isString=S,r.isSymbol=b,r.isUndefined=w,r.isRegExp=O,r.isObject=E,r.isDate=x,r.isError=I,r.isFunction=k,r.isPrimitive=T,r.isBuffer=e(\"./support/isBuffer\");var C=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];r.log=function(){console.log(\"%s - %s\",V(),r.format.apply(r,arguments))},r.inherits=e(\"inherits\"),r._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e(\"_process\"),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./support/isBuffer\":7,_process:5,inherits:6}]},{},[2])(2)});\n\n\twindow.addEventListener(\"load\",function(){!function(e){function n(e){if(s.containerController){var n={width:window.innerWidth||document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight},t=Math.min(n.width/e.width,n.height/e.height),o={width:Math.floor(e.width*t),height:Math.floor(e.height*t)};s.containerController.changeScale(t,t);var i={x:Math.floor((n.width-o.width)/2),y:Math.floor((n.height-o.height)/2)};s.containerController.inputHandlerLayer.setOffset(i)}}var t=e,o={id:\"9999\",name:\"sandbox-player\"},i=new gameStorage.GameStorage(window.localStorage,{gameId:t}),a=engineFiles.pdiBrowser,r=engineFiles.gameDriver,d=new r.MemoryAmflowClient({playId:\"sandboxDummyPlayId\",putStorageDataSyncFunc:i.set.bind(i),getStorageDataSyncFunc:function(e){var n=i.load(e);return e.map(function(e,t){return{readKey:e,values:n[t]}})}});if(!0===window.__akashic__.autoSendEvents||\"string\"==typeof window.__akashic__.autoSendEvents){var c=window.__akashic__.sandboxConfigFunc(),l=!0===window.__akashic__.autoSendEvents?c.autoSendEvents:window.__akashic__.autoSendEvents;c&&l&&c.events&&c.events[l]&&c.events[l].forEach(function(e){d.sendEvent(e)})}var u;u=\"file:\"!==location.protocol?[a.WebAudioPlugin,a.HTMLAudioPlugin]:[a.HTMLAudioPlugin];var s=new a.Platform({amflow:d,containerView:document.getElementById(\"container\"),audioPlugins:u});s.loadGameConfiguration=function(e,n){try{var t=window.gLocalAssetContainer[\"game.json\"];t=decodeURIComponent(t),n(null,JSON.parse(t))}catch(e){n(e,null)}},s._resourceFactory.createScriptAsset=function(e,n){return new LocalScriptAsset(e,n)};var w=function(e,n){return new LocalTextAsset(e,n)};\"undefined\"!=typeof LocalTextAsset&&(s._resourceFactory.createTextAsset=w),driver=new r.GameDriver({platform:s,player:o,errorHandler:function(e){console.log(\"ERRORHANDLER:\",e)}}),driver.gameCreatedTrigger.add(function(e){window.optionProps.magnify&&(n(e),window.addEventListener(\"resize\",function(){n(e)}))}),driver.initialize({configurationUrl:\"game.json\",assetBase:\"./\",driverConfiguration:{playId:\"sandboxDummyPlayId\",playToken:\"dummyToken\",executionMode:r.ExecutionMode.Active},loopConfiguration:{loopMode:r.LoopMode.Realtime}},function(e){if(e)throw e;driver.startGame()})}(\"exportHTML\")});\n\n\twindow.g=require(\"@akashic/akashic-engine\"),\"gLocalAssetContainer\"in window||(window.gLocalAssetContainer={}),\"__akashic__\"in window||(window.__akashic__={});\n\n\tvar __extends=this&&this.__extends||function(){var t=function(o,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])})(o,n)};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),LocalTextAsset=function(t){function o(o,n){var e=t.call(this,o,n)||this;return e.data=decodeURIComponent(window.gLocalAssetContainer[o]),e}return __extends(o,t),o.prototype._load=function(t){var o=this;void 0!==this.data?setTimeout(function(){t._onAssetLoad(o)},0):setTimeout(function(){t._onAssetError(o,g.ExceptionFactory.createAssetLoadError(\"can not load text asset\"))},0)},o}(g.TextAsset);\n\n</script>\n\n<style type=\"text/css\">\n* {\n\tmargin: 0;\n\tborder: 0;\n\tpadding: 0;\n}\n\nhtml {\n\twidth: 100%;\n\theight: 100%;\n}\n\nbody {\n\toverflow: hidden;\n\twidth: 100%;\n\theight: 100%;\n}\n\n#container {\n\tmargin: 0px;\n\tpadding: 0px;\n\toverflow: hidden;\n\ttouch-action: none;\n\twidth: 100%;\n\theight: 100%;\n\n\t/* iOSË°®Á§∫Â¥©„ÇåÂØæÁ≠ñ: body„ÅÆ„Çµ„Ç§„Ç∫Ë®àÁÆó„Åã„Çâ„Åì„ÅÆË¶ÅÁ¥†„ÇíÈô§Â§ñ */\n\t/* position: absolute; */\n}\n\n#container canvas {\n\tbackground-size: contain;\n}\n\n</style>\n\n\n\n<meta name=\"generator\" content=\"Hexo 4.2.0\"></head>\n<body>\n<div id=\"container\">\n</div>\n<p>AkashicEngine+TypeScript„Åß‰Ωú„Çä„Åæ„Åó„Åü„ÄÇ</p>\n<p><a href=\"https://github.com/takusan23/AkashicEngine-FlappyBird\" target=\"_blank\" rel=\"noopener\">„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÅØ„Åì„Åì<a></p>\n</body>\n</html>\n"}],"Post":[{"title":"„ÄêAndroid / Kotlin / ARCore„ÄëARCore„ÅßTextView„ÇíÂá∫„Åô","author":"takusan_23","slide":false,"_content":"ARËß¶„Å£„Å¶„Åø„Åü„ÅÑ„ÄÇ\n\n# widgetsÔºàUI„ÅÆÈÉ®ÂìÅ ‰æãÔºöTextView„ÄÅImageViewÔºâ„ÅåAR„ÅßË°®Á§∫„Åß„Åç„Çã„Çâ„Åó„ÅÑ\nhttps://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets\n\n![Screenshot_1577032540.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/6f5e59b3-b466-aefe-ec75-11657ee1845f.png)\n\n\n„Åì„Åì„ÄÇsceneform„Å£„Å¶„Å™„Çì„Åû„ÇÑ„Å£„Å¶Ë©±„Å†„Åë„Å©„Åì„Çå„Åß„Åç„Åü„Çâ„Åè„Å£„ÅùÈù¢ÁôΩ„Åù„ÅÜ„Å†„Å®ÊÄù„Å£„Åü„ÅÆ„Åß„ÄÅ\n‰ªäÂõû„ÅØTextView„ÇíAR‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Çã„Å®„Åì„Çç„Åæ„Åß„ÇÑ„Çç„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n## „Ç®„Éü„É•„É¨„Éº„Çø„Éº„ÅßARCore„Ç¢„Éó„É™„ÇíÂãï„Åã„Åô„Åü„ÇÅ„Å´\n„ÅÑ„ÇÑPixel„Å®„ÅãGalaxy„Å®„Åã‰Ωø„ÅÑ„Åæ„Åô„Åã„Çâ„Å£„Å¶Êñπ„ÅØÈ£õ„Å∞„Åó„Å¶„ÅÑ„ÅÑ„Åû„ÄÇ\n~~„Å¶„ÅãARCoreÂØæÂøúÁ´ØÊú´ÁÑ°„ÅÑ„ÅÆ„Å´AR„Ç¢„Éó„É™‰Ωú„Çç„ÅÜ„Å®„Åó„Å¶„Çã‰∫∫„ÄÅ„Å©„Åì„Åã„Çâ„ÇÑ„ÇãÊ∞ó„ÅåÂá∫„Å¶„Çã„Çì„Å†„ÄÇ~~\n\n### Google Play ÈñãÁô∫ËÄÖ„Çµ„Éº„Éì„ÇπÔºàARÔºâ„ÇíÂÖ•„Çå„Åæ„Åô\nhttps://github.com/google-ar/arcore-android-sdk/releases\n„Åì„Åì„Åã„ÇâAPK„ÇíDL„Åó„Å¶„ÄÅ„Ç®„Éü„É•„É¨„Éº„Çø„Éº„Å´„Éâ„É©„ÉÉ„Ç∞„Ç¢„É≥„Éâ„Éâ„É≠„ÉÉ„Éó„Åó„Å¶„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n‰ªäÂõû„ÅØË®ò‰∫ã‰ΩúÊàêÊôÇÊúÄÊñ∞VerÔºàGoogle_Play_Services_for_AR_1.14.1_x86_for_emulator.apkÔºâ„ÇíÂÖ•„Çå„Åæ„Åô„ÄÇ\n\nÊàêÂäü„Åô„Çã„Å®„Ç¢„Éó„É™‰∏ÄË¶ßÁîªÈù¢„Å´Ë°®Á§∫„Åï„Çå„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/643c568b-f56d-f61d-3b06-f995abbff688.png)\n\n# Áí∞Â¢É\n| „Å™„Åæ„Åà        | „ÅÇ„Åü„ÅÑ                             |\n|---------------|------------------------------------|\n| Á´ØÊú´          | „Ç®„Éü„É•„É¨„Éº„Çø„Éº / Google Pixel 3 XL |\n| Android       | 10                                 |\n| minSdkVersion | 24ÔºàARCore„ÅÆ„Åõ„ÅÑÔºâ                 |\n\n# ÂÆüË£Ö\nMainActivity„Åå„Åß„Åç„Å¶„ÇãÊÆµÈöé„Åæ„ÅßÊù•„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n## build.gradleÔºàapp„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠ÔºâÊõ∏„ÅçË∂≥„Åô\nÂèÇËÄÉÔºöhttps://developers.google.com/ar/develop/java/sceneform#configure-project\n\n„Åì„ÅÜ„Å™„Å£„Å¶„ÅÑ„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„Åå„ÄÅ\n\n```gradle:build.gradle\napply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"io.github.takusan23.aredittext\"\n        minSdkVersion 24\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.core:core-ktx:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n}\n```\n\n„Åì„Åì„Åã„ÇâÊõ∏„ÅçË∂≥„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ\n\n```gradle:build.gradle\napply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"io.github.takusan23.aredittext\"\n        minSdkVersion 24\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    //Java 8„ÅåÂøÖË¶Å„Åø„Åü„ÅÑ„ÄÇ\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    //ArFragment„Å™„Å©    \n    implementation \"com.google.ar.sceneform.ux:sceneform-ux:1.14.0\"\n\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.core:core-ktx:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n}\n```\n\n# AndroidManifestÊõ∏„ÅçË∂≥„Åô\nÂèÇËÄÉÔºöhttps://developers.google.com/ar/develop/java/sceneform#manifest\n„Åæ„Åö‰∏ä„ÅÆÊñπ„Å´„Åì„Çì„Å™„Åã„Çì„Åò„Å´„ÄÅ\n\n```xml\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"„Å™„Çì„Å®„ÅãÔΩû\">\n\n„ÄÄ„ÄÄ<!-- Both \"AR Optional\" and \"AR Required\" apps require CAMERA permission. -->\n„ÄÄ„ÄÄ<uses-permission android:name=\"android.permission.CAMERA\" />\n    <!-- Sceneform requires OpenGL ES 3.0 or later. -->\n    <uses-feature android:glEsVersion=\"0x00030000\" android:required=\"true\" />\n    <!-- Indicates that app requires ARCore (\"AR Required\"). Ensures the app is\n    visible only in the Google Play Store on devices that support ARCore.\n     For \"AR Optional\" apps remove this line. -->\n   <uses-feature android:name=\"android.hardware.camera.ar\" />\n```\n\n```<application>``` „ÅÆ‰∏≠„Å´„ÇÇÊõ∏„ÅçË∂≥„Åó„Åæ„Åô\n\n```xml\n<!-- Indicates that app requires ARCore (\"AR Required\"). Causes the Google\n     Play Store to download and install Google Play Services for AR along\n     with the app. For an \"AR Optional\" app, specify \"optional\" instead of\n     \"required\".\n-->\n<meta-data android:name=\"com.google.ar.core\" android:value=\"required\" />\n```\n\nÂÖ®ÈÉ®„Å§„Åë„Çã„Å®„Åì„ÅÜ„Å™„Çä„Åæ„Åô\n\n```xml:AndroidManifest.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"io.github.takusan23.aredittext\">\n\n    <!-- Both \"AR Optional\" and \"AR Required\" apps require CAMERA permission. -->\n    <uses-permission android:name=\"android.permission.CAMERA\" />\n\n    <!-- Sceneform requires OpenGL ES 3.0 or later. -->\n    <uses-feature android:glEsVersion=\"0x00030000\" android:required=\"true\" />\n\n    <!-- Indicates that app requires ARCore (\"AR Required\"). Ensures the app is\n         visible only in the Google Play Store on devices that support ARCore.\n         For \"AR Optional\" apps remove this line. -->\n    <uses-feature android:name=\"android.hardware.camera.ar\" />\n\n    <application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\">\n\n        <!-- Indicates that app requires ARCore (\"AR Required\"). Causes the Google\n             Play Store to download and install Google Play Services for AR along\n             with the app. For an \"AR Optional\" app, specify \"optional\" instead of\n             \"required\".\n        -->\n        <meta-data android:name=\"com.google.ar.core\" android:value=\"required\" />\n\n\n        <activity android:name=\".MainActivity\">\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n    </application>\n\n</manifest>\n```\n\n# MainActivity„Å´Fragment„ÇíÁΩÆ„Åè„ÄÇ\nÂèÇËÄÉÔºöhttps://developers.google.com/ar/develop/java/sceneform#scene-view\nConstraintLayout„ÅØ‰Ωø„ÅÑÊñπ„Åå„Çà„Åè„Çè„Åã„Çâ„Å™„ÅÑ„ÅÆ„ÅßLinearLayout„Å´ÁΩÆ„ÅçÊèõ„Åà„Å¶„ÄÅFragment„Çí„Éâ„É©„ÉÉ„Ç∞„Åó„Åæ„Åô„ÄÇ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/a152914b-b45a-b3bf-86ba-5348df99d42e.png)\n\n„Åß„Åç„Åü„Çâ**ArFragment**„ÇíÈÅ∏Êäû„Åó„Å¶**OK**„Åß„ÅôÔºÅ\n\nlayout_height„ÅÆÂÄ§„Çí**match_parent**„Å´„Åó„Å¶ÊúÄÂ§ß„Åæ„ÅßÂ∫É„Åí„Çã„Çà„ÅÜ„Å´„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ\n„Åù„Çå„Å®id„ÇÇfragment„Å†„Å®„Çè„Åã„Çä„Å´„Åè„Åè„Å™„Çã„ÅÆ„Åß„ÄÅar_fragment„Å®„Åã„Å´„Åó„Å®„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\nxml„Å†„Å®„Åì„ÅÜ„Å™„Å£„Å¶„ÅÑ„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\" >\n\n    <fragment\n        android:id=\"@+id/ar_fragment\"\n        android:name=\"com.google.ar.sceneform.ux.ArFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" />\n</LinearLayout>\n```\n\n# Sceneform„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã\nhttps://developers.google.com/ar/develop/java/sceneform\n„Å´„ÅØÊõ∏„ÅÑ„Å¶„ÅÇ„Çä„Åæ„Åõ„Çì„Åå„ÄÅ[ARCore„ÅÆ„Çµ„É≥„Éó„É´](https://github.com/google-ar/sceneform-android-sdk/blob/master/samples/hellosceneform/app/src/main/java/com/google/ar/sceneform/samples/hellosceneform/HelloSceneformActivity.java)„Å´„ÅØÊõ∏„ÅÑ„Å¶„ÅÇ„Å£„Åü„ÅÆ„Åß„ÄÅKotlin„Å´Â§âÊèõ„Åó„Å¶‰Ωø„ÅÑ„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity.kt\nfun checkIsSupportedDeviceOrFinish(activity: Activity): Boolean {\n    val MIN_OPENGL_VERSION = 3.0\n    if (Build.VERSION.SDK_INT < Build.VERSION_CODES.N) {\n        Toast.makeText(activity, \"Sceneform„Å´„ÅØAndroid N‰ª•Èôç„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ\", Toast.LENGTH_LONG).show()\n        activity.finish()\n        return false\n    }\n    val openGlVersionString = (activity.getSystemService(Context.ACTIVITY_SERVICE) as ActivityManager).deviceConfigurationInfo.glEsVersion\n    if (java.lang.Double.parseDouble(openGlVersionString) < MIN_OPENGL_VERSION) {\n        Toast.makeText(activity, \"Sceneform„Å´„ÅØOpen GL 3.0‰ª•Èôç„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ\", Toast.LENGTH_LONG).show()\n        activity.finish()\n        return false\n    }\n    return true\n}\n```\n\n„Åì„Çå„Çí```setContentView()```„ÅÆÂâç„Åß‰Ωø„ÅÑ„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity.kt\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    //Êù°‰ª∂Ê∫Ä„Åü„Åó„Å¶„Å™„Åë„Çå„Å∞ActivityÁµÇ‰∫Ü„Åï„Åõ„Çã\n    if(!checkIsSupportedDeviceOrFinish(this)){\n        return\n    }\n    setContentView(R.layout.activity_main)\n}\n```\n\n# ArFragmentÂèñÂæó\nMainActivity„ÅßÁΩÆ„ÅÑ„ÅüArFragment„ÇíÂèñÂæó„Åó„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity.kt\nlateinit var arFragment: ArFragment\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    //Êù°‰ª∂Ê∫Ä„Åü„Åó„Å¶„Å™„Åë„Çå„Å∞ActivityÁµÇ‰∫Ü„Åï„Åõ„Çã\n    if(!checkIsSupportedDeviceOrFinish(this)){\n        return\n    }\n    setContentView(R.layout.activity_main)\n    //ArFragmentÂèñÂæó\n    arFragment = supportFragmentManager.findFragmentById(R.id.ar_fragment) as ArFragment\n}\n```\n\n# Ëµ∑Âãï„Åó„Å¶„Åø„Çã\n„Åì„Åì„Åæ„Åß„ÅßÁâπ„Å´ÂïèÈ°å„Åå„Å™„Åë„Çå„Å∞„ÄÅ\n„Ç´„É°„É©„ÅÆÊ®©ÈôêË®±ÂèØ„Åå„Åç„Å¶„ÄÅË®±ÂèØ„Åô„Çã„Å®Êò†„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/e802a9d9-3d6c-623c-da86-6e2f2ed416c4.png)\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/0b97794e-8ed5-2915-e472-9206df1710e1.png)\n\nÊò†„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ„Åì„Åì„Åæ„ÅßÈñìÈÅï„Åà„Åö„Å§„ÅÑ„Å¶„Åì„Çå„Å¶„Åæ„Åô„ÄÇ\n\n# „ÅÑ„Çà„ÅÑ„ÇàView„ÇíÁèæÂÆü„Å´Ë°®Á§∫„Åï„Åõ„Çã„Éª„Éª„ÉªÔºÅ\nÂèÇËÄÉÔºöhttps://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets\n\n„Åæ„Åölayout„Éï„Ç©„É´„ÉÄ„Å´**ar_layout.xml**„Å®„ÅÑ„ÅÜÂêçÂâç„Åß‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/521816ac-26b0-e798-6fb2-4c5613da107d.png)\n\nÊ¨°„Å´ÁèæÂÆü„ÅßË°®Á§∫„Åï„Åõ„Åü„ÅÑUIÈÉ®ÂìÅ„Çí‰∏¶„Åπ„Åæ„Åô„ÄÇ\n‰ªäÂõû„ÅØTextView„ÇíÁΩÆ„Åç„Åæ„Åô„ÄÇÔºà„Çø„Ç§„Éà„É´Ë©êÊ¨∫ÂõûÈÅøÔºâ\n\n```xml:ar_layout.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"#ffffff\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\">\n\n\n    <TextView\n        android:id=\"@+id/textView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"10sp\"\n        android:gravity=\"center\"\n        android:text=\"„Å¶„Åç„Åô„Å®„Å†„Çà„Éº\" />\n</LinearLayout>\n```\n\n## AR„ÅßÊâ±„Åà„Çã„Çà„ÅÜ„Å´\nÂèÇËÄÉÔºöhttps://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets\n\n```kotlin:MainActivity.kt\n    //„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíAR„Å´„Éª„Éª„Éª\n    lateinit var viewRenderable: ViewRenderable\n```\n\nË™≠„ÅøËæº„Åø„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity.kt\n//„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíË™≠„ÅøËæº„ÇÄ\nViewRenderable.builder()\n    .setView(this, R.layout.ar_layout)\n    .build()\n    .thenAccept { renderable -> viewRenderable = renderable } //Ë™≠„ÅøËæº„ÅøÊàêÂäü\n    .exceptionally {\n        //Ë™≠„ÅøËæº„ÅøÂ§±Êïó\n        it.printStackTrace()\n        Toast.makeText(this, \"Ë™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ\", Toast.LENGTH_LONG).show()\n        null\n    }\n```\n\nÊúÄÂæå„Å´Êäº„Åó„Åü„Çâ„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíAR„ÅßË°®Á§∫„Åï„Åõ„Çã„Å®„Åì„Çç„Çí\n\n```kotlin:MainActivity.kt\narFragment.setOnTapArPlaneListener { hitResult, plane, motionEvent ->\n    if (::viewRenderable.isInitialized) {\n        //ÂàùÊúüÂåñÊ∏à„Åø„ÅÆ„Å®„Åç„ÄÅÂà©Áî®ÂèØËÉΩ\n        // Create the Anchor.\n        val anchor = hitResult.createAnchor()\n        val anchorNode = AnchorNode(anchor)\n        anchorNode.setParent(arFragment.arSceneView.scene)\n        // Create the transformable andy and add it to the anchor.\n        val node = TransformableNode(arFragment.transformationSystem)\n        node.setParent(anchorNode)\n        node.renderable = viewRenderable\n        node.select()\n    }\n}\n```\n\n„Åì„Çå„ÅßÂãï„Åè„ÅØ„Åö„Åß„ÅôÔºÅÔºÅÔºÅÂÆüË°å„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜÔºÅÔºÅÔºÅ\n\n![Screenshot_1577028389.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/065d6e9d-c470-8fd6-5d6e-fe5b853aa8f4.png)\n\n„Å¶„Åç„Åô„Å®„Å†„Çà„Éº\n\n## Êäº„Åó„Åü„ÇâÊ∂à„Åô\n\n```kotlin:MainActivity.kt\nnode.setOnTapListener { hitTestResult, motionEvent -> \n    node.isEnabled = false\n}\n```\n\nisEnabled„Å´true„ÅßÊ∂à„Åà„Åæ„Åô„Åå„Åì„Çå„Åß„ÅÑ„ÅÑ„ÅÆ„Åã„ÅØ‰∏çÊòé„ÄÇË™∞„ÅãÈ†º„Çì„Å†\n\n## AR„ÅßË°®Á§∫„Åó„ÅüTextView„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åó„Åü„ÅÑ\n\nMainActivity„Å´EditText„Å®„Éú„Çø„É≥„ÇíÁΩÆ„Åç„Åæ„Åô„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\" >\n\n    <fragment\n        android:id=\"@+id/ar_fragment\"\n        android:name=\"com.google.ar.sceneform.ux.ArFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_weight=\"1\"\n        android:layout_height=\"wrap_content\" />\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\">\n\n        <EditText\n            android:id=\"@+id/ar_change_textview\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:ems=\"10\"\n            android:inputType=\"textPersonName\"\n            android:text=\"„Å¶„Åç„Åô„Å®„Å†„Çà„Éº\" />\n\n        <Button\n            android:id=\"@+id/ar_change_button\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Â§âÊõ¥\" />\n    </LinearLayout>\n\n</LinearLayout>\n```\n\n„Åù„Åó„Åü„Çâ„Éú„Çø„É≥„ÇíÊäº„Åó„Åü„Çâ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åô„ÇãÂá¶ÁêÜ„ÇíÊõ∏„Åç„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity,.kt\n//„ÉÜ„Ç≠„Çπ„ÉàÂ§âÊõ¥\nar_change_button.setOnClickListener {\n    //„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó\n    val text = ar_change_textview.text.toString()\n    //AR„ÅßË°®Á§∫„Åô„Çã„É¨„Ç§„Ç¢„Ç¶„ÉàÂèñÂæó\n    val linearLayout = viewRenderable.view as LinearLayout\n    //TextViewÂèñÂæó\n    val textView = linearLayout.findViewById<TextView>(R.id.textView)\n    //Â§âÊõ¥\n    textView.text = text\n}\n```\n\nÂãï„Åè„ÅØ„Åö„Åß„Åô„ÄÇ\n\n![Screenshot_1577029034.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/52a78edd-fb8a-546b-5277-7f8201e71db4.png)\n\n„Å™„Çì„ÅãEditText„ÅÆÈÉ®ÂàÜ„ÅåÈªí„Åè„Å™„Çã„Åë„Å©„Å™„Çì„ÅßÔºü\n\n## ÂÜôÁúü„Å´„Åó„Å¶‰øùÂ≠ò„Åô„Çã\n„Åä„Åæ„Åë„Åß„Åô„ÄÇ\nÁñ≤„Çå„Åü„ÅÆ„Åß„Ç≥„Éº„Éâ„Å†„Åë„ÄÇ„É¨„Ç§„Ç¢„Ç¶„Éà„Å´„Éú„Çø„É≥„ÇíËøΩÂä†„Åó„Å¶id„Çí„Äåar_take_a_picture„Äç„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n```kotlin:MainActivity.kt\n//ÊíÆÂΩ±„Éú„Çø„É≥Êäº„Åó„Åü„Å®„Åç\nar_take_a_picture.setOnClickListener {\n    //PixelCopy API„ÇíÂà©Áî®„Åô„Çã„ÄÇ„ÅÆ„ÅßOreo‰ª•Èôç„Åò„ÇÉ„Å™„ÅÑ„Å®Âà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ\n    val bitmap = Bitmap.createBitmap(\n        arFragment.view?.width ?: 100,\n        arFragment.view?.height ?: 100,\n        Bitmap.Config.ARGB_8888\n    )\n    val intArray = IntArray(2)\n    arFragment.view?.getLocationInWindow(intArray)\n    try {\n        PixelCopy.request(\n            arFragment.arSceneView as SurfaceView, //SurfaceView„ÇíÁ∂ôÊâø„Åó„Å¶„Çã„Çâ„Åó„ÅÑ„ÄÇwindow„Å†„Å®Áúü„Å£Êöó„Å™„ÅÆ„ÅßÊ≥®ÊÑèÔºÅ\n            Rect(\n                intArray[0],\n                intArray[1],\n                intArray[0] + (arFragment.view?.width ?: 0),\n                intArray[1] + (arFragment.view?.height ?: 0)\n            ),\n            bitmap,\n            { copyResult: Int ->\n                if (copyResult == PixelCopy.SUCCESS) {\n                    //ÊàêÂäüÊôÇ\n                    //„Åì„Åì„ÅÆ„Éï„Ç©„É´„ÉÄ„ÅØËá™Áî±„Å´‰Ωø„Å£„Å¶„ÅÑ„ÅÑÂ†¥ÊâÄÔºà„Çµ„É≥„Éâ„Éú„ÉÉ„ÇØ„ÇπÔºâ\n                  val mediaFolder = externalMediaDirs.first()\n                  //ÂÜôÁúü„Éï„Ç°„Ç§„É´‰ΩúÊàê\n                  val file = File(\"${mediaFolder.path}/${System.currentTimeMillis()}.jpg\")\n                  //Bitmap‰øùÂ≠ò\n                  bitmap.compress(Bitmap.CompressFormat.JPEG, 100, file.outputStream())\n                  Toast.makeText(this, \"‰øùÂ≠ò„Åó„Åæ„Åó„Åü\", Toast.LENGTH_SHORT).show()\n                }\n            },\n            Handler()\n        )\n    } catch (e: IllegalArgumentException) {\n        e.printStackTrace()\n        Toast.makeText(this@MainActivity, \"Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ\", Toast.LENGTH_LONG).show()\n    }\n}\n```\n\n?:„ÅÆÂÄ§„Åå„Åè„Å£„ÅùÈõë„Å†„Åë„Å©„ÇÜ„Çã„Åó„Å¶\nAndroid 10„ÅßÂãï‰ΩúÁ¢∫Ë™çÊ∏à„Åß„Åô„ÄÇÂØæË±°ÁØÑÂõ≤Âà•„Çπ„Éà„É¨„Éº„Ç∏ÂØæÁ≠ñ„ÄÇ\nÂÜôÁúü„Éá„Éº„Çø„ÅØ\n/sdcard/Android/media/„Éë„ÉÉ„Ç±„Éº„Ç∏ID \n„Å´ÂÖ•„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n\n# „Åä„Çè„Çä„Å´\nGitHub„Å´ÂÖ¨Èñã„Åó„Å¶„Åä„Åç„Åæ„Åô„ÄÇ\nhttps://github.com/takusan23/AREditText\n\n„Å§„ÅÑ„Åß„Å´ÂèÇËÄÉ„Å´„Åó„Åü„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇÇ„ÄÇ\nhttps://github.com/google-ar/sceneform-android-sdk/tree/master/samples/hellosceneform\n\nPixelCopyÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ\nhttps://friegen.xyz/getdrawingcache-deprecated/\n\n„Åä„Å§„Åß„Åô„ÄÇÔºòÔºòÔºòÔºòÔºòÔºò\n","source":"_posts/ARCore.md","raw":"---\ntitle: „ÄêAndroid / Kotlin / ARCore„ÄëARCore„ÅßTextView„ÇíÂá∫„Åô\ntags: \n- Android\n- ARCore\n- Kotlin\nauthor: takusan_23\nslide: false\n---\nARËß¶„Å£„Å¶„Åø„Åü„ÅÑ„ÄÇ\n\n# widgetsÔºàUI„ÅÆÈÉ®ÂìÅ ‰æãÔºöTextView„ÄÅImageViewÔºâ„ÅåAR„ÅßË°®Á§∫„Åß„Åç„Çã„Çâ„Åó„ÅÑ\nhttps://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets\n\n![Screenshot_1577032540.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/6f5e59b3-b466-aefe-ec75-11657ee1845f.png)\n\n\n„Åì„Åì„ÄÇsceneform„Å£„Å¶„Å™„Çì„Åû„ÇÑ„Å£„Å¶Ë©±„Å†„Åë„Å©„Åì„Çå„Åß„Åç„Åü„Çâ„Åè„Å£„ÅùÈù¢ÁôΩ„Åù„ÅÜ„Å†„Å®ÊÄù„Å£„Åü„ÅÆ„Åß„ÄÅ\n‰ªäÂõû„ÅØTextView„ÇíAR‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Çã„Å®„Åì„Çç„Åæ„Åß„ÇÑ„Çç„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n## „Ç®„Éü„É•„É¨„Éº„Çø„Éº„ÅßARCore„Ç¢„Éó„É™„ÇíÂãï„Åã„Åô„Åü„ÇÅ„Å´\n„ÅÑ„ÇÑPixel„Å®„ÅãGalaxy„Å®„Åã‰Ωø„ÅÑ„Åæ„Åô„Åã„Çâ„Å£„Å¶Êñπ„ÅØÈ£õ„Å∞„Åó„Å¶„ÅÑ„ÅÑ„Åû„ÄÇ\n~~„Å¶„ÅãARCoreÂØæÂøúÁ´ØÊú´ÁÑ°„ÅÑ„ÅÆ„Å´AR„Ç¢„Éó„É™‰Ωú„Çç„ÅÜ„Å®„Åó„Å¶„Çã‰∫∫„ÄÅ„Å©„Åì„Åã„Çâ„ÇÑ„ÇãÊ∞ó„ÅåÂá∫„Å¶„Çã„Çì„Å†„ÄÇ~~\n\n### Google Play ÈñãÁô∫ËÄÖ„Çµ„Éº„Éì„ÇπÔºàARÔºâ„ÇíÂÖ•„Çå„Åæ„Åô\nhttps://github.com/google-ar/arcore-android-sdk/releases\n„Åì„Åì„Åã„ÇâAPK„ÇíDL„Åó„Å¶„ÄÅ„Ç®„Éü„É•„É¨„Éº„Çø„Éº„Å´„Éâ„É©„ÉÉ„Ç∞„Ç¢„É≥„Éâ„Éâ„É≠„ÉÉ„Éó„Åó„Å¶„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n‰ªäÂõû„ÅØË®ò‰∫ã‰ΩúÊàêÊôÇÊúÄÊñ∞VerÔºàGoogle_Play_Services_for_AR_1.14.1_x86_for_emulator.apkÔºâ„ÇíÂÖ•„Çå„Åæ„Åô„ÄÇ\n\nÊàêÂäü„Åô„Çã„Å®„Ç¢„Éó„É™‰∏ÄË¶ßÁîªÈù¢„Å´Ë°®Á§∫„Åï„Çå„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/643c568b-f56d-f61d-3b06-f995abbff688.png)\n\n# Áí∞Â¢É\n| „Å™„Åæ„Åà        | „ÅÇ„Åü„ÅÑ                             |\n|---------------|------------------------------------|\n| Á´ØÊú´          | „Ç®„Éü„É•„É¨„Éº„Çø„Éº / Google Pixel 3 XL |\n| Android       | 10                                 |\n| minSdkVersion | 24ÔºàARCore„ÅÆ„Åõ„ÅÑÔºâ                 |\n\n# ÂÆüË£Ö\nMainActivity„Åå„Åß„Åç„Å¶„ÇãÊÆµÈöé„Åæ„ÅßÊù•„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n## build.gradleÔºàapp„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠ÔºâÊõ∏„ÅçË∂≥„Åô\nÂèÇËÄÉÔºöhttps://developers.google.com/ar/develop/java/sceneform#configure-project\n\n„Åì„ÅÜ„Å™„Å£„Å¶„ÅÑ„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„Åå„ÄÅ\n\n```gradle:build.gradle\napply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"io.github.takusan23.aredittext\"\n        minSdkVersion 24\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.core:core-ktx:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n}\n```\n\n„Åì„Åì„Åã„ÇâÊõ∏„ÅçË∂≥„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ\n\n```gradle:build.gradle\napply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"io.github.takusan23.aredittext\"\n        minSdkVersion 24\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    //Java 8„ÅåÂøÖË¶Å„Åø„Åü„ÅÑ„ÄÇ\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    //ArFragment„Å™„Å©    \n    implementation \"com.google.ar.sceneform.ux:sceneform-ux:1.14.0\"\n\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.core:core-ktx:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n}\n```\n\n# AndroidManifestÊõ∏„ÅçË∂≥„Åô\nÂèÇËÄÉÔºöhttps://developers.google.com/ar/develop/java/sceneform#manifest\n„Åæ„Åö‰∏ä„ÅÆÊñπ„Å´„Åì„Çì„Å™„Åã„Çì„Åò„Å´„ÄÅ\n\n```xml\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"„Å™„Çì„Å®„ÅãÔΩû\">\n\n„ÄÄ„ÄÄ<!-- Both \"AR Optional\" and \"AR Required\" apps require CAMERA permission. -->\n„ÄÄ„ÄÄ<uses-permission android:name=\"android.permission.CAMERA\" />\n    <!-- Sceneform requires OpenGL ES 3.0 or later. -->\n    <uses-feature android:glEsVersion=\"0x00030000\" android:required=\"true\" />\n    <!-- Indicates that app requires ARCore (\"AR Required\"). Ensures the app is\n    visible only in the Google Play Store on devices that support ARCore.\n     For \"AR Optional\" apps remove this line. -->\n   <uses-feature android:name=\"android.hardware.camera.ar\" />\n```\n\n```<application>``` „ÅÆ‰∏≠„Å´„ÇÇÊõ∏„ÅçË∂≥„Åó„Åæ„Åô\n\n```xml\n<!-- Indicates that app requires ARCore (\"AR Required\"). Causes the Google\n     Play Store to download and install Google Play Services for AR along\n     with the app. For an \"AR Optional\" app, specify \"optional\" instead of\n     \"required\".\n-->\n<meta-data android:name=\"com.google.ar.core\" android:value=\"required\" />\n```\n\nÂÖ®ÈÉ®„Å§„Åë„Çã„Å®„Åì„ÅÜ„Å™„Çä„Åæ„Åô\n\n```xml:AndroidManifest.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"io.github.takusan23.aredittext\">\n\n    <!-- Both \"AR Optional\" and \"AR Required\" apps require CAMERA permission. -->\n    <uses-permission android:name=\"android.permission.CAMERA\" />\n\n    <!-- Sceneform requires OpenGL ES 3.0 or later. -->\n    <uses-feature android:glEsVersion=\"0x00030000\" android:required=\"true\" />\n\n    <!-- Indicates that app requires ARCore (\"AR Required\"). Ensures the app is\n         visible only in the Google Play Store on devices that support ARCore.\n         For \"AR Optional\" apps remove this line. -->\n    <uses-feature android:name=\"android.hardware.camera.ar\" />\n\n    <application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\">\n\n        <!-- Indicates that app requires ARCore (\"AR Required\"). Causes the Google\n             Play Store to download and install Google Play Services for AR along\n             with the app. For an \"AR Optional\" app, specify \"optional\" instead of\n             \"required\".\n        -->\n        <meta-data android:name=\"com.google.ar.core\" android:value=\"required\" />\n\n\n        <activity android:name=\".MainActivity\">\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n    </application>\n\n</manifest>\n```\n\n# MainActivity„Å´Fragment„ÇíÁΩÆ„Åè„ÄÇ\nÂèÇËÄÉÔºöhttps://developers.google.com/ar/develop/java/sceneform#scene-view\nConstraintLayout„ÅØ‰Ωø„ÅÑÊñπ„Åå„Çà„Åè„Çè„Åã„Çâ„Å™„ÅÑ„ÅÆ„ÅßLinearLayout„Å´ÁΩÆ„ÅçÊèõ„Åà„Å¶„ÄÅFragment„Çí„Éâ„É©„ÉÉ„Ç∞„Åó„Åæ„Åô„ÄÇ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/a152914b-b45a-b3bf-86ba-5348df99d42e.png)\n\n„Åß„Åç„Åü„Çâ**ArFragment**„ÇíÈÅ∏Êäû„Åó„Å¶**OK**„Åß„ÅôÔºÅ\n\nlayout_height„ÅÆÂÄ§„Çí**match_parent**„Å´„Åó„Å¶ÊúÄÂ§ß„Åæ„ÅßÂ∫É„Åí„Çã„Çà„ÅÜ„Å´„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ\n„Åù„Çå„Å®id„ÇÇfragment„Å†„Å®„Çè„Åã„Çä„Å´„Åè„Åè„Å™„Çã„ÅÆ„Åß„ÄÅar_fragment„Å®„Åã„Å´„Åó„Å®„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\nxml„Å†„Å®„Åì„ÅÜ„Å™„Å£„Å¶„ÅÑ„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\" >\n\n    <fragment\n        android:id=\"@+id/ar_fragment\"\n        android:name=\"com.google.ar.sceneform.ux.ArFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" />\n</LinearLayout>\n```\n\n# Sceneform„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã\nhttps://developers.google.com/ar/develop/java/sceneform\n„Å´„ÅØÊõ∏„ÅÑ„Å¶„ÅÇ„Çä„Åæ„Åõ„Çì„Åå„ÄÅ[ARCore„ÅÆ„Çµ„É≥„Éó„É´](https://github.com/google-ar/sceneform-android-sdk/blob/master/samples/hellosceneform/app/src/main/java/com/google/ar/sceneform/samples/hellosceneform/HelloSceneformActivity.java)„Å´„ÅØÊõ∏„ÅÑ„Å¶„ÅÇ„Å£„Åü„ÅÆ„Åß„ÄÅKotlin„Å´Â§âÊèõ„Åó„Å¶‰Ωø„ÅÑ„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity.kt\nfun checkIsSupportedDeviceOrFinish(activity: Activity): Boolean {\n    val MIN_OPENGL_VERSION = 3.0\n    if (Build.VERSION.SDK_INT < Build.VERSION_CODES.N) {\n        Toast.makeText(activity, \"Sceneform„Å´„ÅØAndroid N‰ª•Èôç„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ\", Toast.LENGTH_LONG).show()\n        activity.finish()\n        return false\n    }\n    val openGlVersionString = (activity.getSystemService(Context.ACTIVITY_SERVICE) as ActivityManager).deviceConfigurationInfo.glEsVersion\n    if (java.lang.Double.parseDouble(openGlVersionString) < MIN_OPENGL_VERSION) {\n        Toast.makeText(activity, \"Sceneform„Å´„ÅØOpen GL 3.0‰ª•Èôç„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ\", Toast.LENGTH_LONG).show()\n        activity.finish()\n        return false\n    }\n    return true\n}\n```\n\n„Åì„Çå„Çí```setContentView()```„ÅÆÂâç„Åß‰Ωø„ÅÑ„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity.kt\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    //Êù°‰ª∂Ê∫Ä„Åü„Åó„Å¶„Å™„Åë„Çå„Å∞ActivityÁµÇ‰∫Ü„Åï„Åõ„Çã\n    if(!checkIsSupportedDeviceOrFinish(this)){\n        return\n    }\n    setContentView(R.layout.activity_main)\n}\n```\n\n# ArFragmentÂèñÂæó\nMainActivity„ÅßÁΩÆ„ÅÑ„ÅüArFragment„ÇíÂèñÂæó„Åó„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity.kt\nlateinit var arFragment: ArFragment\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    //Êù°‰ª∂Ê∫Ä„Åü„Åó„Å¶„Å™„Åë„Çå„Å∞ActivityÁµÇ‰∫Ü„Åï„Åõ„Çã\n    if(!checkIsSupportedDeviceOrFinish(this)){\n        return\n    }\n    setContentView(R.layout.activity_main)\n    //ArFragmentÂèñÂæó\n    arFragment = supportFragmentManager.findFragmentById(R.id.ar_fragment) as ArFragment\n}\n```\n\n# Ëµ∑Âãï„Åó„Å¶„Åø„Çã\n„Åì„Åì„Åæ„Åß„ÅßÁâπ„Å´ÂïèÈ°å„Åå„Å™„Åë„Çå„Å∞„ÄÅ\n„Ç´„É°„É©„ÅÆÊ®©ÈôêË®±ÂèØ„Åå„Åç„Å¶„ÄÅË®±ÂèØ„Åô„Çã„Å®Êò†„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/e802a9d9-3d6c-623c-da86-6e2f2ed416c4.png)\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/0b97794e-8ed5-2915-e472-9206df1710e1.png)\n\nÊò†„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ„Åì„Åì„Åæ„ÅßÈñìÈÅï„Åà„Åö„Å§„ÅÑ„Å¶„Åì„Çå„Å¶„Åæ„Åô„ÄÇ\n\n# „ÅÑ„Çà„ÅÑ„ÇàView„ÇíÁèæÂÆü„Å´Ë°®Á§∫„Åï„Åõ„Çã„Éª„Éª„ÉªÔºÅ\nÂèÇËÄÉÔºöhttps://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets\n\n„Åæ„Åölayout„Éï„Ç©„É´„ÉÄ„Å´**ar_layout.xml**„Å®„ÅÑ„ÅÜÂêçÂâç„Åß‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/521816ac-26b0-e798-6fb2-4c5613da107d.png)\n\nÊ¨°„Å´ÁèæÂÆü„ÅßË°®Á§∫„Åï„Åõ„Åü„ÅÑUIÈÉ®ÂìÅ„Çí‰∏¶„Åπ„Åæ„Åô„ÄÇ\n‰ªäÂõû„ÅØTextView„ÇíÁΩÆ„Åç„Åæ„Åô„ÄÇÔºà„Çø„Ç§„Éà„É´Ë©êÊ¨∫ÂõûÈÅøÔºâ\n\n```xml:ar_layout.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"#ffffff\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\">\n\n\n    <TextView\n        android:id=\"@+id/textView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"10sp\"\n        android:gravity=\"center\"\n        android:text=\"„Å¶„Åç„Åô„Å®„Å†„Çà„Éº\" />\n</LinearLayout>\n```\n\n## AR„ÅßÊâ±„Åà„Çã„Çà„ÅÜ„Å´\nÂèÇËÄÉÔºöhttps://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets\n\n```kotlin:MainActivity.kt\n    //„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíAR„Å´„Éª„Éª„Éª\n    lateinit var viewRenderable: ViewRenderable\n```\n\nË™≠„ÅøËæº„Åø„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity.kt\n//„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíË™≠„ÅøËæº„ÇÄ\nViewRenderable.builder()\n    .setView(this, R.layout.ar_layout)\n    .build()\n    .thenAccept { renderable -> viewRenderable = renderable } //Ë™≠„ÅøËæº„ÅøÊàêÂäü\n    .exceptionally {\n        //Ë™≠„ÅøËæº„ÅøÂ§±Êïó\n        it.printStackTrace()\n        Toast.makeText(this, \"Ë™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ\", Toast.LENGTH_LONG).show()\n        null\n    }\n```\n\nÊúÄÂæå„Å´Êäº„Åó„Åü„Çâ„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíAR„ÅßË°®Á§∫„Åï„Åõ„Çã„Å®„Åì„Çç„Çí\n\n```kotlin:MainActivity.kt\narFragment.setOnTapArPlaneListener { hitResult, plane, motionEvent ->\n    if (::viewRenderable.isInitialized) {\n        //ÂàùÊúüÂåñÊ∏à„Åø„ÅÆ„Å®„Åç„ÄÅÂà©Áî®ÂèØËÉΩ\n        // Create the Anchor.\n        val anchor = hitResult.createAnchor()\n        val anchorNode = AnchorNode(anchor)\n        anchorNode.setParent(arFragment.arSceneView.scene)\n        // Create the transformable andy and add it to the anchor.\n        val node = TransformableNode(arFragment.transformationSystem)\n        node.setParent(anchorNode)\n        node.renderable = viewRenderable\n        node.select()\n    }\n}\n```\n\n„Åì„Çå„ÅßÂãï„Åè„ÅØ„Åö„Åß„ÅôÔºÅÔºÅÔºÅÂÆüË°å„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜÔºÅÔºÅÔºÅ\n\n![Screenshot_1577028389.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/065d6e9d-c470-8fd6-5d6e-fe5b853aa8f4.png)\n\n„Å¶„Åç„Åô„Å®„Å†„Çà„Éº\n\n## Êäº„Åó„Åü„ÇâÊ∂à„Åô\n\n```kotlin:MainActivity.kt\nnode.setOnTapListener { hitTestResult, motionEvent -> \n    node.isEnabled = false\n}\n```\n\nisEnabled„Å´true„ÅßÊ∂à„Åà„Åæ„Åô„Åå„Åì„Çå„Åß„ÅÑ„ÅÑ„ÅÆ„Åã„ÅØ‰∏çÊòé„ÄÇË™∞„ÅãÈ†º„Çì„Å†\n\n## AR„ÅßË°®Á§∫„Åó„ÅüTextView„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åó„Åü„ÅÑ\n\nMainActivity„Å´EditText„Å®„Éú„Çø„É≥„ÇíÁΩÆ„Åç„Åæ„Åô„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\" >\n\n    <fragment\n        android:id=\"@+id/ar_fragment\"\n        android:name=\"com.google.ar.sceneform.ux.ArFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_weight=\"1\"\n        android:layout_height=\"wrap_content\" />\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\">\n\n        <EditText\n            android:id=\"@+id/ar_change_textview\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:ems=\"10\"\n            android:inputType=\"textPersonName\"\n            android:text=\"„Å¶„Åç„Åô„Å®„Å†„Çà„Éº\" />\n\n        <Button\n            android:id=\"@+id/ar_change_button\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Â§âÊõ¥\" />\n    </LinearLayout>\n\n</LinearLayout>\n```\n\n„Åù„Åó„Åü„Çâ„Éú„Çø„É≥„ÇíÊäº„Åó„Åü„Çâ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åô„ÇãÂá¶ÁêÜ„ÇíÊõ∏„Åç„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity,.kt\n//„ÉÜ„Ç≠„Çπ„ÉàÂ§âÊõ¥\nar_change_button.setOnClickListener {\n    //„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó\n    val text = ar_change_textview.text.toString()\n    //AR„ÅßË°®Á§∫„Åô„Çã„É¨„Ç§„Ç¢„Ç¶„ÉàÂèñÂæó\n    val linearLayout = viewRenderable.view as LinearLayout\n    //TextViewÂèñÂæó\n    val textView = linearLayout.findViewById<TextView>(R.id.textView)\n    //Â§âÊõ¥\n    textView.text = text\n}\n```\n\nÂãï„Åè„ÅØ„Åö„Åß„Åô„ÄÇ\n\n![Screenshot_1577029034.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/52a78edd-fb8a-546b-5277-7f8201e71db4.png)\n\n„Å™„Çì„ÅãEditText„ÅÆÈÉ®ÂàÜ„ÅåÈªí„Åè„Å™„Çã„Åë„Å©„Å™„Çì„ÅßÔºü\n\n## ÂÜôÁúü„Å´„Åó„Å¶‰øùÂ≠ò„Åô„Çã\n„Åä„Åæ„Åë„Åß„Åô„ÄÇ\nÁñ≤„Çå„Åü„ÅÆ„Åß„Ç≥„Éº„Éâ„Å†„Åë„ÄÇ„É¨„Ç§„Ç¢„Ç¶„Éà„Å´„Éú„Çø„É≥„ÇíËøΩÂä†„Åó„Å¶id„Çí„Äåar_take_a_picture„Äç„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n```kotlin:MainActivity.kt\n//ÊíÆÂΩ±„Éú„Çø„É≥Êäº„Åó„Åü„Å®„Åç\nar_take_a_picture.setOnClickListener {\n    //PixelCopy API„ÇíÂà©Áî®„Åô„Çã„ÄÇ„ÅÆ„ÅßOreo‰ª•Èôç„Åò„ÇÉ„Å™„ÅÑ„Å®Âà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ\n    val bitmap = Bitmap.createBitmap(\n        arFragment.view?.width ?: 100,\n        arFragment.view?.height ?: 100,\n        Bitmap.Config.ARGB_8888\n    )\n    val intArray = IntArray(2)\n    arFragment.view?.getLocationInWindow(intArray)\n    try {\n        PixelCopy.request(\n            arFragment.arSceneView as SurfaceView, //SurfaceView„ÇíÁ∂ôÊâø„Åó„Å¶„Çã„Çâ„Åó„ÅÑ„ÄÇwindow„Å†„Å®Áúü„Å£Êöó„Å™„ÅÆ„ÅßÊ≥®ÊÑèÔºÅ\n            Rect(\n                intArray[0],\n                intArray[1],\n                intArray[0] + (arFragment.view?.width ?: 0),\n                intArray[1] + (arFragment.view?.height ?: 0)\n            ),\n            bitmap,\n            { copyResult: Int ->\n                if (copyResult == PixelCopy.SUCCESS) {\n                    //ÊàêÂäüÊôÇ\n                    //„Åì„Åì„ÅÆ„Éï„Ç©„É´„ÉÄ„ÅØËá™Áî±„Å´‰Ωø„Å£„Å¶„ÅÑ„ÅÑÂ†¥ÊâÄÔºà„Çµ„É≥„Éâ„Éú„ÉÉ„ÇØ„ÇπÔºâ\n                  val mediaFolder = externalMediaDirs.first()\n                  //ÂÜôÁúü„Éï„Ç°„Ç§„É´‰ΩúÊàê\n                  val file = File(\"${mediaFolder.path}/${System.currentTimeMillis()}.jpg\")\n                  //Bitmap‰øùÂ≠ò\n                  bitmap.compress(Bitmap.CompressFormat.JPEG, 100, file.outputStream())\n                  Toast.makeText(this, \"‰øùÂ≠ò„Åó„Åæ„Åó„Åü\", Toast.LENGTH_SHORT).show()\n                }\n            },\n            Handler()\n        )\n    } catch (e: IllegalArgumentException) {\n        e.printStackTrace()\n        Toast.makeText(this@MainActivity, \"Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ\", Toast.LENGTH_LONG).show()\n    }\n}\n```\n\n?:„ÅÆÂÄ§„Åå„Åè„Å£„ÅùÈõë„Å†„Åë„Å©„ÇÜ„Çã„Åó„Å¶\nAndroid 10„ÅßÂãï‰ΩúÁ¢∫Ë™çÊ∏à„Åß„Åô„ÄÇÂØæË±°ÁØÑÂõ≤Âà•„Çπ„Éà„É¨„Éº„Ç∏ÂØæÁ≠ñ„ÄÇ\nÂÜôÁúü„Éá„Éº„Çø„ÅØ\n/sdcard/Android/media/„Éë„ÉÉ„Ç±„Éº„Ç∏ID \n„Å´ÂÖ•„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n\n# „Åä„Çè„Çä„Å´\nGitHub„Å´ÂÖ¨Èñã„Åó„Å¶„Åä„Åç„Åæ„Åô„ÄÇ\nhttps://github.com/takusan23/AREditText\n\n„Å§„ÅÑ„Åß„Å´ÂèÇËÄÉ„Å´„Åó„Åü„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇÇ„ÄÇ\nhttps://github.com/google-ar/sceneform-android-sdk/tree/master/samples/hellosceneform\n\nPixelCopyÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ\nhttps://friegen.xyz/getdrawingcache-deprecated/\n\n„Åä„Å§„Åß„Åô„ÄÇÔºòÔºòÔºòÔºòÔºòÔºò\n","slug":"ARCore","published":1,"date":"2020-04-05T16:27:15.677Z","updated":"2020-04-05T16:39:12.524Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgd0000h8vu9c1b4lf6","content":"<p>ARËß¶„Å£„Å¶„Åø„Åü„ÅÑ„ÄÇ</p>\n<h1 id=\"widgetsÔºàUI„ÅÆÈÉ®ÂìÅ-‰æãÔºöTextView„ÄÅImageViewÔºâ„ÅåAR„ÅßË°®Á§∫„Åß„Åç„Çã„Çâ„Åó„ÅÑ\"><a href=\"#widgetsÔºàUI„ÅÆÈÉ®ÂìÅ-‰æãÔºöTextView„ÄÅImageViewÔºâ„ÅåAR„ÅßË°®Á§∫„Åß„Åç„Çã„Çâ„Åó„ÅÑ\" class=\"headerlink\" title=\"widgetsÔºàUI„ÅÆÈÉ®ÂìÅ ‰æãÔºöTextView„ÄÅImageViewÔºâ„ÅåAR„ÅßË°®Á§∫„Åß„Åç„Çã„Çâ„Åó„ÅÑ\"></a>widgetsÔºàUI„ÅÆÈÉ®ÂìÅ ‰æãÔºöTextView„ÄÅImageViewÔºâ„ÅåAR„ÅßË°®Á§∫„Åß„Åç„Çã„Çâ„Åó„ÅÑ</h1><p><a href=\"https://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets</a></p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/6f5e59b3-b466-aefe-ec75-11657ee1845f.png\" alt=\"Screenshot_1577032540.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_1577032540.png</div>\n            </figure>\n\n\n<p>„Åì„Åì„ÄÇsceneform„Å£„Å¶„Å™„Çì„Åû„ÇÑ„Å£„Å¶Ë©±„Å†„Åë„Å©„Åì„Çå„Åß„Åç„Åü„Çâ„Åè„Å£„ÅùÈù¢ÁôΩ„Åù„ÅÜ„Å†„Å®ÊÄù„Å£„Åü„ÅÆ„Åß„ÄÅ<br>‰ªäÂõû„ÅØTextView„ÇíAR‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Çã„Å®„Åì„Çç„Åæ„Åß„ÇÑ„Çç„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h2 id=\"„Ç®„Éü„É•„É¨„Éº„Çø„Éº„ÅßARCore„Ç¢„Éó„É™„ÇíÂãï„Åã„Åô„Åü„ÇÅ„Å´\"><a href=\"#„Ç®„Éü„É•„É¨„Éº„Çø„Éº„ÅßARCore„Ç¢„Éó„É™„ÇíÂãï„Åã„Åô„Åü„ÇÅ„Å´\" class=\"headerlink\" title=\"„Ç®„Éü„É•„É¨„Éº„Çø„Éº„ÅßARCore„Ç¢„Éó„É™„ÇíÂãï„Åã„Åô„Åü„ÇÅ„Å´\"></a>„Ç®„Éü„É•„É¨„Éº„Çø„Éº„ÅßARCore„Ç¢„Éó„É™„ÇíÂãï„Åã„Åô„Åü„ÇÅ„Å´</h2><p>„ÅÑ„ÇÑPixel„Å®„ÅãGalaxy„Å®„Åã‰Ωø„ÅÑ„Åæ„Åô„Åã„Çâ„Å£„Å¶Êñπ„ÅØÈ£õ„Å∞„Åó„Å¶„ÅÑ„ÅÑ„Åû„ÄÇ<br><del>„Å¶„ÅãARCoreÂØæÂøúÁ´ØÊú´ÁÑ°„ÅÑ„ÅÆ„Å´AR„Ç¢„Éó„É™‰Ωú„Çç„ÅÜ„Å®„Åó„Å¶„Çã‰∫∫„ÄÅ„Å©„Åì„Åã„Çâ„ÇÑ„ÇãÊ∞ó„ÅåÂá∫„Å¶„Çã„Çì„Å†„ÄÇ</del></p>\n<h3 id=\"Google-Play-ÈñãÁô∫ËÄÖ„Çµ„Éº„Éì„ÇπÔºàARÔºâ„ÇíÂÖ•„Çå„Åæ„Åô\"><a href=\"#Google-Play-ÈñãÁô∫ËÄÖ„Çµ„Éº„Éì„ÇπÔºàARÔºâ„ÇíÂÖ•„Çå„Åæ„Åô\" class=\"headerlink\" title=\"Google Play ÈñãÁô∫ËÄÖ„Çµ„Éº„Éì„ÇπÔºàARÔºâ„ÇíÂÖ•„Çå„Åæ„Åô\"></a>Google Play ÈñãÁô∫ËÄÖ„Çµ„Éº„Éì„ÇπÔºàARÔºâ„ÇíÂÖ•„Çå„Åæ„Åô</h3><p><a href=\"https://github.com/google-ar/arcore-android-sdk/releases\" target=\"_blank\" rel=\"noopener\">https://github.com/google-ar/arcore-android-sdk/releases</a><br>„Åì„Åì„Åã„ÇâAPK„ÇíDL„Åó„Å¶„ÄÅ„Ç®„Éü„É•„É¨„Éº„Çø„Éº„Å´„Éâ„É©„ÉÉ„Ç∞„Ç¢„É≥„Éâ„Éâ„É≠„ÉÉ„Éó„Åó„Å¶„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n<p>‰ªäÂõû„ÅØË®ò‰∫ã‰ΩúÊàêÊôÇÊúÄÊñ∞VerÔºàGoogle_Play_Services_for_AR_1.14.1_x86_for_emulator.apkÔºâ„ÇíÂÖ•„Çå„Åæ„Åô„ÄÇ</p>\n<p>ÊàêÂäü„Åô„Çã„Å®„Ç¢„Éó„É™‰∏ÄË¶ßÁîªÈù¢„Å´Ë°®Á§∫„Åï„Çå„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/643c568b-f56d-f61d-3b06-f995abbff688.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<h1 id=\"Áí∞Â¢É\"><a href=\"#Áí∞Â¢É\" class=\"headerlink\" title=\"Áí∞Â¢É\"></a>Áí∞Â¢É</h1><table>\n<thead>\n<tr>\n<th>„Å™„Åæ„Åà</th>\n<th>„ÅÇ„Åü„ÅÑ</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Á´ØÊú´</td>\n<td>„Ç®„Éü„É•„É¨„Éº„Çø„Éº / Google Pixel 3 XL</td>\n</tr>\n<tr>\n<td>Android</td>\n<td>10</td>\n</tr>\n<tr>\n<td>minSdkVersion</td>\n<td>24ÔºàARCore„ÅÆ„Åõ„ÅÑÔºâ</td>\n</tr>\n</tbody></table>\n<h1 id=\"ÂÆüË£Ö\"><a href=\"#ÂÆüË£Ö\" class=\"headerlink\" title=\"ÂÆüË£Ö\"></a>ÂÆüË£Ö</h1><p>MainActivity„Åå„Åß„Åç„Å¶„ÇãÊÆµÈöé„Åæ„ÅßÊù•„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n<h2 id=\"build-gradleÔºàapp„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠ÔºâÊõ∏„ÅçË∂≥„Åô\"><a href=\"#build-gradleÔºàapp„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠ÔºâÊõ∏„ÅçË∂≥„Åô\" class=\"headerlink\" title=\"build.gradleÔºàapp„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠ÔºâÊõ∏„ÅçË∂≥„Åô\"></a>build.gradleÔºàapp„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠ÔºâÊõ∏„ÅçË∂≥„Åô</h2><p>ÂèÇËÄÉÔºö<a href=\"https://developers.google.com/ar/develop/java/sceneform#configure-project\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform#configure-project</a></p>\n<p>„Åì„ÅÜ„Å™„Å£„Å¶„ÅÑ„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„Åå„ÄÅ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apply plugin: &#39;com.android.application&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">apply plugin: &#39;kotlin-android&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">apply plugin: &#39;kotlin-android-extensions&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">android &#123;</span><br><span class=\"line\">    compileSdkVersion 29</span><br><span class=\"line\">    buildToolsVersion &quot;29.0.2&quot;</span><br><span class=\"line\">    defaultConfig &#123;</span><br><span class=\"line\">        applicationId &quot;io.github.takusan23.aredittext&quot;</span><br><span class=\"line\">        minSdkVersion 24</span><br><span class=\"line\">        targetSdkVersion 29</span><br><span class=\"line\">        versionCode 1</span><br><span class=\"line\">        versionName &quot;1.0&quot;</span><br><span class=\"line\">        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    buildTypes &#123;</span><br><span class=\"line\">        release &#123;</span><br><span class=\"line\">            minifyEnabled false</span><br><span class=\"line\">            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">dependencies &#123;</span><br><span class=\"line\">    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])</span><br><span class=\"line\">    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;</span><br><span class=\"line\">    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;</span><br><span class=\"line\">    implementation &#39;androidx.core:core-ktx:1.1.0&#39;</span><br><span class=\"line\">    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;</span><br><span class=\"line\">    testImplementation &#39;junit:junit:4.12&#39;</span><br><span class=\"line\">    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;</span><br><span class=\"line\">    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Åì„Åã„ÇâÊõ∏„ÅçË∂≥„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apply plugin: &#39;com.android.application&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">apply plugin: &#39;kotlin-android&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">apply plugin: &#39;kotlin-android-extensions&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">android &#123;</span><br><span class=\"line\">    compileSdkVersion 29</span><br><span class=\"line\">    buildToolsVersion &quot;29.0.2&quot;</span><br><span class=\"line\">    defaultConfig &#123;</span><br><span class=\"line\">        applicationId &quot;io.github.takusan23.aredittext&quot;</span><br><span class=\"line\">        minSdkVersion 24</span><br><span class=\"line\">        targetSdkVersion 29</span><br><span class=\"line\">        versionCode 1</span><br><span class=\"line\">        versionName &quot;1.0&quot;</span><br><span class=\"line\">        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    buildTypes &#123;</span><br><span class=\"line\">        release &#123;</span><br><span class=\"line\">            minifyEnabled false</span><br><span class=\"line\">            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#x2F;&#x2F;Java 8„ÅåÂøÖË¶Å„Åø„Åü„ÅÑ„ÄÇ</span><br><span class=\"line\">    compileOptions &#123;</span><br><span class=\"line\">        sourceCompatibility JavaVersion.VERSION_1_8</span><br><span class=\"line\">        targetCompatibility JavaVersion.VERSION_1_8</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">dependencies &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F;ArFragment„Å™„Å©    </span><br><span class=\"line\">    implementation &quot;com.google.ar.sceneform.ux:sceneform-ux:1.14.0&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])</span><br><span class=\"line\">    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;</span><br><span class=\"line\">    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;</span><br><span class=\"line\">    implementation &#39;androidx.core:core-ktx:1.1.0&#39;</span><br><span class=\"line\">    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;</span><br><span class=\"line\">    testImplementation &#39;junit:junit:4.12&#39;</span><br><span class=\"line\">    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;</span><br><span class=\"line\">    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"AndroidManifestÊõ∏„ÅçË∂≥„Åô\"><a href=\"#AndroidManifestÊõ∏„ÅçË∂≥„Åô\" class=\"headerlink\" title=\"AndroidManifestÊõ∏„ÅçË∂≥„Åô\"></a>AndroidManifestÊõ∏„ÅçË∂≥„Åô</h1><p>ÂèÇËÄÉÔºö<a href=\"https://developers.google.com/ar/develop/java/sceneform#manifest\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform#manifest</a><br>„Åæ„Åö‰∏ä„ÅÆÊñπ„Å´„Åì„Çì„Å™„Åã„Çì„Åò„Å´„ÄÅ</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">manifest</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">package</span>=<span class=\"string\">\"„Å™„Çì„Å®„ÅãÔΩû\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">„ÄÄ„ÄÄ<span class=\"comment\">&lt;!-- Both \"AR Optional\" and \"AR Required\" apps require CAMERA permission. --&gt;</span></span><br><span class=\"line\">„ÄÄ„ÄÄ<span class=\"tag\">&lt;<span class=\"name\">uses-permission</span> <span class=\"attr\">android:name</span>=<span class=\"string\">\"android.permission.CAMERA\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- Sceneform requires OpenGL ES 3.0 or later. --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">uses-feature</span> <span class=\"attr\">android:glEsVersion</span>=<span class=\"string\">\"0x00030000\"</span> <span class=\"attr\">android:required</span>=<span class=\"string\">\"true\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- Indicates that app requires ARCore (\"AR Required\"). Ensures the app is</span></span><br><span class=\"line\"><span class=\"comment\">    visible only in the Google Play Store on devices that support ARCore.</span></span><br><span class=\"line\"><span class=\"comment\">     For \"AR Optional\" apps remove this line. --&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">uses-feature</span> <span class=\"attr\">android:name</span>=<span class=\"string\">\"android.hardware.camera.ar\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><figcaption><span>„ÅÆ‰∏≠„Å´„ÇÇÊõ∏„ÅçË∂≥„Åó„Åæ„Åô</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;xml</span><br><span class=\"line\">&lt;!-- Indicates that app requires ARCore (&quot;AR Required&quot;). Causes the Google</span><br><span class=\"line\">     Play Store to download and install Google Play Services for AR along</span><br><span class=\"line\">     with the app. For an &quot;AR Optional&quot; app, specify &quot;optional&quot; instead of</span><br><span class=\"line\">     &quot;required&quot;.</span><br><span class=\"line\">--&gt;</span><br><span class=\"line\">&lt;meta-data android:name&#x3D;&quot;com.google.ar.core&quot; android:value&#x3D;&quot;required&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>\n\n<p>ÂÖ®ÈÉ®„Å§„Åë„Çã„Å®„Åì„ÅÜ„Å™„Çä„Åæ„Åô</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;manifest xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    package&#x3D;&quot;io.github.takusan23.aredittext&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!-- Both &quot;AR Optional&quot; and &quot;AR Required&quot; apps require CAMERA permission. --&gt;</span><br><span class=\"line\">    &lt;uses-permission android:name&#x3D;&quot;android.permission.CAMERA&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!-- Sceneform requires OpenGL ES 3.0 or later. --&gt;</span><br><span class=\"line\">    &lt;uses-feature android:glEsVersion&#x3D;&quot;0x00030000&quot; android:required&#x3D;&quot;true&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!-- Indicates that app requires ARCore (&quot;AR Required&quot;). Ensures the app is</span><br><span class=\"line\">         visible only in the Google Play Store on devices that support ARCore.</span><br><span class=\"line\">         For &quot;AR Optional&quot; apps remove this line. --&gt;</span><br><span class=\"line\">    &lt;uses-feature android:name&#x3D;&quot;android.hardware.camera.ar&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;application</span><br><span class=\"line\">        android:allowBackup&#x3D;&quot;true&quot;</span><br><span class=\"line\">        android:icon&#x3D;&quot;@mipmap&#x2F;ic_launcher&quot;</span><br><span class=\"line\">        android:label&#x3D;&quot;@string&#x2F;app_name&quot;</span><br><span class=\"line\">        android:roundIcon&#x3D;&quot;@mipmap&#x2F;ic_launcher_round&quot;</span><br><span class=\"line\">        android:supportsRtl&#x3D;&quot;true&quot;</span><br><span class=\"line\">        android:theme&#x3D;&quot;@style&#x2F;AppTheme&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;!-- Indicates that app requires ARCore (&quot;AR Required&quot;). Causes the Google</span><br><span class=\"line\">             Play Store to download and install Google Play Services for AR along</span><br><span class=\"line\">             with the app. For an &quot;AR Optional&quot; app, specify &quot;optional&quot; instead of</span><br><span class=\"line\">             &quot;required&quot;.</span><br><span class=\"line\">        --&gt;</span><br><span class=\"line\">        &lt;meta-data android:name&#x3D;&quot;com.google.ar.core&quot; android:value&#x3D;&quot;required&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;activity android:name&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\">            &lt;intent-filter&gt;</span><br><span class=\"line\">                &lt;action android:name&#x3D;&quot;android.intent.action.MAIN&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">                &lt;category android:name&#x3D;&quot;android.intent.category.LAUNCHER&quot; &#x2F;&gt;</span><br><span class=\"line\">            &lt;&#x2F;intent-filter&gt;</span><br><span class=\"line\">        &lt;&#x2F;activity&gt;</span><br><span class=\"line\">    &lt;&#x2F;application&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;manifest&gt;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"MainActivity„Å´Fragment„ÇíÁΩÆ„Åè„ÄÇ\"><a href=\"#MainActivity„Å´Fragment„ÇíÁΩÆ„Åè„ÄÇ\" class=\"headerlink\" title=\"MainActivity„Å´Fragment„ÇíÁΩÆ„Åè„ÄÇ\"></a>MainActivity„Å´Fragment„ÇíÁΩÆ„Åè„ÄÇ</h1><p>ÂèÇËÄÉÔºö<a href=\"https://developers.google.com/ar/develop/java/sceneform#scene-view\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform#scene-view</a><br>ConstraintLayout„ÅØ‰Ωø„ÅÑÊñπ„Åå„Çà„Åè„Çè„Åã„Çâ„Å™„ÅÑ„ÅÆ„ÅßLinearLayout„Å´ÁΩÆ„ÅçÊèõ„Åà„Å¶„ÄÅFragment„Çí„Éâ„É©„ÉÉ„Ç∞„Åó„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/a152914b-b45a-b3bf-86ba-5348df99d42e.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>„Åß„Åç„Åü„Çâ<strong>ArFragment</strong>„ÇíÈÅ∏Êäû„Åó„Å¶<strong>OK</strong>„Åß„ÅôÔºÅ</p>\n<p>layout_height„ÅÆÂÄ§„Çí<strong>match_parent</strong>„Å´„Åó„Å¶ÊúÄÂ§ß„Åæ„ÅßÂ∫É„Åí„Çã„Çà„ÅÜ„Å´„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ<br>„Åù„Çå„Å®id„ÇÇfragment„Å†„Å®„Çè„Åã„Çä„Å´„Åè„Åè„Å™„Çã„ÅÆ„Åß„ÄÅar_fragment„Å®„Åã„Å´„Åó„Å®„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<p>xml„Å†„Å®„Åì„ÅÜ„Å™„Å£„Å¶„ÅÑ„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:orientation&#x3D;&quot;vertical&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot; &gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;fragment</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;ar_fragment&quot;</span><br><span class=\"line\">        android:name&#x3D;&quot;com.google.ar.sceneform.ux.ArFragment&quot;</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot; &#x2F;&gt;</span><br><span class=\"line\">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"Sceneform„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã\"><a href=\"#Sceneform„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã\" class=\"headerlink\" title=\"Sceneform„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã\"></a>Sceneform„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã</h1><p><a href=\"https://developers.google.com/ar/develop/java/sceneform\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform</a><br>„Å´„ÅØÊõ∏„ÅÑ„Å¶„ÅÇ„Çä„Åæ„Åõ„Çì„Åå„ÄÅ<a href=\"https://github.com/google-ar/sceneform-android-sdk/blob/master/samples/hellosceneform/app/src/main/java/com/google/ar/sceneform/samples/hellosceneform/HelloSceneformActivity.java\" target=\"_blank\" rel=\"noopener\">ARCore„ÅÆ„Çµ„É≥„Éó„É´</a>„Å´„ÅØÊõ∏„ÅÑ„Å¶„ÅÇ„Å£„Åü„ÅÆ„Åß„ÄÅKotlin„Å´Â§âÊèõ„Åó„Å¶‰Ωø„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fun checkIsSupportedDeviceOrFinish(activity: Activity): Boolean &#123;</span><br><span class=\"line\">    val MIN_OPENGL_VERSION &#x3D; 3.0</span><br><span class=\"line\">    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N) &#123;</span><br><span class=\"line\">        Toast.makeText(activity, &quot;Sceneform„Å´„ÅØAndroid N‰ª•Èôç„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ&quot;, Toast.LENGTH_LONG).show()</span><br><span class=\"line\">        activity.finish()</span><br><span class=\"line\">        return false</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    val openGlVersionString &#x3D; (activity.getSystemService(Context.ACTIVITY_SERVICE) as ActivityManager).deviceConfigurationInfo.glEsVersion</span><br><span class=\"line\">    if (java.lang.Double.parseDouble(openGlVersionString) &lt; MIN_OPENGL_VERSION) &#123;</span><br><span class=\"line\">        Toast.makeText(activity, &quot;Sceneform„Å´„ÅØOpen GL 3.0‰ª•Èôç„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ&quot;, Toast.LENGTH_LONG).show()</span><br><span class=\"line\">        activity.finish()</span><br><span class=\"line\">        return false</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return true</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„Çí<code>setContentView()</code>„ÅÆÂâç„Åß‰Ωø„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class=\"line\">    super.onCreate(savedInstanceState)</span><br><span class=\"line\">    &#x2F;&#x2F;Êù°‰ª∂Ê∫Ä„Åü„Åó„Å¶„Å™„Åë„Çå„Å∞ActivityÁµÇ‰∫Ü„Åï„Åõ„Çã</span><br><span class=\"line\">    if(!checkIsSupportedDeviceOrFinish(this))&#123;</span><br><span class=\"line\">        return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    setContentView(R.layout.activity_main)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"ArFragmentÂèñÂæó\"><a href=\"#ArFragmentÂèñÂæó\" class=\"headerlink\" title=\"ArFragmentÂèñÂæó\"></a>ArFragmentÂèñÂæó</h1><p>MainActivity„ÅßÁΩÆ„ÅÑ„ÅüArFragment„ÇíÂèñÂæó„Åó„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lateinit var arFragment: ArFragment</span><br><span class=\"line\">override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class=\"line\">    super.onCreate(savedInstanceState)</span><br><span class=\"line\">    &#x2F;&#x2F;Êù°‰ª∂Ê∫Ä„Åü„Åó„Å¶„Å™„Åë„Çå„Å∞ActivityÁµÇ‰∫Ü„Åï„Åõ„Çã</span><br><span class=\"line\">    if(!checkIsSupportedDeviceOrFinish(this))&#123;</span><br><span class=\"line\">        return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    setContentView(R.layout.activity_main)</span><br><span class=\"line\">    &#x2F;&#x2F;ArFragmentÂèñÂæó</span><br><span class=\"line\">    arFragment &#x3D; supportFragmentManager.findFragmentById(R.id.ar_fragment) as ArFragment</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"Ëµ∑Âãï„Åó„Å¶„Åø„Çã\"><a href=\"#Ëµ∑Âãï„Åó„Å¶„Åø„Çã\" class=\"headerlink\" title=\"Ëµ∑Âãï„Åó„Å¶„Åø„Çã\"></a>Ëµ∑Âãï„Åó„Å¶„Åø„Çã</h1><p>„Åì„Åì„Åæ„Åß„ÅßÁâπ„Å´ÂïèÈ°å„Åå„Å™„Åë„Çå„Å∞„ÄÅ<br>„Ç´„É°„É©„ÅÆÊ®©ÈôêË®±ÂèØ„Åå„Åç„Å¶„ÄÅË®±ÂèØ„Åô„Çã„Å®Êò†„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/e802a9d9-3d6c-623c-da86-6e2f2ed416c4.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/0b97794e-8ed5-2915-e472-9206df1710e1.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>Êò†„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ„Åì„Åì„Åæ„ÅßÈñìÈÅï„Åà„Åö„Å§„ÅÑ„Å¶„Åì„Çå„Å¶„Åæ„Åô„ÄÇ</p>\n<h1 id=\"„ÅÑ„Çà„ÅÑ„ÇàView„ÇíÁèæÂÆü„Å´Ë°®Á§∫„Åï„Åõ„Çã„Éª„Éª„ÉªÔºÅ\"><a href=\"#„ÅÑ„Çà„ÅÑ„ÇàView„ÇíÁèæÂÆü„Å´Ë°®Á§∫„Åï„Åõ„Çã„Éª„Éª„ÉªÔºÅ\" class=\"headerlink\" title=\"„ÅÑ„Çà„ÅÑ„ÇàView„ÇíÁèæÂÆü„Å´Ë°®Á§∫„Åï„Åõ„Çã„Éª„Éª„ÉªÔºÅ\"></a>„ÅÑ„Çà„ÅÑ„ÇàView„ÇíÁèæÂÆü„Å´Ë°®Á§∫„Åï„Åõ„Çã„Éª„Éª„ÉªÔºÅ</h1><p>ÂèÇËÄÉÔºö<a href=\"https://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets</a></p>\n<p>„Åæ„Åölayout„Éï„Ç©„É´„ÉÄ„Å´<strong>ar_layout.xml</strong>„Å®„ÅÑ„ÅÜÂêçÂâç„Åß‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/521816ac-26b0-e798-6fb2-4c5613da107d.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>Ê¨°„Å´ÁèæÂÆü„ÅßË°®Á§∫„Åï„Åõ„Åü„ÅÑUIÈÉ®ÂìÅ„Çí‰∏¶„Åπ„Åæ„Åô„ÄÇ<br>‰ªäÂõû„ÅØTextView„ÇíÁΩÆ„Åç„Åæ„Åô„ÄÇÔºà„Çø„Ç§„Éà„É´Ë©êÊ¨∫ÂõûÈÅøÔºâ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">    android:background&#x3D;&quot;#ffffff&quot;</span><br><span class=\"line\">    android:orientation&#x3D;&quot;vertical&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;TextView</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;textView&quot;</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_margin&#x3D;&quot;10sp&quot;</span><br><span class=\"line\">        android:gravity&#x3D;&quot;center&quot;</span><br><span class=\"line\">        android:text&#x3D;&quot;„Å¶„Åç„Åô„Å®„Å†„Çà„Éº&quot; &#x2F;&gt;</span><br><span class=\"line\">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"AR„ÅßÊâ±„Åà„Çã„Çà„ÅÜ„Å´\"><a href=\"#AR„ÅßÊâ±„Åà„Çã„Çà„ÅÜ„Å´\" class=\"headerlink\" title=\"AR„ÅßÊâ±„Åà„Çã„Çà„ÅÜ„Å´\"></a>AR„ÅßÊâ±„Åà„Çã„Çà„ÅÜ„Å´</h2><p>ÂèÇËÄÉÔºö<a href=\"https://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíAR„Å´„Éª„Éª„Éª</span><br><span class=\"line\">lateinit var viewRenderable: ViewRenderable</span><br></pre></td></tr></table></figure>\n\n<p>Ë™≠„ÅøËæº„Åø„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíË™≠„ÅøËæº„ÇÄ</span><br><span class=\"line\">ViewRenderable.builder()</span><br><span class=\"line\">    .setView(this, R.layout.ar_layout)</span><br><span class=\"line\">    .build()</span><br><span class=\"line\">    .thenAccept &#123; renderable -&gt; viewRenderable &#x3D; renderable &#125; &#x2F;&#x2F;Ë™≠„ÅøËæº„ÅøÊàêÂäü</span><br><span class=\"line\">    .exceptionally &#123;</span><br><span class=\"line\">        &#x2F;&#x2F;Ë™≠„ÅøËæº„ÅøÂ§±Êïó</span><br><span class=\"line\">        it.printStackTrace()</span><br><span class=\"line\">        Toast.makeText(this, &quot;Ë™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ&quot;, Toast.LENGTH_LONG).show()</span><br><span class=\"line\">        null</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<p>ÊúÄÂæå„Å´Êäº„Åó„Åü„Çâ„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíAR„ÅßË°®Á§∫„Åï„Åõ„Çã„Å®„Åì„Çç„Çí</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arFragment.setOnTapArPlaneListener &#123; hitResult, plane, motionEvent -&gt;</span><br><span class=\"line\">    if (::viewRenderable.isInitialized) &#123;</span><br><span class=\"line\">        &#x2F;&#x2F;ÂàùÊúüÂåñÊ∏à„Åø„ÅÆ„Å®„Åç„ÄÅÂà©Áî®ÂèØËÉΩ</span><br><span class=\"line\">        &#x2F;&#x2F; Create the Anchor.</span><br><span class=\"line\">        val anchor &#x3D; hitResult.createAnchor()</span><br><span class=\"line\">        val anchorNode &#x3D; AnchorNode(anchor)</span><br><span class=\"line\">        anchorNode.setParent(arFragment.arSceneView.scene)</span><br><span class=\"line\">        &#x2F;&#x2F; Create the transformable andy and add it to the anchor.</span><br><span class=\"line\">        val node &#x3D; TransformableNode(arFragment.transformationSystem)</span><br><span class=\"line\">        node.setParent(anchorNode)</span><br><span class=\"line\">        node.renderable &#x3D; viewRenderable</span><br><span class=\"line\">        node.select()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßÂãï„Åè„ÅØ„Åö„Åß„ÅôÔºÅÔºÅÔºÅÂÆüË°å„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜÔºÅÔºÅÔºÅ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/065d6e9d-c470-8fd6-5d6e-fe5b853aa8f4.png\" alt=\"Screenshot_1577028389.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_1577028389.png</div>\n            </figure>\n\n<p>„Å¶„Åç„Åô„Å®„Å†„Çà„Éº</p>\n<h2 id=\"Êäº„Åó„Åü„ÇâÊ∂à„Åô\"><a href=\"#Êäº„Åó„Åü„ÇâÊ∂à„Åô\" class=\"headerlink\" title=\"Êäº„Åó„Åü„ÇâÊ∂à„Åô\"></a>Êäº„Åó„Åü„ÇâÊ∂à„Åô</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node.setOnTapListener &#123; hitTestResult, motionEvent -&gt; </span><br><span class=\"line\">    node.isEnabled &#x3D; false</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>isEnabled„Å´true„ÅßÊ∂à„Åà„Åæ„Åô„Åå„Åì„Çå„Åß„ÅÑ„ÅÑ„ÅÆ„Åã„ÅØ‰∏çÊòé„ÄÇË™∞„ÅãÈ†º„Çì„Å†</p>\n<h2 id=\"AR„ÅßË°®Á§∫„Åó„ÅüTextView„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åó„Åü„ÅÑ\"><a href=\"#AR„ÅßË°®Á§∫„Åó„ÅüTextView„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åó„Åü„ÅÑ\" class=\"headerlink\" title=\"AR„ÅßË°®Á§∫„Åó„ÅüTextView„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åó„Åü„ÅÑ\"></a>AR„ÅßË°®Á§∫„Åó„ÅüTextView„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åó„Åü„ÅÑ</h2><p>MainActivity„Å´EditText„Å®„Éú„Çø„É≥„ÇíÁΩÆ„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:orientation&#x3D;&quot;vertical&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot; &gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;fragment</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;ar_fragment&quot;</span><br><span class=\"line\">        android:name&#x3D;&quot;com.google.ar.sceneform.ux.ArFragment&quot;</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_weight&#x3D;&quot;1&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;LinearLayout</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:orientation&#x3D;&quot;horizontal&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;EditText</span><br><span class=\"line\">            android:id&#x3D;&quot;@+id&#x2F;ar_change_textview&quot;</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:layout_weight&#x3D;&quot;1&quot;</span><br><span class=\"line\">            android:ems&#x3D;&quot;10&quot;</span><br><span class=\"line\">            android:inputType&#x3D;&quot;textPersonName&quot;</span><br><span class=\"line\">            android:text&#x3D;&quot;„Å¶„Åç„Åô„Å®„Å†„Çà„Éº&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;Button</span><br><span class=\"line\">            android:id&#x3D;&quot;@+id&#x2F;ar_change_button&quot;</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:text&#x3D;&quot;Â§âÊõ¥&quot; &#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;LinearLayout&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<p>„Åù„Åó„Åü„Çâ„Éú„Çø„É≥„ÇíÊäº„Åó„Åü„Çâ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åô„ÇãÂá¶ÁêÜ„ÇíÊõ∏„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;„ÉÜ„Ç≠„Çπ„ÉàÂ§âÊõ¥</span><br><span class=\"line\">ar_change_button.setOnClickListener &#123;</span><br><span class=\"line\">    &#x2F;&#x2F;„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó</span><br><span class=\"line\">    val text &#x3D; ar_change_textview.text.toString()</span><br><span class=\"line\">    &#x2F;&#x2F;AR„ÅßË°®Á§∫„Åô„Çã„É¨„Ç§„Ç¢„Ç¶„ÉàÂèñÂæó</span><br><span class=\"line\">    val linearLayout &#x3D; viewRenderable.view as LinearLayout</span><br><span class=\"line\">    &#x2F;&#x2F;TextViewÂèñÂæó</span><br><span class=\"line\">    val textView &#x3D; linearLayout.findViewById&lt;TextView&gt;(R.id.textView)</span><br><span class=\"line\">    &#x2F;&#x2F;Â§âÊõ¥</span><br><span class=\"line\">    textView.text &#x3D; text</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Âãï„Åè„ÅØ„Åö„Åß„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/52a78edd-fb8a-546b-5277-7f8201e71db4.png\" alt=\"Screenshot_1577029034.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_1577029034.png</div>\n            </figure>\n\n<p>„Å™„Çì„ÅãEditText„ÅÆÈÉ®ÂàÜ„ÅåÈªí„Åè„Å™„Çã„Åë„Å©„Å™„Çì„ÅßÔºü</p>\n<h2 id=\"ÂÜôÁúü„Å´„Åó„Å¶‰øùÂ≠ò„Åô„Çã\"><a href=\"#ÂÜôÁúü„Å´„Åó„Å¶‰øùÂ≠ò„Åô„Çã\" class=\"headerlink\" title=\"ÂÜôÁúü„Å´„Åó„Å¶‰øùÂ≠ò„Åô„Çã\"></a>ÂÜôÁúü„Å´„Åó„Å¶‰øùÂ≠ò„Åô„Çã</h2><p>„Åä„Åæ„Åë„Åß„Åô„ÄÇ<br>Áñ≤„Çå„Åü„ÅÆ„Åß„Ç≥„Éº„Éâ„Å†„Åë„ÄÇ„É¨„Ç§„Ç¢„Ç¶„Éà„Å´„Éú„Çø„É≥„ÇíËøΩÂä†„Åó„Å¶id„Çí„Äåar_take_a_picture„Äç„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;ÊíÆÂΩ±„Éú„Çø„É≥Êäº„Åó„Åü„Å®„Åç</span><br><span class=\"line\">ar_take_a_picture.setOnClickListener &#123;</span><br><span class=\"line\">    &#x2F;&#x2F;PixelCopy API„ÇíÂà©Áî®„Åô„Çã„ÄÇ„ÅÆ„ÅßOreo‰ª•Èôç„Åò„ÇÉ„Å™„ÅÑ„Å®Âà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ</span><br><span class=\"line\">    val bitmap &#x3D; Bitmap.createBitmap(</span><br><span class=\"line\">        arFragment.view?.width ?: 100,</span><br><span class=\"line\">        arFragment.view?.height ?: 100,</span><br><span class=\"line\">        Bitmap.Config.ARGB_8888</span><br><span class=\"line\">    )</span><br><span class=\"line\">    val intArray &#x3D; IntArray(2)</span><br><span class=\"line\">    arFragment.view?.getLocationInWindow(intArray)</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">        PixelCopy.request(</span><br><span class=\"line\">            arFragment.arSceneView as SurfaceView, &#x2F;&#x2F;SurfaceView„ÇíÁ∂ôÊâø„Åó„Å¶„Çã„Çâ„Åó„ÅÑ„ÄÇwindow„Å†„Å®Áúü„Å£Êöó„Å™„ÅÆ„ÅßÊ≥®ÊÑèÔºÅ</span><br><span class=\"line\">            Rect(</span><br><span class=\"line\">                intArray[0],</span><br><span class=\"line\">                intArray[1],</span><br><span class=\"line\">                intArray[0] + (arFragment.view?.width ?: 0),</span><br><span class=\"line\">                intArray[1] + (arFragment.view?.height ?: 0)</span><br><span class=\"line\">            ),</span><br><span class=\"line\">            bitmap,</span><br><span class=\"line\">            &#123; copyResult: Int -&gt;</span><br><span class=\"line\">                if (copyResult &#x3D;&#x3D; PixelCopy.SUCCESS) &#123;</span><br><span class=\"line\">                    &#x2F;&#x2F;ÊàêÂäüÊôÇ</span><br><span class=\"line\">                    &#x2F;&#x2F;„Åì„Åì„ÅÆ„Éï„Ç©„É´„ÉÄ„ÅØËá™Áî±„Å´‰Ωø„Å£„Å¶„ÅÑ„ÅÑÂ†¥ÊâÄÔºà„Çµ„É≥„Éâ„Éú„ÉÉ„ÇØ„ÇπÔºâ</span><br><span class=\"line\">                  val mediaFolder &#x3D; externalMediaDirs.first()</span><br><span class=\"line\">                  &#x2F;&#x2F;ÂÜôÁúü„Éï„Ç°„Ç§„É´‰ΩúÊàê</span><br><span class=\"line\">                  val file &#x3D; File(&quot;$&#123;mediaFolder.path&#125;&#x2F;$&#123;System.currentTimeMillis()&#125;.jpg&quot;)</span><br><span class=\"line\">                  &#x2F;&#x2F;Bitmap‰øùÂ≠ò</span><br><span class=\"line\">                  bitmap.compress(Bitmap.CompressFormat.JPEG, 100, file.outputStream())</span><br><span class=\"line\">                  Toast.makeText(this, &quot;‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;, Toast.LENGTH_SHORT).show()</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            Handler()</span><br><span class=\"line\">        )</span><br><span class=\"line\">    &#125; catch (e: IllegalArgumentException) &#123;</span><br><span class=\"line\">        e.printStackTrace()</span><br><span class=\"line\">        Toast.makeText(this@MainActivity, &quot;Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ&quot;, Toast.LENGTH_LONG).show()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>?:„ÅÆÂÄ§„Åå„Åè„Å£„ÅùÈõë„Å†„Åë„Å©„ÇÜ„Çã„Åó„Å¶<br>Android 10„ÅßÂãï‰ΩúÁ¢∫Ë™çÊ∏à„Åß„Åô„ÄÇÂØæË±°ÁØÑÂõ≤Âà•„Çπ„Éà„É¨„Éº„Ç∏ÂØæÁ≠ñ„ÄÇ<br>ÂÜôÁúü„Éá„Éº„Çø„ÅØ<br>/sdcard/Android/media/„Éë„ÉÉ„Ç±„Éº„Ç∏ID<br>„Å´ÂÖ•„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h1 id=\"„Åä„Çè„Çä„Å´\"><a href=\"#„Åä„Çè„Çä„Å´\" class=\"headerlink\" title=\"„Åä„Çè„Çä„Å´\"></a>„Åä„Çè„Çä„Å´</h1><p>GitHub„Å´ÂÖ¨Èñã„Åó„Å¶„Åä„Åç„Åæ„Åô„ÄÇ<br><a href=\"https://github.com/takusan23/AREditText\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/AREditText</a></p>\n<p>„Å§„ÅÑ„Åß„Å´ÂèÇËÄÉ„Å´„Åó„Åü„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇÇ„ÄÇ<br><a href=\"https://github.com/google-ar/sceneform-android-sdk/tree/master/samples/hellosceneform\" target=\"_blank\" rel=\"noopener\">https://github.com/google-ar/sceneform-android-sdk/tree/master/samples/hellosceneform</a></p>\n<p>PixelCopyÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ<br><a href=\"https://friegen.xyz/getdrawingcache-deprecated/\" target=\"_blank\" rel=\"noopener\">https://friegen.xyz/getdrawingcache-deprecated/</a></p>\n<p>„Åä„Å§„Åß„Åô„ÄÇÔºòÔºòÔºòÔºòÔºòÔºò</p>\n","site":{"data":{}},"excerpt":"","more":"<p>ARËß¶„Å£„Å¶„Åø„Åü„ÅÑ„ÄÇ</p>\n<h1 id=\"widgetsÔºàUI„ÅÆÈÉ®ÂìÅ-‰æãÔºöTextView„ÄÅImageViewÔºâ„ÅåAR„ÅßË°®Á§∫„Åß„Åç„Çã„Çâ„Åó„ÅÑ\"><a href=\"#widgetsÔºàUI„ÅÆÈÉ®ÂìÅ-‰æãÔºöTextView„ÄÅImageViewÔºâ„ÅåAR„ÅßË°®Á§∫„Åß„Åç„Çã„Çâ„Åó„ÅÑ\" class=\"headerlink\" title=\"widgetsÔºàUI„ÅÆÈÉ®ÂìÅ ‰æãÔºöTextView„ÄÅImageViewÔºâ„ÅåAR„ÅßË°®Á§∫„Åß„Åç„Çã„Çâ„Åó„ÅÑ\"></a>widgetsÔºàUI„ÅÆÈÉ®ÂìÅ ‰æãÔºöTextView„ÄÅImageViewÔºâ„ÅåAR„ÅßË°®Á§∫„Åß„Åç„Çã„Çâ„Åó„ÅÑ</h1><p><a href=\"https://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets</a></p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/6f5e59b3-b466-aefe-ec75-11657ee1845f.png\" alt=\"Screenshot_1577032540.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_1577032540.png</div>\n            </figure>\n\n\n<p>„Åì„Åì„ÄÇsceneform„Å£„Å¶„Å™„Çì„Åû„ÇÑ„Å£„Å¶Ë©±„Å†„Åë„Å©„Åì„Çå„Åß„Åç„Åü„Çâ„Åè„Å£„ÅùÈù¢ÁôΩ„Åù„ÅÜ„Å†„Å®ÊÄù„Å£„Åü„ÅÆ„Åß„ÄÅ<br>‰ªäÂõû„ÅØTextView„ÇíAR‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Çã„Å®„Åì„Çç„Åæ„Åß„ÇÑ„Çç„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h2 id=\"„Ç®„Éü„É•„É¨„Éº„Çø„Éº„ÅßARCore„Ç¢„Éó„É™„ÇíÂãï„Åã„Åô„Åü„ÇÅ„Å´\"><a href=\"#„Ç®„Éü„É•„É¨„Éº„Çø„Éº„ÅßARCore„Ç¢„Éó„É™„ÇíÂãï„Åã„Åô„Åü„ÇÅ„Å´\" class=\"headerlink\" title=\"„Ç®„Éü„É•„É¨„Éº„Çø„Éº„ÅßARCore„Ç¢„Éó„É™„ÇíÂãï„Åã„Åô„Åü„ÇÅ„Å´\"></a>„Ç®„Éü„É•„É¨„Éº„Çø„Éº„ÅßARCore„Ç¢„Éó„É™„ÇíÂãï„Åã„Åô„Åü„ÇÅ„Å´</h2><p>„ÅÑ„ÇÑPixel„Å®„ÅãGalaxy„Å®„Åã‰Ωø„ÅÑ„Åæ„Åô„Åã„Çâ„Å£„Å¶Êñπ„ÅØÈ£õ„Å∞„Åó„Å¶„ÅÑ„ÅÑ„Åû„ÄÇ<br><del>„Å¶„ÅãARCoreÂØæÂøúÁ´ØÊú´ÁÑ°„ÅÑ„ÅÆ„Å´AR„Ç¢„Éó„É™‰Ωú„Çç„ÅÜ„Å®„Åó„Å¶„Çã‰∫∫„ÄÅ„Å©„Åì„Åã„Çâ„ÇÑ„ÇãÊ∞ó„ÅåÂá∫„Å¶„Çã„Çì„Å†„ÄÇ</del></p>\n<h3 id=\"Google-Play-ÈñãÁô∫ËÄÖ„Çµ„Éº„Éì„ÇπÔºàARÔºâ„ÇíÂÖ•„Çå„Åæ„Åô\"><a href=\"#Google-Play-ÈñãÁô∫ËÄÖ„Çµ„Éº„Éì„ÇπÔºàARÔºâ„ÇíÂÖ•„Çå„Åæ„Åô\" class=\"headerlink\" title=\"Google Play ÈñãÁô∫ËÄÖ„Çµ„Éº„Éì„ÇπÔºàARÔºâ„ÇíÂÖ•„Çå„Åæ„Åô\"></a>Google Play ÈñãÁô∫ËÄÖ„Çµ„Éº„Éì„ÇπÔºàARÔºâ„ÇíÂÖ•„Çå„Åæ„Åô</h3><p><a href=\"https://github.com/google-ar/arcore-android-sdk/releases\" target=\"_blank\" rel=\"noopener\">https://github.com/google-ar/arcore-android-sdk/releases</a><br>„Åì„Åì„Åã„ÇâAPK„ÇíDL„Åó„Å¶„ÄÅ„Ç®„Éü„É•„É¨„Éº„Çø„Éº„Å´„Éâ„É©„ÉÉ„Ç∞„Ç¢„É≥„Éâ„Éâ„É≠„ÉÉ„Éó„Åó„Å¶„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n<p>‰ªäÂõû„ÅØË®ò‰∫ã‰ΩúÊàêÊôÇÊúÄÊñ∞VerÔºàGoogle_Play_Services_for_AR_1.14.1_x86_for_emulator.apkÔºâ„ÇíÂÖ•„Çå„Åæ„Åô„ÄÇ</p>\n<p>ÊàêÂäü„Åô„Çã„Å®„Ç¢„Éó„É™‰∏ÄË¶ßÁîªÈù¢„Å´Ë°®Á§∫„Åï„Çå„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/643c568b-f56d-f61d-3b06-f995abbff688.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<h1 id=\"Áí∞Â¢É\"><a href=\"#Áí∞Â¢É\" class=\"headerlink\" title=\"Áí∞Â¢É\"></a>Áí∞Â¢É</h1><table>\n<thead>\n<tr>\n<th>„Å™„Åæ„Åà</th>\n<th>„ÅÇ„Åü„ÅÑ</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Á´ØÊú´</td>\n<td>„Ç®„Éü„É•„É¨„Éº„Çø„Éº / Google Pixel 3 XL</td>\n</tr>\n<tr>\n<td>Android</td>\n<td>10</td>\n</tr>\n<tr>\n<td>minSdkVersion</td>\n<td>24ÔºàARCore„ÅÆ„Åõ„ÅÑÔºâ</td>\n</tr>\n</tbody></table>\n<h1 id=\"ÂÆüË£Ö\"><a href=\"#ÂÆüË£Ö\" class=\"headerlink\" title=\"ÂÆüË£Ö\"></a>ÂÆüË£Ö</h1><p>MainActivity„Åå„Åß„Åç„Å¶„ÇãÊÆµÈöé„Åæ„ÅßÊù•„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n<h2 id=\"build-gradleÔºàapp„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠ÔºâÊõ∏„ÅçË∂≥„Åô\"><a href=\"#build-gradleÔºàapp„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠ÔºâÊõ∏„ÅçË∂≥„Åô\" class=\"headerlink\" title=\"build.gradleÔºàapp„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠ÔºâÊõ∏„ÅçË∂≥„Åô\"></a>build.gradleÔºàapp„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠ÔºâÊõ∏„ÅçË∂≥„Åô</h2><p>ÂèÇËÄÉÔºö<a href=\"https://developers.google.com/ar/develop/java/sceneform#configure-project\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform#configure-project</a></p>\n<p>„Åì„ÅÜ„Å™„Å£„Å¶„ÅÑ„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„Åå„ÄÅ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apply plugin: &#39;com.android.application&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">apply plugin: &#39;kotlin-android&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">apply plugin: &#39;kotlin-android-extensions&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">android &#123;</span><br><span class=\"line\">    compileSdkVersion 29</span><br><span class=\"line\">    buildToolsVersion &quot;29.0.2&quot;</span><br><span class=\"line\">    defaultConfig &#123;</span><br><span class=\"line\">        applicationId &quot;io.github.takusan23.aredittext&quot;</span><br><span class=\"line\">        minSdkVersion 24</span><br><span class=\"line\">        targetSdkVersion 29</span><br><span class=\"line\">        versionCode 1</span><br><span class=\"line\">        versionName &quot;1.0&quot;</span><br><span class=\"line\">        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    buildTypes &#123;</span><br><span class=\"line\">        release &#123;</span><br><span class=\"line\">            minifyEnabled false</span><br><span class=\"line\">            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">dependencies &#123;</span><br><span class=\"line\">    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])</span><br><span class=\"line\">    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;</span><br><span class=\"line\">    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;</span><br><span class=\"line\">    implementation &#39;androidx.core:core-ktx:1.1.0&#39;</span><br><span class=\"line\">    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;</span><br><span class=\"line\">    testImplementation &#39;junit:junit:4.12&#39;</span><br><span class=\"line\">    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;</span><br><span class=\"line\">    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Åì„Åã„ÇâÊõ∏„ÅçË∂≥„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apply plugin: &#39;com.android.application&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">apply plugin: &#39;kotlin-android&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">apply plugin: &#39;kotlin-android-extensions&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">android &#123;</span><br><span class=\"line\">    compileSdkVersion 29</span><br><span class=\"line\">    buildToolsVersion &quot;29.0.2&quot;</span><br><span class=\"line\">    defaultConfig &#123;</span><br><span class=\"line\">        applicationId &quot;io.github.takusan23.aredittext&quot;</span><br><span class=\"line\">        minSdkVersion 24</span><br><span class=\"line\">        targetSdkVersion 29</span><br><span class=\"line\">        versionCode 1</span><br><span class=\"line\">        versionName &quot;1.0&quot;</span><br><span class=\"line\">        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    buildTypes &#123;</span><br><span class=\"line\">        release &#123;</span><br><span class=\"line\">            minifyEnabled false</span><br><span class=\"line\">            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#x2F;&#x2F;Java 8„ÅåÂøÖË¶Å„Åø„Åü„ÅÑ„ÄÇ</span><br><span class=\"line\">    compileOptions &#123;</span><br><span class=\"line\">        sourceCompatibility JavaVersion.VERSION_1_8</span><br><span class=\"line\">        targetCompatibility JavaVersion.VERSION_1_8</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">dependencies &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F;ArFragment„Å™„Å©    </span><br><span class=\"line\">    implementation &quot;com.google.ar.sceneform.ux:sceneform-ux:1.14.0&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])</span><br><span class=\"line\">    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;</span><br><span class=\"line\">    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;</span><br><span class=\"line\">    implementation &#39;androidx.core:core-ktx:1.1.0&#39;</span><br><span class=\"line\">    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;</span><br><span class=\"line\">    testImplementation &#39;junit:junit:4.12&#39;</span><br><span class=\"line\">    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;</span><br><span class=\"line\">    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"AndroidManifestÊõ∏„ÅçË∂≥„Åô\"><a href=\"#AndroidManifestÊõ∏„ÅçË∂≥„Åô\" class=\"headerlink\" title=\"AndroidManifestÊõ∏„ÅçË∂≥„Åô\"></a>AndroidManifestÊõ∏„ÅçË∂≥„Åô</h1><p>ÂèÇËÄÉÔºö<a href=\"https://developers.google.com/ar/develop/java/sceneform#manifest\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform#manifest</a><br>„Åæ„Åö‰∏ä„ÅÆÊñπ„Å´„Åì„Çì„Å™„Åã„Çì„Åò„Å´„ÄÅ</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">manifest</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">package</span>=<span class=\"string\">\"„Å™„Çì„Å®„ÅãÔΩû\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">„ÄÄ„ÄÄ<span class=\"comment\">&lt;!-- Both \"AR Optional\" and \"AR Required\" apps require CAMERA permission. --&gt;</span></span><br><span class=\"line\">„ÄÄ„ÄÄ<span class=\"tag\">&lt;<span class=\"name\">uses-permission</span> <span class=\"attr\">android:name</span>=<span class=\"string\">\"android.permission.CAMERA\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- Sceneform requires OpenGL ES 3.0 or later. --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">uses-feature</span> <span class=\"attr\">android:glEsVersion</span>=<span class=\"string\">\"0x00030000\"</span> <span class=\"attr\">android:required</span>=<span class=\"string\">\"true\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- Indicates that app requires ARCore (\"AR Required\"). Ensures the app is</span></span><br><span class=\"line\"><span class=\"comment\">    visible only in the Google Play Store on devices that support ARCore.</span></span><br><span class=\"line\"><span class=\"comment\">     For \"AR Optional\" apps remove this line. --&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">uses-feature</span> <span class=\"attr\">android:name</span>=<span class=\"string\">\"android.hardware.camera.ar\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><figcaption><span>„ÅÆ‰∏≠„Å´„ÇÇÊõ∏„ÅçË∂≥„Åó„Åæ„Åô</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;xml</span><br><span class=\"line\">&lt;!-- Indicates that app requires ARCore (&quot;AR Required&quot;). Causes the Google</span><br><span class=\"line\">     Play Store to download and install Google Play Services for AR along</span><br><span class=\"line\">     with the app. For an &quot;AR Optional&quot; app, specify &quot;optional&quot; instead of</span><br><span class=\"line\">     &quot;required&quot;.</span><br><span class=\"line\">--&gt;</span><br><span class=\"line\">&lt;meta-data android:name&#x3D;&quot;com.google.ar.core&quot; android:value&#x3D;&quot;required&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>\n\n<p>ÂÖ®ÈÉ®„Å§„Åë„Çã„Å®„Åì„ÅÜ„Å™„Çä„Åæ„Åô</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;manifest xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    package&#x3D;&quot;io.github.takusan23.aredittext&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!-- Both &quot;AR Optional&quot; and &quot;AR Required&quot; apps require CAMERA permission. --&gt;</span><br><span class=\"line\">    &lt;uses-permission android:name&#x3D;&quot;android.permission.CAMERA&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!-- Sceneform requires OpenGL ES 3.0 or later. --&gt;</span><br><span class=\"line\">    &lt;uses-feature android:glEsVersion&#x3D;&quot;0x00030000&quot; android:required&#x3D;&quot;true&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!-- Indicates that app requires ARCore (&quot;AR Required&quot;). Ensures the app is</span><br><span class=\"line\">         visible only in the Google Play Store on devices that support ARCore.</span><br><span class=\"line\">         For &quot;AR Optional&quot; apps remove this line. --&gt;</span><br><span class=\"line\">    &lt;uses-feature android:name&#x3D;&quot;android.hardware.camera.ar&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;application</span><br><span class=\"line\">        android:allowBackup&#x3D;&quot;true&quot;</span><br><span class=\"line\">        android:icon&#x3D;&quot;@mipmap&#x2F;ic_launcher&quot;</span><br><span class=\"line\">        android:label&#x3D;&quot;@string&#x2F;app_name&quot;</span><br><span class=\"line\">        android:roundIcon&#x3D;&quot;@mipmap&#x2F;ic_launcher_round&quot;</span><br><span class=\"line\">        android:supportsRtl&#x3D;&quot;true&quot;</span><br><span class=\"line\">        android:theme&#x3D;&quot;@style&#x2F;AppTheme&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;!-- Indicates that app requires ARCore (&quot;AR Required&quot;). Causes the Google</span><br><span class=\"line\">             Play Store to download and install Google Play Services for AR along</span><br><span class=\"line\">             with the app. For an &quot;AR Optional&quot; app, specify &quot;optional&quot; instead of</span><br><span class=\"line\">             &quot;required&quot;.</span><br><span class=\"line\">        --&gt;</span><br><span class=\"line\">        &lt;meta-data android:name&#x3D;&quot;com.google.ar.core&quot; android:value&#x3D;&quot;required&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;activity android:name&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\">            &lt;intent-filter&gt;</span><br><span class=\"line\">                &lt;action android:name&#x3D;&quot;android.intent.action.MAIN&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">                &lt;category android:name&#x3D;&quot;android.intent.category.LAUNCHER&quot; &#x2F;&gt;</span><br><span class=\"line\">            &lt;&#x2F;intent-filter&gt;</span><br><span class=\"line\">        &lt;&#x2F;activity&gt;</span><br><span class=\"line\">    &lt;&#x2F;application&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;manifest&gt;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"MainActivity„Å´Fragment„ÇíÁΩÆ„Åè„ÄÇ\"><a href=\"#MainActivity„Å´Fragment„ÇíÁΩÆ„Åè„ÄÇ\" class=\"headerlink\" title=\"MainActivity„Å´Fragment„ÇíÁΩÆ„Åè„ÄÇ\"></a>MainActivity„Å´Fragment„ÇíÁΩÆ„Åè„ÄÇ</h1><p>ÂèÇËÄÉÔºö<a href=\"https://developers.google.com/ar/develop/java/sceneform#scene-view\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform#scene-view</a><br>ConstraintLayout„ÅØ‰Ωø„ÅÑÊñπ„Åå„Çà„Åè„Çè„Åã„Çâ„Å™„ÅÑ„ÅÆ„ÅßLinearLayout„Å´ÁΩÆ„ÅçÊèõ„Åà„Å¶„ÄÅFragment„Çí„Éâ„É©„ÉÉ„Ç∞„Åó„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/a152914b-b45a-b3bf-86ba-5348df99d42e.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>„Åß„Åç„Åü„Çâ<strong>ArFragment</strong>„ÇíÈÅ∏Êäû„Åó„Å¶<strong>OK</strong>„Åß„ÅôÔºÅ</p>\n<p>layout_height„ÅÆÂÄ§„Çí<strong>match_parent</strong>„Å´„Åó„Å¶ÊúÄÂ§ß„Åæ„ÅßÂ∫É„Åí„Çã„Çà„ÅÜ„Å´„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ<br>„Åù„Çå„Å®id„ÇÇfragment„Å†„Å®„Çè„Åã„Çä„Å´„Åè„Åè„Å™„Çã„ÅÆ„Åß„ÄÅar_fragment„Å®„Åã„Å´„Åó„Å®„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<p>xml„Å†„Å®„Åì„ÅÜ„Å™„Å£„Å¶„ÅÑ„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:orientation&#x3D;&quot;vertical&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot; &gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;fragment</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;ar_fragment&quot;</span><br><span class=\"line\">        android:name&#x3D;&quot;com.google.ar.sceneform.ux.ArFragment&quot;</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot; &#x2F;&gt;</span><br><span class=\"line\">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"Sceneform„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã\"><a href=\"#Sceneform„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã\" class=\"headerlink\" title=\"Sceneform„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã\"></a>Sceneform„ÅåÂà©Áî®ÂèØËÉΩ„Åã„ÉÅ„Çß„ÉÉ„ÇØ„Åô„Çã</h1><p><a href=\"https://developers.google.com/ar/develop/java/sceneform\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform</a><br>„Å´„ÅØÊõ∏„ÅÑ„Å¶„ÅÇ„Çä„Åæ„Åõ„Çì„Åå„ÄÅ<a href=\"https://github.com/google-ar/sceneform-android-sdk/blob/master/samples/hellosceneform/app/src/main/java/com/google/ar/sceneform/samples/hellosceneform/HelloSceneformActivity.java\" target=\"_blank\" rel=\"noopener\">ARCore„ÅÆ„Çµ„É≥„Éó„É´</a>„Å´„ÅØÊõ∏„ÅÑ„Å¶„ÅÇ„Å£„Åü„ÅÆ„Åß„ÄÅKotlin„Å´Â§âÊèõ„Åó„Å¶‰Ωø„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fun checkIsSupportedDeviceOrFinish(activity: Activity): Boolean &#123;</span><br><span class=\"line\">    val MIN_OPENGL_VERSION &#x3D; 3.0</span><br><span class=\"line\">    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N) &#123;</span><br><span class=\"line\">        Toast.makeText(activity, &quot;Sceneform„Å´„ÅØAndroid N‰ª•Èôç„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ&quot;, Toast.LENGTH_LONG).show()</span><br><span class=\"line\">        activity.finish()</span><br><span class=\"line\">        return false</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    val openGlVersionString &#x3D; (activity.getSystemService(Context.ACTIVITY_SERVICE) as ActivityManager).deviceConfigurationInfo.glEsVersion</span><br><span class=\"line\">    if (java.lang.Double.parseDouble(openGlVersionString) &lt; MIN_OPENGL_VERSION) &#123;</span><br><span class=\"line\">        Toast.makeText(activity, &quot;Sceneform„Å´„ÅØOpen GL 3.0‰ª•Èôç„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ&quot;, Toast.LENGTH_LONG).show()</span><br><span class=\"line\">        activity.finish()</span><br><span class=\"line\">        return false</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return true</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„Çí<code>setContentView()</code>„ÅÆÂâç„Åß‰Ωø„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class=\"line\">    super.onCreate(savedInstanceState)</span><br><span class=\"line\">    &#x2F;&#x2F;Êù°‰ª∂Ê∫Ä„Åü„Åó„Å¶„Å™„Åë„Çå„Å∞ActivityÁµÇ‰∫Ü„Åï„Åõ„Çã</span><br><span class=\"line\">    if(!checkIsSupportedDeviceOrFinish(this))&#123;</span><br><span class=\"line\">        return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    setContentView(R.layout.activity_main)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"ArFragmentÂèñÂæó\"><a href=\"#ArFragmentÂèñÂæó\" class=\"headerlink\" title=\"ArFragmentÂèñÂæó\"></a>ArFragmentÂèñÂæó</h1><p>MainActivity„ÅßÁΩÆ„ÅÑ„ÅüArFragment„ÇíÂèñÂæó„Åó„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lateinit var arFragment: ArFragment</span><br><span class=\"line\">override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class=\"line\">    super.onCreate(savedInstanceState)</span><br><span class=\"line\">    &#x2F;&#x2F;Êù°‰ª∂Ê∫Ä„Åü„Åó„Å¶„Å™„Åë„Çå„Å∞ActivityÁµÇ‰∫Ü„Åï„Åõ„Çã</span><br><span class=\"line\">    if(!checkIsSupportedDeviceOrFinish(this))&#123;</span><br><span class=\"line\">        return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    setContentView(R.layout.activity_main)</span><br><span class=\"line\">    &#x2F;&#x2F;ArFragmentÂèñÂæó</span><br><span class=\"line\">    arFragment &#x3D; supportFragmentManager.findFragmentById(R.id.ar_fragment) as ArFragment</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"Ëµ∑Âãï„Åó„Å¶„Åø„Çã\"><a href=\"#Ëµ∑Âãï„Åó„Å¶„Åø„Çã\" class=\"headerlink\" title=\"Ëµ∑Âãï„Åó„Å¶„Åø„Çã\"></a>Ëµ∑Âãï„Åó„Å¶„Åø„Çã</h1><p>„Åì„Åì„Åæ„Åß„ÅßÁâπ„Å´ÂïèÈ°å„Åå„Å™„Åë„Çå„Å∞„ÄÅ<br>„Ç´„É°„É©„ÅÆÊ®©ÈôêË®±ÂèØ„Åå„Åç„Å¶„ÄÅË®±ÂèØ„Åô„Çã„Å®Êò†„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/e802a9d9-3d6c-623c-da86-6e2f2ed416c4.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/0b97794e-8ed5-2915-e472-9206df1710e1.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>Êò†„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ„Åì„Åì„Åæ„ÅßÈñìÈÅï„Åà„Åö„Å§„ÅÑ„Å¶„Åì„Çå„Å¶„Åæ„Åô„ÄÇ</p>\n<h1 id=\"„ÅÑ„Çà„ÅÑ„ÇàView„ÇíÁèæÂÆü„Å´Ë°®Á§∫„Åï„Åõ„Çã„Éª„Éª„ÉªÔºÅ\"><a href=\"#„ÅÑ„Çà„ÅÑ„ÇàView„ÇíÁèæÂÆü„Å´Ë°®Á§∫„Åï„Åõ„Çã„Éª„Éª„ÉªÔºÅ\" class=\"headerlink\" title=\"„ÅÑ„Çà„ÅÑ„ÇàView„ÇíÁèæÂÆü„Å´Ë°®Á§∫„Åï„Åõ„Çã„Éª„Éª„ÉªÔºÅ\"></a>„ÅÑ„Çà„ÅÑ„ÇàView„ÇíÁèæÂÆü„Å´Ë°®Á§∫„Åï„Åõ„Çã„Éª„Éª„ÉªÔºÅ</h1><p>ÂèÇËÄÉÔºö<a href=\"https://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets</a></p>\n<p>„Åæ„Åölayout„Éï„Ç©„É´„ÉÄ„Å´<strong>ar_layout.xml</strong>„Å®„ÅÑ„ÅÜÂêçÂâç„Åß‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/521816ac-26b0-e798-6fb2-4c5613da107d.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>Ê¨°„Å´ÁèæÂÆü„ÅßË°®Á§∫„Åï„Åõ„Åü„ÅÑUIÈÉ®ÂìÅ„Çí‰∏¶„Åπ„Åæ„Åô„ÄÇ<br>‰ªäÂõû„ÅØTextView„ÇíÁΩÆ„Åç„Åæ„Åô„ÄÇÔºà„Çø„Ç§„Éà„É´Ë©êÊ¨∫ÂõûÈÅøÔºâ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">    android:background&#x3D;&quot;#ffffff&quot;</span><br><span class=\"line\">    android:orientation&#x3D;&quot;vertical&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;TextView</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;textView&quot;</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_margin&#x3D;&quot;10sp&quot;</span><br><span class=\"line\">        android:gravity&#x3D;&quot;center&quot;</span><br><span class=\"line\">        android:text&#x3D;&quot;„Å¶„Åç„Åô„Å®„Å†„Çà„Éº&quot; &#x2F;&gt;</span><br><span class=\"line\">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"AR„ÅßÊâ±„Åà„Çã„Çà„ÅÜ„Å´\"><a href=\"#AR„ÅßÊâ±„Åà„Çã„Çà„ÅÜ„Å´\" class=\"headerlink\" title=\"AR„ÅßÊâ±„Åà„Çã„Çà„ÅÜ„Å´\"></a>AR„ÅßÊâ±„Åà„Çã„Çà„ÅÜ„Å´</h2><p>ÂèÇËÄÉÔºö<a href=\"https://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets\" target=\"_blank\" rel=\"noopener\">https://developers.google.com/ar/develop/java/sceneform/create-renderables#create_from_android_widgets</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíAR„Å´„Éª„Éª„Éª</span><br><span class=\"line\">lateinit var viewRenderable: ViewRenderable</span><br></pre></td></tr></table></figure>\n\n<p>Ë™≠„ÅøËæº„Åø„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíË™≠„ÅøËæº„ÇÄ</span><br><span class=\"line\">ViewRenderable.builder()</span><br><span class=\"line\">    .setView(this, R.layout.ar_layout)</span><br><span class=\"line\">    .build()</span><br><span class=\"line\">    .thenAccept &#123; renderable -&gt; viewRenderable &#x3D; renderable &#125; &#x2F;&#x2F;Ë™≠„ÅøËæº„ÅøÊàêÂäü</span><br><span class=\"line\">    .exceptionally &#123;</span><br><span class=\"line\">        &#x2F;&#x2F;Ë™≠„ÅøËæº„ÅøÂ§±Êïó</span><br><span class=\"line\">        it.printStackTrace()</span><br><span class=\"line\">        Toast.makeText(this, &quot;Ë™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ&quot;, Toast.LENGTH_LONG).show()</span><br><span class=\"line\">        null</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<p>ÊúÄÂæå„Å´Êäº„Åó„Åü„Çâ„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíAR„ÅßË°®Á§∫„Åï„Åõ„Çã„Å®„Åì„Çç„Çí</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arFragment.setOnTapArPlaneListener &#123; hitResult, plane, motionEvent -&gt;</span><br><span class=\"line\">    if (::viewRenderable.isInitialized) &#123;</span><br><span class=\"line\">        &#x2F;&#x2F;ÂàùÊúüÂåñÊ∏à„Åø„ÅÆ„Å®„Åç„ÄÅÂà©Áî®ÂèØËÉΩ</span><br><span class=\"line\">        &#x2F;&#x2F; Create the Anchor.</span><br><span class=\"line\">        val anchor &#x3D; hitResult.createAnchor()</span><br><span class=\"line\">        val anchorNode &#x3D; AnchorNode(anchor)</span><br><span class=\"line\">        anchorNode.setParent(arFragment.arSceneView.scene)</span><br><span class=\"line\">        &#x2F;&#x2F; Create the transformable andy and add it to the anchor.</span><br><span class=\"line\">        val node &#x3D; TransformableNode(arFragment.transformationSystem)</span><br><span class=\"line\">        node.setParent(anchorNode)</span><br><span class=\"line\">        node.renderable &#x3D; viewRenderable</span><br><span class=\"line\">        node.select()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßÂãï„Åè„ÅØ„Åö„Åß„ÅôÔºÅÔºÅÔºÅÂÆüË°å„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜÔºÅÔºÅÔºÅ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/065d6e9d-c470-8fd6-5d6e-fe5b853aa8f4.png\" alt=\"Screenshot_1577028389.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_1577028389.png</div>\n            </figure>\n\n<p>„Å¶„Åç„Åô„Å®„Å†„Çà„Éº</p>\n<h2 id=\"Êäº„Åó„Åü„ÇâÊ∂à„Åô\"><a href=\"#Êäº„Åó„Åü„ÇâÊ∂à„Åô\" class=\"headerlink\" title=\"Êäº„Åó„Åü„ÇâÊ∂à„Åô\"></a>Êäº„Åó„Åü„ÇâÊ∂à„Åô</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">node.setOnTapListener &#123; hitTestResult, motionEvent -&gt; </span><br><span class=\"line\">    node.isEnabled &#x3D; false</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>isEnabled„Å´true„ÅßÊ∂à„Åà„Åæ„Åô„Åå„Åì„Çå„Åß„ÅÑ„ÅÑ„ÅÆ„Åã„ÅØ‰∏çÊòé„ÄÇË™∞„ÅãÈ†º„Çì„Å†</p>\n<h2 id=\"AR„ÅßË°®Á§∫„Åó„ÅüTextView„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åó„Åü„ÅÑ\"><a href=\"#AR„ÅßË°®Á§∫„Åó„ÅüTextView„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åó„Åü„ÅÑ\" class=\"headerlink\" title=\"AR„ÅßË°®Á§∫„Åó„ÅüTextView„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åó„Åü„ÅÑ\"></a>AR„ÅßË°®Á§∫„Åó„ÅüTextView„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åó„Åü„ÅÑ</h2><p>MainActivity„Å´EditText„Å®„Éú„Çø„É≥„ÇíÁΩÆ„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:orientation&#x3D;&quot;vertical&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot; &gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;fragment</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;ar_fragment&quot;</span><br><span class=\"line\">        android:name&#x3D;&quot;com.google.ar.sceneform.ux.ArFragment&quot;</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_weight&#x3D;&quot;1&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;LinearLayout</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:orientation&#x3D;&quot;horizontal&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;EditText</span><br><span class=\"line\">            android:id&#x3D;&quot;@+id&#x2F;ar_change_textview&quot;</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:layout_weight&#x3D;&quot;1&quot;</span><br><span class=\"line\">            android:ems&#x3D;&quot;10&quot;</span><br><span class=\"line\">            android:inputType&#x3D;&quot;textPersonName&quot;</span><br><span class=\"line\">            android:text&#x3D;&quot;„Å¶„Åç„Åô„Å®„Å†„Çà„Éº&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;Button</span><br><span class=\"line\">            android:id&#x3D;&quot;@+id&#x2F;ar_change_button&quot;</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:text&#x3D;&quot;Â§âÊõ¥&quot; &#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;LinearLayout&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<p>„Åù„Åó„Åü„Çâ„Éú„Çø„É≥„ÇíÊäº„Åó„Åü„Çâ„ÉÜ„Ç≠„Çπ„Éà„ÇíÂ§âÊõ¥„Åô„ÇãÂá¶ÁêÜ„ÇíÊõ∏„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;„ÉÜ„Ç≠„Çπ„ÉàÂ§âÊõ¥</span><br><span class=\"line\">ar_change_button.setOnClickListener &#123;</span><br><span class=\"line\">    &#x2F;&#x2F;„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó</span><br><span class=\"line\">    val text &#x3D; ar_change_textview.text.toString()</span><br><span class=\"line\">    &#x2F;&#x2F;AR„ÅßË°®Á§∫„Åô„Çã„É¨„Ç§„Ç¢„Ç¶„ÉàÂèñÂæó</span><br><span class=\"line\">    val linearLayout &#x3D; viewRenderable.view as LinearLayout</span><br><span class=\"line\">    &#x2F;&#x2F;TextViewÂèñÂæó</span><br><span class=\"line\">    val textView &#x3D; linearLayout.findViewById&lt;TextView&gt;(R.id.textView)</span><br><span class=\"line\">    &#x2F;&#x2F;Â§âÊõ¥</span><br><span class=\"line\">    textView.text &#x3D; text</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Âãï„Åè„ÅØ„Åö„Åß„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/52a78edd-fb8a-546b-5277-7f8201e71db4.png\" alt=\"Screenshot_1577029034.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_1577029034.png</div>\n            </figure>\n\n<p>„Å™„Çì„ÅãEditText„ÅÆÈÉ®ÂàÜ„ÅåÈªí„Åè„Å™„Çã„Åë„Å©„Å™„Çì„ÅßÔºü</p>\n<h2 id=\"ÂÜôÁúü„Å´„Åó„Å¶‰øùÂ≠ò„Åô„Çã\"><a href=\"#ÂÜôÁúü„Å´„Åó„Å¶‰øùÂ≠ò„Åô„Çã\" class=\"headerlink\" title=\"ÂÜôÁúü„Å´„Åó„Å¶‰øùÂ≠ò„Åô„Çã\"></a>ÂÜôÁúü„Å´„Åó„Å¶‰øùÂ≠ò„Åô„Çã</h2><p>„Åä„Åæ„Åë„Åß„Åô„ÄÇ<br>Áñ≤„Çå„Åü„ÅÆ„Åß„Ç≥„Éº„Éâ„Å†„Åë„ÄÇ„É¨„Ç§„Ç¢„Ç¶„Éà„Å´„Éú„Çø„É≥„ÇíËøΩÂä†„Åó„Å¶id„Çí„Äåar_take_a_picture„Äç„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;ÊíÆÂΩ±„Éú„Çø„É≥Êäº„Åó„Åü„Å®„Åç</span><br><span class=\"line\">ar_take_a_picture.setOnClickListener &#123;</span><br><span class=\"line\">    &#x2F;&#x2F;PixelCopy API„ÇíÂà©Áî®„Åô„Çã„ÄÇ„ÅÆ„ÅßOreo‰ª•Èôç„Åò„ÇÉ„Å™„ÅÑ„Å®Âà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ</span><br><span class=\"line\">    val bitmap &#x3D; Bitmap.createBitmap(</span><br><span class=\"line\">        arFragment.view?.width ?: 100,</span><br><span class=\"line\">        arFragment.view?.height ?: 100,</span><br><span class=\"line\">        Bitmap.Config.ARGB_8888</span><br><span class=\"line\">    )</span><br><span class=\"line\">    val intArray &#x3D; IntArray(2)</span><br><span class=\"line\">    arFragment.view?.getLocationInWindow(intArray)</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">        PixelCopy.request(</span><br><span class=\"line\">            arFragment.arSceneView as SurfaceView, &#x2F;&#x2F;SurfaceView„ÇíÁ∂ôÊâø„Åó„Å¶„Çã„Çâ„Åó„ÅÑ„ÄÇwindow„Å†„Å®Áúü„Å£Êöó„Å™„ÅÆ„ÅßÊ≥®ÊÑèÔºÅ</span><br><span class=\"line\">            Rect(</span><br><span class=\"line\">                intArray[0],</span><br><span class=\"line\">                intArray[1],</span><br><span class=\"line\">                intArray[0] + (arFragment.view?.width ?: 0),</span><br><span class=\"line\">                intArray[1] + (arFragment.view?.height ?: 0)</span><br><span class=\"line\">            ),</span><br><span class=\"line\">            bitmap,</span><br><span class=\"line\">            &#123; copyResult: Int -&gt;</span><br><span class=\"line\">                if (copyResult &#x3D;&#x3D; PixelCopy.SUCCESS) &#123;</span><br><span class=\"line\">                    &#x2F;&#x2F;ÊàêÂäüÊôÇ</span><br><span class=\"line\">                    &#x2F;&#x2F;„Åì„Åì„ÅÆ„Éï„Ç©„É´„ÉÄ„ÅØËá™Áî±„Å´‰Ωø„Å£„Å¶„ÅÑ„ÅÑÂ†¥ÊâÄÔºà„Çµ„É≥„Éâ„Éú„ÉÉ„ÇØ„ÇπÔºâ</span><br><span class=\"line\">                  val mediaFolder &#x3D; externalMediaDirs.first()</span><br><span class=\"line\">                  &#x2F;&#x2F;ÂÜôÁúü„Éï„Ç°„Ç§„É´‰ΩúÊàê</span><br><span class=\"line\">                  val file &#x3D; File(&quot;$&#123;mediaFolder.path&#125;&#x2F;$&#123;System.currentTimeMillis()&#125;.jpg&quot;)</span><br><span class=\"line\">                  &#x2F;&#x2F;Bitmap‰øùÂ≠ò</span><br><span class=\"line\">                  bitmap.compress(Bitmap.CompressFormat.JPEG, 100, file.outputStream())</span><br><span class=\"line\">                  Toast.makeText(this, &quot;‰øùÂ≠ò„Åó„Åæ„Åó„Åü&quot;, Toast.LENGTH_SHORT).show()</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            Handler()</span><br><span class=\"line\">        )</span><br><span class=\"line\">    &#125; catch (e: IllegalArgumentException) &#123;</span><br><span class=\"line\">        e.printStackTrace()</span><br><span class=\"line\">        Toast.makeText(this@MainActivity, &quot;Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ&quot;, Toast.LENGTH_LONG).show()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>?:„ÅÆÂÄ§„Åå„Åè„Å£„ÅùÈõë„Å†„Åë„Å©„ÇÜ„Çã„Åó„Å¶<br>Android 10„ÅßÂãï‰ΩúÁ¢∫Ë™çÊ∏à„Åß„Åô„ÄÇÂØæË±°ÁØÑÂõ≤Âà•„Çπ„Éà„É¨„Éº„Ç∏ÂØæÁ≠ñ„ÄÇ<br>ÂÜôÁúü„Éá„Éº„Çø„ÅØ<br>/sdcard/Android/media/„Éë„ÉÉ„Ç±„Éº„Ç∏ID<br>„Å´ÂÖ•„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h1 id=\"„Åä„Çè„Çä„Å´\"><a href=\"#„Åä„Çè„Çä„Å´\" class=\"headerlink\" title=\"„Åä„Çè„Çä„Å´\"></a>„Åä„Çè„Çä„Å´</h1><p>GitHub„Å´ÂÖ¨Èñã„Åó„Å¶„Åä„Åç„Åæ„Åô„ÄÇ<br><a href=\"https://github.com/takusan23/AREditText\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/AREditText</a></p>\n<p>„Å§„ÅÑ„Åß„Å´ÂèÇËÄÉ„Å´„Åó„Åü„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇÇ„ÄÇ<br><a href=\"https://github.com/google-ar/sceneform-android-sdk/tree/master/samples/hellosceneform\" target=\"_blank\" rel=\"noopener\">https://github.com/google-ar/sceneform-android-sdk/tree/master/samples/hellosceneform</a></p>\n<p>PixelCopyÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ<br><a href=\"https://friegen.xyz/getdrawingcache-deprecated/\" target=\"_blank\" rel=\"noopener\">https://friegen.xyz/getdrawingcache-deprecated/</a></p>\n<p>„Åä„Å§„Åß„Åô„ÄÇÔºòÔºòÔºòÔºòÔºòÔºò</p>\n"},{"title":"AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂","date":"2020-04-10T14:42:48.000Z","_content":"\n„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ    \n\n\n# „Åì„Åì„ÅßÈÅä„Åπ„Åæ„Åô\nhttps://takusan23.github.io/Bibouroku/omake/\n\n### „ÇΩ„Éº„Çπ„Åß„Åô\nhttps://github.com/takusan23/AkashicEngine-FlappyBird\n\n## Hexo„ÅÆÂõ∫ÂÆö„Éö„Éº„Ç∏„Å´AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†ÂÖ•„Çå„Çã\n\n## AkashicEngine„ÄÄ#„Å®„ÅØ\n„Éã„Ç≥Áîü„Ç≤„Éº„É†‰Ωú„Çã„Å®„Åç„Å´‰Ωø„ÅÜ„ÇÑ„Å§„ÄÇ  \n**J**ava**S**cript„ÅãTypeScript„ÅÆ„Å©„Å£„Å°„Åã„ÅßÊõ∏„Åë„Çã„ÄÇTS„Åå„Åä„Åô„Åô„ÇÅ„Åß„Åô„Åå„ÄÇ\n\n## HTMLÂΩ¢Âºè„ÅßÊõ∏„ÅçÂá∫„Åô\n```sh\nakashic export html --bundle --minify --output export \n```\n`--minify`„ÇíÊåáÂÆö„Åó„Å¶JS„ÇíÁü≠„Åè„Åó„Å¶„Åæ„Åô„ÄÇ„Åì„Çå„Åó„Å™„ÅÑ„Å®VSCode„ÅÆ„Çπ„ÇØ„É≠„Éº„É´„Åå„Åä„ÇÇ„Åô„Åé„Å¶‰Ωø„Åà„Å™„ÅÑ„Å®ÊÄù„ÅÜÔºàÂ§öÂàÜÔºâ\n\n## Hexo„Å´Âõ∫ÂÆö„Éö„Éº„Ç∏„ÇíËøΩÂä†\n```sh\nhexo new page ÂêçÂâç\n```\n„Åì„Çå„Åß‰∏≠„Å´md„Éï„Ç°„Ç§„É´„ÅÆ„ÅÇ„Çã„Éï„Ç©„É´„ÉÄ„ÅåÁîüÊàê„Åï„Çå„Åæ„Åô„ÄÇ  \n„Å°„Å™„Åø„Å´index.md„ÅØÂà•„Å´HTML(index.html)„Åß„ÇÇËâØ„ÅÑ„Çâ„Åó„ÅÑ„Åß„Åô„ÄÇÔºà„Å®„ÅÑ„ÅÜ„Åã„Åß„Åç„Å™„Å£„Åü„Åã„ÇâÊõ∏„ÅÑ„Å¶„Å™„ÅÑÔºâ\n\n## „Åß„ÇÇÂãï„Åã„Å™„ÅÑ„Éª„Éª\n{% asset_img error.png „Åà„Çâ„Éº %}\n\n„Åì„Çå„ÅØ„Ç®„É©„Éº„ÅÆÂá∫„Å¶„ÇãÈÉ®ÂàÜ„ÇíË¶ã„Çã„Å®„Å™„Çì„Åã„Éë„Éº„Çª„É≥„Éà„Ç®„É≥„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„Åï„Çå„ÅüÊñáÂ≠ó„Åå„ÅÇ„Çã„Çì„Åß„Åô„Çà„Å≠„ÄÇ\n\n{% asset_img json.png „Éë„Éº„Çª„É≥„Éà„Ç®„É≥„Ç≥„Éº„Éá„Ç£„É≥„Ç∞ %}\n\n„Åì„Çå„ÅØ„Éë„Éº„Çª„É≥„Éà„Ç®„É≥„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„ÇíÊàª„Åó„Å¶„Åè„Çå„Çã„Çµ„Ç§„Éà„Çí‰Ωø„Å£„Å¶Áõ¥„Åô„Åì„Å®„ÅßËß£Ê±∫„Åó„Åæ„Åô„ÄÇ\n\n{% asset_img json_fix.png JSONÁõ¥„Åó„Åü %}\n\n„Åì„Çå„ÅßÈÅä„Åπ„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ„Åä„Åó„Åæ„ÅÑ„ÄÇ","source":"_posts/AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂.md","raw":"---\ntitle: AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂\ndate: 2020-04-10 23:42:48\ntags:\n---\n\n„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ    \n\n\n# „Åì„Åì„ÅßÈÅä„Åπ„Åæ„Åô\nhttps://takusan23.github.io/Bibouroku/omake/\n\n### „ÇΩ„Éº„Çπ„Åß„Åô\nhttps://github.com/takusan23/AkashicEngine-FlappyBird\n\n## Hexo„ÅÆÂõ∫ÂÆö„Éö„Éº„Ç∏„Å´AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†ÂÖ•„Çå„Çã\n\n## AkashicEngine„ÄÄ#„Å®„ÅØ\n„Éã„Ç≥Áîü„Ç≤„Éº„É†‰Ωú„Çã„Å®„Åç„Å´‰Ωø„ÅÜ„ÇÑ„Å§„ÄÇ  \n**J**ava**S**cript„ÅãTypeScript„ÅÆ„Å©„Å£„Å°„Åã„ÅßÊõ∏„Åë„Çã„ÄÇTS„Åå„Åä„Åô„Åô„ÇÅ„Åß„Åô„Åå„ÄÇ\n\n## HTMLÂΩ¢Âºè„ÅßÊõ∏„ÅçÂá∫„Åô\n```sh\nakashic export html --bundle --minify --output export \n```\n`--minify`„ÇíÊåáÂÆö„Åó„Å¶JS„ÇíÁü≠„Åè„Åó„Å¶„Åæ„Åô„ÄÇ„Åì„Çå„Åó„Å™„ÅÑ„Å®VSCode„ÅÆ„Çπ„ÇØ„É≠„Éº„É´„Åå„Åä„ÇÇ„Åô„Åé„Å¶‰Ωø„Åà„Å™„ÅÑ„Å®ÊÄù„ÅÜÔºàÂ§öÂàÜÔºâ\n\n## Hexo„Å´Âõ∫ÂÆö„Éö„Éº„Ç∏„ÇíËøΩÂä†\n```sh\nhexo new page ÂêçÂâç\n```\n„Åì„Çå„Åß‰∏≠„Å´md„Éï„Ç°„Ç§„É´„ÅÆ„ÅÇ„Çã„Éï„Ç©„É´„ÉÄ„ÅåÁîüÊàê„Åï„Çå„Åæ„Åô„ÄÇ  \n„Å°„Å™„Åø„Å´index.md„ÅØÂà•„Å´HTML(index.html)„Åß„ÇÇËâØ„ÅÑ„Çâ„Åó„ÅÑ„Åß„Åô„ÄÇÔºà„Å®„ÅÑ„ÅÜ„Åã„Åß„Åç„Å™„Å£„Åü„Åã„ÇâÊõ∏„ÅÑ„Å¶„Å™„ÅÑÔºâ\n\n## „Åß„ÇÇÂãï„Åã„Å™„ÅÑ„Éª„Éª\n{% asset_img error.png „Åà„Çâ„Éº %}\n\n„Åì„Çå„ÅØ„Ç®„É©„Éº„ÅÆÂá∫„Å¶„ÇãÈÉ®ÂàÜ„ÇíË¶ã„Çã„Å®„Å™„Çì„Åã„Éë„Éº„Çª„É≥„Éà„Ç®„É≥„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„Åï„Çå„ÅüÊñáÂ≠ó„Åå„ÅÇ„Çã„Çì„Åß„Åô„Çà„Å≠„ÄÇ\n\n{% asset_img json.png „Éë„Éº„Çª„É≥„Éà„Ç®„É≥„Ç≥„Éº„Éá„Ç£„É≥„Ç∞ %}\n\n„Åì„Çå„ÅØ„Éë„Éº„Çª„É≥„Éà„Ç®„É≥„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„ÇíÊàª„Åó„Å¶„Åè„Çå„Çã„Çµ„Ç§„Éà„Çí‰Ωø„Å£„Å¶Áõ¥„Åô„Åì„Å®„ÅßËß£Ê±∫„Åó„Åæ„Åô„ÄÇ\n\n{% asset_img json_fix.png JSONÁõ¥„Åó„Åü %}\n\n„Åì„Çå„ÅßÈÅä„Åπ„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ„Åä„Åó„Åæ„ÅÑ„ÄÇ","slug":"AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂","published":1,"updated":"2020-04-10T15:02:17.520Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgh0001h8vuck8f18rc","content":"<p>„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ    </p>\n<h1 id=\"„Åì„Åì„ÅßÈÅä„Åπ„Åæ„Åô\"><a href=\"#„Åì„Åì„ÅßÈÅä„Åπ„Åæ„Åô\" class=\"headerlink\" title=\"„Åì„Åì„ÅßÈÅä„Åπ„Åæ„Åô\"></a>„Åì„Åì„ÅßÈÅä„Åπ„Åæ„Åô</h1><p><a href=\"https://takusan23.github.io/Bibouroku/omake/\">https://takusan23.github.io/Bibouroku/omake/</a></p>\n<h3 id=\"„ÇΩ„Éº„Çπ„Åß„Åô\"><a href=\"#„ÇΩ„Éº„Çπ„Åß„Åô\" class=\"headerlink\" title=\"„ÇΩ„Éº„Çπ„Åß„Åô\"></a>„ÇΩ„Éº„Çπ„Åß„Åô</h3><p><a href=\"https://github.com/takusan23/AkashicEngine-FlappyBird\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/AkashicEngine-FlappyBird</a></p>\n<h2 id=\"Hexo„ÅÆÂõ∫ÂÆö„Éö„Éº„Ç∏„Å´AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†ÂÖ•„Çå„Çã\"><a href=\"#Hexo„ÅÆÂõ∫ÂÆö„Éö„Éº„Ç∏„Å´AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†ÂÖ•„Çå„Çã\" class=\"headerlink\" title=\"Hexo„ÅÆÂõ∫ÂÆö„Éö„Éº„Ç∏„Å´AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†ÂÖ•„Çå„Çã\"></a>Hexo„ÅÆÂõ∫ÂÆö„Éö„Éº„Ç∏„Å´AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†ÂÖ•„Çå„Çã</h2><h2 id=\"AkashicEngine-„Å®„ÅØ\"><a href=\"#AkashicEngine-„Å®„ÅØ\" class=\"headerlink\" title=\"AkashicEngine„ÄÄ#„Å®„ÅØ\"></a>AkashicEngine„ÄÄ#„Å®„ÅØ</h2><p>„Éã„Ç≥Áîü„Ç≤„Éº„É†‰Ωú„Çã„Å®„Åç„Å´‰Ωø„ÅÜ„ÇÑ„Å§„ÄÇ<br><strong>J</strong>ava<strong>S</strong>cript„ÅãTypeScript„ÅÆ„Å©„Å£„Å°„Åã„ÅßÊõ∏„Åë„Çã„ÄÇTS„Åå„Åä„Åô„Åô„ÇÅ„Åß„Åô„Åå„ÄÇ</p>\n<h2 id=\"HTMLÂΩ¢Âºè„ÅßÊõ∏„ÅçÂá∫„Åô\"><a href=\"#HTMLÂΩ¢Âºè„ÅßÊõ∏„ÅçÂá∫„Åô\" class=\"headerlink\" title=\"HTMLÂΩ¢Âºè„ÅßÊõ∏„ÅçÂá∫„Åô\"></a>HTMLÂΩ¢Âºè„ÅßÊõ∏„ÅçÂá∫„Åô</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">akashic <span class=\"built_in\">export</span> html --bundle --minify --output <span class=\"built_in\">export</span></span><br></pre></td></tr></table></figure>\n<p><code>--minify</code>„ÇíÊåáÂÆö„Åó„Å¶JS„ÇíÁü≠„Åè„Åó„Å¶„Åæ„Åô„ÄÇ„Åì„Çå„Åó„Å™„ÅÑ„Å®VSCode„ÅÆ„Çπ„ÇØ„É≠„Éº„É´„Åå„Åä„ÇÇ„Åô„Åé„Å¶‰Ωø„Åà„Å™„ÅÑ„Å®ÊÄù„ÅÜÔºàÂ§öÂàÜÔºâ</p>\n<h2 id=\"Hexo„Å´Âõ∫ÂÆö„Éö„Éº„Ç∏„ÇíËøΩÂä†\"><a href=\"#Hexo„Å´Âõ∫ÂÆö„Éö„Éº„Ç∏„ÇíËøΩÂä†\" class=\"headerlink\" title=\"Hexo„Å´Âõ∫ÂÆö„Éö„Éº„Ç∏„ÇíËøΩÂä†\"></a>Hexo„Å´Âõ∫ÂÆö„Éö„Éº„Ç∏„ÇíËøΩÂä†</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new page ÂêçÂâç</span><br></pre></td></tr></table></figure>\n<p>„Åì„Çå„Åß‰∏≠„Å´md„Éï„Ç°„Ç§„É´„ÅÆ„ÅÇ„Çã„Éï„Ç©„É´„ÉÄ„ÅåÁîüÊàê„Åï„Çå„Åæ„Åô„ÄÇ<br>„Å°„Å™„Åø„Å´index.md„ÅØÂà•„Å´HTML(index.html)„Åß„ÇÇËâØ„ÅÑ„Çâ„Åó„ÅÑ„Åß„Åô„ÄÇÔºà„Å®„ÅÑ„ÅÜ„Åã„Åß„Åç„Å™„Å£„Åü„Åã„ÇâÊõ∏„ÅÑ„Å¶„Å™„ÅÑÔºâ</p>\n<h2 id=\"„Åß„ÇÇÂãï„Åã„Å™„ÅÑ„Éª„Éª\"><a href=\"#„Åß„ÇÇÂãï„Åã„Å™„ÅÑ„Éª„Éª\" class=\"headerlink\" title=\"„Åß„ÇÇÂãï„Åã„Å™„ÅÑ„Éª„Éª\"></a>„Åß„ÇÇÂãï„Åã„Å™„ÅÑ„Éª„Éª</h2><img src=\"/Bibouroku/2020/04/10/AkashicEngine%E3%81%A7%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%B2%E3%83%BC%E3%83%A0%E3%82%92Hexo%E3%81%A7%E9%81%8A%E3%81%B6/error.png\" class=\"\" title=\"„Åà„Çâ„Éº\">\n\n<p>„Åì„Çå„ÅØ„Ç®„É©„Éº„ÅÆÂá∫„Å¶„ÇãÈÉ®ÂàÜ„ÇíË¶ã„Çã„Å®„Å™„Çì„Åã„Éë„Éº„Çª„É≥„Éà„Ç®„É≥„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„Åï„Çå„ÅüÊñáÂ≠ó„Åå„ÅÇ„Çã„Çì„Åß„Åô„Çà„Å≠„ÄÇ</p>\n<img src=\"/Bibouroku/2020/04/10/AkashicEngine%E3%81%A7%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%B2%E3%83%BC%E3%83%A0%E3%82%92Hexo%E3%81%A7%E9%81%8A%E3%81%B6/json.png\" class=\"\" title=\"„Éë„Éº„Çª„É≥„Éà„Ç®„É≥„Ç≥„Éº„Éá„Ç£„É≥„Ç∞\">\n\n<p>„Åì„Çå„ÅØ„Éë„Éº„Çª„É≥„Éà„Ç®„É≥„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„ÇíÊàª„Åó„Å¶„Åè„Çå„Çã„Çµ„Ç§„Éà„Çí‰Ωø„Å£„Å¶Áõ¥„Åô„Åì„Å®„ÅßËß£Ê±∫„Åó„Åæ„Åô„ÄÇ</p>\n<img src=\"/Bibouroku/2020/04/10/AkashicEngine%E3%81%A7%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%B2%E3%83%BC%E3%83%A0%E3%82%92Hexo%E3%81%A7%E9%81%8A%E3%81%B6/json_fix.png\" class=\"\" title=\"JSONÁõ¥„Åó„Åü\">\n\n<p>„Åì„Çå„ÅßÈÅä„Åπ„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ„Åä„Åó„Åæ„ÅÑ„ÄÇ</p>\n","site":{"data":{}},"excerpt":"","more":"<p>„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ    </p>\n<h1 id=\"„Åì„Åì„ÅßÈÅä„Åπ„Åæ„Åô\"><a href=\"#„Åì„Åì„ÅßÈÅä„Åπ„Åæ„Åô\" class=\"headerlink\" title=\"„Åì„Åì„ÅßÈÅä„Åπ„Åæ„Åô\"></a>„Åì„Åì„ÅßÈÅä„Åπ„Åæ„Åô</h1><p><a href=\"https://takusan23.github.io/Bibouroku/omake/\">https://takusan23.github.io/Bibouroku/omake/</a></p>\n<h3 id=\"„ÇΩ„Éº„Çπ„Åß„Åô\"><a href=\"#„ÇΩ„Éº„Çπ„Åß„Åô\" class=\"headerlink\" title=\"„ÇΩ„Éº„Çπ„Åß„Åô\"></a>„ÇΩ„Éº„Çπ„Åß„Åô</h3><p><a href=\"https://github.com/takusan23/AkashicEngine-FlappyBird\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/AkashicEngine-FlappyBird</a></p>\n<h2 id=\"Hexo„ÅÆÂõ∫ÂÆö„Éö„Éº„Ç∏„Å´AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†ÂÖ•„Çå„Çã\"><a href=\"#Hexo„ÅÆÂõ∫ÂÆö„Éö„Éº„Ç∏„Å´AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†ÂÖ•„Çå„Çã\" class=\"headerlink\" title=\"Hexo„ÅÆÂõ∫ÂÆö„Éö„Éº„Ç∏„Å´AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†ÂÖ•„Çå„Çã\"></a>Hexo„ÅÆÂõ∫ÂÆö„Éö„Éº„Ç∏„Å´AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†ÂÖ•„Çå„Çã</h2><h2 id=\"AkashicEngine-„Å®„ÅØ\"><a href=\"#AkashicEngine-„Å®„ÅØ\" class=\"headerlink\" title=\"AkashicEngine„ÄÄ#„Å®„ÅØ\"></a>AkashicEngine„ÄÄ#„Å®„ÅØ</h2><p>„Éã„Ç≥Áîü„Ç≤„Éº„É†‰Ωú„Çã„Å®„Åç„Å´‰Ωø„ÅÜ„ÇÑ„Å§„ÄÇ<br><strong>J</strong>ava<strong>S</strong>cript„ÅãTypeScript„ÅÆ„Å©„Å£„Å°„Åã„ÅßÊõ∏„Åë„Çã„ÄÇTS„Åå„Åä„Åô„Åô„ÇÅ„Åß„Åô„Åå„ÄÇ</p>\n<h2 id=\"HTMLÂΩ¢Âºè„ÅßÊõ∏„ÅçÂá∫„Åô\"><a href=\"#HTMLÂΩ¢Âºè„ÅßÊõ∏„ÅçÂá∫„Åô\" class=\"headerlink\" title=\"HTMLÂΩ¢Âºè„ÅßÊõ∏„ÅçÂá∫„Åô\"></a>HTMLÂΩ¢Âºè„ÅßÊõ∏„ÅçÂá∫„Åô</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">akashic <span class=\"built_in\">export</span> html --bundle --minify --output <span class=\"built_in\">export</span></span><br></pre></td></tr></table></figure>\n<p><code>--minify</code>„ÇíÊåáÂÆö„Åó„Å¶JS„ÇíÁü≠„Åè„Åó„Å¶„Åæ„Åô„ÄÇ„Åì„Çå„Åó„Å™„ÅÑ„Å®VSCode„ÅÆ„Çπ„ÇØ„É≠„Éº„É´„Åå„Åä„ÇÇ„Åô„Åé„Å¶‰Ωø„Åà„Å™„ÅÑ„Å®ÊÄù„ÅÜÔºàÂ§öÂàÜÔºâ</p>\n<h2 id=\"Hexo„Å´Âõ∫ÂÆö„Éö„Éº„Ç∏„ÇíËøΩÂä†\"><a href=\"#Hexo„Å´Âõ∫ÂÆö„Éö„Éº„Ç∏„ÇíËøΩÂä†\" class=\"headerlink\" title=\"Hexo„Å´Âõ∫ÂÆö„Éö„Éº„Ç∏„ÇíËøΩÂä†\"></a>Hexo„Å´Âõ∫ÂÆö„Éö„Éº„Ç∏„ÇíËøΩÂä†</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new page ÂêçÂâç</span><br></pre></td></tr></table></figure>\n<p>„Åì„Çå„Åß‰∏≠„Å´md„Éï„Ç°„Ç§„É´„ÅÆ„ÅÇ„Çã„Éï„Ç©„É´„ÉÄ„ÅåÁîüÊàê„Åï„Çå„Åæ„Åô„ÄÇ<br>„Å°„Å™„Åø„Å´index.md„ÅØÂà•„Å´HTML(index.html)„Åß„ÇÇËâØ„ÅÑ„Çâ„Åó„ÅÑ„Åß„Åô„ÄÇÔºà„Å®„ÅÑ„ÅÜ„Åã„Åß„Åç„Å™„Å£„Åü„Åã„ÇâÊõ∏„ÅÑ„Å¶„Å™„ÅÑÔºâ</p>\n<h2 id=\"„Åß„ÇÇÂãï„Åã„Å™„ÅÑ„Éª„Éª\"><a href=\"#„Åß„ÇÇÂãï„Åã„Å™„ÅÑ„Éª„Éª\" class=\"headerlink\" title=\"„Åß„ÇÇÂãï„Åã„Å™„ÅÑ„Éª„Éª\"></a>„Åß„ÇÇÂãï„Åã„Å™„ÅÑ„Éª„Éª</h2><img src=\"/Bibouroku/2020/04/10/AkashicEngine%E3%81%A7%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%B2%E3%83%BC%E3%83%A0%E3%82%92Hexo%E3%81%A7%E9%81%8A%E3%81%B6/error.png\" class=\"\" title=\"„Åà„Çâ„Éº\">\n\n<p>„Åì„Çå„ÅØ„Ç®„É©„Éº„ÅÆÂá∫„Å¶„ÇãÈÉ®ÂàÜ„ÇíË¶ã„Çã„Å®„Å™„Çì„Åã„Éë„Éº„Çª„É≥„Éà„Ç®„É≥„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„Åï„Çå„ÅüÊñáÂ≠ó„Åå„ÅÇ„Çã„Çì„Åß„Åô„Çà„Å≠„ÄÇ</p>\n<img src=\"/Bibouroku/2020/04/10/AkashicEngine%E3%81%A7%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%B2%E3%83%BC%E3%83%A0%E3%82%92Hexo%E3%81%A7%E9%81%8A%E3%81%B6/json.png\" class=\"\" title=\"„Éë„Éº„Çª„É≥„Éà„Ç®„É≥„Ç≥„Éº„Éá„Ç£„É≥„Ç∞\">\n\n<p>„Åì„Çå„ÅØ„Éë„Éº„Çª„É≥„Éà„Ç®„É≥„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„ÇíÊàª„Åó„Å¶„Åè„Çå„Çã„Çµ„Ç§„Éà„Çí‰Ωø„Å£„Å¶Áõ¥„Åô„Åì„Å®„ÅßËß£Ê±∫„Åó„Åæ„Åô„ÄÇ</p>\n<img src=\"/Bibouroku/2020/04/10/AkashicEngine%E3%81%A7%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%B2%E3%83%BC%E3%83%A0%E3%82%92Hexo%E3%81%A7%E9%81%8A%E3%81%B6/json_fix.png\" class=\"\" title=\"JSONÁõ¥„Åó„Åü\">\n\n<p>„Åì„Çå„ÅßÈÅä„Åπ„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ„Åä„Åó„Åæ„ÅÑ„ÄÇ</p>\n"},{"title":"Android11(DP2)„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ","date":"2020-04-19T14:42:49.000Z","_content":"\n„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ  \nË∂Ö‰ºöË≠∞„Å®„Å¶„ÇÇËâØ„Åã„Å£„Åü„Åß„Åô„ÄÇÔºëÊäº„Åô  \n„Å°„Å™„Åø„Å´ÁßÅ„ÅØË∂Ö„Éë„Éº„ÉÜ„Ç£„ÉºÂÜçÊîæÈÄÅ„Å®„Ç¢„Éã„É°‰∏ÄÊåôÊîæÈÄÅ„Çí‰∏ª„Å´Ë¶ã„Å¶„Åæ„Åó„Åü„ÄÇV„ÅØ„Çè„Åã„Çâ„Çì„ÅÆ„Åß„Å™„ÄÇ  \n„Çâ„Çâ„Çâ„Ç≥„ÉÉ„Éö„Éë„É≥„Å£„Å¶„Çâ„Åç‚òÜ„Åô„Åü„Å†„Å£„Åü„Çì„Å†„ÄÇ\n\n‰ªäÂπ¥„ÅÆGoogle IO„Åå‰∏≠Ê≠¢„Å´„Å™„Å£„Åü„Å©„Åì„Çç„ÅãAndroid 11„Å´Èñ¢„Åó„Å¶„ÇÇ„Éâ„Ç≠„É•„É°„É≥„Éà„ÅåÂÖ®ÁÑ∂Êõ¥Êñ∞„Åï„Çå„Å™„Åè„Å™„Å£„Å°„ÇÉ„Å£„Å¶Â§ß‰∏àÂ§´„Å™„Çì„Åã„Åì„Çå„ÄÇ\n\nËøΩË®ò 2020/04/28Ôºö„Åù„ÅÜ„ÅÑ„Åà„Å∞MediaStore„Å´Èñ¢„Åó„Å¶„ÅØ‰∏ÄÂàáËß¶„Çå„Å¶„Å™„Åã„Å£„Åü„ÄÇËß¶„Çå„ÇãÊ©ü‰ºö„Åå„ÅÇ„Çå„Å∞Êõ∏„Åè„Åã„ÇÇ„ÄÇ\n\n# „Åª„Çì„Å∫„Çì \n\n„Å®„Åì„Çç„ÅßAndroid10„Åã„ÇâËá™Áî±„Å´„Éï„Ç©„É´„ÉÄ„Å´„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„Åè„Å™„Çä„Åæ„Åó„Åü„ÄÇ„Åì„Çå„Å´„Çà„ÇäËá™Áî±„Å´`Download„Éï„Ç©„É´„ÉÄ`„Å®„Åã`Pictures„Éï„Ç©„É´„ÉÄ`Á≠â„Å∏„Ç¢„ÇØ„Çª„Çπ„Åó„Åü„Çä„Éï„Ç°„Ç§„É´‰ΩúÊàê„Å®„Åã„Åå„Åß„Åç„Å™„Åè„Å™„Çä„Åæ„Åó„Åü„ÄÇ\n\n„Åò„ÇÉ„ÅÇ„Å©„Åì„Å´‰øùÂ≠ò„Åô„Çå„Å∞„ÅÑ„ÅÑ„Çì„Å†„Å£„Å¶Ë©±„Åß„Åô„Åå„ÄÅ`Scoped StorageÔºàÊó•Êú¨Ë™ûÔºöÂØæË±°ÁØÑÂõ≤Âà•Â§ñÈÉ®„Çπ„Éà„É¨„Éº„Ç∏Ôºâ`„Å®„ÅÑ„ÅÜ‰ªïÁµÑ„Åø„Åå‰Ωú„Çâ„Çå„ÄÅ„Ç¢„Éó„É™„Åî„Å®„Å´**Ê®©ÈôêÁÑ°„Åó**„ÅßÊõ∏„ÅçËæº„ÇÄ„Åì„Å®„Åå„Åß„Åç„Çã„Éï„Ç©„É´„ÉÄ„Åå‰Ωú„Çâ„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ\n\n„Éâ„Ç≠„É•„É°„É≥„ÉàÔºöhttps://developer.android.com/training/data-storage/files/external-scoped?hl=ja\n\n# Áí∞Â¢É\n\n| „ÅÇ„Åü„ÅÑ  | „Å™„Åæ„Åà                                        |\n|---------|-----------------------------------------------|\n| Á´ØÊú´    | Pixel 3 XL                                    |\n| Android | 11 Developer Preview 2                        |\n| Ë®ÄË™û    | Kotlin                                        |\n| SDCard  | Áü•„Çâ„Çì„ÇèÔºàPixel„Å´Âà∫„Åï„Çâ„Å™„ÅÑ„ÅÆ„Åß„Çè„Åã„Çâ„Å™„ÅÑ„ÄÇÔºâ |\n\n# Android 11 „Åã„ÇâÔºà‰øùÂ≠ò„Åß„ÅØ„Å™„ÅÑÔºâ\n`Download„Éï„Ç©„É´„ÉÄ`„Å®„Åã`Pictures„Éï„Ç©„É´„ÉÄ`Á≠â„Å´Ë™≠„ÅøÂèñ„ÇäÂ∞ÇÁî®„Åß„Å™„Çâ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„Å£„ÅΩ„ÅÑÔºü  \n\n```kotlin\nFile(\"/storage/emulated/0/\").listFiles()?.forEach {\n    println(it.name)\n}\n```\n\n‚ÜìÂÆüË°åÁµêÊûú\n```console\nI/System.out: Android\nI/System.out: Music\nI/System.out: Podcasts\nI/System.out: Ringtones\nI/System.out: Alarms\nI/System.out: Notifications\nI/System.out: Pictures\nI/System.out: Movies\nI/System.out: Download\nI/System.out: DCIM\n```\n\n# ‰∏ÄÁï™„ÅÑ„ÅÑÔºü‚ÜíIntent.ACTION_OPEN_DOCUMENT_TREE\n## #„Åì„Çå„ÅØ„Å™„Å´Ôºü\nËá™Áî±„Å´„ÅØ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„ÅÑ‰ª£„Çè„Çä„Å´„É¶„Éº„Ç∂„Éº„ÅåÊåáÂÆö„Åó„Åü„Éï„Ç©„É´„ÉÄ„Å´„ÅØ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Çà„Å£„Å¶„ÇÑ„Å§„ÄÇ  \nÂÜôÁúü„Ç¢„Éó„É™„Å™„Çì„Å†„Åë„Å©Scoped Storage„Å´‰øùÂ≠ò„Åô„Çã„ÅÆ„Åß„ÅØ„Å™„ÅèPictures„Éï„Ç©„É´„ÉÄ„Å´‰øùÂ≠ò„Åó„Åü„ÅÑ„Çì„Å†„Å£„Å¶ÊôÇ„Å´‰Ωø„ÅÜ„ÄÇ\n## „Åì„Çå„Çí‰Ωø„ÅÜ„Å®Ôºü\nÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÇíÊåáÂÆö„Åô„Çã„Å®`Download„Éï„Ç©„É´„ÉÄ`„Å®„Åã`Pictures„Éï„Ç©„É´„ÉÄ`„Å´„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Å°„Çá„Å£„Å®„ÇÑ„Å∞„ÇÅ„ÄÇ  \n**~~‰∏ÄÂ∫¶Ë®±ÂèØ„ÇíË≤∞„Åà„Çå„Å∞„Åì„Å£„Å°„ÅÆ„ÇÇ„Çì„Åß„Åô„ÄÇ~~**\n\n# ÂÆüË£Ö\n## „É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\napp„Éï„Ç©„É´„ÉÄ„Å´„ÅÇ„ÇãÊñπ„ÅÆ`build.gradle`„Åß„Åô„ÄÇ\n```gradle\n// Preference\nimplementation \"androidx.preference:preference:1.1.0\"\n// ‚Üì‰∏ÄË°åÊõ∏„ÅçË∂≥„Åô\nimplementation \"androidx.documentfile:documentfile:1.0.1\"\n```\n„ÅÇ„Å®Ê•Ω„Åô„Çã„Åü„ÇÅ„Å´Java„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Çí8„Å´„Åó„Åæ„Åô„ÄÇ  \n„Åì„Çå„Å®„Åì„Çå„Å£„Å¶„Å™„Å£„Å¶„Çã„Å®„Åì„Çç„Å≠„ÄÇ\n```gradle\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.3\"\n\n    defaultConfig {\n        applicationId \"io.github.takusan23.actionopendocumenttreesample\"\n        minSdkVersion 21\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    // „Åì„Çå„Å®\n    compileOptions {\n        targetCompatibility 1.8\n        sourceCompatibility 1.8\n    }\n    // „Åì„Çå\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n```\n## „É¨„Ç§„Ç¢„Ç¶„Éà\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\">\n\n    <EditText\n        android:id=\"@+id/editText\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"1\"\n        android:ems=\"10\"\n        android:inputType=\"textPersonName\"\n        android:text=\"\" />\n\n    <Button\n        android:id=\"@+id/path_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"‰øùÂ≠òÂÖàÊåáÂÆö\" />\n\n    <Button\n        android:id=\"@+id/save_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"‰øùÂ≠ò\" />\n\n    <Button\n        android:id=\"@+id/read_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Ë™≠„ÅøËæº„Åø\" />\n</LinearLayout>\n```\n\n## Ë®±ÂèØ„Çí„ÇÇ„Çâ„ÅÜ\ntakePersistableUriPermission()„ÅåÂ§ß‰∫ãÔºü\n```kotlin\n\nval REQUEST_CODE = 816\nlateinit var prefSetting: SharedPreferences\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    setContentView(R.layout.activity_main)\n    prefSetting = PreferenceManager.getDefaultSharedPreferences(this)\n    path_button.setOnClickListener {\n        // „É¶„Éº„Ç∂„Éº„Å´„Ç¢„Éó„É™„Åß‰Ωø„Å£„Å¶„ÅÑ„ÅÑ„Éï„Ç©„É´„ÉÄ„ÇíÈÅ∏„Çì„Åß„ÇÇ„Çâ„ÅÜ„ÄÇ\n        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)\n        startActivityForResult(intent, REQUEST_CODE)\n    }\n\n}\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (requestCode == REQUEST_CODE && resultCode == Activity.RESULT_OK) {\n        // „É™„ÇØ„Ç®„Çπ„Éà„Ç≥„Éº„Éâ„Åå‰∏ÄËá¥&ÊàêÂäü„ÅÆ„Å®„Åç\n        val uri = data?.data ?: return\n        // Uri„ÅØÂÜçËµ∑„Åô„Çã„Å®‰Ωø„Åà„Å™„Åè„Å™„Çã„ÅÆ„ÅßÂØæÁ≠ñ\n        contentResolver.takePersistableUriPermission(\n            uri,\n            Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION\n        )\n        // Uri‰øùÂ≠ò„ÄÇ„Åì„Çå„Åß„Ç¢„Éó„É™ÂÜçËµ∑ÂãïÂæå„ÇÇ‰Ωø„Åà„Åæ„Åô„ÄÇ\n        prefSetting.edit {\n            putString(\"uri\", uri.toString())\n        }\n    }\n}\n\n```\n\n„Åì„Çå„ÅßÂÆüË°å„Åó„Å¶„Äå‰øùÂ≠òÂÖàÊåáÂÆö„Äç„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶‰øùÂ≠òÂÖà„ÇíÈÅ∏„Å≥„Åæ„Åô„ÄÇ  \n\n{% asset_img kyoka_1.png Ë®±ÂèØ %}  \nË®±ÂèØ„Åó„Åæ„Åô  \n{% asset_img kyoka_2.png „ÉÄ„Ç§„Ç¢„É≠„Ç∞ %}  \n\n## ‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„ÇíÂÆüË£Ö„Åô„Çã\nÊúÄÁµÇÁöÑ„ÅÆ`MainActivity.kt`„ÅØ„Åì„ÅÜ„Åß„ÅôÔºÅ\n\n```kotlin\nclass MainActivity : AppCompatActivity() {\n\n    val REQUEST_CODE = 816\n    lateinit var prefSetting: SharedPreferences\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        prefSetting = PreferenceManager.getDefaultSharedPreferences(this)\n\n        path_button.setOnClickListener {\n            // „É¶„Éº„Ç∂„Éº„Å´„Ç¢„Éó„É™„Åß‰Ωø„Å£„Å¶„ÅÑ„ÅÑ„Éï„Ç©„É´„ÉÄ„ÇíÈÅ∏„Çì„Åß„ÇÇ„Çâ„ÅÜ„ÄÇ\n            val intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)\n            startActivityForResult(intent, REQUEST_CODE)\n        }\n\n        // ‰øùÂ≠ò„Éú„Çø„É≥\n        save_button.setOnClickListener {\n            saveFile()\n        }\n\n        // Ë™≠„ÅøËæº„Åø„Éú„Çø„É≥\n        read_button.setOnClickListener {\n            readFile()\n        }\n\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == REQUEST_CODE && resultCode == Activity.RESULT_OK) {\n            // „É™„ÇØ„Ç®„Çπ„Éà„Ç≥„Éº„Éâ„Åå‰∏ÄËá¥&ÊàêÂäü„ÅÆ„Å®„Åç\n            val uri = data?.data ?: return\n            // Uri„ÅØÂÜçËµ∑„Åô„Çã„Å®‰Ωø„Åà„Å™„Åè„Å™„Çã„ÅÆ„ÅßÂØæÁ≠ñ\n            contentResolver.takePersistableUriPermission(\n                uri,\n                Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION\n            )\n            // Uri‰øùÂ≠ò„ÄÇ„Åì„Çå„Åß„Ç¢„Éó„É™ÂÜçËµ∑ÂãïÂæå„ÇÇ‰Ωø„Åà„Åæ„Åô„ÄÇ\n            prefSetting.edit {\n                putString(\"uri\", uri.toString())\n            }\n        }\n    }\n\n    // „Éï„Ç°„Ç§„É´‰øùÂ≠ò\n    private fun saveFile() {\n        val uri = prefSetting.getString(\"uri\", \"\")?.toUri() ?: return\n        // „Éï„Ç°„Ç§„É´Êìç‰Ωú\n        DocumentFile.fromTreeUri(this, uri)?.apply {\n            // „ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´\n            val textFile = if (findFile(\"test.txt\")?.exists() == true) {\n                // „Åô„Åß„Å´‰ΩúÊàêÊ∏à„Åø\n                findFile(\"test.txt\") ?: return@apply\n            } else {\n                // „Åæ„Å†„Å™„ÅÑ„ÅÆ„ÅßÊñ∞Ë¶è‰ΩúÊàê\n                createFile(\"text/plain\", \"test.txt\") ?: return@apply\n            }\n            // Êõ∏„ÅçËæº„ÇÄ\n            contentResolver.openOutputStream(textFile.uri)?.apply {\n                // Activity„Å´ÁΩÆ„ÅÑ„ÅüTextEdit„ÅÆ„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó\n                write(editText.text?.toString()?.toByteArray())\n                close()\n            }\n        }\n    }\n\n    // „Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„Åø\n    private fun readFile() {\n        val uri = prefSetting.getString(\"uri\", \"\")?.toUri() ?: return\n        // „Éï„Ç°„Ç§„É´Êìç‰Ωú\n        DocumentFile.fromTreeUri(this, uri)?.apply {\n            // „ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´Âèñ„ÇäÂá∫„Åó\n            if (findFile(\"test.txt\")?.exists() == false) {\n                // „Å™„Åë„Çå„Å∞ÁµÇ‰∫Ü\n                return@apply\n            }\n            val textFile = findFile(\"test.txt\") ?: return@apply\n            // „ÉÜ„Ç≠„Çπ„ÉàÂèñ„ÇäÂá∫„Åô\n            val text = contentResolver.openInputStream(textFile.uri)?.bufferedReader()?.readLine()\n            editText.setText(text)\n        }\n    }\n\n}\n\n```\n\n„Åì„Çå„Åß‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ„ÇÑ„Å£„Åü„Éº  \n{% asset_img filer.png „Åµ„ÅÅ„ÅÑ„Çâ„Éº %}  \n\n## „Åì„Çå„ÅßÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆ„Éë„Çπ„ÇíÊåáÂÆö„Åô„Çã„Å®„Éª„ÉªÔºü\n„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÅÆ„Éï„Ç©„É´„ÉÄ„Å´„ÇÇ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Åæ„Åô„ÄÇ\n```kotlin\nval uri = prefSetting.getString(\"uri\", \"\")?.toUri() ?: return\n// „Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÅÆÂêçÂâç„ÇíË°®Á§∫„Åï„Åõ„Çã\nDocumentFile.fromTreeUri(this, uri)?.apply {\nfindFile(\"Pictures\")?.findFile(\"Screenshots\")?.listFiles()?.forEach {\n            println(it.name)\n        }\n    }\n```\n\n## Android 11 DP2 „ÅÆ‰ªïÊßòÔºü\nSD„Ç´„Éº„Éâ„Å´‰øùÂ≠ò„Åô„ÇãÊâãÊÆµ„Å†„Å£„Åü„Çâ„Åó„ÅÑ„Åë„Å©Android 11„Åã„Çâ„Åì„ÅÆÊñπÊ≥ï„ÅßSD„Ç´„Éº„Éâ„ÅÆÂ†¥ÊâÄ„ÇíÊåáÂÆö„Åô„Çã„ÅÆ„ÅØ„Åß„Åç„Å™„Åè„Å™„Çã„Çâ„Åó„ÅÑ„Åû„ÄÇ\n\n\n‰∏ÄÂøú„ÇΩ„Éº„Çπ„Ç≥„Éº„ÉâÁΩÆ„ÅÑ„Å¶„Åä„Åç„Åæ„Åô„Å≠‚Üì\nhttps://github.com/takusan23/ActionOpenDocumentTreeSample\n\n# Scoped Storage„Åß‰øùÂ≠ò\n\nScoped Storage„ÅÆ„Éë„Çπ„ÅØ‰ª•‰∏ã„ÅÆÈñ¢Êï∞„ÅßÂèñ„Çå„Åæ„Åô„ÄÇÔºà„Ç≠„É£„ÉÉ„Ç∑„É•Á≥ª„ÅØÁúÅ„Åè„ÅúÔºâ  \n„Åì„ÅÆÔºí„Å§„ÅØScoped Storage„Å™„Éï„Ç©„É´„ÉÄ„ÅÆ„Éë„Çπ„Å™„ÅÆ„ÅßÊ®©ÈôêÁÑ°„Åó„ÅßFile„ÇØ„É©„Çπ„ÅßË™≠„ÅøÊõ∏„Åç„Åß„Åç„Åæ„Åô„ÄÇÔºàKotlin„Å†„Å®Êã°ÂºµÈñ¢Êï∞„ÅßÂπ∏„Åõ„Å´„Å™„Çå„Çã„ÄÇÔºâ\n- `getExternalFilesDir(null)?.path`\n    - `/storage/emulated/0/Android/data/io.github.takusan23.scopedstoragesample/files`\n    - „Éá„Éº„Çø„ÅØ„Ç¢„É≥„Ç§„É≥„Çπ„Éà„Éº„É´ÊôÇ„Å´ÂâäÈô§„Åï„Çå„Åæ„Åô„ÄÇ\n- `externalMediaDirs[0].path`\n    - `/storage/emulated/0/Android/media/io.github.takusan23.scopedstoragesample`\n    - „Éá„Éº„Çø„ÅØ„Ç¢„É≥„Ç§„É≥„Çπ„Éà„Éº„É´ÊôÇ„Å´ÂâäÈô§„Åï„Çå„Åæ„Åô„ÄÇ\n    - MediaStore„ÅÆ„Çπ„Ç≠„É£„É≥„Å´ÂØæÂøú„Åó„Å¶„Çã„ÅÆ„Åß‰ªñ„ÅÆ„Ç¢„Éó„É™„Åß„ÇÇÂà©Áî®„Åß„Åç„ÇãÔºü\n        - ~~Google„Éï„Ç©„Éà„ÅÆÊñ∞„Åó„ÅÑ„Éï„Ç©„É´„ÉÄË¶ã„Å§„Åë„Åü„ÇàÔºÅ„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Åô„ÇãÔºü„ÅÆ„ÇÑ„Å§„Å´Ë™çÁü•„Åï„Çå„Çã„ÅÆ„ÅØ„Åì„Çå„Å†„Å£„Åë„ÄÇ~~\n        - Android 11 DP2„ÅßÊ§úË®º„Åß„Åç„Å™„Åã„Å£„Åü„ÄÇ„Åî„ÇÅ„Çì„ÄÇ\n    - **Android RÔºà11Ôºâ„Åã„ÇâÈùûÊé®Â•®„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ„Åß„ÇÇ‰Ωø„Åà„Çã„Å£„ÅΩ„ÅÑ„ÄÇ~~‰ΩôË®à„Å™„Åì„Å®„Åô„Çã„Å™„Çà~~**\n\n\n‰∏°ËÄÖÂÖ±„Å´„Éï„Ç°„Ç§„É´„Éë„Çπ„ÅåÈï∑„ÅÑ/„Ç¢„É≥„Ç§„É≥„Çπ„Éà„Éº„É´ÊôÇ„Å´„Éá„Éº„Çø„ÇíÊ∂à„Åô„ÅÆ„ÅåÁâπÂæ¥„ÄÇ  \n\n‰ª•‰∏ãÊõ∏„ÅçËæº„Åø„Çµ„É≥„Éó„É´„Åß„Åô„ÄÇ  \nKotlin„ÅÆÊã°ÂºµÈñ¢Êï∞ÔºàwriteText()„Å®„ÅãÔºâ„Åß„Çâ„Åè„Çâ„Åè„ÉÜ„Ç≠„Çπ„Éà‰øùÂ≠ò„ÄÇ\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\">\n\n    <EditText\n        android:id=\"@+id/editText\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"1\"\n        android:ems=\"10\"\n        android:inputType=\"textPersonName\"\n        android:text=\"\" />\n\n    <Button\n        android:id=\"@+id/save_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"‰øùÂ≠ò\" />\n\n    <Button\n        android:id=\"@+id/read_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Ë™≠„ÅøËæº„Åø\" />\n</LinearLayout>\n```\n\n```kotlin\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        \n        save_button.setOnClickListener {\n            saveFile()\n        }\n\n        read_button.setOnClickListener {\n            readFile()\n        }\n\n    }\n\n    private fun saveFile() {\n        File(\"${externalMediaDirs[0].path}/test.txt\").apply {\n            createNewFile()\n            writeText(editText.text.toString())\n        }\n    }\n\n    private fun readFile() {\n        File(\"${externalMediaDirs[0].path}/test.txt\").apply {\n            if (exists()) {\n                val text = readText()\n                editText.setText(text)\n            }\n        }\n    }\n\n}\n```\n\n## Android 11 DP2 „ÅÆ‰ªïÊßòÔºü\n„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„ÉºÔºàFiles„Ç¢„Éó„É™„Å®„ÅãÔºâ„Åã„ÇâË¶ã„Çå„Å™„Åè„Å™„Å£„Åü„ÄÇ  \nUSBÊé•Á∂ö„Åó„Å¶„Éë„ÇΩ„Ç≥„É≥„ÅßË¶ã„Çã„ÅãAndroid Studio„ÅÆDevice Explorer„Çí‰Ωø„ÅÜ„Åó„Åã„Å™„ÅÑÔºü\n\n## „Å°„Å™„Åø„Å´\n„Éâ„Ç≠„É•„É°„É≥„Éà„Å®„ÅãÈñ¢Êï∞Âêç„Å®„Åã„Å´ExternalÔºàÊó•Êú¨Ë™ûÔºöÂ§ñÈÉ®Ôºâ„Å£„Å¶„ÅÑ„ÅÜÊñáÂ≠óÂàó„Åå„ÅÇ„Çã„Å®Â§ñÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆSD„Ç´„Éº„Éâ„ÅÆ„Åì„Å®„Å†„Å®ÊÄù„Å£„Å°„ÇÉ„ÅÜ„Åë„Å©ÂÆü„ÅØÈÅï„Å£„Å¶„ÄÅ  \n„Ç¢„Éó„É™Ëá™Ë∫´„Å®rootÊ®©Èôê„ÅÆ„ÅÇ„ÇãÁí∞Â¢ÉÔºü„Åß„Åó„Åã„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„ÅÑ„Éë„Çπ„ÇíËøî„ÅôÈñ¢Êï∞`getFilesDir()`„ÅÆÂ†¥ÊâÄ„ÅÆ„Åì„Å®„Çí**ÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏**„Å®„Åó„Å¶„ÅÑ„Çã„Çâ„Åó„Åè„Å¶„ÄÅ  \n„Åù„Çå‰ª•Â§ñ„ÅåÂ§ñÈÉ®Êâ±„ÅÑ„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅßExternal„Å£„Å¶ÊñáÂ≠óÂàó„Åå‰Ωø„Çè„Çå„Å¶„ÅÑ„Çã„Çì„Å†„Å£„Å¶„ÄÇ   \n„Çè„Åã„Çâ„Çì„Çè„ÄÇ\n\n# Storage Access Framework „Åß‰øùÂ≠ò\nÂ•Ω„Åç„Å™Â†¥ÊâÄ„Å´‰øùÂ≠ò„Åó„Åü„ÅÑ„Å®„Åç„ÅØ„Åì„Çå„Çí‰Ωø„Åà„Å£„Å¶  \n„Éï„Ç°„Ç§„É´ÈÅ∏ÊäûÁîªÈù¢„Åø„Åü„ÅÑ„Å™UI„Åß„Éï„Ç°„Ç§„É´„ÅÆ‰øùÂ≠òÂÖà„ÇíÈÅ∏„Çì„Åß‰øùÂ≠ò„Åó„Åü„ÅÇ„Å®„ÄÅ`onActivityResult`„ÅßUri„ÇíÂèó„ÅëÂèñ„Çä`openOutputStream`„Çí‰Ωø„Å£„Å¶Êõ∏„ÅçËæº„ÇÄ„Çâ„Åó„ÅÑ„Åß„Åô„ÄÇ\n\n‰ª•‰∏ã„Ç≥„Éº„Éâ\n\n„É¨„Ç§„Ç¢„Ç¶„Éà„ÅØ‰∏ä„ÅÆScoped Storage„Çí‰Ωø„ÅÑÂõû„Åô„ÄÇ\n\n```kotlin\nclass MainActivity : AppCompatActivity() {\n    val REQUEST_CODE = 810\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        save_button.setOnClickListener {\n            openSAF()\n        }\n\n    }\n\n    private fun openSAF() {\n        val intent = Intent(Intent.ACTION_CREATE_DOCUMENT).apply {\n            type = \"text/*\"\n            putExtra(Intent.EXTRA_TITLE, \"test.txt\")\n        }\n        startActivityForResult(intent, REQUEST_CODE)\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == REQUEST_CODE && resultCode == Activity.RESULT_OK) {\n            // Êõ∏„ÅçËæº„ÇÄ\n            val uri = data?.data ?: return\n            contentResolver.openOutputStream(uri)?.apply {\n                write(editText.text.toString().toByteArray())\n                close()\n            }\n        }\n    }\n\n}\n```\n„Åì„Çå‰Ωø„Åà„Å∞`Download„Éï„Ç©„É´„ÉÄ`„Å†„Çç„ÅÜ„Å®Ëá™Áî±„Å´‰øùÂ≠ò„Åß„Åç„Åæ„Åô„ÄÇ‰øùÂ≠ò„Åô„Çã„Å®„Åç„Å´„ÅÑ„Å°„ÅÑ„Å°‰øùÂ≠òÂÖà„ÇíÈÅ∏„Å∂ÂøÖË¶Å„Åå„ÅÇ„Å£„Å¶‰Ωø„ÅÑ„Å´„Åè„ÅÑ„Åë„Å©„ÄÇ\n\n„Åì„Çå„Åå‰øùÂ≠òÁîªÈù¢„Åß„ÄÅ‰øùÂ≠òÂÖà„ÇíÈÅ∏„Å∂„ÄÇ\n\n{% asset_img save.png SAF %}\n\n„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„Éº„ÅßË¶ã„Çã„Å®„Å°„ÇÉ„Çì„Å®‰ΩúÊàê„Åï„Çå„Å¶„ÅÑ„Çã„Åì„Å®„Åå„Çè„Åã„Çã„ÄÇ\n\n{% asset_img list.png List %}\n\n**„ÇÅÔºÅ„ÇìÔºÅ„Å©ÔºÅ„ÅÑÔºÅ**\n\n","source":"_posts/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ.md","raw":"---\ntitle: Android11(DP2)„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ\ndate: 2020-04-19 23:42:49\ntags:\n- Android\n- ScopedStorage\n- Kotlin\n---\n\n„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ  \nË∂Ö‰ºöË≠∞„Å®„Å¶„ÇÇËâØ„Åã„Å£„Åü„Åß„Åô„ÄÇÔºëÊäº„Åô  \n„Å°„Å™„Åø„Å´ÁßÅ„ÅØË∂Ö„Éë„Éº„ÉÜ„Ç£„ÉºÂÜçÊîæÈÄÅ„Å®„Ç¢„Éã„É°‰∏ÄÊåôÊîæÈÄÅ„Çí‰∏ª„Å´Ë¶ã„Å¶„Åæ„Åó„Åü„ÄÇV„ÅØ„Çè„Åã„Çâ„Çì„ÅÆ„Åß„Å™„ÄÇ  \n„Çâ„Çâ„Çâ„Ç≥„ÉÉ„Éö„Éë„É≥„Å£„Å¶„Çâ„Åç‚òÜ„Åô„Åü„Å†„Å£„Åü„Çì„Å†„ÄÇ\n\n‰ªäÂπ¥„ÅÆGoogle IO„Åå‰∏≠Ê≠¢„Å´„Å™„Å£„Åü„Å©„Åì„Çç„ÅãAndroid 11„Å´Èñ¢„Åó„Å¶„ÇÇ„Éâ„Ç≠„É•„É°„É≥„Éà„ÅåÂÖ®ÁÑ∂Êõ¥Êñ∞„Åï„Çå„Å™„Åè„Å™„Å£„Å°„ÇÉ„Å£„Å¶Â§ß‰∏àÂ§´„Å™„Çì„Åã„Åì„Çå„ÄÇ\n\nËøΩË®ò 2020/04/28Ôºö„Åù„ÅÜ„ÅÑ„Åà„Å∞MediaStore„Å´Èñ¢„Åó„Å¶„ÅØ‰∏ÄÂàáËß¶„Çå„Å¶„Å™„Åã„Å£„Åü„ÄÇËß¶„Çå„ÇãÊ©ü‰ºö„Åå„ÅÇ„Çå„Å∞Êõ∏„Åè„Åã„ÇÇ„ÄÇ\n\n# „Åª„Çì„Å∫„Çì \n\n„Å®„Åì„Çç„ÅßAndroid10„Åã„ÇâËá™Áî±„Å´„Éï„Ç©„É´„ÉÄ„Å´„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„Åè„Å™„Çä„Åæ„Åó„Åü„ÄÇ„Åì„Çå„Å´„Çà„ÇäËá™Áî±„Å´`Download„Éï„Ç©„É´„ÉÄ`„Å®„Åã`Pictures„Éï„Ç©„É´„ÉÄ`Á≠â„Å∏„Ç¢„ÇØ„Çª„Çπ„Åó„Åü„Çä„Éï„Ç°„Ç§„É´‰ΩúÊàê„Å®„Åã„Åå„Åß„Åç„Å™„Åè„Å™„Çä„Åæ„Åó„Åü„ÄÇ\n\n„Åò„ÇÉ„ÅÇ„Å©„Åì„Å´‰øùÂ≠ò„Åô„Çå„Å∞„ÅÑ„ÅÑ„Çì„Å†„Å£„Å¶Ë©±„Åß„Åô„Åå„ÄÅ`Scoped StorageÔºàÊó•Êú¨Ë™ûÔºöÂØæË±°ÁØÑÂõ≤Âà•Â§ñÈÉ®„Çπ„Éà„É¨„Éº„Ç∏Ôºâ`„Å®„ÅÑ„ÅÜ‰ªïÁµÑ„Åø„Åå‰Ωú„Çâ„Çå„ÄÅ„Ç¢„Éó„É™„Åî„Å®„Å´**Ê®©ÈôêÁÑ°„Åó**„ÅßÊõ∏„ÅçËæº„ÇÄ„Åì„Å®„Åå„Åß„Åç„Çã„Éï„Ç©„É´„ÉÄ„Åå‰Ωú„Çâ„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ\n\n„Éâ„Ç≠„É•„É°„É≥„ÉàÔºöhttps://developer.android.com/training/data-storage/files/external-scoped?hl=ja\n\n# Áí∞Â¢É\n\n| „ÅÇ„Åü„ÅÑ  | „Å™„Åæ„Åà                                        |\n|---------|-----------------------------------------------|\n| Á´ØÊú´    | Pixel 3 XL                                    |\n| Android | 11 Developer Preview 2                        |\n| Ë®ÄË™û    | Kotlin                                        |\n| SDCard  | Áü•„Çâ„Çì„ÇèÔºàPixel„Å´Âà∫„Åï„Çâ„Å™„ÅÑ„ÅÆ„Åß„Çè„Åã„Çâ„Å™„ÅÑ„ÄÇÔºâ |\n\n# Android 11 „Åã„ÇâÔºà‰øùÂ≠ò„Åß„ÅØ„Å™„ÅÑÔºâ\n`Download„Éï„Ç©„É´„ÉÄ`„Å®„Åã`Pictures„Éï„Ç©„É´„ÉÄ`Á≠â„Å´Ë™≠„ÅøÂèñ„ÇäÂ∞ÇÁî®„Åß„Å™„Çâ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„Å£„ÅΩ„ÅÑÔºü  \n\n```kotlin\nFile(\"/storage/emulated/0/\").listFiles()?.forEach {\n    println(it.name)\n}\n```\n\n‚ÜìÂÆüË°åÁµêÊûú\n```console\nI/System.out: Android\nI/System.out: Music\nI/System.out: Podcasts\nI/System.out: Ringtones\nI/System.out: Alarms\nI/System.out: Notifications\nI/System.out: Pictures\nI/System.out: Movies\nI/System.out: Download\nI/System.out: DCIM\n```\n\n# ‰∏ÄÁï™„ÅÑ„ÅÑÔºü‚ÜíIntent.ACTION_OPEN_DOCUMENT_TREE\n## #„Åì„Çå„ÅØ„Å™„Å´Ôºü\nËá™Áî±„Å´„ÅØ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„ÅÑ‰ª£„Çè„Çä„Å´„É¶„Éº„Ç∂„Éº„ÅåÊåáÂÆö„Åó„Åü„Éï„Ç©„É´„ÉÄ„Å´„ÅØ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Çà„Å£„Å¶„ÇÑ„Å§„ÄÇ  \nÂÜôÁúü„Ç¢„Éó„É™„Å™„Çì„Å†„Åë„Å©Scoped Storage„Å´‰øùÂ≠ò„Åô„Çã„ÅÆ„Åß„ÅØ„Å™„ÅèPictures„Éï„Ç©„É´„ÉÄ„Å´‰øùÂ≠ò„Åó„Åü„ÅÑ„Çì„Å†„Å£„Å¶ÊôÇ„Å´‰Ωø„ÅÜ„ÄÇ\n## „Åì„Çå„Çí‰Ωø„ÅÜ„Å®Ôºü\nÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÇíÊåáÂÆö„Åô„Çã„Å®`Download„Éï„Ç©„É´„ÉÄ`„Å®„Åã`Pictures„Éï„Ç©„É´„ÉÄ`„Å´„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Å°„Çá„Å£„Å®„ÇÑ„Å∞„ÇÅ„ÄÇ  \n**~~‰∏ÄÂ∫¶Ë®±ÂèØ„ÇíË≤∞„Åà„Çå„Å∞„Åì„Å£„Å°„ÅÆ„ÇÇ„Çì„Åß„Åô„ÄÇ~~**\n\n# ÂÆüË£Ö\n## „É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\napp„Éï„Ç©„É´„ÉÄ„Å´„ÅÇ„ÇãÊñπ„ÅÆ`build.gradle`„Åß„Åô„ÄÇ\n```gradle\n// Preference\nimplementation \"androidx.preference:preference:1.1.0\"\n// ‚Üì‰∏ÄË°åÊõ∏„ÅçË∂≥„Åô\nimplementation \"androidx.documentfile:documentfile:1.0.1\"\n```\n„ÅÇ„Å®Ê•Ω„Åô„Çã„Åü„ÇÅ„Å´Java„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Çí8„Å´„Åó„Åæ„Åô„ÄÇ  \n„Åì„Çå„Å®„Åì„Çå„Å£„Å¶„Å™„Å£„Å¶„Çã„Å®„Åì„Çç„Å≠„ÄÇ\n```gradle\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.3\"\n\n    defaultConfig {\n        applicationId \"io.github.takusan23.actionopendocumenttreesample\"\n        minSdkVersion 21\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    // „Åì„Çå„Å®\n    compileOptions {\n        targetCompatibility 1.8\n        sourceCompatibility 1.8\n    }\n    // „Åì„Çå\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n```\n## „É¨„Ç§„Ç¢„Ç¶„Éà\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\">\n\n    <EditText\n        android:id=\"@+id/editText\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"1\"\n        android:ems=\"10\"\n        android:inputType=\"textPersonName\"\n        android:text=\"\" />\n\n    <Button\n        android:id=\"@+id/path_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"‰øùÂ≠òÂÖàÊåáÂÆö\" />\n\n    <Button\n        android:id=\"@+id/save_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"‰øùÂ≠ò\" />\n\n    <Button\n        android:id=\"@+id/read_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Ë™≠„ÅøËæº„Åø\" />\n</LinearLayout>\n```\n\n## Ë®±ÂèØ„Çí„ÇÇ„Çâ„ÅÜ\ntakePersistableUriPermission()„ÅåÂ§ß‰∫ãÔºü\n```kotlin\n\nval REQUEST_CODE = 816\nlateinit var prefSetting: SharedPreferences\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    setContentView(R.layout.activity_main)\n    prefSetting = PreferenceManager.getDefaultSharedPreferences(this)\n    path_button.setOnClickListener {\n        // „É¶„Éº„Ç∂„Éº„Å´„Ç¢„Éó„É™„Åß‰Ωø„Å£„Å¶„ÅÑ„ÅÑ„Éï„Ç©„É´„ÉÄ„ÇíÈÅ∏„Çì„Åß„ÇÇ„Çâ„ÅÜ„ÄÇ\n        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)\n        startActivityForResult(intent, REQUEST_CODE)\n    }\n\n}\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (requestCode == REQUEST_CODE && resultCode == Activity.RESULT_OK) {\n        // „É™„ÇØ„Ç®„Çπ„Éà„Ç≥„Éº„Éâ„Åå‰∏ÄËá¥&ÊàêÂäü„ÅÆ„Å®„Åç\n        val uri = data?.data ?: return\n        // Uri„ÅØÂÜçËµ∑„Åô„Çã„Å®‰Ωø„Åà„Å™„Åè„Å™„Çã„ÅÆ„ÅßÂØæÁ≠ñ\n        contentResolver.takePersistableUriPermission(\n            uri,\n            Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION\n        )\n        // Uri‰øùÂ≠ò„ÄÇ„Åì„Çå„Åß„Ç¢„Éó„É™ÂÜçËµ∑ÂãïÂæå„ÇÇ‰Ωø„Åà„Åæ„Åô„ÄÇ\n        prefSetting.edit {\n            putString(\"uri\", uri.toString())\n        }\n    }\n}\n\n```\n\n„Åì„Çå„ÅßÂÆüË°å„Åó„Å¶„Äå‰øùÂ≠òÂÖàÊåáÂÆö„Äç„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶‰øùÂ≠òÂÖà„ÇíÈÅ∏„Å≥„Åæ„Åô„ÄÇ  \n\n{% asset_img kyoka_1.png Ë®±ÂèØ %}  \nË®±ÂèØ„Åó„Åæ„Åô  \n{% asset_img kyoka_2.png „ÉÄ„Ç§„Ç¢„É≠„Ç∞ %}  \n\n## ‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„ÇíÂÆüË£Ö„Åô„Çã\nÊúÄÁµÇÁöÑ„ÅÆ`MainActivity.kt`„ÅØ„Åì„ÅÜ„Åß„ÅôÔºÅ\n\n```kotlin\nclass MainActivity : AppCompatActivity() {\n\n    val REQUEST_CODE = 816\n    lateinit var prefSetting: SharedPreferences\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        prefSetting = PreferenceManager.getDefaultSharedPreferences(this)\n\n        path_button.setOnClickListener {\n            // „É¶„Éº„Ç∂„Éº„Å´„Ç¢„Éó„É™„Åß‰Ωø„Å£„Å¶„ÅÑ„ÅÑ„Éï„Ç©„É´„ÉÄ„ÇíÈÅ∏„Çì„Åß„ÇÇ„Çâ„ÅÜ„ÄÇ\n            val intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)\n            startActivityForResult(intent, REQUEST_CODE)\n        }\n\n        // ‰øùÂ≠ò„Éú„Çø„É≥\n        save_button.setOnClickListener {\n            saveFile()\n        }\n\n        // Ë™≠„ÅøËæº„Åø„Éú„Çø„É≥\n        read_button.setOnClickListener {\n            readFile()\n        }\n\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == REQUEST_CODE && resultCode == Activity.RESULT_OK) {\n            // „É™„ÇØ„Ç®„Çπ„Éà„Ç≥„Éº„Éâ„Åå‰∏ÄËá¥&ÊàêÂäü„ÅÆ„Å®„Åç\n            val uri = data?.data ?: return\n            // Uri„ÅØÂÜçËµ∑„Åô„Çã„Å®‰Ωø„Åà„Å™„Åè„Å™„Çã„ÅÆ„ÅßÂØæÁ≠ñ\n            contentResolver.takePersistableUriPermission(\n                uri,\n                Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION\n            )\n            // Uri‰øùÂ≠ò„ÄÇ„Åì„Çå„Åß„Ç¢„Éó„É™ÂÜçËµ∑ÂãïÂæå„ÇÇ‰Ωø„Åà„Åæ„Åô„ÄÇ\n            prefSetting.edit {\n                putString(\"uri\", uri.toString())\n            }\n        }\n    }\n\n    // „Éï„Ç°„Ç§„É´‰øùÂ≠ò\n    private fun saveFile() {\n        val uri = prefSetting.getString(\"uri\", \"\")?.toUri() ?: return\n        // „Éï„Ç°„Ç§„É´Êìç‰Ωú\n        DocumentFile.fromTreeUri(this, uri)?.apply {\n            // „ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´\n            val textFile = if (findFile(\"test.txt\")?.exists() == true) {\n                // „Åô„Åß„Å´‰ΩúÊàêÊ∏à„Åø\n                findFile(\"test.txt\") ?: return@apply\n            } else {\n                // „Åæ„Å†„Å™„ÅÑ„ÅÆ„ÅßÊñ∞Ë¶è‰ΩúÊàê\n                createFile(\"text/plain\", \"test.txt\") ?: return@apply\n            }\n            // Êõ∏„ÅçËæº„ÇÄ\n            contentResolver.openOutputStream(textFile.uri)?.apply {\n                // Activity„Å´ÁΩÆ„ÅÑ„ÅüTextEdit„ÅÆ„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó\n                write(editText.text?.toString()?.toByteArray())\n                close()\n            }\n        }\n    }\n\n    // „Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„Åø\n    private fun readFile() {\n        val uri = prefSetting.getString(\"uri\", \"\")?.toUri() ?: return\n        // „Éï„Ç°„Ç§„É´Êìç‰Ωú\n        DocumentFile.fromTreeUri(this, uri)?.apply {\n            // „ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´Âèñ„ÇäÂá∫„Åó\n            if (findFile(\"test.txt\")?.exists() == false) {\n                // „Å™„Åë„Çå„Å∞ÁµÇ‰∫Ü\n                return@apply\n            }\n            val textFile = findFile(\"test.txt\") ?: return@apply\n            // „ÉÜ„Ç≠„Çπ„ÉàÂèñ„ÇäÂá∫„Åô\n            val text = contentResolver.openInputStream(textFile.uri)?.bufferedReader()?.readLine()\n            editText.setText(text)\n        }\n    }\n\n}\n\n```\n\n„Åì„Çå„Åß‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ„ÇÑ„Å£„Åü„Éº  \n{% asset_img filer.png „Åµ„ÅÅ„ÅÑ„Çâ„Éº %}  \n\n## „Åì„Çå„ÅßÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆ„Éë„Çπ„ÇíÊåáÂÆö„Åô„Çã„Å®„Éª„ÉªÔºü\n„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÅÆ„Éï„Ç©„É´„ÉÄ„Å´„ÇÇ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Åæ„Åô„ÄÇ\n```kotlin\nval uri = prefSetting.getString(\"uri\", \"\")?.toUri() ?: return\n// „Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÅÆÂêçÂâç„ÇíË°®Á§∫„Åï„Åõ„Çã\nDocumentFile.fromTreeUri(this, uri)?.apply {\nfindFile(\"Pictures\")?.findFile(\"Screenshots\")?.listFiles()?.forEach {\n            println(it.name)\n        }\n    }\n```\n\n## Android 11 DP2 „ÅÆ‰ªïÊßòÔºü\nSD„Ç´„Éº„Éâ„Å´‰øùÂ≠ò„Åô„ÇãÊâãÊÆµ„Å†„Å£„Åü„Çâ„Åó„ÅÑ„Åë„Å©Android 11„Åã„Çâ„Åì„ÅÆÊñπÊ≥ï„ÅßSD„Ç´„Éº„Éâ„ÅÆÂ†¥ÊâÄ„ÇíÊåáÂÆö„Åô„Çã„ÅÆ„ÅØ„Åß„Åç„Å™„Åè„Å™„Çã„Çâ„Åó„ÅÑ„Åû„ÄÇ\n\n\n‰∏ÄÂøú„ÇΩ„Éº„Çπ„Ç≥„Éº„ÉâÁΩÆ„ÅÑ„Å¶„Åä„Åç„Åæ„Åô„Å≠‚Üì\nhttps://github.com/takusan23/ActionOpenDocumentTreeSample\n\n# Scoped Storage„Åß‰øùÂ≠ò\n\nScoped Storage„ÅÆ„Éë„Çπ„ÅØ‰ª•‰∏ã„ÅÆÈñ¢Êï∞„ÅßÂèñ„Çå„Åæ„Åô„ÄÇÔºà„Ç≠„É£„ÉÉ„Ç∑„É•Á≥ª„ÅØÁúÅ„Åè„ÅúÔºâ  \n„Åì„ÅÆÔºí„Å§„ÅØScoped Storage„Å™„Éï„Ç©„É´„ÉÄ„ÅÆ„Éë„Çπ„Å™„ÅÆ„ÅßÊ®©ÈôêÁÑ°„Åó„ÅßFile„ÇØ„É©„Çπ„ÅßË™≠„ÅøÊõ∏„Åç„Åß„Åç„Åæ„Åô„ÄÇÔºàKotlin„Å†„Å®Êã°ÂºµÈñ¢Êï∞„ÅßÂπ∏„Åõ„Å´„Å™„Çå„Çã„ÄÇÔºâ\n- `getExternalFilesDir(null)?.path`\n    - `/storage/emulated/0/Android/data/io.github.takusan23.scopedstoragesample/files`\n    - „Éá„Éº„Çø„ÅØ„Ç¢„É≥„Ç§„É≥„Çπ„Éà„Éº„É´ÊôÇ„Å´ÂâäÈô§„Åï„Çå„Åæ„Åô„ÄÇ\n- `externalMediaDirs[0].path`\n    - `/storage/emulated/0/Android/media/io.github.takusan23.scopedstoragesample`\n    - „Éá„Éº„Çø„ÅØ„Ç¢„É≥„Ç§„É≥„Çπ„Éà„Éº„É´ÊôÇ„Å´ÂâäÈô§„Åï„Çå„Åæ„Åô„ÄÇ\n    - MediaStore„ÅÆ„Çπ„Ç≠„É£„É≥„Å´ÂØæÂøú„Åó„Å¶„Çã„ÅÆ„Åß‰ªñ„ÅÆ„Ç¢„Éó„É™„Åß„ÇÇÂà©Áî®„Åß„Åç„ÇãÔºü\n        - ~~Google„Éï„Ç©„Éà„ÅÆÊñ∞„Åó„ÅÑ„Éï„Ç©„É´„ÉÄË¶ã„Å§„Åë„Åü„ÇàÔºÅ„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Åô„ÇãÔºü„ÅÆ„ÇÑ„Å§„Å´Ë™çÁü•„Åï„Çå„Çã„ÅÆ„ÅØ„Åì„Çå„Å†„Å£„Åë„ÄÇ~~\n        - Android 11 DP2„ÅßÊ§úË®º„Åß„Åç„Å™„Åã„Å£„Åü„ÄÇ„Åî„ÇÅ„Çì„ÄÇ\n    - **Android RÔºà11Ôºâ„Åã„ÇâÈùûÊé®Â•®„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ„Åß„ÇÇ‰Ωø„Åà„Çã„Å£„ÅΩ„ÅÑ„ÄÇ~~‰ΩôË®à„Å™„Åì„Å®„Åô„Çã„Å™„Çà~~**\n\n\n‰∏°ËÄÖÂÖ±„Å´„Éï„Ç°„Ç§„É´„Éë„Çπ„ÅåÈï∑„ÅÑ/„Ç¢„É≥„Ç§„É≥„Çπ„Éà„Éº„É´ÊôÇ„Å´„Éá„Éº„Çø„ÇíÊ∂à„Åô„ÅÆ„ÅåÁâπÂæ¥„ÄÇ  \n\n‰ª•‰∏ãÊõ∏„ÅçËæº„Åø„Çµ„É≥„Éó„É´„Åß„Åô„ÄÇ  \nKotlin„ÅÆÊã°ÂºµÈñ¢Êï∞ÔºàwriteText()„Å®„ÅãÔºâ„Åß„Çâ„Åè„Çâ„Åè„ÉÜ„Ç≠„Çπ„Éà‰øùÂ≠ò„ÄÇ\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\">\n\n    <EditText\n        android:id=\"@+id/editText\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"1\"\n        android:ems=\"10\"\n        android:inputType=\"textPersonName\"\n        android:text=\"\" />\n\n    <Button\n        android:id=\"@+id/save_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"‰øùÂ≠ò\" />\n\n    <Button\n        android:id=\"@+id/read_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Ë™≠„ÅøËæº„Åø\" />\n</LinearLayout>\n```\n\n```kotlin\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        \n        save_button.setOnClickListener {\n            saveFile()\n        }\n\n        read_button.setOnClickListener {\n            readFile()\n        }\n\n    }\n\n    private fun saveFile() {\n        File(\"${externalMediaDirs[0].path}/test.txt\").apply {\n            createNewFile()\n            writeText(editText.text.toString())\n        }\n    }\n\n    private fun readFile() {\n        File(\"${externalMediaDirs[0].path}/test.txt\").apply {\n            if (exists()) {\n                val text = readText()\n                editText.setText(text)\n            }\n        }\n    }\n\n}\n```\n\n## Android 11 DP2 „ÅÆ‰ªïÊßòÔºü\n„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„ÉºÔºàFiles„Ç¢„Éó„É™„Å®„ÅãÔºâ„Åã„ÇâË¶ã„Çå„Å™„Åè„Å™„Å£„Åü„ÄÇ  \nUSBÊé•Á∂ö„Åó„Å¶„Éë„ÇΩ„Ç≥„É≥„ÅßË¶ã„Çã„ÅãAndroid Studio„ÅÆDevice Explorer„Çí‰Ωø„ÅÜ„Åó„Åã„Å™„ÅÑÔºü\n\n## „Å°„Å™„Åø„Å´\n„Éâ„Ç≠„É•„É°„É≥„Éà„Å®„ÅãÈñ¢Êï∞Âêç„Å®„Åã„Å´ExternalÔºàÊó•Êú¨Ë™ûÔºöÂ§ñÈÉ®Ôºâ„Å£„Å¶„ÅÑ„ÅÜÊñáÂ≠óÂàó„Åå„ÅÇ„Çã„Å®Â§ñÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆSD„Ç´„Éº„Éâ„ÅÆ„Åì„Å®„Å†„Å®ÊÄù„Å£„Å°„ÇÉ„ÅÜ„Åë„Å©ÂÆü„ÅØÈÅï„Å£„Å¶„ÄÅ  \n„Ç¢„Éó„É™Ëá™Ë∫´„Å®rootÊ®©Èôê„ÅÆ„ÅÇ„ÇãÁí∞Â¢ÉÔºü„Åß„Åó„Åã„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„ÅÑ„Éë„Çπ„ÇíËøî„ÅôÈñ¢Êï∞`getFilesDir()`„ÅÆÂ†¥ÊâÄ„ÅÆ„Åì„Å®„Çí**ÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏**„Å®„Åó„Å¶„ÅÑ„Çã„Çâ„Åó„Åè„Å¶„ÄÅ  \n„Åù„Çå‰ª•Â§ñ„ÅåÂ§ñÈÉ®Êâ±„ÅÑ„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅßExternal„Å£„Å¶ÊñáÂ≠óÂàó„Åå‰Ωø„Çè„Çå„Å¶„ÅÑ„Çã„Çì„Å†„Å£„Å¶„ÄÇ   \n„Çè„Åã„Çâ„Çì„Çè„ÄÇ\n\n# Storage Access Framework „Åß‰øùÂ≠ò\nÂ•Ω„Åç„Å™Â†¥ÊâÄ„Å´‰øùÂ≠ò„Åó„Åü„ÅÑ„Å®„Åç„ÅØ„Åì„Çå„Çí‰Ωø„Åà„Å£„Å¶  \n„Éï„Ç°„Ç§„É´ÈÅ∏ÊäûÁîªÈù¢„Åø„Åü„ÅÑ„Å™UI„Åß„Éï„Ç°„Ç§„É´„ÅÆ‰øùÂ≠òÂÖà„ÇíÈÅ∏„Çì„Åß‰øùÂ≠ò„Åó„Åü„ÅÇ„Å®„ÄÅ`onActivityResult`„ÅßUri„ÇíÂèó„ÅëÂèñ„Çä`openOutputStream`„Çí‰Ωø„Å£„Å¶Êõ∏„ÅçËæº„ÇÄ„Çâ„Åó„ÅÑ„Åß„Åô„ÄÇ\n\n‰ª•‰∏ã„Ç≥„Éº„Éâ\n\n„É¨„Ç§„Ç¢„Ç¶„Éà„ÅØ‰∏ä„ÅÆScoped Storage„Çí‰Ωø„ÅÑÂõû„Åô„ÄÇ\n\n```kotlin\nclass MainActivity : AppCompatActivity() {\n    val REQUEST_CODE = 810\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        save_button.setOnClickListener {\n            openSAF()\n        }\n\n    }\n\n    private fun openSAF() {\n        val intent = Intent(Intent.ACTION_CREATE_DOCUMENT).apply {\n            type = \"text/*\"\n            putExtra(Intent.EXTRA_TITLE, \"test.txt\")\n        }\n        startActivityForResult(intent, REQUEST_CODE)\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == REQUEST_CODE && resultCode == Activity.RESULT_OK) {\n            // Êõ∏„ÅçËæº„ÇÄ\n            val uri = data?.data ?: return\n            contentResolver.openOutputStream(uri)?.apply {\n                write(editText.text.toString().toByteArray())\n                close()\n            }\n        }\n    }\n\n}\n```\n„Åì„Çå‰Ωø„Åà„Å∞`Download„Éï„Ç©„É´„ÉÄ`„Å†„Çç„ÅÜ„Å®Ëá™Áî±„Å´‰øùÂ≠ò„Åß„Åç„Åæ„Åô„ÄÇ‰øùÂ≠ò„Åô„Çã„Å®„Åç„Å´„ÅÑ„Å°„ÅÑ„Å°‰øùÂ≠òÂÖà„ÇíÈÅ∏„Å∂ÂøÖË¶Å„Åå„ÅÇ„Å£„Å¶‰Ωø„ÅÑ„Å´„Åè„ÅÑ„Åë„Å©„ÄÇ\n\n„Åì„Çå„Åå‰øùÂ≠òÁîªÈù¢„Åß„ÄÅ‰øùÂ≠òÂÖà„ÇíÈÅ∏„Å∂„ÄÇ\n\n{% asset_img save.png SAF %}\n\n„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„Éº„ÅßË¶ã„Çã„Å®„Å°„ÇÉ„Çì„Å®‰ΩúÊàê„Åï„Çå„Å¶„ÅÑ„Çã„Åì„Å®„Åå„Çè„Åã„Çã„ÄÇ\n\n{% asset_img list.png List %}\n\n**„ÇÅÔºÅ„ÇìÔºÅ„Å©ÔºÅ„ÅÑÔºÅ**\n\n","slug":"Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ","published":1,"updated":"2020-04-28T08:36:59.329Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgj0003h8vu9as7cdmj","content":"<p>„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ<br>Ë∂Ö‰ºöË≠∞„Å®„Å¶„ÇÇËâØ„Åã„Å£„Åü„Åß„Åô„ÄÇÔºëÊäº„Åô<br>„Å°„Å™„Åø„Å´ÁßÅ„ÅØË∂Ö„Éë„Éº„ÉÜ„Ç£„ÉºÂÜçÊîæÈÄÅ„Å®„Ç¢„Éã„É°‰∏ÄÊåôÊîæÈÄÅ„Çí‰∏ª„Å´Ë¶ã„Å¶„Åæ„Åó„Åü„ÄÇV„ÅØ„Çè„Åã„Çâ„Çì„ÅÆ„Åß„Å™„ÄÇ<br>„Çâ„Çâ„Çâ„Ç≥„ÉÉ„Éö„Éë„É≥„Å£„Å¶„Çâ„Åç‚òÜ„Åô„Åü„Å†„Å£„Åü„Çì„Å†„ÄÇ</p>\n<p>‰ªäÂπ¥„ÅÆGoogle IO„Åå‰∏≠Ê≠¢„Å´„Å™„Å£„Åü„Å©„Åì„Çç„ÅãAndroid 11„Å´Èñ¢„Åó„Å¶„ÇÇ„Éâ„Ç≠„É•„É°„É≥„Éà„ÅåÂÖ®ÁÑ∂Êõ¥Êñ∞„Åï„Çå„Å™„Åè„Å™„Å£„Å°„ÇÉ„Å£„Å¶Â§ß‰∏àÂ§´„Å™„Çì„Åã„Åì„Çå„ÄÇ</p>\n<p>ËøΩË®ò 2020/04/28Ôºö„Åù„ÅÜ„ÅÑ„Åà„Å∞MediaStore„Å´Èñ¢„Åó„Å¶„ÅØ‰∏ÄÂàáËß¶„Çå„Å¶„Å™„Åã„Å£„Åü„ÄÇËß¶„Çå„ÇãÊ©ü‰ºö„Åå„ÅÇ„Çå„Å∞Êõ∏„Åè„Åã„ÇÇ„ÄÇ</p>\n<h1 id=\"„Åª„Çì„Å∫„Çì\"><a href=\"#„Åª„Çì„Å∫„Çì\" class=\"headerlink\" title=\"„Åª„Çì„Å∫„Çì\"></a>„Åª„Çì„Å∫„Çì</h1><p>„Å®„Åì„Çç„ÅßAndroid10„Åã„ÇâËá™Áî±„Å´„Éï„Ç©„É´„ÉÄ„Å´„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„Åè„Å™„Çä„Åæ„Åó„Åü„ÄÇ„Åì„Çå„Å´„Çà„ÇäËá™Áî±„Å´<code>Download„Éï„Ç©„É´„ÉÄ</code>„Å®„Åã<code>Pictures„Éï„Ç©„É´„ÉÄ</code>Á≠â„Å∏„Ç¢„ÇØ„Çª„Çπ„Åó„Åü„Çä„Éï„Ç°„Ç§„É´‰ΩúÊàê„Å®„Åã„Åå„Åß„Åç„Å™„Åè„Å™„Çä„Åæ„Åó„Åü„ÄÇ</p>\n<p>„Åò„ÇÉ„ÅÇ„Å©„Åì„Å´‰øùÂ≠ò„Åô„Çå„Å∞„ÅÑ„ÅÑ„Çì„Å†„Å£„Å¶Ë©±„Åß„Åô„Åå„ÄÅ<code>Scoped StorageÔºàÊó•Êú¨Ë™ûÔºöÂØæË±°ÁØÑÂõ≤Âà•Â§ñÈÉ®„Çπ„Éà„É¨„Éº„Ç∏Ôºâ</code>„Å®„ÅÑ„ÅÜ‰ªïÁµÑ„Åø„Åå‰Ωú„Çâ„Çå„ÄÅ„Ç¢„Éó„É™„Åî„Å®„Å´<strong>Ê®©ÈôêÁÑ°„Åó</strong>„ÅßÊõ∏„ÅçËæº„ÇÄ„Åì„Å®„Åå„Åß„Åç„Çã„Éï„Ç©„É´„ÉÄ„Åå‰Ωú„Çâ„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ</p>\n<p>„Éâ„Ç≠„É•„É°„É≥„ÉàÔºö<a href=\"https://developer.android.com/training/data-storage/files/external-scoped?hl=ja\" target=\"_blank\" rel=\"noopener\">https://developer.android.com/training/data-storage/files/external-scoped?hl=ja</a></p>\n<h1 id=\"Áí∞Â¢É\"><a href=\"#Áí∞Â¢É\" class=\"headerlink\" title=\"Áí∞Â¢É\"></a>Áí∞Â¢É</h1><table>\n<thead>\n<tr>\n<th>„ÅÇ„Åü„ÅÑ</th>\n<th>„Å™„Åæ„Åà</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Á´ØÊú´</td>\n<td>Pixel 3 XL</td>\n</tr>\n<tr>\n<td>Android</td>\n<td>11 Developer Preview 2</td>\n</tr>\n<tr>\n<td>Ë®ÄË™û</td>\n<td>Kotlin</td>\n</tr>\n<tr>\n<td>SDCard</td>\n<td>Áü•„Çâ„Çì„ÇèÔºàPixel„Å´Âà∫„Åï„Çâ„Å™„ÅÑ„ÅÆ„Åß„Çè„Åã„Çâ„Å™„ÅÑ„ÄÇÔºâ</td>\n</tr>\n</tbody></table>\n<h1 id=\"Android-11-„Åã„ÇâÔºà‰øùÂ≠ò„Åß„ÅØ„Å™„ÅÑÔºâ\"><a href=\"#Android-11-„Åã„ÇâÔºà‰øùÂ≠ò„Åß„ÅØ„Å™„ÅÑÔºâ\" class=\"headerlink\" title=\"Android 11 „Åã„ÇâÔºà‰øùÂ≠ò„Åß„ÅØ„Å™„ÅÑÔºâ\"></a>Android 11 „Åã„ÇâÔºà‰øùÂ≠ò„Åß„ÅØ„Å™„ÅÑÔºâ</h1><p><code>Download„Éï„Ç©„É´„ÉÄ</code>„Å®„Åã<code>Pictures„Éï„Ç©„É´„ÉÄ</code>Á≠â„Å´Ë™≠„ÅøÂèñ„ÇäÂ∞ÇÁî®„Åß„Å™„Çâ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„Å£„ÅΩ„ÅÑÔºü  </p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">File(<span class=\"string\">\"/storage/emulated/0/\"</span>).listFiles()?.forEach &#123;</span><br><span class=\"line\">    println(it.name)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>‚ÜìÂÆüË°åÁµêÊûú</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">I/System.out: Android</span><br><span class=\"line\">I/System.out: Music</span><br><span class=\"line\">I/System.out: Podcasts</span><br><span class=\"line\">I/System.out: Ringtones</span><br><span class=\"line\">I/System.out: Alarms</span><br><span class=\"line\">I/System.out: Notifications</span><br><span class=\"line\">I/System.out: Pictures</span><br><span class=\"line\">I/System.out: Movies</span><br><span class=\"line\">I/System.out: Download</span><br><span class=\"line\">I/System.out: DCIM</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"‰∏ÄÁï™„ÅÑ„ÅÑÔºü‚ÜíIntent-ACTION-OPEN-DOCUMENT-TREE\"><a href=\"#‰∏ÄÁï™„ÅÑ„ÅÑÔºü‚ÜíIntent-ACTION-OPEN-DOCUMENT-TREE\" class=\"headerlink\" title=\"‰∏ÄÁï™„ÅÑ„ÅÑÔºü‚ÜíIntent.ACTION_OPEN_DOCUMENT_TREE\"></a>‰∏ÄÁï™„ÅÑ„ÅÑÔºü‚ÜíIntent.ACTION_OPEN_DOCUMENT_TREE</h1><h2 id=\"„Åì„Çå„ÅØ„Å™„Å´Ôºü\"><a href=\"#„Åì„Çå„ÅØ„Å™„Å´Ôºü\" class=\"headerlink\" title=\"#„Åì„Çå„ÅØ„Å™„Å´Ôºü\"></a>#„Åì„Çå„ÅØ„Å™„Å´Ôºü</h2><p>Ëá™Áî±„Å´„ÅØ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„ÅÑ‰ª£„Çè„Çä„Å´„É¶„Éº„Ç∂„Éº„ÅåÊåáÂÆö„Åó„Åü„Éï„Ç©„É´„ÉÄ„Å´„ÅØ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Çà„Å£„Å¶„ÇÑ„Å§„ÄÇ<br>ÂÜôÁúü„Ç¢„Éó„É™„Å™„Çì„Å†„Åë„Å©Scoped Storage„Å´‰øùÂ≠ò„Åô„Çã„ÅÆ„Åß„ÅØ„Å™„ÅèPictures„Éï„Ç©„É´„ÉÄ„Å´‰øùÂ≠ò„Åó„Åü„ÅÑ„Çì„Å†„Å£„Å¶ÊôÇ„Å´‰Ωø„ÅÜ„ÄÇ</p>\n<h2 id=\"„Åì„Çå„Çí‰Ωø„ÅÜ„Å®Ôºü\"><a href=\"#„Åì„Çå„Çí‰Ωø„ÅÜ„Å®Ôºü\" class=\"headerlink\" title=\"„Åì„Çå„Çí‰Ωø„ÅÜ„Å®Ôºü\"></a>„Åì„Çå„Çí‰Ωø„ÅÜ„Å®Ôºü</h2><p>ÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÇíÊåáÂÆö„Åô„Çã„Å®<code>Download„Éï„Ç©„É´„ÉÄ</code>„Å®„Åã<code>Pictures„Éï„Ç©„É´„ÉÄ</code>„Å´„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Å°„Çá„Å£„Å®„ÇÑ„Å∞„ÇÅ„ÄÇ<br><strong><del>‰∏ÄÂ∫¶Ë®±ÂèØ„ÇíË≤∞„Åà„Çå„Å∞„Åì„Å£„Å°„ÅÆ„ÇÇ„Çì„Åß„Åô„ÄÇ</del></strong></p>\n<h1 id=\"ÂÆüË£Ö\"><a href=\"#ÂÆüË£Ö\" class=\"headerlink\" title=\"ÂÆüË£Ö\"></a>ÂÆüË£Ö</h1><h2 id=\"„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\"><a href=\"#„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\" class=\"headerlink\" title=\"„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\"></a>„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã</h2><p>app„Éï„Ç©„É´„ÉÄ„Å´„ÅÇ„ÇãÊñπ„ÅÆ<code>build.gradle</code>„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Preference</span></span><br><span class=\"line\">implementation <span class=\"string\">\"androidx.preference:preference:1.1.0\"</span></span><br><span class=\"line\"><span class=\"comment\">// ‚Üì‰∏ÄË°åÊõ∏„ÅçË∂≥„Åô</span></span><br><span class=\"line\">implementation <span class=\"string\">\"androidx.documentfile:documentfile:1.0.1\"</span></span><br></pre></td></tr></table></figure>\n<p>„ÅÇ„Å®Ê•Ω„Åô„Çã„Åü„ÇÅ„Å´Java„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Çí8„Å´„Åó„Åæ„Åô„ÄÇ<br>„Åì„Çå„Å®„Åì„Çå„Å£„Å¶„Å™„Å£„Å¶„Çã„Å®„Åì„Çç„Å≠„ÄÇ</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android &#123;</span><br><span class=\"line\">    compileSdkVersion <span class=\"number\">29</span></span><br><span class=\"line\">    buildToolsVersion <span class=\"string\">\"29.0.3\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">    defaultConfig &#123;</span><br><span class=\"line\">        applicationId <span class=\"string\">\"io.github.takusan23.actionopendocumenttreesample\"</span></span><br><span class=\"line\">        minSdkVersion <span class=\"number\">21</span></span><br><span class=\"line\">        targetSdkVersion <span class=\"number\">29</span></span><br><span class=\"line\">        versionCode <span class=\"number\">1</span></span><br><span class=\"line\">        versionName <span class=\"string\">\"1.0\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">        testInstrumentationRunner <span class=\"string\">\"androidx.test.runner.AndroidJUnitRunner\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    buildTypes &#123;</span><br><span class=\"line\">        release &#123;</span><br><span class=\"line\">            minifyEnabled <span class=\"keyword\">false</span></span><br><span class=\"line\">            proguardFiles getDefaultProguardFile(<span class=\"string\">'proguard-android-optimize.txt'</span>), <span class=\"string\">'proguard-rules.pro'</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// „Åì„Çå„Å®</span></span><br><span class=\"line\">    compileOptions &#123;</span><br><span class=\"line\">        <span class=\"keyword\">targetCompatibility</span> <span class=\"number\">1.8</span></span><br><span class=\"line\">        <span class=\"keyword\">sourceCompatibility</span> <span class=\"number\">1.8</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// „Åì„Çå</span></span><br><span class=\"line\">    kotlinOptions &#123;</span><br><span class=\"line\">        jvmTarget = <span class=\"string\">'1.8'</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"><a href=\"#„É¨„Ç§„Ç¢„Ç¶„Éà\" class=\"headerlink\" title=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"></a>„É¨„Ç§„Ç¢„Ç¶„Éà</h2><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">tools:context</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">EditText</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/editText\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_weight</span>=<span class=\"string\">\"1\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:ems</span>=<span class=\"string\">\"10\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:inputType</span>=<span class=\"string\">\"textPersonName\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/path_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"‰øùÂ≠òÂÖàÊåáÂÆö\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/save_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"‰øùÂ≠ò\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/read_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"Ë™≠„ÅøËæº„Åø\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Ë®±ÂèØ„Çí„ÇÇ„Çâ„ÅÜ\"><a href=\"#Ë®±ÂèØ„Çí„ÇÇ„Çâ„ÅÜ\" class=\"headerlink\" title=\"Ë®±ÂèØ„Çí„ÇÇ„Çâ„ÅÜ\"></a>Ë®±ÂèØ„Çí„ÇÇ„Çâ„ÅÜ</h2><p>takePersistableUriPermission()„ÅåÂ§ß‰∫ãÔºü</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">val</span> REQUEST_CODE = <span class=\"number\">816</span></span><br><span class=\"line\"><span class=\"keyword\">lateinit</span> <span class=\"keyword\">var</span> prefSetting: SharedPreferences</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\"></span><br><span class=\"line\">    setContentView(R.layout.activity_main)</span><br><span class=\"line\">    prefSetting = PreferenceManager.getDefaultSharedPreferences(<span class=\"keyword\">this</span>)</span><br><span class=\"line\">    path_button.setOnClickListener &#123;</span><br><span class=\"line\">        <span class=\"comment\">// „É¶„Éº„Ç∂„Éº„Å´„Ç¢„Éó„É™„Åß‰Ωø„Å£„Å¶„ÅÑ„ÅÑ„Éï„Ç©„É´„ÉÄ„ÇíÈÅ∏„Çì„Åß„ÇÇ„Çâ„ÅÜ„ÄÇ</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)</span><br><span class=\"line\">        startActivityForResult(intent, REQUEST_CODE)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onActivityResult</span><span class=\"params\">(requestCode: <span class=\"type\">Int</span>, resultCode: <span class=\"type\">Int</span>, <span class=\"keyword\">data</span>: <span class=\"type\">Intent</span>?)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onActivityResult(requestCode, resultCode, <span class=\"keyword\">data</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (requestCode == REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// „É™„ÇØ„Ç®„Çπ„Éà„Ç≥„Éº„Éâ„Åå‰∏ÄËá¥&amp;ÊàêÂäü„ÅÆ„Å®„Åç</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> uri = <span class=\"keyword\">data</span>?.<span class=\"keyword\">data</span> ?: <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"comment\">// Uri„ÅØÂÜçËµ∑„Åô„Çã„Å®‰Ωø„Åà„Å™„Åè„Å™„Çã„ÅÆ„ÅßÂØæÁ≠ñ</span></span><br><span class=\"line\">        contentResolver.takePersistableUriPermission(</span><br><span class=\"line\">            uri,</span><br><span class=\"line\">            Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION</span><br><span class=\"line\">        )</span><br><span class=\"line\">        <span class=\"comment\">// Uri‰øùÂ≠ò„ÄÇ„Åì„Çå„Åß„Ç¢„Éó„É™ÂÜçËµ∑ÂãïÂæå„ÇÇ‰Ωø„Åà„Åæ„Åô„ÄÇ</span></span><br><span class=\"line\">        prefSetting.edit &#123;</span><br><span class=\"line\">            putString(<span class=\"string\">\"uri\"</span>, uri.toString())</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßÂÆüË°å„Åó„Å¶„Äå‰øùÂ≠òÂÖàÊåáÂÆö„Äç„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶‰øùÂ≠òÂÖà„ÇíÈÅ∏„Å≥„Åæ„Åô„ÄÇ  </p>\n<img src=\"/Bibouroku/2020/04/19/Android11-DP2-%E3%81%A7%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BF%9D%E5%AD%98%E3%81%BE%E3%81%A8%E3%82%81/kyoka_1.png\" class=\"\" title=\"Ë®±ÂèØ\">  \n<p>Ë®±ÂèØ„Åó„Åæ„Åô  </p>\n<img src=\"/Bibouroku/2020/04/19/Android11-DP2-%E3%81%A7%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BF%9D%E5%AD%98%E3%81%BE%E3%81%A8%E3%82%81/kyoka_2.png\" class=\"\" title=\"„ÉÄ„Ç§„Ç¢„É≠„Ç∞\">  \n\n<h2 id=\"‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„ÇíÂÆüË£Ö„Åô„Çã\"><a href=\"#‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„ÇíÂÆüË£Ö„Åô„Çã\" class=\"headerlink\" title=\"‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„ÇíÂÆüË£Ö„Åô„Çã\"></a>‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„ÇíÂÆüË£Ö„Åô„Çã</h2><p>ÊúÄÁµÇÁöÑ„ÅÆ<code>MainActivity.kt</code>„ÅØ„Åì„ÅÜ„Åß„ÅôÔºÅ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">val</span> REQUEST_CODE = <span class=\"number\">816</span></span><br><span class=\"line\">    <span class=\"keyword\">lateinit</span> <span class=\"keyword\">var</span> prefSetting: SharedPreferences</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        prefSetting = PreferenceManager.getDefaultSharedPreferences(<span class=\"keyword\">this</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        path_button.setOnClickListener &#123;</span><br><span class=\"line\">            <span class=\"comment\">// „É¶„Éº„Ç∂„Éº„Å´„Ç¢„Éó„É™„Åß‰Ωø„Å£„Å¶„ÅÑ„ÅÑ„Éï„Ç©„É´„ÉÄ„ÇíÈÅ∏„Çì„Åß„ÇÇ„Çâ„ÅÜ„ÄÇ</span></span><br><span class=\"line\">            <span class=\"keyword\">val</span> intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)</span><br><span class=\"line\">            startActivityForResult(intent, REQUEST_CODE)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ‰øùÂ≠ò„Éú„Çø„É≥</span></span><br><span class=\"line\">        save_button.setOnClickListener &#123;</span><br><span class=\"line\">            saveFile()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Ë™≠„ÅøËæº„Åø„Éú„Çø„É≥</span></span><br><span class=\"line\">        read_button.setOnClickListener &#123;</span><br><span class=\"line\">            readFile()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onActivityResult</span><span class=\"params\">(requestCode: <span class=\"type\">Int</span>, resultCode: <span class=\"type\">Int</span>, <span class=\"keyword\">data</span>: <span class=\"type\">Intent</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onActivityResult(requestCode, resultCode, <span class=\"keyword\">data</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (requestCode == REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// „É™„ÇØ„Ç®„Çπ„Éà„Ç≥„Éº„Éâ„Åå‰∏ÄËá¥&amp;ÊàêÂäü„ÅÆ„Å®„Åç</span></span><br><span class=\"line\">            <span class=\"keyword\">val</span> uri = <span class=\"keyword\">data</span>?.<span class=\"keyword\">data</span> ?: <span class=\"keyword\">return</span></span><br><span class=\"line\">            <span class=\"comment\">// Uri„ÅØÂÜçËµ∑„Åô„Çã„Å®‰Ωø„Åà„Å™„Åè„Å™„Çã„ÅÆ„ÅßÂØæÁ≠ñ</span></span><br><span class=\"line\">            contentResolver.takePersistableUriPermission(</span><br><span class=\"line\">                uri,</span><br><span class=\"line\">                Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION</span><br><span class=\"line\">            )</span><br><span class=\"line\">            <span class=\"comment\">// Uri‰øùÂ≠ò„ÄÇ„Åì„Çå„Åß„Ç¢„Éó„É™ÂÜçËµ∑ÂãïÂæå„ÇÇ‰Ωø„Åà„Åæ„Åô„ÄÇ</span></span><br><span class=\"line\">            prefSetting.edit &#123;</span><br><span class=\"line\">                putString(<span class=\"string\">\"uri\"</span>, uri.toString())</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// „Éï„Ç°„Ç§„É´‰øùÂ≠ò</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">saveFile</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">val</span> uri = prefSetting.getString(<span class=\"string\">\"uri\"</span>, <span class=\"string\">\"\"</span>)?.toUri() ?: <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"comment\">// „Éï„Ç°„Ç§„É´Êìç‰Ωú</span></span><br><span class=\"line\">        DocumentFile.fromTreeUri(<span class=\"keyword\">this</span>, uri)?.apply &#123;</span><br><span class=\"line\">            <span class=\"comment\">// „ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´</span></span><br><span class=\"line\">            <span class=\"keyword\">val</span> textFile = <span class=\"keyword\">if</span> (findFile(<span class=\"string\">\"test.txt\"</span>)?.exists() == <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// „Åô„Åß„Å´‰ΩúÊàêÊ∏à„Åø</span></span><br><span class=\"line\">                findFile(<span class=\"string\">\"test.txt\"</span>) ?: <span class=\"keyword\">return</span><span class=\"symbol\">@apply</span></span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// „Åæ„Å†„Å™„ÅÑ„ÅÆ„ÅßÊñ∞Ë¶è‰ΩúÊàê</span></span><br><span class=\"line\">                createFile(<span class=\"string\">\"text/plain\"</span>, <span class=\"string\">\"test.txt\"</span>) ?: <span class=\"keyword\">return</span><span class=\"symbol\">@apply</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// Êõ∏„ÅçËæº„ÇÄ</span></span><br><span class=\"line\">            contentResolver.openOutputStream(textFile.uri)?.apply &#123;</span><br><span class=\"line\">                <span class=\"comment\">// Activity„Å´ÁΩÆ„ÅÑ„ÅüTextEdit„ÅÆ„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó</span></span><br><span class=\"line\">                write(editText.text?.toString()?.toByteArray())</span><br><span class=\"line\">                close()</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// „Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„Åø</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">readFile</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">val</span> uri = prefSetting.getString(<span class=\"string\">\"uri\"</span>, <span class=\"string\">\"\"</span>)?.toUri() ?: <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"comment\">// „Éï„Ç°„Ç§„É´Êìç‰Ωú</span></span><br><span class=\"line\">        DocumentFile.fromTreeUri(<span class=\"keyword\">this</span>, uri)?.apply &#123;</span><br><span class=\"line\">            <span class=\"comment\">// „ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´Âèñ„ÇäÂá∫„Åó</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (findFile(<span class=\"string\">\"test.txt\"</span>)?.exists() == <span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// „Å™„Åë„Çå„Å∞ÁµÇ‰∫Ü</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span><span class=\"symbol\">@apply</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">val</span> textFile = findFile(<span class=\"string\">\"test.txt\"</span>) ?: <span class=\"keyword\">return</span><span class=\"symbol\">@apply</span></span><br><span class=\"line\">            <span class=\"comment\">// „ÉÜ„Ç≠„Çπ„ÉàÂèñ„ÇäÂá∫„Åô</span></span><br><span class=\"line\">            <span class=\"keyword\">val</span> text = contentResolver.openInputStream(textFile.uri)?.bufferedReader()?.readLine()</span><br><span class=\"line\">            editText.setText(text)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„Åß‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ„ÇÑ„Å£„Åü„Éº  </p>\n<img src=\"/Bibouroku/2020/04/19/Android11-DP2-%E3%81%A7%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BF%9D%E5%AD%98%E3%81%BE%E3%81%A8%E3%82%81/filer.png\" class=\"\" title=\"„Åµ„ÅÅ„ÅÑ„Çâ„Éº\">  \n\n<h2 id=\"„Åì„Çå„ÅßÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆ„Éë„Çπ„ÇíÊåáÂÆö„Åô„Çã„Å®„Éª„ÉªÔºü\"><a href=\"#„Åì„Çå„ÅßÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆ„Éë„Çπ„ÇíÊåáÂÆö„Åô„Çã„Å®„Éª„ÉªÔºü\" class=\"headerlink\" title=\"„Åì„Çå„ÅßÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆ„Éë„Çπ„ÇíÊåáÂÆö„Åô„Çã„Å®„Éª„ÉªÔºü\"></a>„Åì„Çå„ÅßÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆ„Éë„Çπ„ÇíÊåáÂÆö„Åô„Çã„Å®„Éª„ÉªÔºü</h2><p>„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÅÆ„Éï„Ç©„É´„ÉÄ„Å´„ÇÇ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">val</span> uri = prefSetting.getString(<span class=\"string\">\"uri\"</span>, <span class=\"string\">\"\"</span>)?.toUri() ?: <span class=\"keyword\">return</span></span><br><span class=\"line\"><span class=\"comment\">// „Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÅÆÂêçÂâç„ÇíË°®Á§∫„Åï„Åõ„Çã</span></span><br><span class=\"line\">DocumentFile.fromTreeUri(<span class=\"keyword\">this</span>, uri)?.apply &#123;</span><br><span class=\"line\">findFile(<span class=\"string\">\"Pictures\"</span>)?.findFile(<span class=\"string\">\"Screenshots\"</span>)?.listFiles()?.forEach &#123;</span><br><span class=\"line\">            println(it.name)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Android-11-DP2-„ÅÆ‰ªïÊßòÔºü\"><a href=\"#Android-11-DP2-„ÅÆ‰ªïÊßòÔºü\" class=\"headerlink\" title=\"Android 11 DP2 „ÅÆ‰ªïÊßòÔºü\"></a>Android 11 DP2 „ÅÆ‰ªïÊßòÔºü</h2><p>SD„Ç´„Éº„Éâ„Å´‰øùÂ≠ò„Åô„ÇãÊâãÊÆµ„Å†„Å£„Åü„Çâ„Åó„ÅÑ„Åë„Å©Android 11„Åã„Çâ„Åì„ÅÆÊñπÊ≥ï„ÅßSD„Ç´„Éº„Éâ„ÅÆÂ†¥ÊâÄ„ÇíÊåáÂÆö„Åô„Çã„ÅÆ„ÅØ„Åß„Åç„Å™„Åè„Å™„Çã„Çâ„Åó„ÅÑ„Åû„ÄÇ</p>\n<p>‰∏ÄÂøú„ÇΩ„Éº„Çπ„Ç≥„Éº„ÉâÁΩÆ„ÅÑ„Å¶„Åä„Åç„Åæ„Åô„Å≠‚Üì<br><a href=\"https://github.com/takusan23/ActionOpenDocumentTreeSample\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/ActionOpenDocumentTreeSample</a></p>\n<h1 id=\"Scoped-Storage„Åß‰øùÂ≠ò\"><a href=\"#Scoped-Storage„Åß‰øùÂ≠ò\" class=\"headerlink\" title=\"Scoped Storage„Åß‰øùÂ≠ò\"></a>Scoped Storage„Åß‰øùÂ≠ò</h1><p>Scoped Storage„ÅÆ„Éë„Çπ„ÅØ‰ª•‰∏ã„ÅÆÈñ¢Êï∞„ÅßÂèñ„Çå„Åæ„Åô„ÄÇÔºà„Ç≠„É£„ÉÉ„Ç∑„É•Á≥ª„ÅØÁúÅ„Åè„ÅúÔºâ<br>„Åì„ÅÆÔºí„Å§„ÅØScoped Storage„Å™„Éï„Ç©„É´„ÉÄ„ÅÆ„Éë„Çπ„Å™„ÅÆ„ÅßÊ®©ÈôêÁÑ°„Åó„ÅßFile„ÇØ„É©„Çπ„ÅßË™≠„ÅøÊõ∏„Åç„Åß„Åç„Åæ„Åô„ÄÇÔºàKotlin„Å†„Å®Êã°ÂºµÈñ¢Êï∞„ÅßÂπ∏„Åõ„Å´„Å™„Çå„Çã„ÄÇÔºâ</p>\n<ul>\n<li><code>getExternalFilesDir(null)?.path</code><ul>\n<li><code>/storage/emulated/0/Android/data/io.github.takusan23.scopedstoragesample/files</code></li>\n<li>„Éá„Éº„Çø„ÅØ„Ç¢„É≥„Ç§„É≥„Çπ„Éà„Éº„É´ÊôÇ„Å´ÂâäÈô§„Åï„Çå„Åæ„Åô„ÄÇ</li>\n</ul>\n</li>\n<li><code>externalMediaDirs[0].path</code><ul>\n<li><code>/storage/emulated/0/Android/media/io.github.takusan23.scopedstoragesample</code></li>\n<li>„Éá„Éº„Çø„ÅØ„Ç¢„É≥„Ç§„É≥„Çπ„Éà„Éº„É´ÊôÇ„Å´ÂâäÈô§„Åï„Çå„Åæ„Åô„ÄÇ</li>\n<li>MediaStore„ÅÆ„Çπ„Ç≠„É£„É≥„Å´ÂØæÂøú„Åó„Å¶„Çã„ÅÆ„Åß‰ªñ„ÅÆ„Ç¢„Éó„É™„Åß„ÇÇÂà©Áî®„Åß„Åç„ÇãÔºü<ul>\n<li><del>Google„Éï„Ç©„Éà„ÅÆÊñ∞„Åó„ÅÑ„Éï„Ç©„É´„ÉÄË¶ã„Å§„Åë„Åü„ÇàÔºÅ„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Åô„ÇãÔºü„ÅÆ„ÇÑ„Å§„Å´Ë™çÁü•„Åï„Çå„Çã„ÅÆ„ÅØ„Åì„Çå„Å†„Å£„Åë„ÄÇ</del></li>\n<li>Android 11 DP2„ÅßÊ§úË®º„Åß„Åç„Å™„Åã„Å£„Åü„ÄÇ„Åî„ÇÅ„Çì„ÄÇ</li>\n</ul>\n</li>\n<li><strong>Android RÔºà11Ôºâ„Åã„ÇâÈùûÊé®Â•®„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ„Åß„ÇÇ‰Ωø„Åà„Çã„Å£„ÅΩ„ÅÑ„ÄÇ<del>‰ΩôË®à„Å™„Åì„Å®„Åô„Çã„Å™„Çà</del></strong></li>\n</ul>\n</li>\n</ul>\n<p>‰∏°ËÄÖÂÖ±„Å´„Éï„Ç°„Ç§„É´„Éë„Çπ„ÅåÈï∑„ÅÑ/„Ç¢„É≥„Ç§„É≥„Çπ„Éà„Éº„É´ÊôÇ„Å´„Éá„Éº„Çø„ÇíÊ∂à„Åô„ÅÆ„ÅåÁâπÂæ¥„ÄÇ  </p>\n<p>‰ª•‰∏ãÊõ∏„ÅçËæº„Åø„Çµ„É≥„Éó„É´„Åß„Åô„ÄÇ<br>Kotlin„ÅÆÊã°ÂºµÈñ¢Êï∞ÔºàwriteText()„Å®„ÅãÔºâ„Åß„Çâ„Åè„Çâ„Åè„ÉÜ„Ç≠„Çπ„Éà‰øùÂ≠ò„ÄÇ</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">tools:context</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">EditText</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/editText\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_weight</span>=<span class=\"string\">\"1\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:ems</span>=<span class=\"string\">\"10\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:inputType</span>=<span class=\"string\">\"textPersonName\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/save_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"‰øùÂ≠ò\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/read_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"Ë™≠„ÅøËæº„Åø\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\">        </span><br><span class=\"line\">        save_button.setOnClickListener &#123;</span><br><span class=\"line\">            saveFile()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        read_button.setOnClickListener &#123;</span><br><span class=\"line\">            readFile()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">saveFile</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        File(<span class=\"string\">\"<span class=\"subst\">$&#123;externalMediaDirs[<span class=\"number\">0</span>].path&#125;</span>/test.txt\"</span>).apply &#123;</span><br><span class=\"line\">            createNewFile()</span><br><span class=\"line\">            writeText(editText.text.toString())</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">readFile</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        File(<span class=\"string\">\"<span class=\"subst\">$&#123;externalMediaDirs[<span class=\"number\">0</span>].path&#125;</span>/test.txt\"</span>).apply &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (exists()) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">val</span> text = readText()</span><br><span class=\"line\">                editText.setText(text)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Android-11-DP2-„ÅÆ‰ªïÊßòÔºü-1\"><a href=\"#Android-11-DP2-„ÅÆ‰ªïÊßòÔºü-1\" class=\"headerlink\" title=\"Android 11 DP2 „ÅÆ‰ªïÊßòÔºü\"></a>Android 11 DP2 „ÅÆ‰ªïÊßòÔºü</h2><p>„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„ÉºÔºàFiles„Ç¢„Éó„É™„Å®„ÅãÔºâ„Åã„ÇâË¶ã„Çå„Å™„Åè„Å™„Å£„Åü„ÄÇ<br>USBÊé•Á∂ö„Åó„Å¶„Éë„ÇΩ„Ç≥„É≥„ÅßË¶ã„Çã„ÅãAndroid Studio„ÅÆDevice Explorer„Çí‰Ωø„ÅÜ„Åó„Åã„Å™„ÅÑÔºü</p>\n<h2 id=\"„Å°„Å™„Åø„Å´\"><a href=\"#„Å°„Å™„Åø„Å´\" class=\"headerlink\" title=\"„Å°„Å™„Åø„Å´\"></a>„Å°„Å™„Åø„Å´</h2><p>„Éâ„Ç≠„É•„É°„É≥„Éà„Å®„ÅãÈñ¢Êï∞Âêç„Å®„Åã„Å´ExternalÔºàÊó•Êú¨Ë™ûÔºöÂ§ñÈÉ®Ôºâ„Å£„Å¶„ÅÑ„ÅÜÊñáÂ≠óÂàó„Åå„ÅÇ„Çã„Å®Â§ñÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆSD„Ç´„Éº„Éâ„ÅÆ„Åì„Å®„Å†„Å®ÊÄù„Å£„Å°„ÇÉ„ÅÜ„Åë„Å©ÂÆü„ÅØÈÅï„Å£„Å¶„ÄÅ<br>„Ç¢„Éó„É™Ëá™Ë∫´„Å®rootÊ®©Èôê„ÅÆ„ÅÇ„ÇãÁí∞Â¢ÉÔºü„Åß„Åó„Åã„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„ÅÑ„Éë„Çπ„ÇíËøî„ÅôÈñ¢Êï∞<code>getFilesDir()</code>„ÅÆÂ†¥ÊâÄ„ÅÆ„Åì„Å®„Çí<strong>ÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏</strong>„Å®„Åó„Å¶„ÅÑ„Çã„Çâ„Åó„Åè„Å¶„ÄÅ<br>„Åù„Çå‰ª•Â§ñ„ÅåÂ§ñÈÉ®Êâ±„ÅÑ„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅßExternal„Å£„Å¶ÊñáÂ≠óÂàó„Åå‰Ωø„Çè„Çå„Å¶„ÅÑ„Çã„Çì„Å†„Å£„Å¶„ÄÇ<br>„Çè„Åã„Çâ„Çì„Çè„ÄÇ</p>\n<h1 id=\"Storage-Access-Framework-„Åß‰øùÂ≠ò\"><a href=\"#Storage-Access-Framework-„Åß‰øùÂ≠ò\" class=\"headerlink\" title=\"Storage Access Framework „Åß‰øùÂ≠ò\"></a>Storage Access Framework „Åß‰øùÂ≠ò</h1><p>Â•Ω„Åç„Å™Â†¥ÊâÄ„Å´‰øùÂ≠ò„Åó„Åü„ÅÑ„Å®„Åç„ÅØ„Åì„Çå„Çí‰Ωø„Åà„Å£„Å¶<br>„Éï„Ç°„Ç§„É´ÈÅ∏ÊäûÁîªÈù¢„Åø„Åü„ÅÑ„Å™UI„Åß„Éï„Ç°„Ç§„É´„ÅÆ‰øùÂ≠òÂÖà„ÇíÈÅ∏„Çì„Åß‰øùÂ≠ò„Åó„Åü„ÅÇ„Å®„ÄÅ<code>onActivityResult</code>„ÅßUri„ÇíÂèó„ÅëÂèñ„Çä<code>openOutputStream</code>„Çí‰Ωø„Å£„Å¶Êõ∏„ÅçËæº„ÇÄ„Çâ„Åó„ÅÑ„Åß„Åô„ÄÇ</p>\n<p>‰ª•‰∏ã„Ç≥„Éº„Éâ</p>\n<p>„É¨„Ç§„Ç¢„Ç¶„Éà„ÅØ‰∏ä„ÅÆScoped Storage„Çí‰Ωø„ÅÑÂõû„Åô„ÄÇ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> REQUEST_CODE = <span class=\"number\">810</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        save_button.setOnClickListener &#123;</span><br><span class=\"line\">            openSAF()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">openSAF</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">val</span> intent = Intent(Intent.ACTION_CREATE_DOCUMENT).apply &#123;</span><br><span class=\"line\">            type = <span class=\"string\">\"text/*\"</span></span><br><span class=\"line\">            putExtra(Intent.EXTRA_TITLE, <span class=\"string\">\"test.txt\"</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        startActivityForResult(intent, REQUEST_CODE)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onActivityResult</span><span class=\"params\">(requestCode: <span class=\"type\">Int</span>, resultCode: <span class=\"type\">Int</span>, <span class=\"keyword\">data</span>: <span class=\"type\">Intent</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onActivityResult(requestCode, resultCode, <span class=\"keyword\">data</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (requestCode == REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// Êõ∏„ÅçËæº„ÇÄ</span></span><br><span class=\"line\">            <span class=\"keyword\">val</span> uri = <span class=\"keyword\">data</span>?.<span class=\"keyword\">data</span> ?: <span class=\"keyword\">return</span></span><br><span class=\"line\">            contentResolver.openOutputStream(uri)?.apply &#123;</span><br><span class=\"line\">                write(editText.text.toString().toByteArray())</span><br><span class=\"line\">                close()</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>„Åì„Çå‰Ωø„Åà„Å∞<code>Download„Éï„Ç©„É´„ÉÄ</code>„Å†„Çç„ÅÜ„Å®Ëá™Áî±„Å´‰øùÂ≠ò„Åß„Åç„Åæ„Åô„ÄÇ‰øùÂ≠ò„Åô„Çã„Å®„Åç„Å´„ÅÑ„Å°„ÅÑ„Å°‰øùÂ≠òÂÖà„ÇíÈÅ∏„Å∂ÂøÖË¶Å„Åå„ÅÇ„Å£„Å¶‰Ωø„ÅÑ„Å´„Åè„ÅÑ„Åë„Å©„ÄÇ</p>\n<p>„Åì„Çå„Åå‰øùÂ≠òÁîªÈù¢„Åß„ÄÅ‰øùÂ≠òÂÖà„ÇíÈÅ∏„Å∂„ÄÇ</p>\n<img src=\"/Bibouroku/2020/04/19/Android11-DP2-%E3%81%A7%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BF%9D%E5%AD%98%E3%81%BE%E3%81%A8%E3%82%81/save.png\" class=\"\" title=\"SAF\">\n\n<p>„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„Éº„ÅßË¶ã„Çã„Å®„Å°„ÇÉ„Çì„Å®‰ΩúÊàê„Åï„Çå„Å¶„ÅÑ„Çã„Åì„Å®„Åå„Çè„Åã„Çã„ÄÇ</p>\n<img src=\"/Bibouroku/2020/04/19/Android11-DP2-%E3%81%A7%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BF%9D%E5%AD%98%E3%81%BE%E3%81%A8%E3%82%81/list.png\" class=\"\" title=\"List\">\n\n<p><strong>„ÇÅÔºÅ„ÇìÔºÅ„Å©ÔºÅ„ÅÑÔºÅ</strong></p>\n","site":{"data":{}},"excerpt":"","more":"<p>„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ<br>Ë∂Ö‰ºöË≠∞„Å®„Å¶„ÇÇËâØ„Åã„Å£„Åü„Åß„Åô„ÄÇÔºëÊäº„Åô<br>„Å°„Å™„Åø„Å´ÁßÅ„ÅØË∂Ö„Éë„Éº„ÉÜ„Ç£„ÉºÂÜçÊîæÈÄÅ„Å®„Ç¢„Éã„É°‰∏ÄÊåôÊîæÈÄÅ„Çí‰∏ª„Å´Ë¶ã„Å¶„Åæ„Åó„Åü„ÄÇV„ÅØ„Çè„Åã„Çâ„Çì„ÅÆ„Åß„Å™„ÄÇ<br>„Çâ„Çâ„Çâ„Ç≥„ÉÉ„Éö„Éë„É≥„Å£„Å¶„Çâ„Åç‚òÜ„Åô„Åü„Å†„Å£„Åü„Çì„Å†„ÄÇ</p>\n<p>‰ªäÂπ¥„ÅÆGoogle IO„Åå‰∏≠Ê≠¢„Å´„Å™„Å£„Åü„Å©„Åì„Çç„ÅãAndroid 11„Å´Èñ¢„Åó„Å¶„ÇÇ„Éâ„Ç≠„É•„É°„É≥„Éà„ÅåÂÖ®ÁÑ∂Êõ¥Êñ∞„Åï„Çå„Å™„Åè„Å™„Å£„Å°„ÇÉ„Å£„Å¶Â§ß‰∏àÂ§´„Å™„Çì„Åã„Åì„Çå„ÄÇ</p>\n<p>ËøΩË®ò 2020/04/28Ôºö„Åù„ÅÜ„ÅÑ„Åà„Å∞MediaStore„Å´Èñ¢„Åó„Å¶„ÅØ‰∏ÄÂàáËß¶„Çå„Å¶„Å™„Åã„Å£„Åü„ÄÇËß¶„Çå„ÇãÊ©ü‰ºö„Åå„ÅÇ„Çå„Å∞Êõ∏„Åè„Åã„ÇÇ„ÄÇ</p>\n<h1 id=\"„Åª„Çì„Å∫„Çì\"><a href=\"#„Åª„Çì„Å∫„Çì\" class=\"headerlink\" title=\"„Åª„Çì„Å∫„Çì\"></a>„Åª„Çì„Å∫„Çì</h1><p>„Å®„Åì„Çç„ÅßAndroid10„Åã„ÇâËá™Áî±„Å´„Éï„Ç©„É´„ÉÄ„Å´„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„Åè„Å™„Çä„Åæ„Åó„Åü„ÄÇ„Åì„Çå„Å´„Çà„ÇäËá™Áî±„Å´<code>Download„Éï„Ç©„É´„ÉÄ</code>„Å®„Åã<code>Pictures„Éï„Ç©„É´„ÉÄ</code>Á≠â„Å∏„Ç¢„ÇØ„Çª„Çπ„Åó„Åü„Çä„Éï„Ç°„Ç§„É´‰ΩúÊàê„Å®„Åã„Åå„Åß„Åç„Å™„Åè„Å™„Çä„Åæ„Åó„Åü„ÄÇ</p>\n<p>„Åò„ÇÉ„ÅÇ„Å©„Åì„Å´‰øùÂ≠ò„Åô„Çå„Å∞„ÅÑ„ÅÑ„Çì„Å†„Å£„Å¶Ë©±„Åß„Åô„Åå„ÄÅ<code>Scoped StorageÔºàÊó•Êú¨Ë™ûÔºöÂØæË±°ÁØÑÂõ≤Âà•Â§ñÈÉ®„Çπ„Éà„É¨„Éº„Ç∏Ôºâ</code>„Å®„ÅÑ„ÅÜ‰ªïÁµÑ„Åø„Åå‰Ωú„Çâ„Çå„ÄÅ„Ç¢„Éó„É™„Åî„Å®„Å´<strong>Ê®©ÈôêÁÑ°„Åó</strong>„ÅßÊõ∏„ÅçËæº„ÇÄ„Åì„Å®„Åå„Åß„Åç„Çã„Éï„Ç©„É´„ÉÄ„Åå‰Ωú„Çâ„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ</p>\n<p>„Éâ„Ç≠„É•„É°„É≥„ÉàÔºö<a href=\"https://developer.android.com/training/data-storage/files/external-scoped?hl=ja\" target=\"_blank\" rel=\"noopener\">https://developer.android.com/training/data-storage/files/external-scoped?hl=ja</a></p>\n<h1 id=\"Áí∞Â¢É\"><a href=\"#Áí∞Â¢É\" class=\"headerlink\" title=\"Áí∞Â¢É\"></a>Áí∞Â¢É</h1><table>\n<thead>\n<tr>\n<th>„ÅÇ„Åü„ÅÑ</th>\n<th>„Å™„Åæ„Åà</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Á´ØÊú´</td>\n<td>Pixel 3 XL</td>\n</tr>\n<tr>\n<td>Android</td>\n<td>11 Developer Preview 2</td>\n</tr>\n<tr>\n<td>Ë®ÄË™û</td>\n<td>Kotlin</td>\n</tr>\n<tr>\n<td>SDCard</td>\n<td>Áü•„Çâ„Çì„ÇèÔºàPixel„Å´Âà∫„Åï„Çâ„Å™„ÅÑ„ÅÆ„Åß„Çè„Åã„Çâ„Å™„ÅÑ„ÄÇÔºâ</td>\n</tr>\n</tbody></table>\n<h1 id=\"Android-11-„Åã„ÇâÔºà‰øùÂ≠ò„Åß„ÅØ„Å™„ÅÑÔºâ\"><a href=\"#Android-11-„Åã„ÇâÔºà‰øùÂ≠ò„Åß„ÅØ„Å™„ÅÑÔºâ\" class=\"headerlink\" title=\"Android 11 „Åã„ÇâÔºà‰øùÂ≠ò„Åß„ÅØ„Å™„ÅÑÔºâ\"></a>Android 11 „Åã„ÇâÔºà‰øùÂ≠ò„Åß„ÅØ„Å™„ÅÑÔºâ</h1><p><code>Download„Éï„Ç©„É´„ÉÄ</code>„Å®„Åã<code>Pictures„Éï„Ç©„É´„ÉÄ</code>Á≠â„Å´Ë™≠„ÅøÂèñ„ÇäÂ∞ÇÁî®„Åß„Å™„Çâ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„Å£„ÅΩ„ÅÑÔºü  </p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">File(<span class=\"string\">\"/storage/emulated/0/\"</span>).listFiles()?.forEach &#123;</span><br><span class=\"line\">    println(it.name)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>‚ÜìÂÆüË°åÁµêÊûú</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">I/System.out: Android</span><br><span class=\"line\">I/System.out: Music</span><br><span class=\"line\">I/System.out: Podcasts</span><br><span class=\"line\">I/System.out: Ringtones</span><br><span class=\"line\">I/System.out: Alarms</span><br><span class=\"line\">I/System.out: Notifications</span><br><span class=\"line\">I/System.out: Pictures</span><br><span class=\"line\">I/System.out: Movies</span><br><span class=\"line\">I/System.out: Download</span><br><span class=\"line\">I/System.out: DCIM</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"‰∏ÄÁï™„ÅÑ„ÅÑÔºü‚ÜíIntent-ACTION-OPEN-DOCUMENT-TREE\"><a href=\"#‰∏ÄÁï™„ÅÑ„ÅÑÔºü‚ÜíIntent-ACTION-OPEN-DOCUMENT-TREE\" class=\"headerlink\" title=\"‰∏ÄÁï™„ÅÑ„ÅÑÔºü‚ÜíIntent.ACTION_OPEN_DOCUMENT_TREE\"></a>‰∏ÄÁï™„ÅÑ„ÅÑÔºü‚ÜíIntent.ACTION_OPEN_DOCUMENT_TREE</h1><h2 id=\"„Åì„Çå„ÅØ„Å™„Å´Ôºü\"><a href=\"#„Åì„Çå„ÅØ„Å™„Å´Ôºü\" class=\"headerlink\" title=\"#„Åì„Çå„ÅØ„Å™„Å´Ôºü\"></a>#„Åì„Çå„ÅØ„Å™„Å´Ôºü</h2><p>Ëá™Áî±„Å´„ÅØ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„ÅÑ‰ª£„Çè„Çä„Å´„É¶„Éº„Ç∂„Éº„ÅåÊåáÂÆö„Åó„Åü„Éï„Ç©„É´„ÉÄ„Å´„ÅØ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Çà„Å£„Å¶„ÇÑ„Å§„ÄÇ<br>ÂÜôÁúü„Ç¢„Éó„É™„Å™„Çì„Å†„Åë„Å©Scoped Storage„Å´‰øùÂ≠ò„Åô„Çã„ÅÆ„Åß„ÅØ„Å™„ÅèPictures„Éï„Ç©„É´„ÉÄ„Å´‰øùÂ≠ò„Åó„Åü„ÅÑ„Çì„Å†„Å£„Å¶ÊôÇ„Å´‰Ωø„ÅÜ„ÄÇ</p>\n<h2 id=\"„Åì„Çå„Çí‰Ωø„ÅÜ„Å®Ôºü\"><a href=\"#„Åì„Çå„Çí‰Ωø„ÅÜ„Å®Ôºü\" class=\"headerlink\" title=\"„Åì„Çå„Çí‰Ωø„ÅÜ„Å®Ôºü\"></a>„Åì„Çå„Çí‰Ωø„ÅÜ„Å®Ôºü</h2><p>ÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÇíÊåáÂÆö„Åô„Çã„Å®<code>Download„Éï„Ç©„É´„ÉÄ</code>„Å®„Åã<code>Pictures„Éï„Ç©„É´„ÉÄ</code>„Å´„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Å°„Çá„Å£„Å®„ÇÑ„Å∞„ÇÅ„ÄÇ<br><strong><del>‰∏ÄÂ∫¶Ë®±ÂèØ„ÇíË≤∞„Åà„Çå„Å∞„Åì„Å£„Å°„ÅÆ„ÇÇ„Çì„Åß„Åô„ÄÇ</del></strong></p>\n<h1 id=\"ÂÆüË£Ö\"><a href=\"#ÂÆüË£Ö\" class=\"headerlink\" title=\"ÂÆüË£Ö\"></a>ÂÆüË£Ö</h1><h2 id=\"„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\"><a href=\"#„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\" class=\"headerlink\" title=\"„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\"></a>„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã</h2><p>app„Éï„Ç©„É´„ÉÄ„Å´„ÅÇ„ÇãÊñπ„ÅÆ<code>build.gradle</code>„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Preference</span></span><br><span class=\"line\">implementation <span class=\"string\">\"androidx.preference:preference:1.1.0\"</span></span><br><span class=\"line\"><span class=\"comment\">// ‚Üì‰∏ÄË°åÊõ∏„ÅçË∂≥„Åô</span></span><br><span class=\"line\">implementation <span class=\"string\">\"androidx.documentfile:documentfile:1.0.1\"</span></span><br></pre></td></tr></table></figure>\n<p>„ÅÇ„Å®Ê•Ω„Åô„Çã„Åü„ÇÅ„Å´Java„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Çí8„Å´„Åó„Åæ„Åô„ÄÇ<br>„Åì„Çå„Å®„Åì„Çå„Å£„Å¶„Å™„Å£„Å¶„Çã„Å®„Åì„Çç„Å≠„ÄÇ</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android &#123;</span><br><span class=\"line\">    compileSdkVersion <span class=\"number\">29</span></span><br><span class=\"line\">    buildToolsVersion <span class=\"string\">\"29.0.3\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">    defaultConfig &#123;</span><br><span class=\"line\">        applicationId <span class=\"string\">\"io.github.takusan23.actionopendocumenttreesample\"</span></span><br><span class=\"line\">        minSdkVersion <span class=\"number\">21</span></span><br><span class=\"line\">        targetSdkVersion <span class=\"number\">29</span></span><br><span class=\"line\">        versionCode <span class=\"number\">1</span></span><br><span class=\"line\">        versionName <span class=\"string\">\"1.0\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">        testInstrumentationRunner <span class=\"string\">\"androidx.test.runner.AndroidJUnitRunner\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    buildTypes &#123;</span><br><span class=\"line\">        release &#123;</span><br><span class=\"line\">            minifyEnabled <span class=\"keyword\">false</span></span><br><span class=\"line\">            proguardFiles getDefaultProguardFile(<span class=\"string\">'proguard-android-optimize.txt'</span>), <span class=\"string\">'proguard-rules.pro'</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// „Åì„Çå„Å®</span></span><br><span class=\"line\">    compileOptions &#123;</span><br><span class=\"line\">        <span class=\"keyword\">targetCompatibility</span> <span class=\"number\">1.8</span></span><br><span class=\"line\">        <span class=\"keyword\">sourceCompatibility</span> <span class=\"number\">1.8</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// „Åì„Çå</span></span><br><span class=\"line\">    kotlinOptions &#123;</span><br><span class=\"line\">        jvmTarget = <span class=\"string\">'1.8'</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"><a href=\"#„É¨„Ç§„Ç¢„Ç¶„Éà\" class=\"headerlink\" title=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"></a>„É¨„Ç§„Ç¢„Ç¶„Éà</h2><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">tools:context</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">EditText</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/editText\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_weight</span>=<span class=\"string\">\"1\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:ems</span>=<span class=\"string\">\"10\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:inputType</span>=<span class=\"string\">\"textPersonName\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/path_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"‰øùÂ≠òÂÖàÊåáÂÆö\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/save_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"‰øùÂ≠ò\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/read_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"Ë™≠„ÅøËæº„Åø\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Ë®±ÂèØ„Çí„ÇÇ„Çâ„ÅÜ\"><a href=\"#Ë®±ÂèØ„Çí„ÇÇ„Çâ„ÅÜ\" class=\"headerlink\" title=\"Ë®±ÂèØ„Çí„ÇÇ„Çâ„ÅÜ\"></a>Ë®±ÂèØ„Çí„ÇÇ„Çâ„ÅÜ</h2><p>takePersistableUriPermission()„ÅåÂ§ß‰∫ãÔºü</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">val</span> REQUEST_CODE = <span class=\"number\">816</span></span><br><span class=\"line\"><span class=\"keyword\">lateinit</span> <span class=\"keyword\">var</span> prefSetting: SharedPreferences</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\"></span><br><span class=\"line\">    setContentView(R.layout.activity_main)</span><br><span class=\"line\">    prefSetting = PreferenceManager.getDefaultSharedPreferences(<span class=\"keyword\">this</span>)</span><br><span class=\"line\">    path_button.setOnClickListener &#123;</span><br><span class=\"line\">        <span class=\"comment\">// „É¶„Éº„Ç∂„Éº„Å´„Ç¢„Éó„É™„Åß‰Ωø„Å£„Å¶„ÅÑ„ÅÑ„Éï„Ç©„É´„ÉÄ„ÇíÈÅ∏„Çì„Åß„ÇÇ„Çâ„ÅÜ„ÄÇ</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)</span><br><span class=\"line\">        startActivityForResult(intent, REQUEST_CODE)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onActivityResult</span><span class=\"params\">(requestCode: <span class=\"type\">Int</span>, resultCode: <span class=\"type\">Int</span>, <span class=\"keyword\">data</span>: <span class=\"type\">Intent</span>?)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onActivityResult(requestCode, resultCode, <span class=\"keyword\">data</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (requestCode == REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// „É™„ÇØ„Ç®„Çπ„Éà„Ç≥„Éº„Éâ„Åå‰∏ÄËá¥&amp;ÊàêÂäü„ÅÆ„Å®„Åç</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> uri = <span class=\"keyword\">data</span>?.<span class=\"keyword\">data</span> ?: <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"comment\">// Uri„ÅØÂÜçËµ∑„Åô„Çã„Å®‰Ωø„Åà„Å™„Åè„Å™„Çã„ÅÆ„ÅßÂØæÁ≠ñ</span></span><br><span class=\"line\">        contentResolver.takePersistableUriPermission(</span><br><span class=\"line\">            uri,</span><br><span class=\"line\">            Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION</span><br><span class=\"line\">        )</span><br><span class=\"line\">        <span class=\"comment\">// Uri‰øùÂ≠ò„ÄÇ„Åì„Çå„Åß„Ç¢„Éó„É™ÂÜçËµ∑ÂãïÂæå„ÇÇ‰Ωø„Åà„Åæ„Åô„ÄÇ</span></span><br><span class=\"line\">        prefSetting.edit &#123;</span><br><span class=\"line\">            putString(<span class=\"string\">\"uri\"</span>, uri.toString())</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßÂÆüË°å„Åó„Å¶„Äå‰øùÂ≠òÂÖàÊåáÂÆö„Äç„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶‰øùÂ≠òÂÖà„ÇíÈÅ∏„Å≥„Åæ„Åô„ÄÇ  </p>\n<img src=\"/Bibouroku/2020/04/19/Android11-DP2-%E3%81%A7%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BF%9D%E5%AD%98%E3%81%BE%E3%81%A8%E3%82%81/kyoka_1.png\" class=\"\" title=\"Ë®±ÂèØ\">  \n<p>Ë®±ÂèØ„Åó„Åæ„Åô  </p>\n<img src=\"/Bibouroku/2020/04/19/Android11-DP2-%E3%81%A7%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BF%9D%E5%AD%98%E3%81%BE%E3%81%A8%E3%82%81/kyoka_2.png\" class=\"\" title=\"„ÉÄ„Ç§„Ç¢„É≠„Ç∞\">  \n\n<h2 id=\"‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„ÇíÂÆüË£Ö„Åô„Çã\"><a href=\"#‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„ÇíÂÆüË£Ö„Åô„Çã\" class=\"headerlink\" title=\"‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„ÇíÂÆüË£Ö„Åô„Çã\"></a>‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„ÇíÂÆüË£Ö„Åô„Çã</h2><p>ÊúÄÁµÇÁöÑ„ÅÆ<code>MainActivity.kt</code>„ÅØ„Åì„ÅÜ„Åß„ÅôÔºÅ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">val</span> REQUEST_CODE = <span class=\"number\">816</span></span><br><span class=\"line\">    <span class=\"keyword\">lateinit</span> <span class=\"keyword\">var</span> prefSetting: SharedPreferences</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        prefSetting = PreferenceManager.getDefaultSharedPreferences(<span class=\"keyword\">this</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        path_button.setOnClickListener &#123;</span><br><span class=\"line\">            <span class=\"comment\">// „É¶„Éº„Ç∂„Éº„Å´„Ç¢„Éó„É™„Åß‰Ωø„Å£„Å¶„ÅÑ„ÅÑ„Éï„Ç©„É´„ÉÄ„ÇíÈÅ∏„Çì„Åß„ÇÇ„Çâ„ÅÜ„ÄÇ</span></span><br><span class=\"line\">            <span class=\"keyword\">val</span> intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)</span><br><span class=\"line\">            startActivityForResult(intent, REQUEST_CODE)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ‰øùÂ≠ò„Éú„Çø„É≥</span></span><br><span class=\"line\">        save_button.setOnClickListener &#123;</span><br><span class=\"line\">            saveFile()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Ë™≠„ÅøËæº„Åø„Éú„Çø„É≥</span></span><br><span class=\"line\">        read_button.setOnClickListener &#123;</span><br><span class=\"line\">            readFile()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onActivityResult</span><span class=\"params\">(requestCode: <span class=\"type\">Int</span>, resultCode: <span class=\"type\">Int</span>, <span class=\"keyword\">data</span>: <span class=\"type\">Intent</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onActivityResult(requestCode, resultCode, <span class=\"keyword\">data</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (requestCode == REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// „É™„ÇØ„Ç®„Çπ„Éà„Ç≥„Éº„Éâ„Åå‰∏ÄËá¥&amp;ÊàêÂäü„ÅÆ„Å®„Åç</span></span><br><span class=\"line\">            <span class=\"keyword\">val</span> uri = <span class=\"keyword\">data</span>?.<span class=\"keyword\">data</span> ?: <span class=\"keyword\">return</span></span><br><span class=\"line\">            <span class=\"comment\">// Uri„ÅØÂÜçËµ∑„Åô„Çã„Å®‰Ωø„Åà„Å™„Åè„Å™„Çã„ÅÆ„ÅßÂØæÁ≠ñ</span></span><br><span class=\"line\">            contentResolver.takePersistableUriPermission(</span><br><span class=\"line\">                uri,</span><br><span class=\"line\">                Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION</span><br><span class=\"line\">            )</span><br><span class=\"line\">            <span class=\"comment\">// Uri‰øùÂ≠ò„ÄÇ„Åì„Çå„Åß„Ç¢„Éó„É™ÂÜçËµ∑ÂãïÂæå„ÇÇ‰Ωø„Åà„Åæ„Åô„ÄÇ</span></span><br><span class=\"line\">            prefSetting.edit &#123;</span><br><span class=\"line\">                putString(<span class=\"string\">\"uri\"</span>, uri.toString())</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// „Éï„Ç°„Ç§„É´‰øùÂ≠ò</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">saveFile</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">val</span> uri = prefSetting.getString(<span class=\"string\">\"uri\"</span>, <span class=\"string\">\"\"</span>)?.toUri() ?: <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"comment\">// „Éï„Ç°„Ç§„É´Êìç‰Ωú</span></span><br><span class=\"line\">        DocumentFile.fromTreeUri(<span class=\"keyword\">this</span>, uri)?.apply &#123;</span><br><span class=\"line\">            <span class=\"comment\">// „ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´</span></span><br><span class=\"line\">            <span class=\"keyword\">val</span> textFile = <span class=\"keyword\">if</span> (findFile(<span class=\"string\">\"test.txt\"</span>)?.exists() == <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// „Åô„Åß„Å´‰ΩúÊàêÊ∏à„Åø</span></span><br><span class=\"line\">                findFile(<span class=\"string\">\"test.txt\"</span>) ?: <span class=\"keyword\">return</span><span class=\"symbol\">@apply</span></span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// „Åæ„Å†„Å™„ÅÑ„ÅÆ„ÅßÊñ∞Ë¶è‰ΩúÊàê</span></span><br><span class=\"line\">                createFile(<span class=\"string\">\"text/plain\"</span>, <span class=\"string\">\"test.txt\"</span>) ?: <span class=\"keyword\">return</span><span class=\"symbol\">@apply</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// Êõ∏„ÅçËæº„ÇÄ</span></span><br><span class=\"line\">            contentResolver.openOutputStream(textFile.uri)?.apply &#123;</span><br><span class=\"line\">                <span class=\"comment\">// Activity„Å´ÁΩÆ„ÅÑ„ÅüTextEdit„ÅÆ„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó</span></span><br><span class=\"line\">                write(editText.text?.toString()?.toByteArray())</span><br><span class=\"line\">                close()</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// „Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„Åø</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">readFile</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">val</span> uri = prefSetting.getString(<span class=\"string\">\"uri\"</span>, <span class=\"string\">\"\"</span>)?.toUri() ?: <span class=\"keyword\">return</span></span><br><span class=\"line\">        <span class=\"comment\">// „Éï„Ç°„Ç§„É´Êìç‰Ωú</span></span><br><span class=\"line\">        DocumentFile.fromTreeUri(<span class=\"keyword\">this</span>, uri)?.apply &#123;</span><br><span class=\"line\">            <span class=\"comment\">// „ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´Âèñ„ÇäÂá∫„Åó</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (findFile(<span class=\"string\">\"test.txt\"</span>)?.exists() == <span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// „Å™„Åë„Çå„Å∞ÁµÇ‰∫Ü</span></span><br><span class=\"line\">                <span class=\"keyword\">return</span><span class=\"symbol\">@apply</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">val</span> textFile = findFile(<span class=\"string\">\"test.txt\"</span>) ?: <span class=\"keyword\">return</span><span class=\"symbol\">@apply</span></span><br><span class=\"line\">            <span class=\"comment\">// „ÉÜ„Ç≠„Çπ„ÉàÂèñ„ÇäÂá∫„Åô</span></span><br><span class=\"line\">            <span class=\"keyword\">val</span> text = contentResolver.openInputStream(textFile.uri)?.bufferedReader()?.readLine()</span><br><span class=\"line\">            editText.setText(text)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„Åß‰øùÂ≠ò„ÄÅË™≠„ÅøËæº„Åø„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ„ÇÑ„Å£„Åü„Éº  </p>\n<img src=\"/Bibouroku/2020/04/19/Android11-DP2-%E3%81%A7%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BF%9D%E5%AD%98%E3%81%BE%E3%81%A8%E3%82%81/filer.png\" class=\"\" title=\"„Åµ„ÅÅ„ÅÑ„Çâ„Éº\">  \n\n<h2 id=\"„Åì„Çå„ÅßÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆ„Éë„Çπ„ÇíÊåáÂÆö„Åô„Çã„Å®„Éª„ÉªÔºü\"><a href=\"#„Åì„Çå„ÅßÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆ„Éë„Çπ„ÇíÊåáÂÆö„Åô„Çã„Å®„Éª„ÉªÔºü\" class=\"headerlink\" title=\"„Åì„Çå„ÅßÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆ„Éë„Çπ„ÇíÊåáÂÆö„Åô„Çã„Å®„Éª„ÉªÔºü\"></a>„Åì„Çå„ÅßÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆ„Éë„Çπ„ÇíÊåáÂÆö„Åô„Çã„Å®„Éª„ÉªÔºü</h2><p>„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÅÆ„Éï„Ç©„É´„ÉÄ„Å´„ÇÇ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">val</span> uri = prefSetting.getString(<span class=\"string\">\"uri\"</span>, <span class=\"string\">\"\"</span>)?.toUri() ?: <span class=\"keyword\">return</span></span><br><span class=\"line\"><span class=\"comment\">// „Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÅÆÂêçÂâç„ÇíË°®Á§∫„Åï„Åõ„Çã</span></span><br><span class=\"line\">DocumentFile.fromTreeUri(<span class=\"keyword\">this</span>, uri)?.apply &#123;</span><br><span class=\"line\">findFile(<span class=\"string\">\"Pictures\"</span>)?.findFile(<span class=\"string\">\"Screenshots\"</span>)?.listFiles()?.forEach &#123;</span><br><span class=\"line\">            println(it.name)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Android-11-DP2-„ÅÆ‰ªïÊßòÔºü\"><a href=\"#Android-11-DP2-„ÅÆ‰ªïÊßòÔºü\" class=\"headerlink\" title=\"Android 11 DP2 „ÅÆ‰ªïÊßòÔºü\"></a>Android 11 DP2 „ÅÆ‰ªïÊßòÔºü</h2><p>SD„Ç´„Éº„Éâ„Å´‰øùÂ≠ò„Åô„ÇãÊâãÊÆµ„Å†„Å£„Åü„Çâ„Åó„ÅÑ„Åë„Å©Android 11„Åã„Çâ„Åì„ÅÆÊñπÊ≥ï„ÅßSD„Ç´„Éº„Éâ„ÅÆÂ†¥ÊâÄ„ÇíÊåáÂÆö„Åô„Çã„ÅÆ„ÅØ„Åß„Åç„Å™„Åè„Å™„Çã„Çâ„Åó„ÅÑ„Åû„ÄÇ</p>\n<p>‰∏ÄÂøú„ÇΩ„Éº„Çπ„Ç≥„Éº„ÉâÁΩÆ„ÅÑ„Å¶„Åä„Åç„Åæ„Åô„Å≠‚Üì<br><a href=\"https://github.com/takusan23/ActionOpenDocumentTreeSample\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/ActionOpenDocumentTreeSample</a></p>\n<h1 id=\"Scoped-Storage„Åß‰øùÂ≠ò\"><a href=\"#Scoped-Storage„Åß‰øùÂ≠ò\" class=\"headerlink\" title=\"Scoped Storage„Åß‰øùÂ≠ò\"></a>Scoped Storage„Åß‰øùÂ≠ò</h1><p>Scoped Storage„ÅÆ„Éë„Çπ„ÅØ‰ª•‰∏ã„ÅÆÈñ¢Êï∞„ÅßÂèñ„Çå„Åæ„Åô„ÄÇÔºà„Ç≠„É£„ÉÉ„Ç∑„É•Á≥ª„ÅØÁúÅ„Åè„ÅúÔºâ<br>„Åì„ÅÆÔºí„Å§„ÅØScoped Storage„Å™„Éï„Ç©„É´„ÉÄ„ÅÆ„Éë„Çπ„Å™„ÅÆ„ÅßÊ®©ÈôêÁÑ°„Åó„ÅßFile„ÇØ„É©„Çπ„ÅßË™≠„ÅøÊõ∏„Åç„Åß„Åç„Åæ„Åô„ÄÇÔºàKotlin„Å†„Å®Êã°ÂºµÈñ¢Êï∞„ÅßÂπ∏„Åõ„Å´„Å™„Çå„Çã„ÄÇÔºâ</p>\n<ul>\n<li><code>getExternalFilesDir(null)?.path</code><ul>\n<li><code>/storage/emulated/0/Android/data/io.github.takusan23.scopedstoragesample/files</code></li>\n<li>„Éá„Éº„Çø„ÅØ„Ç¢„É≥„Ç§„É≥„Çπ„Éà„Éº„É´ÊôÇ„Å´ÂâäÈô§„Åï„Çå„Åæ„Åô„ÄÇ</li>\n</ul>\n</li>\n<li><code>externalMediaDirs[0].path</code><ul>\n<li><code>/storage/emulated/0/Android/media/io.github.takusan23.scopedstoragesample</code></li>\n<li>„Éá„Éº„Çø„ÅØ„Ç¢„É≥„Ç§„É≥„Çπ„Éà„Éº„É´ÊôÇ„Å´ÂâäÈô§„Åï„Çå„Åæ„Åô„ÄÇ</li>\n<li>MediaStore„ÅÆ„Çπ„Ç≠„É£„É≥„Å´ÂØæÂøú„Åó„Å¶„Çã„ÅÆ„Åß‰ªñ„ÅÆ„Ç¢„Éó„É™„Åß„ÇÇÂà©Áî®„Åß„Åç„ÇãÔºü<ul>\n<li><del>Google„Éï„Ç©„Éà„ÅÆÊñ∞„Åó„ÅÑ„Éï„Ç©„É´„ÉÄË¶ã„Å§„Åë„Åü„ÇàÔºÅ„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Åô„ÇãÔºü„ÅÆ„ÇÑ„Å§„Å´Ë™çÁü•„Åï„Çå„Çã„ÅÆ„ÅØ„Åì„Çå„Å†„Å£„Åë„ÄÇ</del></li>\n<li>Android 11 DP2„ÅßÊ§úË®º„Åß„Åç„Å™„Åã„Å£„Åü„ÄÇ„Åî„ÇÅ„Çì„ÄÇ</li>\n</ul>\n</li>\n<li><strong>Android RÔºà11Ôºâ„Åã„ÇâÈùûÊé®Â•®„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ„Åß„ÇÇ‰Ωø„Åà„Çã„Å£„ÅΩ„ÅÑ„ÄÇ<del>‰ΩôË®à„Å™„Åì„Å®„Åô„Çã„Å™„Çà</del></strong></li>\n</ul>\n</li>\n</ul>\n<p>‰∏°ËÄÖÂÖ±„Å´„Éï„Ç°„Ç§„É´„Éë„Çπ„ÅåÈï∑„ÅÑ/„Ç¢„É≥„Ç§„É≥„Çπ„Éà„Éº„É´ÊôÇ„Å´„Éá„Éº„Çø„ÇíÊ∂à„Åô„ÅÆ„ÅåÁâπÂæ¥„ÄÇ  </p>\n<p>‰ª•‰∏ãÊõ∏„ÅçËæº„Åø„Çµ„É≥„Éó„É´„Åß„Åô„ÄÇ<br>Kotlin„ÅÆÊã°ÂºµÈñ¢Êï∞ÔºàwriteText()„Å®„ÅãÔºâ„Åß„Çâ„Åè„Çâ„Åè„ÉÜ„Ç≠„Çπ„Éà‰øùÂ≠ò„ÄÇ</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">tools:context</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">EditText</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/editText\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_weight</span>=<span class=\"string\">\"1\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:ems</span>=<span class=\"string\">\"10\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:inputType</span>=<span class=\"string\">\"textPersonName\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/save_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"‰øùÂ≠ò\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/read_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"Ë™≠„ÅøËæº„Åø\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\">        </span><br><span class=\"line\">        save_button.setOnClickListener &#123;</span><br><span class=\"line\">            saveFile()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        read_button.setOnClickListener &#123;</span><br><span class=\"line\">            readFile()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">saveFile</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        File(<span class=\"string\">\"<span class=\"subst\">$&#123;externalMediaDirs[<span class=\"number\">0</span>].path&#125;</span>/test.txt\"</span>).apply &#123;</span><br><span class=\"line\">            createNewFile()</span><br><span class=\"line\">            writeText(editText.text.toString())</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">readFile</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        File(<span class=\"string\">\"<span class=\"subst\">$&#123;externalMediaDirs[<span class=\"number\">0</span>].path&#125;</span>/test.txt\"</span>).apply &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (exists()) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">val</span> text = readText()</span><br><span class=\"line\">                editText.setText(text)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Android-11-DP2-„ÅÆ‰ªïÊßòÔºü-1\"><a href=\"#Android-11-DP2-„ÅÆ‰ªïÊßòÔºü-1\" class=\"headerlink\" title=\"Android 11 DP2 „ÅÆ‰ªïÊßòÔºü\"></a>Android 11 DP2 „ÅÆ‰ªïÊßòÔºü</h2><p>„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„ÉºÔºàFiles„Ç¢„Éó„É™„Å®„ÅãÔºâ„Åã„ÇâË¶ã„Çå„Å™„Åè„Å™„Å£„Åü„ÄÇ<br>USBÊé•Á∂ö„Åó„Å¶„Éë„ÇΩ„Ç≥„É≥„ÅßË¶ã„Çã„ÅãAndroid Studio„ÅÆDevice Explorer„Çí‰Ωø„ÅÜ„Åó„Åã„Å™„ÅÑÔºü</p>\n<h2 id=\"„Å°„Å™„Åø„Å´\"><a href=\"#„Å°„Å™„Åø„Å´\" class=\"headerlink\" title=\"„Å°„Å™„Åø„Å´\"></a>„Å°„Å™„Åø„Å´</h2><p>„Éâ„Ç≠„É•„É°„É≥„Éà„Å®„ÅãÈñ¢Êï∞Âêç„Å®„Åã„Å´ExternalÔºàÊó•Êú¨Ë™ûÔºöÂ§ñÈÉ®Ôºâ„Å£„Å¶„ÅÑ„ÅÜÊñáÂ≠óÂàó„Åå„ÅÇ„Çã„Å®Â§ñÈÉ®„Çπ„Éà„É¨„Éº„Ç∏„ÅÆSD„Ç´„Éº„Éâ„ÅÆ„Åì„Å®„Å†„Å®ÊÄù„Å£„Å°„ÇÉ„ÅÜ„Åë„Å©ÂÆü„ÅØÈÅï„Å£„Å¶„ÄÅ<br>„Ç¢„Éó„É™Ëá™Ë∫´„Å®rootÊ®©Èôê„ÅÆ„ÅÇ„ÇãÁí∞Â¢ÉÔºü„Åß„Åó„Åã„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„ÅÑ„Éë„Çπ„ÇíËøî„ÅôÈñ¢Êï∞<code>getFilesDir()</code>„ÅÆÂ†¥ÊâÄ„ÅÆ„Åì„Å®„Çí<strong>ÂÜÖÈÉ®„Çπ„Éà„É¨„Éº„Ç∏</strong>„Å®„Åó„Å¶„ÅÑ„Çã„Çâ„Åó„Åè„Å¶„ÄÅ<br>„Åù„Çå‰ª•Â§ñ„ÅåÂ§ñÈÉ®Êâ±„ÅÑ„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅßExternal„Å£„Å¶ÊñáÂ≠óÂàó„Åå‰Ωø„Çè„Çå„Å¶„ÅÑ„Çã„Çì„Å†„Å£„Å¶„ÄÇ<br>„Çè„Åã„Çâ„Çì„Çè„ÄÇ</p>\n<h1 id=\"Storage-Access-Framework-„Åß‰øùÂ≠ò\"><a href=\"#Storage-Access-Framework-„Åß‰øùÂ≠ò\" class=\"headerlink\" title=\"Storage Access Framework „Åß‰øùÂ≠ò\"></a>Storage Access Framework „Åß‰øùÂ≠ò</h1><p>Â•Ω„Åç„Å™Â†¥ÊâÄ„Å´‰øùÂ≠ò„Åó„Åü„ÅÑ„Å®„Åç„ÅØ„Åì„Çå„Çí‰Ωø„Åà„Å£„Å¶<br>„Éï„Ç°„Ç§„É´ÈÅ∏ÊäûÁîªÈù¢„Åø„Åü„ÅÑ„Å™UI„Åß„Éï„Ç°„Ç§„É´„ÅÆ‰øùÂ≠òÂÖà„ÇíÈÅ∏„Çì„Åß‰øùÂ≠ò„Åó„Åü„ÅÇ„Å®„ÄÅ<code>onActivityResult</code>„ÅßUri„ÇíÂèó„ÅëÂèñ„Çä<code>openOutputStream</code>„Çí‰Ωø„Å£„Å¶Êõ∏„ÅçËæº„ÇÄ„Çâ„Åó„ÅÑ„Åß„Åô„ÄÇ</p>\n<p>‰ª•‰∏ã„Ç≥„Éº„Éâ</p>\n<p>„É¨„Ç§„Ç¢„Ç¶„Éà„ÅØ‰∏ä„ÅÆScoped Storage„Çí‰Ωø„ÅÑÂõû„Åô„ÄÇ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> REQUEST_CODE = <span class=\"number\">810</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        save_button.setOnClickListener &#123;</span><br><span class=\"line\">            openSAF()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">openSAF</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">val</span> intent = Intent(Intent.ACTION_CREATE_DOCUMENT).apply &#123;</span><br><span class=\"line\">            type = <span class=\"string\">\"text/*\"</span></span><br><span class=\"line\">            putExtra(Intent.EXTRA_TITLE, <span class=\"string\">\"test.txt\"</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        startActivityForResult(intent, REQUEST_CODE)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onActivityResult</span><span class=\"params\">(requestCode: <span class=\"type\">Int</span>, resultCode: <span class=\"type\">Int</span>, <span class=\"keyword\">data</span>: <span class=\"type\">Intent</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onActivityResult(requestCode, resultCode, <span class=\"keyword\">data</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (requestCode == REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// Êõ∏„ÅçËæº„ÇÄ</span></span><br><span class=\"line\">            <span class=\"keyword\">val</span> uri = <span class=\"keyword\">data</span>?.<span class=\"keyword\">data</span> ?: <span class=\"keyword\">return</span></span><br><span class=\"line\">            contentResolver.openOutputStream(uri)?.apply &#123;</span><br><span class=\"line\">                write(editText.text.toString().toByteArray())</span><br><span class=\"line\">                close()</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>„Åì„Çå‰Ωø„Åà„Å∞<code>Download„Éï„Ç©„É´„ÉÄ</code>„Å†„Çç„ÅÜ„Å®Ëá™Áî±„Å´‰øùÂ≠ò„Åß„Åç„Åæ„Åô„ÄÇ‰øùÂ≠ò„Åô„Çã„Å®„Åç„Å´„ÅÑ„Å°„ÅÑ„Å°‰øùÂ≠òÂÖà„ÇíÈÅ∏„Å∂ÂøÖË¶Å„Åå„ÅÇ„Å£„Å¶‰Ωø„ÅÑ„Å´„Åè„ÅÑ„Åë„Å©„ÄÇ</p>\n<p>„Åì„Çå„Åå‰øùÂ≠òÁîªÈù¢„Åß„ÄÅ‰øùÂ≠òÂÖà„ÇíÈÅ∏„Å∂„ÄÇ</p>\n<img src=\"/Bibouroku/2020/04/19/Android11-DP2-%E3%81%A7%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BF%9D%E5%AD%98%E3%81%BE%E3%81%A8%E3%82%81/save.png\" class=\"\" title=\"SAF\">\n\n<p>„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„Éº„ÅßË¶ã„Çã„Å®„Å°„ÇÉ„Çì„Å®‰ΩúÊàê„Åï„Çå„Å¶„ÅÑ„Çã„Åì„Å®„Åå„Çè„Åã„Çã„ÄÇ</p>\n<img src=\"/Bibouroku/2020/04/19/Android11-DP2-%E3%81%A7%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BF%9D%E5%AD%98%E3%81%BE%E3%81%A8%E3%82%81/list.png\" class=\"\" title=\"List\">\n\n<p><strong>„ÇÅÔºÅ„ÇìÔºÅ„Å©ÔºÅ„ÅÑÔºÅ</strong></p>\n"},{"_content":"Android 11„Åã„Çâ„Çπ„Éà„É¨„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊ®©Èôê„Åå„ÅÇ„Çå„Å∞Áîü„Éë„Çπ„ÅßFile„Åå‰Ωø„Åà„Çã„ÄÇ\n\n„ÅÇ„Å®Toast„Å´„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅåËøΩÂä†„Åï„Çå„Å¶„Åü„ÄÇ‰Ωø„ÅÜ„ÅÆÔºü","source":"_posts/Android11„Å®„Åã.md","raw":"Android 11„Åã„Çâ„Çπ„Éà„É¨„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊ®©Èôê„Åå„ÅÇ„Çå„Å∞Áîü„Éë„Çπ„ÅßFile„Åå‰Ωø„Åà„Çã„ÄÇ\n\n„ÅÇ„Å®Toast„Å´„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅåËøΩÂä†„Åï„Çå„Å¶„Åü„ÄÇ‰Ωø„ÅÜ„ÅÆÔºü","slug":"Android11„Å®„Åã","published":1,"date":"2020-04-05T16:27:15.554Z","updated":"2020-04-05T16:27:15.587Z","title":"Android11„Å®„Åã","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgk0004h8vu9e1m42ln","content":"<p>Android 11„Åã„Çâ„Çπ„Éà„É¨„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊ®©Èôê„Åå„ÅÇ„Çå„Å∞Áîü„Éë„Çπ„ÅßFile„Åå‰Ωø„Åà„Çã„ÄÇ</p>\n<p>„ÅÇ„Å®Toast„Å´„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅåËøΩÂä†„Åï„Çå„Å¶„Åü„ÄÇ‰Ωø„ÅÜ„ÅÆÔºü</p>\n","site":{"data":{}},"excerpt":"","more":"<p>Android 11„Åã„Çâ„Çπ„Éà„É¨„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊ®©Èôê„Åå„ÅÇ„Çå„Å∞Áîü„Éë„Çπ„ÅßFile„Åå‰Ωø„Åà„Çã„ÄÇ</p>\n<p>„ÅÇ„Å®Toast„Å´„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ„ÅåËøΩÂä†„Åï„Çå„Å¶„Åü„ÄÇ‰Ωø„ÅÜ„ÅÆÔºü</p>\n"},{"title":"Android„ÅÆRipple„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Åå„Åã„Åè„Åã„Åè„Å´„Å™„Çã„ÅÆ„ÇíÁõ¥„Åô","date":"2020-05-02T17:42:37.000Z","_content":"\n# Êú¨È°å\nRippleÔºà„Éú„Çø„É≥Êäº„Åó„Åü„Å®„Åç„Å´„Å∂„ÅÇ„Éº„Å£„Å¶„Å™„Çã„ÅÇ„ÇåÔºâ„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅåÂõ∫„Åæ„Çã„ÄÇ  \n‚Üì„Åì„Çå„Çπ„ÇØ„Ç∑„Éß„Å†„Åã„ÇâÊ≠¢„Åæ„Å£„Å¶„Çã„Åë„Å©„ÄÅÂÆüÈöõ„Å´Êäº„Åó„Å¶„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Åï„Åõ„Å¶„ÇÇ„Å™„Çì„Åã‰∏≠ÈÄîÂçäÁ´Ø„Å´„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅåÊ≠¢„Åæ„Çã„Çì„Å†„Çà„Å≠„ÄÇ\n\n{% asset_img ripple.png ripple %}\n\n# ÂéüÂõ†\n`addOnGlobalLayoutListener`„ÅÆ‰∏≠„Åß`LayoutParams`„Çí‰Ωø„Å£„Å¶„Çµ„Ç§„Ç∫Â§âÊõ¥„Åô„Çã„Å®„Å™„Çì„ÅãRipple„Åå„ÅÜ„Åæ„ÅèÂãï„Åã„Å™„Åè„Å™„Çã„ÄÇ\n\n„Åì„Çå„ÅåÂÆüÈöõ„ÅÆÈÉ®ÂàÜ‚ÜìÔºà„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆID„Å®„ÅãgetAspectHeightFromWidth„Å®„Åã„Å™„ÅÑ„Åë„Å©„ÅÇ„Çã„Å£„Å¶„Åì„Å®„ÅßË™≠„Çì„ÅßÔºâ\n\n```kotlin\nfragment_nicovideo_framelayout.viewTreeObserver.addOnGlobalLayoutListener {\n    val width = fragment_nicovideo_framelayout.width\n    val height = getAspectHeightFromWidth(width)\n    val params = LinearLayout.LayoutParams(width, height)\n    fragment_nicovideo_framelayout.layoutParams = params\n}\n```\n\n„Åì„Çå„ÅØÊ®™„ÅÆÂ§ß„Åç„Åï„ÅåÂàÜ„Åã„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅßÂæå„ÅØË®àÁÆó„ÅßÁ∏¶„ÇíÂá∫„Åó„Å¶„Çµ„Ç§„Ç∫Â§âÊõ¥„Çí„Åó„Å¶„ÅÑ„Çã„Çì„Åß„Åô„Åå„ÄÅ`View#getWidth()`„Åå„Äå0„Äç„ÇíËøî„Åô„Çì„Åß„Åô„Çà„ÄÇÔºà0‰ª•‰∏ä„ÅÆ„Çµ„Ç§„Ç∫„Å™„ÅÆ„Å´ÔºÅÔºâ  \n„Åù„Åì„Åß`addOnGlobalLayoutListener`„ÅÆÁôªÂ†¥„Åß„Åô„ÄÇ  \n„Åì„ÅÆ‰∏≠„Åß`View#getWidth()`„ÇíÂëº„Å∂„Åì„Å®„Åß„Å°„ÇÉ„Çì„Å®„Åó„ÅüÊ®™„ÅÆÈï∑„Åï„ÅåÂ∏∞„Å£„Å¶„Åç„Åæ„Åô„ÄÇ\n\n„Åß„ÄÅ„Å™„Åú„Åã„ÅØÁü•„Çä„Åæ„Åõ„Çì„Åå„Åì„ÅÆÊñπÊ≥ï„Åß„Çµ„Ç§„Ç∫Â§âÊõ¥„Çí„Åô„Çã„Å®Ripple„ÅåÊéõ„Åã„Çä„Åæ„Åõ„Çì„ÄÇ„ÅØ„Éºü§î\n\n# Ëß£Ê±∫\n‰ªäÂõûÊ¨≤„Åó„Åã„Å£„Åü„ÅÆ„ÅØ**View„ÅÆÊ®™„ÅÆÈï∑„Åï**„Åß„ÅØ„Å™„Åè**ÁîªÈù¢„ÅÆÊ®™„ÅÆÈï∑„Åï**„ÅÆÂÄ§„Å™„ÅÆ„Åß‰ª•‰∏ã„ÅÆÊñπÊ≥ï„ÅßÁîªÈù¢„ÅÆÊ®™„ÅÆÈï∑„Åï„ÇíÂèñÂæó„Åß„Åç„Åæ„Åô„ÄÇ\n\n```kotlin\nval display = activity?.windowManager?.defaultDisplay\nval point = Point()\ndisplay?.getSize(point)\n// Ê®™„ÅÆÈï∑„Åï\nval width = point.x\n```\n\n# ‰ª•‰∏ä„Åß„Åô\nÂéüÂõ†„Åå„Å™„Åã„Å™„Åã„Çè„Åã„Çâ„Å™„Åè„Å¶„Å§„Çâ„Åã„Å£„Åü„ÄÇ","source":"_posts/Android„ÅÆRipple„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Åå„Åã„Åè„Åã„Åè„Å´„Å™„Çã„ÅÆ„ÇíÁõ¥„Åô.md","raw":"---\ntitle: Android„ÅÆRipple„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Åå„Åã„Åè„Åã„Åè„Å´„Å™„Çã„ÅÆ„ÇíÁõ¥„Åô\ndate: 2020-05-03 02:42:37\ntags:\n- Android\n---\n\n# Êú¨È°å\nRippleÔºà„Éú„Çø„É≥Êäº„Åó„Åü„Å®„Åç„Å´„Å∂„ÅÇ„Éº„Å£„Å¶„Å™„Çã„ÅÇ„ÇåÔºâ„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅåÂõ∫„Åæ„Çã„ÄÇ  \n‚Üì„Åì„Çå„Çπ„ÇØ„Ç∑„Éß„Å†„Åã„ÇâÊ≠¢„Åæ„Å£„Å¶„Çã„Åë„Å©„ÄÅÂÆüÈöõ„Å´Êäº„Åó„Å¶„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Åï„Åõ„Å¶„ÇÇ„Å™„Çì„Åã‰∏≠ÈÄîÂçäÁ´Ø„Å´„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅåÊ≠¢„Åæ„Çã„Çì„Å†„Çà„Å≠„ÄÇ\n\n{% asset_img ripple.png ripple %}\n\n# ÂéüÂõ†\n`addOnGlobalLayoutListener`„ÅÆ‰∏≠„Åß`LayoutParams`„Çí‰Ωø„Å£„Å¶„Çµ„Ç§„Ç∫Â§âÊõ¥„Åô„Çã„Å®„Å™„Çì„ÅãRipple„Åå„ÅÜ„Åæ„ÅèÂãï„Åã„Å™„Åè„Å™„Çã„ÄÇ\n\n„Åì„Çå„ÅåÂÆüÈöõ„ÅÆÈÉ®ÂàÜ‚ÜìÔºà„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆID„Å®„ÅãgetAspectHeightFromWidth„Å®„Åã„Å™„ÅÑ„Åë„Å©„ÅÇ„Çã„Å£„Å¶„Åì„Å®„ÅßË™≠„Çì„ÅßÔºâ\n\n```kotlin\nfragment_nicovideo_framelayout.viewTreeObserver.addOnGlobalLayoutListener {\n    val width = fragment_nicovideo_framelayout.width\n    val height = getAspectHeightFromWidth(width)\n    val params = LinearLayout.LayoutParams(width, height)\n    fragment_nicovideo_framelayout.layoutParams = params\n}\n```\n\n„Åì„Çå„ÅØÊ®™„ÅÆÂ§ß„Åç„Åï„ÅåÂàÜ„Åã„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅßÂæå„ÅØË®àÁÆó„ÅßÁ∏¶„ÇíÂá∫„Åó„Å¶„Çµ„Ç§„Ç∫Â§âÊõ¥„Çí„Åó„Å¶„ÅÑ„Çã„Çì„Åß„Åô„Åå„ÄÅ`View#getWidth()`„Åå„Äå0„Äç„ÇíËøî„Åô„Çì„Åß„Åô„Çà„ÄÇÔºà0‰ª•‰∏ä„ÅÆ„Çµ„Ç§„Ç∫„Å™„ÅÆ„Å´ÔºÅÔºâ  \n„Åù„Åì„Åß`addOnGlobalLayoutListener`„ÅÆÁôªÂ†¥„Åß„Åô„ÄÇ  \n„Åì„ÅÆ‰∏≠„Åß`View#getWidth()`„ÇíÂëº„Å∂„Åì„Å®„Åß„Å°„ÇÉ„Çì„Å®„Åó„ÅüÊ®™„ÅÆÈï∑„Åï„ÅåÂ∏∞„Å£„Å¶„Åç„Åæ„Åô„ÄÇ\n\n„Åß„ÄÅ„Å™„Åú„Åã„ÅØÁü•„Çä„Åæ„Åõ„Çì„Åå„Åì„ÅÆÊñπÊ≥ï„Åß„Çµ„Ç§„Ç∫Â§âÊõ¥„Çí„Åô„Çã„Å®Ripple„ÅåÊéõ„Åã„Çä„Åæ„Åõ„Çì„ÄÇ„ÅØ„Éºü§î\n\n# Ëß£Ê±∫\n‰ªäÂõûÊ¨≤„Åó„Åã„Å£„Åü„ÅÆ„ÅØ**View„ÅÆÊ®™„ÅÆÈï∑„Åï**„Åß„ÅØ„Å™„Åè**ÁîªÈù¢„ÅÆÊ®™„ÅÆÈï∑„Åï**„ÅÆÂÄ§„Å™„ÅÆ„Åß‰ª•‰∏ã„ÅÆÊñπÊ≥ï„ÅßÁîªÈù¢„ÅÆÊ®™„ÅÆÈï∑„Åï„ÇíÂèñÂæó„Åß„Åç„Åæ„Åô„ÄÇ\n\n```kotlin\nval display = activity?.windowManager?.defaultDisplay\nval point = Point()\ndisplay?.getSize(point)\n// Ê®™„ÅÆÈï∑„Åï\nval width = point.x\n```\n\n# ‰ª•‰∏ä„Åß„Åô\nÂéüÂõ†„Åå„Å™„Åã„Å™„Åã„Çè„Åã„Çâ„Å™„Åè„Å¶„Å§„Çâ„Åã„Å£„Åü„ÄÇ","slug":"Android„ÅÆRipple„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Åå„Åã„Åè„Åã„Åè„Å´„Å™„Çã„ÅÆ„ÇíÁõ¥„Åô","published":1,"updated":"2020-05-02T17:57:22.491Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgl0005h8vuebuqh3nt","content":"<h1 id=\"Êú¨È°å\"><a href=\"#Êú¨È°å\" class=\"headerlink\" title=\"Êú¨È°å\"></a>Êú¨È°å</h1><p>RippleÔºà„Éú„Çø„É≥Êäº„Åó„Åü„Å®„Åç„Å´„Å∂„ÅÇ„Éº„Å£„Å¶„Å™„Çã„ÅÇ„ÇåÔºâ„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅåÂõ∫„Åæ„Çã„ÄÇ<br>‚Üì„Åì„Çå„Çπ„ÇØ„Ç∑„Éß„Å†„Åã„ÇâÊ≠¢„Åæ„Å£„Å¶„Çã„Åë„Å©„ÄÅÂÆüÈöõ„Å´Êäº„Åó„Å¶„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Åï„Åõ„Å¶„ÇÇ„Å™„Çì„Åã‰∏≠ÈÄîÂçäÁ´Ø„Å´„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅåÊ≠¢„Åæ„Çã„Çì„Å†„Çà„Å≠„ÄÇ</p>\n<img src=\"/Bibouroku/2020/05/03/Android%E3%81%AERipple%E3%81%AE%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%8C%E3%81%8B%E3%81%8F%E3%81%8B%E3%81%8F%E3%81%AB%E3%81%AA%E3%82%8B%E3%81%AE%E3%82%92%E7%9B%B4%E3%81%99/ripple.png\" class=\"\" title=\"ripple\">\n\n<h1 id=\"ÂéüÂõ†\"><a href=\"#ÂéüÂõ†\" class=\"headerlink\" title=\"ÂéüÂõ†\"></a>ÂéüÂõ†</h1><p><code>addOnGlobalLayoutListener</code>„ÅÆ‰∏≠„Åß<code>LayoutParams</code>„Çí‰Ωø„Å£„Å¶„Çµ„Ç§„Ç∫Â§âÊõ¥„Åô„Çã„Å®„Å™„Çì„ÅãRipple„Åå„ÅÜ„Åæ„ÅèÂãï„Åã„Å™„Åè„Å™„Çã„ÄÇ</p>\n<p>„Åì„Çå„ÅåÂÆüÈöõ„ÅÆÈÉ®ÂàÜ‚ÜìÔºà„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆID„Å®„ÅãgetAspectHeightFromWidth„Å®„Åã„Å™„ÅÑ„Åë„Å©„ÅÇ„Çã„Å£„Å¶„Åì„Å®„ÅßË™≠„Çì„ÅßÔºâ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fragment_nicovideo_framelayout.viewTreeObserver.addOnGlobalLayoutListener &#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> width = fragment_nicovideo_framelayout.width</span><br><span class=\"line\">    <span class=\"keyword\">val</span> height = getAspectHeightFromWidth(width)</span><br><span class=\"line\">    <span class=\"keyword\">val</span> params = LinearLayout.LayoutParams(width, height)</span><br><span class=\"line\">    fragment_nicovideo_framelayout.layoutParams = params</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅØÊ®™„ÅÆÂ§ß„Åç„Åï„ÅåÂàÜ„Åã„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅßÂæå„ÅØË®àÁÆó„ÅßÁ∏¶„ÇíÂá∫„Åó„Å¶„Çµ„Ç§„Ç∫Â§âÊõ¥„Çí„Åó„Å¶„ÅÑ„Çã„Çì„Åß„Åô„Åå„ÄÅ<code>View#getWidth()</code>„Åå„Äå0„Äç„ÇíËøî„Åô„Çì„Åß„Åô„Çà„ÄÇÔºà0‰ª•‰∏ä„ÅÆ„Çµ„Ç§„Ç∫„Å™„ÅÆ„Å´ÔºÅÔºâ<br>„Åù„Åì„Åß<code>addOnGlobalLayoutListener</code>„ÅÆÁôªÂ†¥„Åß„Åô„ÄÇ<br>„Åì„ÅÆ‰∏≠„Åß<code>View#getWidth()</code>„ÇíÂëº„Å∂„Åì„Å®„Åß„Å°„ÇÉ„Çì„Å®„Åó„ÅüÊ®™„ÅÆÈï∑„Åï„ÅåÂ∏∞„Å£„Å¶„Åç„Åæ„Åô„ÄÇ</p>\n<p>„Åß„ÄÅ„Å™„Åú„Åã„ÅØÁü•„Çä„Åæ„Åõ„Çì„Åå„Åì„ÅÆÊñπÊ≥ï„Åß„Çµ„Ç§„Ç∫Â§âÊõ¥„Çí„Åô„Çã„Å®Ripple„ÅåÊéõ„Åã„Çä„Åæ„Åõ„Çì„ÄÇ„ÅØ„Éºü§î</p>\n<h1 id=\"Ëß£Ê±∫\"><a href=\"#Ëß£Ê±∫\" class=\"headerlink\" title=\"Ëß£Ê±∫\"></a>Ëß£Ê±∫</h1><p>‰ªäÂõûÊ¨≤„Åó„Åã„Å£„Åü„ÅÆ„ÅØ<strong>View„ÅÆÊ®™„ÅÆÈï∑„Åï</strong>„Åß„ÅØ„Å™„Åè<strong>ÁîªÈù¢„ÅÆÊ®™„ÅÆÈï∑„Åï</strong>„ÅÆÂÄ§„Å™„ÅÆ„Åß‰ª•‰∏ã„ÅÆÊñπÊ≥ï„ÅßÁîªÈù¢„ÅÆÊ®™„ÅÆÈï∑„Åï„ÇíÂèñÂæó„Åß„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">val</span> display = activity?.windowManager?.defaultDisplay</span><br><span class=\"line\"><span class=\"keyword\">val</span> point = Point()</span><br><span class=\"line\">display?.getSize(point)</span><br><span class=\"line\"><span class=\"comment\">// Ê®™„ÅÆÈï∑„Åï</span></span><br><span class=\"line\"><span class=\"keyword\">val</span> width = point.x</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"‰ª•‰∏ä„Åß„Åô\"><a href=\"#‰ª•‰∏ä„Åß„Åô\" class=\"headerlink\" title=\"‰ª•‰∏ä„Åß„Åô\"></a>‰ª•‰∏ä„Åß„Åô</h1><p>ÂéüÂõ†„Åå„Å™„Åã„Å™„Åã„Çè„Åã„Çâ„Å™„Åè„Å¶„Å§„Çâ„Åã„Å£„Åü„ÄÇ</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"Êú¨È°å\"><a href=\"#Êú¨È°å\" class=\"headerlink\" title=\"Êú¨È°å\"></a>Êú¨È°å</h1><p>RippleÔºà„Éú„Çø„É≥Êäº„Åó„Åü„Å®„Åç„Å´„Å∂„ÅÇ„Éº„Å£„Å¶„Å™„Çã„ÅÇ„ÇåÔºâ„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅåÂõ∫„Åæ„Çã„ÄÇ<br>‚Üì„Åì„Çå„Çπ„ÇØ„Ç∑„Éß„Å†„Åã„ÇâÊ≠¢„Åæ„Å£„Å¶„Çã„Åë„Å©„ÄÅÂÆüÈöõ„Å´Êäº„Åó„Å¶„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Åï„Åõ„Å¶„ÇÇ„Å™„Çì„Åã‰∏≠ÈÄîÂçäÁ´Ø„Å´„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅåÊ≠¢„Åæ„Çã„Çì„Å†„Çà„Å≠„ÄÇ</p>\n<img src=\"/Bibouroku/2020/05/03/Android%E3%81%AERipple%E3%81%AE%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%8C%E3%81%8B%E3%81%8F%E3%81%8B%E3%81%8F%E3%81%AB%E3%81%AA%E3%82%8B%E3%81%AE%E3%82%92%E7%9B%B4%E3%81%99/ripple.png\" class=\"\" title=\"ripple\">\n\n<h1 id=\"ÂéüÂõ†\"><a href=\"#ÂéüÂõ†\" class=\"headerlink\" title=\"ÂéüÂõ†\"></a>ÂéüÂõ†</h1><p><code>addOnGlobalLayoutListener</code>„ÅÆ‰∏≠„Åß<code>LayoutParams</code>„Çí‰Ωø„Å£„Å¶„Çµ„Ç§„Ç∫Â§âÊõ¥„Åô„Çã„Å®„Å™„Çì„ÅãRipple„Åå„ÅÜ„Åæ„ÅèÂãï„Åã„Å™„Åè„Å™„Çã„ÄÇ</p>\n<p>„Åì„Çå„ÅåÂÆüÈöõ„ÅÆÈÉ®ÂàÜ‚ÜìÔºà„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆID„Å®„ÅãgetAspectHeightFromWidth„Å®„Åã„Å™„ÅÑ„Åë„Å©„ÅÇ„Çã„Å£„Å¶„Åì„Å®„ÅßË™≠„Çì„ÅßÔºâ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fragment_nicovideo_framelayout.viewTreeObserver.addOnGlobalLayoutListener &#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> width = fragment_nicovideo_framelayout.width</span><br><span class=\"line\">    <span class=\"keyword\">val</span> height = getAspectHeightFromWidth(width)</span><br><span class=\"line\">    <span class=\"keyword\">val</span> params = LinearLayout.LayoutParams(width, height)</span><br><span class=\"line\">    fragment_nicovideo_framelayout.layoutParams = params</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅØÊ®™„ÅÆÂ§ß„Åç„Åï„ÅåÂàÜ„Åã„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅßÂæå„ÅØË®àÁÆó„ÅßÁ∏¶„ÇíÂá∫„Åó„Å¶„Çµ„Ç§„Ç∫Â§âÊõ¥„Çí„Åó„Å¶„ÅÑ„Çã„Çì„Åß„Åô„Åå„ÄÅ<code>View#getWidth()</code>„Åå„Äå0„Äç„ÇíËøî„Åô„Çì„Åß„Åô„Çà„ÄÇÔºà0‰ª•‰∏ä„ÅÆ„Çµ„Ç§„Ç∫„Å™„ÅÆ„Å´ÔºÅÔºâ<br>„Åù„Åì„Åß<code>addOnGlobalLayoutListener</code>„ÅÆÁôªÂ†¥„Åß„Åô„ÄÇ<br>„Åì„ÅÆ‰∏≠„Åß<code>View#getWidth()</code>„ÇíÂëº„Å∂„Åì„Å®„Åß„Å°„ÇÉ„Çì„Å®„Åó„ÅüÊ®™„ÅÆÈï∑„Åï„ÅåÂ∏∞„Å£„Å¶„Åç„Åæ„Åô„ÄÇ</p>\n<p>„Åß„ÄÅ„Å™„Åú„Åã„ÅØÁü•„Çä„Åæ„Åõ„Çì„Åå„Åì„ÅÆÊñπÊ≥ï„Åß„Çµ„Ç§„Ç∫Â§âÊõ¥„Çí„Åô„Çã„Å®Ripple„ÅåÊéõ„Åã„Çä„Åæ„Åõ„Çì„ÄÇ„ÅØ„Éºü§î</p>\n<h1 id=\"Ëß£Ê±∫\"><a href=\"#Ëß£Ê±∫\" class=\"headerlink\" title=\"Ëß£Ê±∫\"></a>Ëß£Ê±∫</h1><p>‰ªäÂõûÊ¨≤„Åó„Åã„Å£„Åü„ÅÆ„ÅØ<strong>View„ÅÆÊ®™„ÅÆÈï∑„Åï</strong>„Åß„ÅØ„Å™„Åè<strong>ÁîªÈù¢„ÅÆÊ®™„ÅÆÈï∑„Åï</strong>„ÅÆÂÄ§„Å™„ÅÆ„Åß‰ª•‰∏ã„ÅÆÊñπÊ≥ï„ÅßÁîªÈù¢„ÅÆÊ®™„ÅÆÈï∑„Åï„ÇíÂèñÂæó„Åß„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">val</span> display = activity?.windowManager?.defaultDisplay</span><br><span class=\"line\"><span class=\"keyword\">val</span> point = Point()</span><br><span class=\"line\">display?.getSize(point)</span><br><span class=\"line\"><span class=\"comment\">// Ê®™„ÅÆÈï∑„Åï</span></span><br><span class=\"line\"><span class=\"keyword\">val</span> width = point.x</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"‰ª•‰∏ä„Åß„Åô\"><a href=\"#‰ª•‰∏ä„Åß„Åô\" class=\"headerlink\" title=\"‰ª•‰∏ä„Åß„Åô\"></a>‰ª•‰∏ä„Åß„Åô</h1><p>ÂéüÂõ†„Åå„Å™„Åã„Å™„Åã„Çè„Åã„Çâ„Å™„Åè„Å¶„Å§„Çâ„Åã„Å£„Åü„ÄÇ</p>\n"},{"title":"„ÄêAndroid„Äë Âè∞È¢®„Å´ÂÇô„Åà„Å¶Ê∞óÂúß„ÇíÊ∏¨„Çå„Çã„Ç¢„Éó„É™„Çí‰Ωú„Çã","author":"takusan_23","slide":false,"_content":"„Åì„Çì„Å´„Å°„ÅØ„ÄÇ‰∏≠Èñì„ÉÜ„Çπ„ÉàÁµÇ„Çè„Çä„Åæ„Åó„Åü„ÄÇ\n‰ªäÂõû„ÅØ„ÇÑ„Å∞„ÅÑÂè∞È¢®„ÅåÊù•„Çã„Åù„ÅÜ„Å™„ÅÆ„ÅßÊ∞óÂúß„ÅåÊ∏¨„Çå„Çã„Ç¢„Éó„É™„Çí‰Ωú„Çä„Åü„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n## „Çπ„Éû„Éõ„Å´„ÅØ„ÅÑ„Çç„Çì„Å™„Çª„É≥„Çµ„Éº„Åå„Å§„ÅÑ„Å¶„ÅÑ„Çã\n„Åõ„Å£„Åã„Åè„Å™„ÅÆ„Åß‰Ωø„ÅÑ„Åæ„Åó„Çá„ÅÜ„ÄÇ\n„Å®„ÅÑ„ÅÜ„ÅÆ„ÅØÂª∫Ââç„ÅßÊú¨ÂΩì„ÅØ [„Åì„ÅÆË®ò‰∫ã](https://qiita.com/bellx2/items/fc1de7197f583001ca59) „Åß„ÇÑ„Å£„Å¶„Çã„Åì„Å®Android„Åß„ÇÇ‰Ωú„Çå„Çã„ÅÆ„Åß„ÅØ„Å®ÊÄù„Å£„Åü„ÅÆ„ÅåÊú¨ÂΩì„ÅÆÁêÜÁî±„ÄÇ\n\n## Á¥π‰ªã\n|                    |            |\n|--------------------|------------|\n| Á´ØÊú´               | Pixel 3 XL |\n| Android „Éê„Éº„Ç∏„Éß„É≥ | Android 10 |\n| ÊúÄ‰Ωé„Éê„Éº„Ç∏„Éß„É≥     | „Çç„Çä„ÅΩ„Å£„Å∑ |\n| Ë®ÄË™û               | Kotlin     |\n\n## ÂÆüË£Ö\n### „É¨„Ç§„Ç¢„Ç¶„Éà\nÁúü„Çì‰∏≠„Å´TextView„ÇíÁΩÆ„ÅÑ„Åü„Å†„Åë„ÅÆ„ÇÇ„ÅÆ„Å®„Åô„Çã„ÄÇ\nÈù¢ÂÄí„Å™„ÅÆ„ÅßConstraintLayout„Çí„Åù„ÅÆ„Åæ„Åæ‰Ωø„ÅÜ„Åì„Å®„Å´„Åô„Çã„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"50dp\"\n        android:id=\"@+id/barometer_tv\"\n        android:text=\"Hello World!\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" />\n\n</androidx.constraintlayout.widget.ConstraintLayout>\n```\n\n### „Ç≥„Éº„Éâ\n\nSensor.TYPE_PRESSURE„ÅåÊ∞óÂúßË®à„Å´„Å™„Çä„Åæ„Åô„ÄÇ\nonDestroy()„ÅßÁôªÈå≤„ÇíËß£Èô§„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ\nÂèó„ÅëÂèñ„Çã„Çª„É≥„Çµ„Éº„Åå„Åª„Åã„Å´„ÇÇ„ÅÇ„Çã„Å®„Åç„ÅØ```event?.sensor?.type```„ÇíÂà©Áî®„Åó„Å¶ÂàÜ„Åë„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\n\n```kotlin:MainActivity.kt\n    lateinit var sensorManager: SensorManager\n    lateinit var sensorEventListener: SensorEventListener\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        sensorManager = getSystemService(Context.SENSOR_SERVICE) as SensorManager\n        //‰ªäÂõû„ÅØÊ∞óÂúßË®à\n        val sensorList = sensorManager.getSensorList(Sensor.TYPE_PRESSURE)\n        //Âèó„ÅëÂèñ„Çã\n        sensorEventListener = object : SensorEventListener {\n            override fun onAccuracyChanged(sensor: Sensor?, accuracy: Int) {\n                //„Å§„Åã„Çè„Çì\n            }\n\n            override fun onSensorChanged(event: SensorEvent?) {\n                //ÂÄ§„ÅØ„Åì„Åì„ÅßÂèó„Åë„Å®„Çã\n                //‰ªäÂõû„ÅØÊ∞óÂúßË®à„ÅÆ„Åø„Å†„Åã„Çâ„ÅÑ„ÅÑ„Åë„Å©„Åª„Åã„Å´„ÇÇÁôªÈå≤„Åô„Çã„Å®„Åç„ÅØÂàÜÂ≤ê„Åó„Å¶„Å≠\n                if(event?.sensor?.type == Sensor.TYPE_PRESSURE){\n                    //Ê∞óÂúßË®à„ÅÆÂÄ§\n                    val barometer = event.values[0]\n                    //TextView„Å´Ë®≠ÂÆö\n                    barometer_tv.text = \"$barometer hPa\"\n                }\n            }\n        }\n        //ÁôªÈå≤\n        sensorManager.registerListener(\n            sensorEventListener,\n            sensorList[0],  //ÈÖçÂàó„ÅÆ„ÅÑ„Å£„Åì„ÇÅ„ÄÇÊ∞óÂúßË®à\n            SensorManager.SENSOR_DELAY_NORMAL  //Êõ¥Êñ∞È†ªÂ∫¶\n         )\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        sensorManager.unregisterListener(sensorEventListener)\n    }\n```\n\n„Åì„Çå„ÅßTextView„Å´Ê∞óÂúß„ÅåË°®Á§∫„Åï„Çå„Å¶„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![Screenshot_20191011-112836.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/0afb2d9f-c99b-dafd-1086-a8ae4c51dee9.png)\n\n### Â∞èÊï∞ÁÇπ„ÇíÊ∂à„Åô\n```roundToInt()``` „Åß„Åç„Çå„ÅÑ„Å´„Å™„Çä„Åæ„Åô„ÄÇ\n\n\n```kotlin\n                //ÂÄ§„ÅØ„Åì„Åì„ÅßÂèó„Åë„Å®„Çã\n                //‰ªäÂõû„ÅØÊ∞óÂúßË®à„ÅÆ„Åø„Å†„Åã„Çâ„ÅÑ„ÅÑ„Åë„Å©„Åª„Åã„Å´„ÇÇÁôªÈå≤„Åô„Çã„Å®„Åç„ÅØÂàÜÂ≤ê„Åó„Å¶„Å≠\n                if(event?.sensor?.type == Sensor.TYPE_PRESSURE){\n                    //Ê∞óÂúßË®à„ÅÆÂÄ§\n                    val barometer = event.values[0]\n                    //Êï¥Êï∞„Å´\n                    val barometerInt = barometer.roundToInt()\n                    //TextView„Å´Ë®≠ÂÆö\n                    barometer_tv.text = \"$barometerInt hPa\\n($barometer hPa)\"\n                }\n\n```\n\n![Screenshot_20191011-113656.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/de5824b5-5099-f8ba-f406-691f77d36027.png)\n\n‰ª•‰∏ä„Åß„Åô„ÄÇ\n„ÅäÁñ≤„ÇåÊßò„Åß„Åô„ÄÇÔºòÔºòÔºòÔºòÔºò\n","source":"_posts/Android„ÅßÊ∞óÂúßË®à.md","raw":"---\ntitle: „ÄêAndroid„Äë Âè∞È¢®„Å´ÂÇô„Åà„Å¶Ê∞óÂúß„ÇíÊ∏¨„Çå„Çã„Ç¢„Éó„É™„Çí‰Ωú„Çã\ntags: \n- Android\n- Âè∞È¢®\n- Kotlin\nauthor: takusan_23\nslide: false\n---\n„Åì„Çì„Å´„Å°„ÅØ„ÄÇ‰∏≠Èñì„ÉÜ„Çπ„ÉàÁµÇ„Çè„Çä„Åæ„Åó„Åü„ÄÇ\n‰ªäÂõû„ÅØ„ÇÑ„Å∞„ÅÑÂè∞È¢®„ÅåÊù•„Çã„Åù„ÅÜ„Å™„ÅÆ„ÅßÊ∞óÂúß„ÅåÊ∏¨„Çå„Çã„Ç¢„Éó„É™„Çí‰Ωú„Çä„Åü„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n## „Çπ„Éû„Éõ„Å´„ÅØ„ÅÑ„Çç„Çì„Å™„Çª„É≥„Çµ„Éº„Åå„Å§„ÅÑ„Å¶„ÅÑ„Çã\n„Åõ„Å£„Åã„Åè„Å™„ÅÆ„Åß‰Ωø„ÅÑ„Åæ„Åó„Çá„ÅÜ„ÄÇ\n„Å®„ÅÑ„ÅÜ„ÅÆ„ÅØÂª∫Ââç„ÅßÊú¨ÂΩì„ÅØ [„Åì„ÅÆË®ò‰∫ã](https://qiita.com/bellx2/items/fc1de7197f583001ca59) „Åß„ÇÑ„Å£„Å¶„Çã„Åì„Å®Android„Åß„ÇÇ‰Ωú„Çå„Çã„ÅÆ„Åß„ÅØ„Å®ÊÄù„Å£„Åü„ÅÆ„ÅåÊú¨ÂΩì„ÅÆÁêÜÁî±„ÄÇ\n\n## Á¥π‰ªã\n|                    |            |\n|--------------------|------------|\n| Á´ØÊú´               | Pixel 3 XL |\n| Android „Éê„Éº„Ç∏„Éß„É≥ | Android 10 |\n| ÊúÄ‰Ωé„Éê„Éº„Ç∏„Éß„É≥     | „Çç„Çä„ÅΩ„Å£„Å∑ |\n| Ë®ÄË™û               | Kotlin     |\n\n## ÂÆüË£Ö\n### „É¨„Ç§„Ç¢„Ç¶„Éà\nÁúü„Çì‰∏≠„Å´TextView„ÇíÁΩÆ„ÅÑ„Åü„Å†„Åë„ÅÆ„ÇÇ„ÅÆ„Å®„Åô„Çã„ÄÇ\nÈù¢ÂÄí„Å™„ÅÆ„ÅßConstraintLayout„Çí„Åù„ÅÆ„Åæ„Åæ‰Ωø„ÅÜ„Åì„Å®„Å´„Åô„Çã„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"50dp\"\n        android:id=\"@+id/barometer_tv\"\n        android:text=\"Hello World!\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" />\n\n</androidx.constraintlayout.widget.ConstraintLayout>\n```\n\n### „Ç≥„Éº„Éâ\n\nSensor.TYPE_PRESSURE„ÅåÊ∞óÂúßË®à„Å´„Å™„Çä„Åæ„Åô„ÄÇ\nonDestroy()„ÅßÁôªÈå≤„ÇíËß£Èô§„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ\nÂèó„ÅëÂèñ„Çã„Çª„É≥„Çµ„Éº„Åå„Åª„Åã„Å´„ÇÇ„ÅÇ„Çã„Å®„Åç„ÅØ```event?.sensor?.type```„ÇíÂà©Áî®„Åó„Å¶ÂàÜ„Åë„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\n\n```kotlin:MainActivity.kt\n    lateinit var sensorManager: SensorManager\n    lateinit var sensorEventListener: SensorEventListener\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        sensorManager = getSystemService(Context.SENSOR_SERVICE) as SensorManager\n        //‰ªäÂõû„ÅØÊ∞óÂúßË®à\n        val sensorList = sensorManager.getSensorList(Sensor.TYPE_PRESSURE)\n        //Âèó„ÅëÂèñ„Çã\n        sensorEventListener = object : SensorEventListener {\n            override fun onAccuracyChanged(sensor: Sensor?, accuracy: Int) {\n                //„Å§„Åã„Çè„Çì\n            }\n\n            override fun onSensorChanged(event: SensorEvent?) {\n                //ÂÄ§„ÅØ„Åì„Åì„ÅßÂèó„Åë„Å®„Çã\n                //‰ªäÂõû„ÅØÊ∞óÂúßË®à„ÅÆ„Åø„Å†„Åã„Çâ„ÅÑ„ÅÑ„Åë„Å©„Åª„Åã„Å´„ÇÇÁôªÈå≤„Åô„Çã„Å®„Åç„ÅØÂàÜÂ≤ê„Åó„Å¶„Å≠\n                if(event?.sensor?.type == Sensor.TYPE_PRESSURE){\n                    //Ê∞óÂúßË®à„ÅÆÂÄ§\n                    val barometer = event.values[0]\n                    //TextView„Å´Ë®≠ÂÆö\n                    barometer_tv.text = \"$barometer hPa\"\n                }\n            }\n        }\n        //ÁôªÈå≤\n        sensorManager.registerListener(\n            sensorEventListener,\n            sensorList[0],  //ÈÖçÂàó„ÅÆ„ÅÑ„Å£„Åì„ÇÅ„ÄÇÊ∞óÂúßË®à\n            SensorManager.SENSOR_DELAY_NORMAL  //Êõ¥Êñ∞È†ªÂ∫¶\n         )\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        sensorManager.unregisterListener(sensorEventListener)\n    }\n```\n\n„Åì„Çå„ÅßTextView„Å´Ê∞óÂúß„ÅåË°®Á§∫„Åï„Çå„Å¶„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![Screenshot_20191011-112836.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/0afb2d9f-c99b-dafd-1086-a8ae4c51dee9.png)\n\n### Â∞èÊï∞ÁÇπ„ÇíÊ∂à„Åô\n```roundToInt()``` „Åß„Åç„Çå„ÅÑ„Å´„Å™„Çä„Åæ„Åô„ÄÇ\n\n\n```kotlin\n                //ÂÄ§„ÅØ„Åì„Åì„ÅßÂèó„Åë„Å®„Çã\n                //‰ªäÂõû„ÅØÊ∞óÂúßË®à„ÅÆ„Åø„Å†„Åã„Çâ„ÅÑ„ÅÑ„Åë„Å©„Åª„Åã„Å´„ÇÇÁôªÈå≤„Åô„Çã„Å®„Åç„ÅØÂàÜÂ≤ê„Åó„Å¶„Å≠\n                if(event?.sensor?.type == Sensor.TYPE_PRESSURE){\n                    //Ê∞óÂúßË®à„ÅÆÂÄ§\n                    val barometer = event.values[0]\n                    //Êï¥Êï∞„Å´\n                    val barometerInt = barometer.roundToInt()\n                    //TextView„Å´Ë®≠ÂÆö\n                    barometer_tv.text = \"$barometerInt hPa\\n($barometer hPa)\"\n                }\n\n```\n\n![Screenshot_20191011-113656.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/de5824b5-5099-f8ba-f406-691f77d36027.png)\n\n‰ª•‰∏ä„Åß„Åô„ÄÇ\n„ÅäÁñ≤„ÇåÊßò„Åß„Åô„ÄÇÔºòÔºòÔºòÔºòÔºò\n","slug":"Android„ÅßÊ∞óÂúßË®à","published":1,"date":"2020-04-05T16:27:15.614Z","updated":"2020-04-05T16:37:44.880Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgm0007h8vubznt7sli","content":"<p>„Åì„Çì„Å´„Å°„ÅØ„ÄÇ‰∏≠Èñì„ÉÜ„Çπ„ÉàÁµÇ„Çè„Çä„Åæ„Åó„Åü„ÄÇ<br>‰ªäÂõû„ÅØ„ÇÑ„Å∞„ÅÑÂè∞È¢®„ÅåÊù•„Çã„Åù„ÅÜ„Å™„ÅÆ„ÅßÊ∞óÂúß„ÅåÊ∏¨„Çå„Çã„Ç¢„Éó„É™„Çí‰Ωú„Çä„Åü„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h2 id=\"„Çπ„Éû„Éõ„Å´„ÅØ„ÅÑ„Çç„Çì„Å™„Çª„É≥„Çµ„Éº„Åå„Å§„ÅÑ„Å¶„ÅÑ„Çã\"><a href=\"#„Çπ„Éû„Éõ„Å´„ÅØ„ÅÑ„Çç„Çì„Å™„Çª„É≥„Çµ„Éº„Åå„Å§„ÅÑ„Å¶„ÅÑ„Çã\" class=\"headerlink\" title=\"„Çπ„Éû„Éõ„Å´„ÅØ„ÅÑ„Çç„Çì„Å™„Çª„É≥„Çµ„Éº„Åå„Å§„ÅÑ„Å¶„ÅÑ„Çã\"></a>„Çπ„Éû„Éõ„Å´„ÅØ„ÅÑ„Çç„Çì„Å™„Çª„É≥„Çµ„Éº„Åå„Å§„ÅÑ„Å¶„ÅÑ„Çã</h2><p>„Åõ„Å£„Åã„Åè„Å™„ÅÆ„Åß‰Ωø„ÅÑ„Åæ„Åó„Çá„ÅÜ„ÄÇ<br>„Å®„ÅÑ„ÅÜ„ÅÆ„ÅØÂª∫Ââç„ÅßÊú¨ÂΩì„ÅØ <a href=\"https://qiita.com/bellx2/items/fc1de7197f583001ca59\" target=\"_blank\" rel=\"noopener\">„Åì„ÅÆË®ò‰∫ã</a> „Åß„ÇÑ„Å£„Å¶„Çã„Åì„Å®Android„Åß„ÇÇ‰Ωú„Çå„Çã„ÅÆ„Åß„ÅØ„Å®ÊÄù„Å£„Åü„ÅÆ„ÅåÊú¨ÂΩì„ÅÆÁêÜÁî±„ÄÇ</p>\n<h2 id=\"Á¥π‰ªã\"><a href=\"#Á¥π‰ªã\" class=\"headerlink\" title=\"Á¥π‰ªã\"></a>Á¥π‰ªã</h2><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Á´ØÊú´</td>\n<td>Pixel 3 XL</td>\n</tr>\n<tr>\n<td>Android „Éê„Éº„Ç∏„Éß„É≥</td>\n<td>Android 10</td>\n</tr>\n<tr>\n<td>ÊúÄ‰Ωé„Éê„Éº„Ç∏„Éß„É≥</td>\n<td>„Çç„Çä„ÅΩ„Å£„Å∑</td>\n</tr>\n<tr>\n<td>Ë®ÄË™û</td>\n<td>Kotlin</td>\n</tr>\n</tbody></table>\n<h2 id=\"ÂÆüË£Ö\"><a href=\"#ÂÆüË£Ö\" class=\"headerlink\" title=\"ÂÆüË£Ö\"></a>ÂÆüË£Ö</h2><h3 id=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"><a href=\"#„É¨„Ç§„Ç¢„Ç¶„Éà\" class=\"headerlink\" title=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"></a>„É¨„Ç§„Ç¢„Ç¶„Éà</h3><p>Áúü„Çì‰∏≠„Å´TextView„ÇíÁΩÆ„ÅÑ„Åü„Å†„Åë„ÅÆ„ÇÇ„ÅÆ„Å®„Åô„Çã„ÄÇ<br>Èù¢ÂÄí„Å™„ÅÆ„ÅßConstraintLayout„Çí„Åù„ÅÆ„Åæ„Åæ‰Ωø„ÅÜ„Åì„Å®„Å´„Åô„Çã„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;TextView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:textSize&#x3D;&quot;50dp&quot;</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;barometer_tv&quot;</span><br><span class=\"line\">        android:text&#x3D;&quot;Hello World!&quot;</span><br><span class=\"line\">        app:layout_constraintBottom_toBottomOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintLeft_toLeftOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintRight_toRightOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintTop_toTopOf&#x3D;&quot;parent&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.constraintlayout.widget.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"„Ç≥„Éº„Éâ\"><a href=\"#„Ç≥„Éº„Éâ\" class=\"headerlink\" title=\"„Ç≥„Éº„Éâ\"></a>„Ç≥„Éº„Éâ</h3><p>Sensor.TYPE_PRESSURE„ÅåÊ∞óÂúßË®à„Å´„Å™„Çä„Åæ„Åô„ÄÇ<br>onDestroy()„ÅßÁôªÈå≤„ÇíËß£Èô§„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ<br>Âèó„ÅëÂèñ„Çã„Çª„É≥„Çµ„Éº„Åå„Åª„Åã„Å´„ÇÇ„ÅÇ„Çã„Å®„Åç„ÅØ<code>event?.sensor?.type</code>„ÇíÂà©Áî®„Åó„Å¶ÂàÜ„Åë„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lateinit var sensorManager: SensorManager</span><br><span class=\"line\">lateinit var sensorEventListener: SensorEventListener</span><br><span class=\"line\">override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class=\"line\">    super.onCreate(savedInstanceState)</span><br><span class=\"line\">    setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">    sensorManager &#x3D; getSystemService(Context.SENSOR_SERVICE) as SensorManager</span><br><span class=\"line\">    &#x2F;&#x2F;‰ªäÂõû„ÅØÊ∞óÂúßË®à</span><br><span class=\"line\">    val sensorList &#x3D; sensorManager.getSensorList(Sensor.TYPE_PRESSURE)</span><br><span class=\"line\">    &#x2F;&#x2F;Âèó„ÅëÂèñ„Çã</span><br><span class=\"line\">    sensorEventListener &#x3D; object : SensorEventListener &#123;</span><br><span class=\"line\">        override fun onAccuracyChanged(sensor: Sensor?, accuracy: Int) &#123;</span><br><span class=\"line\">            &#x2F;&#x2F;„Å§„Åã„Çè„Çì</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        override fun onSensorChanged(event: SensorEvent?) &#123;</span><br><span class=\"line\">            &#x2F;&#x2F;ÂÄ§„ÅØ„Åì„Åì„ÅßÂèó„Åë„Å®„Çã</span><br><span class=\"line\">            &#x2F;&#x2F;‰ªäÂõû„ÅØÊ∞óÂúßË®à„ÅÆ„Åø„Å†„Åã„Çâ„ÅÑ„ÅÑ„Åë„Å©„Åª„Åã„Å´„ÇÇÁôªÈå≤„Åô„Çã„Å®„Åç„ÅØÂàÜÂ≤ê„Åó„Å¶„Å≠</span><br><span class=\"line\">            if(event?.sensor?.type &#x3D;&#x3D; Sensor.TYPE_PRESSURE)&#123;</span><br><span class=\"line\">                &#x2F;&#x2F;Ê∞óÂúßË®à„ÅÆÂÄ§</span><br><span class=\"line\">                val barometer &#x3D; event.values[0]</span><br><span class=\"line\">                &#x2F;&#x2F;TextView„Å´Ë®≠ÂÆö</span><br><span class=\"line\">                barometer_tv.text &#x3D; &quot;$barometer hPa&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#x2F;&#x2F;ÁôªÈå≤</span><br><span class=\"line\">    sensorManager.registerListener(</span><br><span class=\"line\">        sensorEventListener,</span><br><span class=\"line\">        sensorList[0],  &#x2F;&#x2F;ÈÖçÂàó„ÅÆ„ÅÑ„Å£„Åì„ÇÅ„ÄÇÊ∞óÂúßË®à</span><br><span class=\"line\">        SensorManager.SENSOR_DELAY_NORMAL  &#x2F;&#x2F;Êõ¥Êñ∞È†ªÂ∫¶</span><br><span class=\"line\">     )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">override fun onDestroy() &#123;</span><br><span class=\"line\">    super.onDestroy()</span><br><span class=\"line\">    sensorManager.unregisterListener(sensorEventListener)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßTextView„Å´Ê∞óÂúß„ÅåË°®Á§∫„Åï„Çå„Å¶„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/0afb2d9f-c99b-dafd-1086-a8ae4c51dee9.png\" alt=\"Screenshot_20191011-112836.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191011-112836.png</div>\n            </figure>\n\n<h3 id=\"Â∞èÊï∞ÁÇπ„ÇíÊ∂à„Åô\"><a href=\"#Â∞èÊï∞ÁÇπ„ÇíÊ∂à„Åô\" class=\"headerlink\" title=\"Â∞èÊï∞ÁÇπ„ÇíÊ∂à„Åô\"></a>Â∞èÊï∞ÁÇπ„ÇíÊ∂à„Åô</h3><figure class=\"highlight plain\"><figcaption><span>„Åß„Åç„Çå„ÅÑ„Å´„Å™„Çä„Åæ„Åô„ÄÇ</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;kotlin</span><br><span class=\"line\">                &#x2F;&#x2F;ÂÄ§„ÅØ„Åì„Åì„ÅßÂèó„Åë„Å®„Çã</span><br><span class=\"line\">                &#x2F;&#x2F;‰ªäÂõû„ÅØÊ∞óÂúßË®à„ÅÆ„Åø„Å†„Åã„Çâ„ÅÑ„ÅÑ„Åë„Å©„Åª„Åã„Å´„ÇÇÁôªÈå≤„Åô„Çã„Å®„Åç„ÅØÂàÜÂ≤ê„Åó„Å¶„Å≠</span><br><span class=\"line\">                if(event?.sensor?.type &#x3D;&#x3D; Sensor.TYPE_PRESSURE)&#123;</span><br><span class=\"line\">                    &#x2F;&#x2F;Ê∞óÂúßË®à„ÅÆÂÄ§</span><br><span class=\"line\">                    val barometer &#x3D; event.values[0]</span><br><span class=\"line\">                    &#x2F;&#x2F;Êï¥Êï∞„Å´</span><br><span class=\"line\">                    val barometerInt &#x3D; barometer.roundToInt()</span><br><span class=\"line\">                    &#x2F;&#x2F;TextView„Å´Ë®≠ÂÆö</span><br><span class=\"line\">                    barometer_tv.text &#x3D; &quot;$barometerInt hPa\\n($barometer hPa)&quot;</span><br><span class=\"line\">                &#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/de5824b5-5099-f8ba-f406-691f77d36027.png\" alt=\"Screenshot_20191011-113656.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191011-113656.png</div>\n            </figure>\n\n<p>‰ª•‰∏ä„Åß„Åô„ÄÇ<br>„ÅäÁñ≤„ÇåÊßò„Åß„Åô„ÄÇÔºòÔºòÔºòÔºòÔºò</p>\n","site":{"data":{}},"excerpt":"","more":"<p>„Åì„Çì„Å´„Å°„ÅØ„ÄÇ‰∏≠Èñì„ÉÜ„Çπ„ÉàÁµÇ„Çè„Çä„Åæ„Åó„Åü„ÄÇ<br>‰ªäÂõû„ÅØ„ÇÑ„Å∞„ÅÑÂè∞È¢®„ÅåÊù•„Çã„Åù„ÅÜ„Å™„ÅÆ„ÅßÊ∞óÂúß„ÅåÊ∏¨„Çå„Çã„Ç¢„Éó„É™„Çí‰Ωú„Çä„Åü„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h2 id=\"„Çπ„Éû„Éõ„Å´„ÅØ„ÅÑ„Çç„Çì„Å™„Çª„É≥„Çµ„Éº„Åå„Å§„ÅÑ„Å¶„ÅÑ„Çã\"><a href=\"#„Çπ„Éû„Éõ„Å´„ÅØ„ÅÑ„Çç„Çì„Å™„Çª„É≥„Çµ„Éº„Åå„Å§„ÅÑ„Å¶„ÅÑ„Çã\" class=\"headerlink\" title=\"„Çπ„Éû„Éõ„Å´„ÅØ„ÅÑ„Çç„Çì„Å™„Çª„É≥„Çµ„Éº„Åå„Å§„ÅÑ„Å¶„ÅÑ„Çã\"></a>„Çπ„Éû„Éõ„Å´„ÅØ„ÅÑ„Çç„Çì„Å™„Çª„É≥„Çµ„Éº„Åå„Å§„ÅÑ„Å¶„ÅÑ„Çã</h2><p>„Åõ„Å£„Åã„Åè„Å™„ÅÆ„Åß‰Ωø„ÅÑ„Åæ„Åó„Çá„ÅÜ„ÄÇ<br>„Å®„ÅÑ„ÅÜ„ÅÆ„ÅØÂª∫Ââç„ÅßÊú¨ÂΩì„ÅØ <a href=\"https://qiita.com/bellx2/items/fc1de7197f583001ca59\" target=\"_blank\" rel=\"noopener\">„Åì„ÅÆË®ò‰∫ã</a> „Åß„ÇÑ„Å£„Å¶„Çã„Åì„Å®Android„Åß„ÇÇ‰Ωú„Çå„Çã„ÅÆ„Åß„ÅØ„Å®ÊÄù„Å£„Åü„ÅÆ„ÅåÊú¨ÂΩì„ÅÆÁêÜÁî±„ÄÇ</p>\n<h2 id=\"Á¥π‰ªã\"><a href=\"#Á¥π‰ªã\" class=\"headerlink\" title=\"Á¥π‰ªã\"></a>Á¥π‰ªã</h2><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Á´ØÊú´</td>\n<td>Pixel 3 XL</td>\n</tr>\n<tr>\n<td>Android „Éê„Éº„Ç∏„Éß„É≥</td>\n<td>Android 10</td>\n</tr>\n<tr>\n<td>ÊúÄ‰Ωé„Éê„Éº„Ç∏„Éß„É≥</td>\n<td>„Çç„Çä„ÅΩ„Å£„Å∑</td>\n</tr>\n<tr>\n<td>Ë®ÄË™û</td>\n<td>Kotlin</td>\n</tr>\n</tbody></table>\n<h2 id=\"ÂÆüË£Ö\"><a href=\"#ÂÆüË£Ö\" class=\"headerlink\" title=\"ÂÆüË£Ö\"></a>ÂÆüË£Ö</h2><h3 id=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"><a href=\"#„É¨„Ç§„Ç¢„Ç¶„Éà\" class=\"headerlink\" title=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"></a>„É¨„Ç§„Ç¢„Ç¶„Éà</h3><p>Áúü„Çì‰∏≠„Å´TextView„ÇíÁΩÆ„ÅÑ„Åü„Å†„Åë„ÅÆ„ÇÇ„ÅÆ„Å®„Åô„Çã„ÄÇ<br>Èù¢ÂÄí„Å™„ÅÆ„ÅßConstraintLayout„Çí„Åù„ÅÆ„Åæ„Åæ‰Ωø„ÅÜ„Åì„Å®„Å´„Åô„Çã„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;TextView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:textSize&#x3D;&quot;50dp&quot;</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;barometer_tv&quot;</span><br><span class=\"line\">        android:text&#x3D;&quot;Hello World!&quot;</span><br><span class=\"line\">        app:layout_constraintBottom_toBottomOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintLeft_toLeftOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintRight_toRightOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintTop_toTopOf&#x3D;&quot;parent&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.constraintlayout.widget.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"„Ç≥„Éº„Éâ\"><a href=\"#„Ç≥„Éº„Éâ\" class=\"headerlink\" title=\"„Ç≥„Éº„Éâ\"></a>„Ç≥„Éº„Éâ</h3><p>Sensor.TYPE_PRESSURE„ÅåÊ∞óÂúßË®à„Å´„Å™„Çä„Åæ„Åô„ÄÇ<br>onDestroy()„ÅßÁôªÈå≤„ÇíËß£Èô§„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ<br>Âèó„ÅëÂèñ„Çã„Çª„É≥„Çµ„Éº„Åå„Åª„Åã„Å´„ÇÇ„ÅÇ„Çã„Å®„Åç„ÅØ<code>event?.sensor?.type</code>„ÇíÂà©Áî®„Åó„Å¶ÂàÜ„Åë„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lateinit var sensorManager: SensorManager</span><br><span class=\"line\">lateinit var sensorEventListener: SensorEventListener</span><br><span class=\"line\">override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class=\"line\">    super.onCreate(savedInstanceState)</span><br><span class=\"line\">    setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">    sensorManager &#x3D; getSystemService(Context.SENSOR_SERVICE) as SensorManager</span><br><span class=\"line\">    &#x2F;&#x2F;‰ªäÂõû„ÅØÊ∞óÂúßË®à</span><br><span class=\"line\">    val sensorList &#x3D; sensorManager.getSensorList(Sensor.TYPE_PRESSURE)</span><br><span class=\"line\">    &#x2F;&#x2F;Âèó„ÅëÂèñ„Çã</span><br><span class=\"line\">    sensorEventListener &#x3D; object : SensorEventListener &#123;</span><br><span class=\"line\">        override fun onAccuracyChanged(sensor: Sensor?, accuracy: Int) &#123;</span><br><span class=\"line\">            &#x2F;&#x2F;„Å§„Åã„Çè„Çì</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        override fun onSensorChanged(event: SensorEvent?) &#123;</span><br><span class=\"line\">            &#x2F;&#x2F;ÂÄ§„ÅØ„Åì„Åì„ÅßÂèó„Åë„Å®„Çã</span><br><span class=\"line\">            &#x2F;&#x2F;‰ªäÂõû„ÅØÊ∞óÂúßË®à„ÅÆ„Åø„Å†„Åã„Çâ„ÅÑ„ÅÑ„Åë„Å©„Åª„Åã„Å´„ÇÇÁôªÈå≤„Åô„Çã„Å®„Åç„ÅØÂàÜÂ≤ê„Åó„Å¶„Å≠</span><br><span class=\"line\">            if(event?.sensor?.type &#x3D;&#x3D; Sensor.TYPE_PRESSURE)&#123;</span><br><span class=\"line\">                &#x2F;&#x2F;Ê∞óÂúßË®à„ÅÆÂÄ§</span><br><span class=\"line\">                val barometer &#x3D; event.values[0]</span><br><span class=\"line\">                &#x2F;&#x2F;TextView„Å´Ë®≠ÂÆö</span><br><span class=\"line\">                barometer_tv.text &#x3D; &quot;$barometer hPa&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#x2F;&#x2F;ÁôªÈå≤</span><br><span class=\"line\">    sensorManager.registerListener(</span><br><span class=\"line\">        sensorEventListener,</span><br><span class=\"line\">        sensorList[0],  &#x2F;&#x2F;ÈÖçÂàó„ÅÆ„ÅÑ„Å£„Åì„ÇÅ„ÄÇÊ∞óÂúßË®à</span><br><span class=\"line\">        SensorManager.SENSOR_DELAY_NORMAL  &#x2F;&#x2F;Êõ¥Êñ∞È†ªÂ∫¶</span><br><span class=\"line\">     )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">override fun onDestroy() &#123;</span><br><span class=\"line\">    super.onDestroy()</span><br><span class=\"line\">    sensorManager.unregisterListener(sensorEventListener)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßTextView„Å´Ê∞óÂúß„ÅåË°®Á§∫„Åï„Çå„Å¶„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/0afb2d9f-c99b-dafd-1086-a8ae4c51dee9.png\" alt=\"Screenshot_20191011-112836.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191011-112836.png</div>\n            </figure>\n\n<h3 id=\"Â∞èÊï∞ÁÇπ„ÇíÊ∂à„Åô\"><a href=\"#Â∞èÊï∞ÁÇπ„ÇíÊ∂à„Åô\" class=\"headerlink\" title=\"Â∞èÊï∞ÁÇπ„ÇíÊ∂à„Åô\"></a>Â∞èÊï∞ÁÇπ„ÇíÊ∂à„Åô</h3><figure class=\"highlight plain\"><figcaption><span>„Åß„Åç„Çå„ÅÑ„Å´„Å™„Çä„Åæ„Åô„ÄÇ</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;kotlin</span><br><span class=\"line\">                &#x2F;&#x2F;ÂÄ§„ÅØ„Åì„Åì„ÅßÂèó„Åë„Å®„Çã</span><br><span class=\"line\">                &#x2F;&#x2F;‰ªäÂõû„ÅØÊ∞óÂúßË®à„ÅÆ„Åø„Å†„Åã„Çâ„ÅÑ„ÅÑ„Åë„Å©„Åª„Åã„Å´„ÇÇÁôªÈå≤„Åô„Çã„Å®„Åç„ÅØÂàÜÂ≤ê„Åó„Å¶„Å≠</span><br><span class=\"line\">                if(event?.sensor?.type &#x3D;&#x3D; Sensor.TYPE_PRESSURE)&#123;</span><br><span class=\"line\">                    &#x2F;&#x2F;Ê∞óÂúßË®à„ÅÆÂÄ§</span><br><span class=\"line\">                    val barometer &#x3D; event.values[0]</span><br><span class=\"line\">                    &#x2F;&#x2F;Êï¥Êï∞„Å´</span><br><span class=\"line\">                    val barometerInt &#x3D; barometer.roundToInt()</span><br><span class=\"line\">                    &#x2F;&#x2F;TextView„Å´Ë®≠ÂÆö</span><br><span class=\"line\">                    barometer_tv.text &#x3D; &quot;$barometerInt hPa\\n($barometer hPa)&quot;</span><br><span class=\"line\">                &#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/de5824b5-5099-f8ba-f406-691f77d36027.png\" alt=\"Screenshot_20191011-113656.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191011-113656.png</div>\n            </figure>\n\n<p>‰ª•‰∏ä„Åß„Åô„ÄÇ<br>„ÅäÁñ≤„ÇåÊßò„Åß„Åô„ÄÇÔºòÔºòÔºòÔºòÔºò</p>\n"},{"title":"Android„Åß„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åô„Çã","date":"2020-04-28T08:14:43.000Z","_content":"\n„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ\n\n# Êú¨È°å\n[„Éû„ÉÜ„É™„Ç¢„É´„Éá„Ç∂„Ç§„É≥„ÅÆ„É©„Ç§„Éñ„É©„É™](https://github.com/material-components/material-components-android)„ÅßOutline„Å™DropDownMenuÔºàSpinnerÔºâ„Å™„ÅÑ„Å®ÊÄù„Å£„Å¶„Åü„Åë„Å©„ÅÇ„Å£„Åü„ÅÆ„ÅßÁ¥π‰ªã„ÄÇ\n\n# Áí∞Â¢É\n|„Å™„Åæ„Åà|„ÅÇ„Åü„ÅÑ|\n|---|---|\n|Android|10|\n|Ë®ÄË™û|Kotlin|\n\n# „É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\napp„Éï„Ç©„É´„ÉÄ„ÅÆÊñπ„Å´„ÅÇ„Çãbuild.gradle„ÇíÈñã„ÅÑ„Å¶`dependencies{}`„ÅÆ‰∏≠„Å´‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÇíËøΩÂä†„Åß„Åô„ÄÇ\n```gradle\n// Material Design\nimplementation 'com.google.android.material:material:1.2.0-alpha06'\n```\n\n# style.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\nMaterial Design„ÅÆ„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÔºàUI„ÅÆÈÉ®ÂìÅÔºâ„Çí‰Ωø„ÅÜ„Å´„ÅØstyle.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Å¶`Theme.MaterialComponents`Á≥ª„Çíparent„Å´ÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„Åø„Åü„ÅÑ„ÄÇ\n## style.xml\n```xml\n<resources>\n\n    <!-- Base application theme. -->\n    <style name=\"AppTheme\" parent=\"Theme.MaterialComponents.Light.DarkActionBar\">\n        <!-- Customize your theme here. -->\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\n        <item name=\"colorAccent\">@color/colorAccent</item>\n    </style>\n\n</resources>\n```\n\n# „É¨„Ç§„Ç¢„Ç¶„Éà\n[Ë™¨Êòé„Å´„Çà„Çã„Å®](https://material.io/develop/android/components/menu/)`TextInputLayout`„ÅÆ‰∏≠„Å´`AutoCompleteTextView`„ÇíÂÖ•„Çå„Çã„Åì„Å®„ÅßÂÆüÁèæ„Åï„Çå„Å¶„ÅÑ„Çã„Çâ„Åó„ÅÑ„ÄÇ\n\n## activity_main.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\">\n\n    <com.google.android.material.textfield.TextInputLayout\n        style=\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Outline„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº\">\n\n        <AutoCompleteTextView\n            android:id=\"@+id/auto_complete_textview\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:clickable=\"false\"\n            android:cursorVisible=\"false\"\n            android:focusable=\"false\"\n            android:inputType=\"none\" />\n    </com.google.android.material.textfield.TextInputLayout>\n\n</LinearLayout>\n```\n\n### ÈáçË¶Å„Å™ÁÇπ\n`AutoCompleteTextView`„ÅØ„ÉÜ„Ç≠„Çπ„Éà„ÇíË£úÂÖÖ„Åô„ÇãEditText„Å™„Åü„ÇÅ„ÄÅ„Åü„Å†ÁΩÆ„Åè„Å†„Åë„Å†„Å®„ÉÜ„Ç≠„Çπ„ÉàÂ§âÊõ¥„Åå„Åß„Åç„Çã„Å©„Åì„Çç„ÅãIME„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ  \n„Åù„ÅÆÂØæÁ≠ñ„Å´‰ª•‰∏ã„ÅÆÂÄ§„ÇíË®≠ÂÆö„Åó„Å¶„Åä„ÅèÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÔºà‰æã„Åß„ÅØ„Åô„Åß„Å´ÊåáÂÆöÊ∏à„Åø„Åß„Åô„ÄÇÔºâ\n\n```xml\nandroid:clickable=\"false\"\nandroid:cursorVisible=\"false\"\nandroid:focusable=\"false\"\nandroid:inputType=\"none\" \n```\n\n„Å™„Çì„Åã[Ë™¨Êòé](https://material.io/develop/android/components/menu/)Ë¶ã„ÇãÈôê„Çä`android:inputType=\"none\"`„ÇíÊåáÂÆö„Åô„Çå„Å∞„É¶„Éº„Ç∂„Éº„ÅÆÂÖ•Âäõ„ÇíÁÑ°Âäπ„Å´„Åß„Åç„Çã„Å£„Å¶Êõ∏„ÅÑ„Å¶„ÅÇ„Çã„Åë„Å©„ÄÅ„Åù„Çì„Å™„Åì„Å®„Å™„Åã„Å£„Åü„Çà„ÄÇ\n\n# Kotlin\n## MainActivity.kt\n```kotlin\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Adapter‰ΩúÊàê\n        val menuList = arrayListOf(\"Java\", \"Kotlin\", \"JavaScript\", \"TypeScript\")\n        val adapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, menuList)\n        // AdapterÁôªÈå≤\n        auto_complete_textview.setAdapter(adapter)\n        auto_complete_textview.setText(menuList[0], false)\n    }\n}\n```\n\n„Åì„Çå„Å†„Åë„Åß„Åô„ÄÇ  \n\n{% asset_img menu.png outline %}\n\n# „Åï„ÅÑ„Åî„Å´\nÊäº„Åó„Åü„Å®„Åç„Å´Toast„ÇíÂá∫„Åó„Å¶„Åø„Çã\n## MainActivity.kt\n```kotlin\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Adapter‰ΩúÊàê\n        val menuList = arrayListOf(\"Java\", \"Kotlin\", \"JavaScript\", \"TypeScript\")\n        val adapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, menuList)\n        // AdapterÁôªÈå≤\n        auto_complete_textview.setAdapter(adapter)\n        auto_complete_textview.setText(menuList[0], false)\n        // „ÉÜ„Ç≠„Çπ„ÉàÂ§âÊõ¥„ÇíÊ§úÁü•\n        auto_complete_textview.addTextChangedListener {\n            Toast.makeText(this, it.toString(), Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n```\n\n{% asset_img toast.png toast %}\n\n\n# ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\nhttps://stackoverflow.com/questions/41829665/android-studioedittext-editable-is-deprecated-how-to-use-inputtype/46073055\n\nhttps://material.io/develop/android/components/menu/","source":"_posts/Android„Åß„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åô„Çã.md","raw":"---\ntitle: Android„Åß„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åô„Çã\ndate: 2020-04-28 17:14:43\ntags:\n- Android\n- MaterialDesign\n- Kotlin\n---\n\n„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ\n\n# Êú¨È°å\n[„Éû„ÉÜ„É™„Ç¢„É´„Éá„Ç∂„Ç§„É≥„ÅÆ„É©„Ç§„Éñ„É©„É™](https://github.com/material-components/material-components-android)„ÅßOutline„Å™DropDownMenuÔºàSpinnerÔºâ„Å™„ÅÑ„Å®ÊÄù„Å£„Å¶„Åü„Åë„Å©„ÅÇ„Å£„Åü„ÅÆ„ÅßÁ¥π‰ªã„ÄÇ\n\n# Áí∞Â¢É\n|„Å™„Åæ„Åà|„ÅÇ„Åü„ÅÑ|\n|---|---|\n|Android|10|\n|Ë®ÄË™û|Kotlin|\n\n# „É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\napp„Éï„Ç©„É´„ÉÄ„ÅÆÊñπ„Å´„ÅÇ„Çãbuild.gradle„ÇíÈñã„ÅÑ„Å¶`dependencies{}`„ÅÆ‰∏≠„Å´‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÇíËøΩÂä†„Åß„Åô„ÄÇ\n```gradle\n// Material Design\nimplementation 'com.google.android.material:material:1.2.0-alpha06'\n```\n\n# style.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\nMaterial Design„ÅÆ„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÔºàUI„ÅÆÈÉ®ÂìÅÔºâ„Çí‰Ωø„ÅÜ„Å´„ÅØstyle.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Å¶`Theme.MaterialComponents`Á≥ª„Çíparent„Å´ÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„Åø„Åü„ÅÑ„ÄÇ\n## style.xml\n```xml\n<resources>\n\n    <!-- Base application theme. -->\n    <style name=\"AppTheme\" parent=\"Theme.MaterialComponents.Light.DarkActionBar\">\n        <!-- Customize your theme here. -->\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\n        <item name=\"colorAccent\">@color/colorAccent</item>\n    </style>\n\n</resources>\n```\n\n# „É¨„Ç§„Ç¢„Ç¶„Éà\n[Ë™¨Êòé„Å´„Çà„Çã„Å®](https://material.io/develop/android/components/menu/)`TextInputLayout`„ÅÆ‰∏≠„Å´`AutoCompleteTextView`„ÇíÂÖ•„Çå„Çã„Åì„Å®„ÅßÂÆüÁèæ„Åï„Çå„Å¶„ÅÑ„Çã„Çâ„Åó„ÅÑ„ÄÇ\n\n## activity_main.xml\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\">\n\n    <com.google.android.material.textfield.TextInputLayout\n        style=\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Outline„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº\">\n\n        <AutoCompleteTextView\n            android:id=\"@+id/auto_complete_textview\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:clickable=\"false\"\n            android:cursorVisible=\"false\"\n            android:focusable=\"false\"\n            android:inputType=\"none\" />\n    </com.google.android.material.textfield.TextInputLayout>\n\n</LinearLayout>\n```\n\n### ÈáçË¶Å„Å™ÁÇπ\n`AutoCompleteTextView`„ÅØ„ÉÜ„Ç≠„Çπ„Éà„ÇíË£úÂÖÖ„Åô„ÇãEditText„Å™„Åü„ÇÅ„ÄÅ„Åü„Å†ÁΩÆ„Åè„Å†„Åë„Å†„Å®„ÉÜ„Ç≠„Çπ„ÉàÂ§âÊõ¥„Åå„Åß„Åç„Çã„Å©„Åì„Çç„ÅãIME„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ  \n„Åù„ÅÆÂØæÁ≠ñ„Å´‰ª•‰∏ã„ÅÆÂÄ§„ÇíË®≠ÂÆö„Åó„Å¶„Åä„ÅèÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÔºà‰æã„Åß„ÅØ„Åô„Åß„Å´ÊåáÂÆöÊ∏à„Åø„Åß„Åô„ÄÇÔºâ\n\n```xml\nandroid:clickable=\"false\"\nandroid:cursorVisible=\"false\"\nandroid:focusable=\"false\"\nandroid:inputType=\"none\" \n```\n\n„Å™„Çì„Åã[Ë™¨Êòé](https://material.io/develop/android/components/menu/)Ë¶ã„ÇãÈôê„Çä`android:inputType=\"none\"`„ÇíÊåáÂÆö„Åô„Çå„Å∞„É¶„Éº„Ç∂„Éº„ÅÆÂÖ•Âäõ„ÇíÁÑ°Âäπ„Å´„Åß„Åç„Çã„Å£„Å¶Êõ∏„ÅÑ„Å¶„ÅÇ„Çã„Åë„Å©„ÄÅ„Åù„Çì„Å™„Åì„Å®„Å™„Åã„Å£„Åü„Çà„ÄÇ\n\n# Kotlin\n## MainActivity.kt\n```kotlin\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Adapter‰ΩúÊàê\n        val menuList = arrayListOf(\"Java\", \"Kotlin\", \"JavaScript\", \"TypeScript\")\n        val adapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, menuList)\n        // AdapterÁôªÈå≤\n        auto_complete_textview.setAdapter(adapter)\n        auto_complete_textview.setText(menuList[0], false)\n    }\n}\n```\n\n„Åì„Çå„Å†„Åë„Åß„Åô„ÄÇ  \n\n{% asset_img menu.png outline %}\n\n# „Åï„ÅÑ„Åî„Å´\nÊäº„Åó„Åü„Å®„Åç„Å´Toast„ÇíÂá∫„Åó„Å¶„Åø„Çã\n## MainActivity.kt\n```kotlin\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Adapter‰ΩúÊàê\n        val menuList = arrayListOf(\"Java\", \"Kotlin\", \"JavaScript\", \"TypeScript\")\n        val adapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, menuList)\n        // AdapterÁôªÈå≤\n        auto_complete_textview.setAdapter(adapter)\n        auto_complete_textview.setText(menuList[0], false)\n        // „ÉÜ„Ç≠„Çπ„ÉàÂ§âÊõ¥„ÇíÊ§úÁü•\n        auto_complete_textview.addTextChangedListener {\n            Toast.makeText(this, it.toString(), Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n```\n\n{% asset_img toast.png toast %}\n\n\n# ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\nhttps://stackoverflow.com/questions/41829665/android-studioedittext-editable-is-deprecated-how-to-use-inputtype/46073055\n\nhttps://material.io/develop/android/components/menu/","slug":"Android„Åß„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åô„Çã","published":1,"updated":"2020-05-02T17:41:44.456Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgn0009h8vu2p1u86ki","content":"<p>„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ</p>\n<h1 id=\"Êú¨È°å\"><a href=\"#Êú¨È°å\" class=\"headerlink\" title=\"Êú¨È°å\"></a>Êú¨È°å</h1><p><a href=\"https://github.com/material-components/material-components-android\" target=\"_blank\" rel=\"noopener\">„Éû„ÉÜ„É™„Ç¢„É´„Éá„Ç∂„Ç§„É≥„ÅÆ„É©„Ç§„Éñ„É©„É™</a>„ÅßOutline„Å™DropDownMenuÔºàSpinnerÔºâ„Å™„ÅÑ„Å®ÊÄù„Å£„Å¶„Åü„Åë„Å©„ÅÇ„Å£„Åü„ÅÆ„ÅßÁ¥π‰ªã„ÄÇ</p>\n<h1 id=\"Áí∞Â¢É\"><a href=\"#Áí∞Â¢É\" class=\"headerlink\" title=\"Áí∞Â¢É\"></a>Áí∞Â¢É</h1><table>\n<thead>\n<tr>\n<th>„Å™„Åæ„Åà</th>\n<th>„ÅÇ„Åü„ÅÑ</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Android</td>\n<td>10</td>\n</tr>\n<tr>\n<td>Ë®ÄË™û</td>\n<td>Kotlin</td>\n</tr>\n</tbody></table>\n<h1 id=\"„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\"><a href=\"#„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\" class=\"headerlink\" title=\"„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\"></a>„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã</h1><p>app„Éï„Ç©„É´„ÉÄ„ÅÆÊñπ„Å´„ÅÇ„Çãbuild.gradle„ÇíÈñã„ÅÑ„Å¶<code>dependencies{}</code>„ÅÆ‰∏≠„Å´‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÇíËøΩÂä†„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Material Design</span></span><br><span class=\"line\">implementation <span class=\"string\">'com.google.android.material:material:1.2.0-alpha06'</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"style-xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\"><a href=\"#style-xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\" class=\"headerlink\" title=\"style.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\"></a>style.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã</h1><p>Material Design„ÅÆ„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÔºàUI„ÅÆÈÉ®ÂìÅÔºâ„Çí‰Ωø„ÅÜ„Å´„ÅØstyle.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Å¶<code>Theme.MaterialComponents</code>Á≥ª„Çíparent„Å´ÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„Åø„Åü„ÅÑ„ÄÇ</p>\n<h2 id=\"style-xml\"><a href=\"#style-xml\" class=\"headerlink\" title=\"style.xml\"></a>style.xml</h2><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- Base application theme. --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">name</span>=<span class=\"string\">\"AppTheme\"</span> <span class=\"attr\">parent</span>=<span class=\"string\">\"Theme.MaterialComponents.Light.DarkActionBar\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"comment\">&lt;!-- Customize your theme here. --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">item</span> <span class=\"attr\">name</span>=<span class=\"string\">\"colorPrimary\"</span>&gt;</span>@color/colorPrimary<span class=\"tag\">&lt;/<span class=\"name\">item</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">item</span> <span class=\"attr\">name</span>=<span class=\"string\">\"colorPrimaryDark\"</span>&gt;</span>@color/colorPrimaryDark<span class=\"tag\">&lt;/<span class=\"name\">item</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">item</span> <span class=\"attr\">name</span>=<span class=\"string\">\"colorAccent\"</span>&gt;</span>@color/colorAccent<span class=\"tag\">&lt;/<span class=\"name\">item</span>&gt;</span></span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"><a href=\"#„É¨„Ç§„Ç¢„Ç¶„Éà\" class=\"headerlink\" title=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"></a>„É¨„Ç§„Ç¢„Ç¶„Éà</h1><p><a href=\"https://material.io/develop/android/components/menu/\" target=\"_blank\" rel=\"noopener\">Ë™¨Êòé„Å´„Çà„Çã„Å®</a><code>TextInputLayout</code>„ÅÆ‰∏≠„Å´<code>AutoCompleteTextView</code>„ÇíÂÖ•„Çå„Çã„Åì„Å®„ÅßÂÆüÁèæ„Åï„Çå„Å¶„ÅÑ„Çã„Çâ„Åó„ÅÑ„ÄÇ</p>\n<h2 id=\"activity-main-xml\"><a href=\"#activity-main-xml\" class=\"headerlink\" title=\"activity_main.xml\"></a>activity_main.xml</h2><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:gravity</span>=<span class=\"string\">\"center\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">tools:context</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">com.google.android.material.textfield.TextInputLayout</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">style</span>=<span class=\"string\">\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:hint</span>=<span class=\"string\">\"Outline„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">AutoCompleteTextView</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/auto_complete_textview\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:clickable</span>=<span class=\"string\">\"false\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:cursorVisible</span>=<span class=\"string\">\"false\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:focusable</span>=<span class=\"string\">\"false\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:inputType</span>=<span class=\"string\">\"none\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">com.google.android.material.textfield.TextInputLayout</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ÈáçË¶Å„Å™ÁÇπ\"><a href=\"#ÈáçË¶Å„Å™ÁÇπ\" class=\"headerlink\" title=\"ÈáçË¶Å„Å™ÁÇπ\"></a>ÈáçË¶Å„Å™ÁÇπ</h3><p><code>AutoCompleteTextView</code>„ÅØ„ÉÜ„Ç≠„Çπ„Éà„ÇíË£úÂÖÖ„Åô„ÇãEditText„Å™„Åü„ÇÅ„ÄÅ„Åü„Å†ÁΩÆ„Åè„Å†„Åë„Å†„Å®„ÉÜ„Ç≠„Çπ„ÉàÂ§âÊõ¥„Åå„Åß„Åç„Çã„Å©„Åì„Çç„ÅãIME„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ<br>„Åù„ÅÆÂØæÁ≠ñ„Å´‰ª•‰∏ã„ÅÆÂÄ§„ÇíË®≠ÂÆö„Åó„Å¶„Åä„ÅèÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÔºà‰æã„Åß„ÅØ„Åô„Åß„Å´ÊåáÂÆöÊ∏à„Åø„Åß„Åô„ÄÇÔºâ</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android:clickable=\"false\"</span><br><span class=\"line\">android:cursorVisible=\"false\"</span><br><span class=\"line\">android:focusable=\"false\"</span><br><span class=\"line\">android:inputType=\"none\"</span><br></pre></td></tr></table></figure>\n\n<p>„Å™„Çì„Åã<a href=\"https://material.io/develop/android/components/menu/\" target=\"_blank\" rel=\"noopener\">Ë™¨Êòé</a>Ë¶ã„ÇãÈôê„Çä<code>android:inputType=&quot;none&quot;</code>„ÇíÊåáÂÆö„Åô„Çå„Å∞„É¶„Éº„Ç∂„Éº„ÅÆÂÖ•Âäõ„ÇíÁÑ°Âäπ„Å´„Åß„Åç„Çã„Å£„Å¶Êõ∏„ÅÑ„Å¶„ÅÇ„Çã„Åë„Å©„ÄÅ„Åù„Çì„Å™„Åì„Å®„Å™„Åã„Å£„Åü„Çà„ÄÇ</p>\n<h1 id=\"Kotlin\"><a href=\"#Kotlin\" class=\"headerlink\" title=\"Kotlin\"></a>Kotlin</h1><h2 id=\"MainActivity-kt\"><a href=\"#MainActivity-kt\" class=\"headerlink\" title=\"MainActivity.kt\"></a>MainActivity.kt</h2><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Adapter‰ΩúÊàê</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> menuList = arrayListOf(<span class=\"string\">\"Java\"</span>, <span class=\"string\">\"Kotlin\"</span>, <span class=\"string\">\"JavaScript\"</span>, <span class=\"string\">\"TypeScript\"</span>)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> adapter = ArrayAdapter(<span class=\"keyword\">this</span>, android.R.layout.simple_list_item_1, menuList)</span><br><span class=\"line\">        <span class=\"comment\">// AdapterÁôªÈå≤</span></span><br><span class=\"line\">        auto_complete_textview.setAdapter(adapter)</span><br><span class=\"line\">        auto_complete_textview.setText(menuList[<span class=\"number\">0</span>], <span class=\"literal\">false</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„Å†„Åë„Åß„Åô„ÄÇ  </p>\n<img src=\"/Bibouroku/2020/04/28/Android%E3%81%A7%E3%82%A2%E3%82%A6%E3%83%88%E3%83%A9%E3%82%A4%E3%83%B3%E3%81%AA%E3%83%89%E3%83%AD%E3%83%83%E3%83%97%E3%83%80%E3%82%A6%E3%83%B3%E3%83%A1%E3%83%8B%E3%83%A5%E3%83%BC%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B/menu.png\" class=\"\" title=\"outline\">\n\n<h1 id=\"„Åï„ÅÑ„Åî„Å´\"><a href=\"#„Åï„ÅÑ„Åî„Å´\" class=\"headerlink\" title=\"„Åï„ÅÑ„Åî„Å´\"></a>„Åï„ÅÑ„Åî„Å´</h1><p>Êäº„Åó„Åü„Å®„Åç„Å´Toast„ÇíÂá∫„Åó„Å¶„Åø„Çã</p>\n<h2 id=\"MainActivity-kt-1\"><a href=\"#MainActivity-kt-1\" class=\"headerlink\" title=\"MainActivity.kt\"></a>MainActivity.kt</h2><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Adapter‰ΩúÊàê</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> menuList = arrayListOf(<span class=\"string\">\"Java\"</span>, <span class=\"string\">\"Kotlin\"</span>, <span class=\"string\">\"JavaScript\"</span>, <span class=\"string\">\"TypeScript\"</span>)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> adapter = ArrayAdapter(<span class=\"keyword\">this</span>, android.R.layout.simple_list_item_1, menuList)</span><br><span class=\"line\">        <span class=\"comment\">// AdapterÁôªÈå≤</span></span><br><span class=\"line\">        auto_complete_textview.setAdapter(adapter)</span><br><span class=\"line\">        auto_complete_textview.setText(menuList[<span class=\"number\">0</span>], <span class=\"literal\">false</span>)</span><br><span class=\"line\">        <span class=\"comment\">// „ÉÜ„Ç≠„Çπ„ÉàÂ§âÊõ¥„ÇíÊ§úÁü•</span></span><br><span class=\"line\">        auto_complete_textview.addTextChangedListener &#123;</span><br><span class=\"line\">            Toast.makeText(<span class=\"keyword\">this</span>, it.toString(), Toast.LENGTH_SHORT).show()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<img src=\"/Bibouroku/2020/04/28/Android%E3%81%A7%E3%82%A2%E3%82%A6%E3%83%88%E3%83%A9%E3%82%A4%E3%83%B3%E3%81%AA%E3%83%89%E3%83%AD%E3%83%83%E3%83%97%E3%83%80%E3%82%A6%E3%83%B3%E3%83%A1%E3%83%8B%E3%83%A5%E3%83%BC%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B/toast.png\" class=\"\" title=\"toast\">\n\n\n<h1 id=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\"><a href=\"#ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\" class=\"headerlink\" title=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\"></a>ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü</h1><p><a href=\"https://stackoverflow.com/questions/41829665/android-studioedittext-editable-is-deprecated-how-to-use-inputtype/46073055\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/41829665/android-studioedittext-editable-is-deprecated-how-to-use-inputtype/46073055</a></p>\n<p><a href=\"https://material.io/develop/android/components/menu/\" target=\"_blank\" rel=\"noopener\">https://material.io/develop/android/components/menu/</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ</p>\n<h1 id=\"Êú¨È°å\"><a href=\"#Êú¨È°å\" class=\"headerlink\" title=\"Êú¨È°å\"></a>Êú¨È°å</h1><p><a href=\"https://github.com/material-components/material-components-android\" target=\"_blank\" rel=\"noopener\">„Éû„ÉÜ„É™„Ç¢„É´„Éá„Ç∂„Ç§„É≥„ÅÆ„É©„Ç§„Éñ„É©„É™</a>„ÅßOutline„Å™DropDownMenuÔºàSpinnerÔºâ„Å™„ÅÑ„Å®ÊÄù„Å£„Å¶„Åü„Åë„Å©„ÅÇ„Å£„Åü„ÅÆ„ÅßÁ¥π‰ªã„ÄÇ</p>\n<h1 id=\"Áí∞Â¢É\"><a href=\"#Áí∞Â¢É\" class=\"headerlink\" title=\"Áí∞Â¢É\"></a>Áí∞Â¢É</h1><table>\n<thead>\n<tr>\n<th>„Å™„Åæ„Åà</th>\n<th>„ÅÇ„Åü„ÅÑ</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Android</td>\n<td>10</td>\n</tr>\n<tr>\n<td>Ë®ÄË™û</td>\n<td>Kotlin</td>\n</tr>\n</tbody></table>\n<h1 id=\"„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\"><a href=\"#„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\" class=\"headerlink\" title=\"„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã\"></a>„É©„Ç§„Éñ„É©„É™ÂÖ•„Çå„Çã</h1><p>app„Éï„Ç©„É´„ÉÄ„ÅÆÊñπ„Å´„ÅÇ„Çãbuild.gradle„ÇíÈñã„ÅÑ„Å¶<code>dependencies{}</code>„ÅÆ‰∏≠„Å´‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÇíËøΩÂä†„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Material Design</span></span><br><span class=\"line\">implementation <span class=\"string\">'com.google.android.material:material:1.2.0-alpha06'</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"style-xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\"><a href=\"#style-xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\" class=\"headerlink\" title=\"style.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\"></a>style.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã</h1><p>Material Design„ÅÆ„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÔºàUI„ÅÆÈÉ®ÂìÅÔºâ„Çí‰Ωø„ÅÜ„Å´„ÅØstyle.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Å¶<code>Theme.MaterialComponents</code>Á≥ª„Çíparent„Å´ÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„Åø„Åü„ÅÑ„ÄÇ</p>\n<h2 id=\"style-xml\"><a href=\"#style-xml\" class=\"headerlink\" title=\"style.xml\"></a>style.xml</h2><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- Base application theme. --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">name</span>=<span class=\"string\">\"AppTheme\"</span> <span class=\"attr\">parent</span>=<span class=\"string\">\"Theme.MaterialComponents.Light.DarkActionBar\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"comment\">&lt;!-- Customize your theme here. --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">item</span> <span class=\"attr\">name</span>=<span class=\"string\">\"colorPrimary\"</span>&gt;</span>@color/colorPrimary<span class=\"tag\">&lt;/<span class=\"name\">item</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">item</span> <span class=\"attr\">name</span>=<span class=\"string\">\"colorPrimaryDark\"</span>&gt;</span>@color/colorPrimaryDark<span class=\"tag\">&lt;/<span class=\"name\">item</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">item</span> <span class=\"attr\">name</span>=<span class=\"string\">\"colorAccent\"</span>&gt;</span>@color/colorAccent<span class=\"tag\">&lt;/<span class=\"name\">item</span>&gt;</span></span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"><a href=\"#„É¨„Ç§„Ç¢„Ç¶„Éà\" class=\"headerlink\" title=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"></a>„É¨„Ç§„Ç¢„Ç¶„Éà</h1><p><a href=\"https://material.io/develop/android/components/menu/\" target=\"_blank\" rel=\"noopener\">Ë™¨Êòé„Å´„Çà„Çã„Å®</a><code>TextInputLayout</code>„ÅÆ‰∏≠„Å´<code>AutoCompleteTextView</code>„ÇíÂÖ•„Çå„Çã„Åì„Å®„ÅßÂÆüÁèæ„Åï„Çå„Å¶„ÅÑ„Çã„Çâ„Åó„ÅÑ„ÄÇ</p>\n<h2 id=\"activity-main-xml\"><a href=\"#activity-main-xml\" class=\"headerlink\" title=\"activity_main.xml\"></a>activity_main.xml</h2><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:gravity</span>=<span class=\"string\">\"center\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">tools:context</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">com.google.android.material.textfield.TextInputLayout</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">style</span>=<span class=\"string\">\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense.ExposedDropdownMenu\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:hint</span>=<span class=\"string\">\"Outline„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">AutoCompleteTextView</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/auto_complete_textview\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:clickable</span>=<span class=\"string\">\"false\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:cursorVisible</span>=<span class=\"string\">\"false\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:focusable</span>=<span class=\"string\">\"false\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:inputType</span>=<span class=\"string\">\"none\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">com.google.android.material.textfield.TextInputLayout</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ÈáçË¶Å„Å™ÁÇπ\"><a href=\"#ÈáçË¶Å„Å™ÁÇπ\" class=\"headerlink\" title=\"ÈáçË¶Å„Å™ÁÇπ\"></a>ÈáçË¶Å„Å™ÁÇπ</h3><p><code>AutoCompleteTextView</code>„ÅØ„ÉÜ„Ç≠„Çπ„Éà„ÇíË£úÂÖÖ„Åô„ÇãEditText„Å™„Åü„ÇÅ„ÄÅ„Åü„Å†ÁΩÆ„Åè„Å†„Åë„Å†„Å®„ÉÜ„Ç≠„Çπ„ÉàÂ§âÊõ¥„Åå„Åß„Åç„Çã„Å©„Åì„Çç„ÅãIME„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ<br>„Åù„ÅÆÂØæÁ≠ñ„Å´‰ª•‰∏ã„ÅÆÂÄ§„ÇíË®≠ÂÆö„Åó„Å¶„Åä„ÅèÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÔºà‰æã„Åß„ÅØ„Åô„Åß„Å´ÊåáÂÆöÊ∏à„Åø„Åß„Åô„ÄÇÔºâ</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android:clickable=\"false\"</span><br><span class=\"line\">android:cursorVisible=\"false\"</span><br><span class=\"line\">android:focusable=\"false\"</span><br><span class=\"line\">android:inputType=\"none\"</span><br></pre></td></tr></table></figure>\n\n<p>„Å™„Çì„Åã<a href=\"https://material.io/develop/android/components/menu/\" target=\"_blank\" rel=\"noopener\">Ë™¨Êòé</a>Ë¶ã„ÇãÈôê„Çä<code>android:inputType=&quot;none&quot;</code>„ÇíÊåáÂÆö„Åô„Çå„Å∞„É¶„Éº„Ç∂„Éº„ÅÆÂÖ•Âäõ„ÇíÁÑ°Âäπ„Å´„Åß„Åç„Çã„Å£„Å¶Êõ∏„ÅÑ„Å¶„ÅÇ„Çã„Åë„Å©„ÄÅ„Åù„Çì„Å™„Åì„Å®„Å™„Åã„Å£„Åü„Çà„ÄÇ</p>\n<h1 id=\"Kotlin\"><a href=\"#Kotlin\" class=\"headerlink\" title=\"Kotlin\"></a>Kotlin</h1><h2 id=\"MainActivity-kt\"><a href=\"#MainActivity-kt\" class=\"headerlink\" title=\"MainActivity.kt\"></a>MainActivity.kt</h2><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Adapter‰ΩúÊàê</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> menuList = arrayListOf(<span class=\"string\">\"Java\"</span>, <span class=\"string\">\"Kotlin\"</span>, <span class=\"string\">\"JavaScript\"</span>, <span class=\"string\">\"TypeScript\"</span>)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> adapter = ArrayAdapter(<span class=\"keyword\">this</span>, android.R.layout.simple_list_item_1, menuList)</span><br><span class=\"line\">        <span class=\"comment\">// AdapterÁôªÈå≤</span></span><br><span class=\"line\">        auto_complete_textview.setAdapter(adapter)</span><br><span class=\"line\">        auto_complete_textview.setText(menuList[<span class=\"number\">0</span>], <span class=\"literal\">false</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„Å†„Åë„Åß„Åô„ÄÇ  </p>\n<img src=\"/Bibouroku/2020/04/28/Android%E3%81%A7%E3%82%A2%E3%82%A6%E3%83%88%E3%83%A9%E3%82%A4%E3%83%B3%E3%81%AA%E3%83%89%E3%83%AD%E3%83%83%E3%83%97%E3%83%80%E3%82%A6%E3%83%B3%E3%83%A1%E3%83%8B%E3%83%A5%E3%83%BC%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B/menu.png\" class=\"\" title=\"outline\">\n\n<h1 id=\"„Åï„ÅÑ„Åî„Å´\"><a href=\"#„Åï„ÅÑ„Åî„Å´\" class=\"headerlink\" title=\"„Åï„ÅÑ„Åî„Å´\"></a>„Åï„ÅÑ„Åî„Å´</h1><p>Êäº„Åó„Åü„Å®„Åç„Å´Toast„ÇíÂá∫„Åó„Å¶„Åø„Çã</p>\n<h2 id=\"MainActivity-kt-1\"><a href=\"#MainActivity-kt-1\" class=\"headerlink\" title=\"MainActivity.kt\"></a>MainActivity.kt</h2><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Adapter‰ΩúÊàê</span></span><br><span class=\"line\">        <span class=\"keyword\">val</span> menuList = arrayListOf(<span class=\"string\">\"Java\"</span>, <span class=\"string\">\"Kotlin\"</span>, <span class=\"string\">\"JavaScript\"</span>, <span class=\"string\">\"TypeScript\"</span>)</span><br><span class=\"line\">        <span class=\"keyword\">val</span> adapter = ArrayAdapter(<span class=\"keyword\">this</span>, android.R.layout.simple_list_item_1, menuList)</span><br><span class=\"line\">        <span class=\"comment\">// AdapterÁôªÈå≤</span></span><br><span class=\"line\">        auto_complete_textview.setAdapter(adapter)</span><br><span class=\"line\">        auto_complete_textview.setText(menuList[<span class=\"number\">0</span>], <span class=\"literal\">false</span>)</span><br><span class=\"line\">        <span class=\"comment\">// „ÉÜ„Ç≠„Çπ„ÉàÂ§âÊõ¥„ÇíÊ§úÁü•</span></span><br><span class=\"line\">        auto_complete_textview.addTextChangedListener &#123;</span><br><span class=\"line\">            Toast.makeText(<span class=\"keyword\">this</span>, it.toString(), Toast.LENGTH_SHORT).show()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<img src=\"/Bibouroku/2020/04/28/Android%E3%81%A7%E3%82%A2%E3%82%A6%E3%83%88%E3%83%A9%E3%82%A4%E3%83%B3%E3%81%AA%E3%83%89%E3%83%AD%E3%83%83%E3%83%97%E3%83%80%E3%82%A6%E3%83%B3%E3%83%A1%E3%83%8B%E3%83%A5%E3%83%BC%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B/toast.png\" class=\"\" title=\"toast\">\n\n\n<h1 id=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\"><a href=\"#ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\" class=\"headerlink\" title=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\"></a>ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü</h1><p><a href=\"https://stackoverflow.com/questions/41829665/android-studioedittext-editable-is-deprecated-how-to-use-inputtype/46073055\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/41829665/android-studioedittext-editable-is-deprecated-how-to-use-inputtype/46073055</a></p>\n<p><a href=\"https://material.io/develop/android/components/menu/\" target=\"_blank\" rel=\"noopener\">https://material.io/develop/android/components/menu/</a></p>\n"},{"title":"„ÄêAndroid / Kotlin„Äë „Éé„ÉÉ„ÉÅÔºà„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà / Âàá„ÇäÊ¨†„ÅçÔºâ„ÅÆÈÉ®ÂàÜ„ÇÇË°®Á§∫„Åô„ÇãÊñπÊ≥ï","author":"takusan_23","slide":false,"_content":"„Éé„ÉÉ„ÉÅ„Çí‰ªò„Åë„Åö„Å´Êà¶„Å£„Å¶„Çã„É°„Éº„Ç´„Éº„ÅØ„Åã„Å£„Åì„ÅÑ„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n# „Éé„ÉÉ„ÉÅ„ÄÅ„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà„ÄÅÂàá„ÇäÊ¨†„Åç„Å®„ÅØ\niPhone XÔºàÂòò„Åß„ÅôEssential Phone„Åß„ÅôÔºâ„Åã„ÇâÂßã„Åæ„Å£„Åü‰∏ä„ÅÆ„Åã„Åë„Å¶„ÅÑ„ÇãÈÉ®ÂàÜ„ÄÇ„Åì„ÅÆÈÉ®ÂàÜ„Å´„ÅØ„Ç´„É°„É©„ÇÑÈ°îË™çË®º„Å´ÂøÖË¶Å„Å™ÈÉ®ÂìÅ„Åå„ÅÇ„Å£„Åü„Çä„Åô„ÇãÔºàÈ°îË™çË®ºÂØæÂøúÁ´ØÊú´„ÅÆ„ÅøÔºâ„ÄÇ\n‰∏≠ËèØÁ≥ª„ÅåÁúü‰ºº„Åó„Åü„Åõ„ÅÑ„ÅßÊµÅË°å„Å£„Å¶„Åó„Åæ„Å£„ÅüÔºü\n\nPixel 3 XL„Å´Èñ¢„Åó„Å¶„ÅØ‰ªñÁ´ØÊú´„Çà„Çä„ÇÇÂ§ß„Åç„ÇÅ„ÅÆ„Éé„ÉÉ„ÉÅ„Åå„Å§„ÅÑ„Å¶„Åü„Çä„Åô„Çã„ÄÇÔºà„Ç´„É°„É©„ÅåËá™ÊíÆ„ÇäÂÅ¥„ÅÆ„ÅøÔºí„Å§„Å§„ÅÑ„Å¶„ÅÑ„Çã„Åü„ÇÅ„ÄÇÂ∫ÉËßí„Å†„Çà‚Üê‰Ωø„Å£„Åü„Åì„Å®„Å™„ÅÑ„Åë„Å©Ôºâ\n\nÂü∫Êú¨ÁöÑ„Å´„ÅØ„Åì„ÅÆÈÉ®ÂàÜ„Å´„ÅØ„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„ÉºÔºàüîã„ÇÑüì∂„ÇÑüì≥Á≠â„Åå„ÅÇ„Çã„Éê„Éº„ÅÆ„Åì„Å®Ôºâ„Åå„ÅÇ„Å£„Å¶„Ç¢„Éó„É™„ÅØ‰æµÁï•„Åß„Åç„Å™„ÅÑ„ÄÇ\n\n# „Éé„ÉÉ„ÉÅ„Åå„Å™„ÅÑÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÂá∫„ÅôÊñπÊ≥ï\n\nÈñãÁô∫ËÄÖÂêë„Åë„Ç™„Éó„Ç∑„Éß„É≥‚Üí„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà‚ÜíÁ∏¶Èï∑„ÅÆ„Ç´„ÉÉ„Éà„Ç¢„Ç¶„Éà\n„ÇíÈÅ∏Êäû„Åô„Çã„Åì„Å®„Åß„Éé„ÉÉ„ÉÅ„ÇíË°®Á§∫„Åß„Åç„Åæ„Åô„ÄÇ\n„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅåÂ∫É„Åè„Å™„Å£„Å¶ÈÅïÂíåÊÑü„ÅÇ„Çã„Å®ÊÄù„ÅÜ„Çà„ÄÇ\n\n# „Éé„ÉÉ„ÉÅ„Åå„ÅÇ„ÇãÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÈö†„ÅôÔºàÂà©Áî®„Åó„Å™„ÅÑÔºâÊñπÊ≥ï\nPixel 3 XL„Åß„ÅÆÂ†¥Âêà„Åß„Åô„ÄÇ\nÈñãÁô∫ËÄÖÂêë„Åë„Ç™„Éó„Ç∑„Éß„É≥‚Üí„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà‚ÜíÈùûË°®Á§∫„ÄÄ\n„ÇíÈÅ∏Êäû„Åô„Çã„Åì„Å®„Åß„Éé„ÉÉ„ÉÅ„ÇíÂà©Áî®„Åó„Å™„ÅÑË®≠ÂÆö„Å´„Åß„Åç„Åæ„Åô„ÄÇ\n\n„Åù„ÅÆ‰ªñ„Çµ„Éº„Éâ„Éë„Éº„ÉÜ„Ç£„ÅÆ„Ç¢„Éó„É™„Åß„Éé„ÉÉ„ÉÅÈ†òÂüü„ÅÆËÉåÊôØ„ÇíÈªí„Åè„Åô„Çã„Ç¢„Éó„É™„Å™„Å©„ÇÇ„ÅÇ„Çã„ÅÆ„Åß„Å©„ÅÜ„Åó„Å¶„ÇÇÊ∞ó„Å´„Å™„Çã‰∫∫„ÅØÂÖ•„Çå„Å¶„Åø„Å¶„ÅØÔºü„ÄÇ\n\n# ‰æµÁï•„Åô„Çã„Å´„ÅØ\n![Screenshot_1578906820.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/7b9cf20d-ad5b-a631-bcaf-531a970da9ab.png)\n\n„Åì„Çì„Å™„Åµ„ÅÜ„Å´‰∏ä„Å´„ÇÇË°®Á§∫„Åï„Åõ„Åü„ÅÑÂ†¥Âêà„ÅØ„ÄÅ\n\n```kotlin\n//„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„ÉºÈÄèÊòéÂåñÔºã„Çø„Ç§„Éà„É´„Éê„ÉºÈùûË°®Á§∫Ôºã„Éé„ÉÉ„ÉÅÈ†òÂüü„Å´„ÇÇ‰æµÁï•\nwindow.addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS)\nsupportActionBar?.hide()\nif (Build.VERSION.SDK_INT >= Build.VERSION_CODES.P) {\n    val attrib = window.attributes\n    attrib.layoutInDisplayCutoutMode =\n        WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES\n}\n```\n\n„Åì„Çå„ÅßÂãï„Åç„Åæ„Åô„ÄÇ\nActionBar„ÇíÈùûË°®Á§∫„Å´„Åó„Å¶„Åæ„Åô„Åå„ÄÅ„Å©„Å£„Åã„Åß„Åù„ÇÇ„Åù„ÇÇË°®Á§∫„Åó„Å™„ÅÑË®≠ÂÆö„Å´„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅØ\n‰∫åË°åÁõÆ„ÇíÊ∂à„Åó„Åü„Åª„ÅÜ„Åå„ÅÑ„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n\n„Åì„Çå„Åß„Éé„ÉÉ„ÉÅÈ†òÂüü„Å´‰æµÁï•„Åô„Çã„Åì„Å®„Å´ÊàêÂäü„Åó„Åæ„Åó„Åü„ÄÇ\n\n![Screenshot_1578906694.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/38701a36-6bfe-969e-1b62-013a5bcfd64c.png)\n\n‰ª•‰∏ä„Åß„Åô„ÄÇ„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åó„Åü„ÄÇÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºò\n\n# ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\nhttps://stackoverflow.com/questions/49190381/fullscreen-app-with-displaycutout\n\nandroid display cutout full screen „Å£„Å¶Ê§úÁ¥¢„Åó„Åü„Çì„Åß„Åô„Åë„Å©GoogleÂÖàÁîü„Åô„Åî„ÅÑ„ÄÇ\n","source":"_posts/Android„ÅÆ„Éé„ÉÉ„ÉÅÈ†òÂüü„Å´‰æµÁï•.md","raw":"---\ntitle: „ÄêAndroid / Kotlin„Äë „Éé„ÉÉ„ÉÅÔºà„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà / Âàá„ÇäÊ¨†„ÅçÔºâ„ÅÆÈÉ®ÂàÜ„ÇÇË°®Á§∫„Åô„ÇãÊñπÊ≥ï\ntags: \n- Android\n- Kotlin\nauthor: takusan_23\nslide: false\n---\n„Éé„ÉÉ„ÉÅ„Çí‰ªò„Åë„Åö„Å´Êà¶„Å£„Å¶„Çã„É°„Éº„Ç´„Éº„ÅØ„Åã„Å£„Åì„ÅÑ„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n# „Éé„ÉÉ„ÉÅ„ÄÅ„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà„ÄÅÂàá„ÇäÊ¨†„Åç„Å®„ÅØ\niPhone XÔºàÂòò„Åß„ÅôEssential Phone„Åß„ÅôÔºâ„Åã„ÇâÂßã„Åæ„Å£„Åü‰∏ä„ÅÆ„Åã„Åë„Å¶„ÅÑ„ÇãÈÉ®ÂàÜ„ÄÇ„Åì„ÅÆÈÉ®ÂàÜ„Å´„ÅØ„Ç´„É°„É©„ÇÑÈ°îË™çË®º„Å´ÂøÖË¶Å„Å™ÈÉ®ÂìÅ„Åå„ÅÇ„Å£„Åü„Çä„Åô„ÇãÔºàÈ°îË™çË®ºÂØæÂøúÁ´ØÊú´„ÅÆ„ÅøÔºâ„ÄÇ\n‰∏≠ËèØÁ≥ª„ÅåÁúü‰ºº„Åó„Åü„Åõ„ÅÑ„ÅßÊµÅË°å„Å£„Å¶„Åó„Åæ„Å£„ÅüÔºü\n\nPixel 3 XL„Å´Èñ¢„Åó„Å¶„ÅØ‰ªñÁ´ØÊú´„Çà„Çä„ÇÇÂ§ß„Åç„ÇÅ„ÅÆ„Éé„ÉÉ„ÉÅ„Åå„Å§„ÅÑ„Å¶„Åü„Çä„Åô„Çã„ÄÇÔºà„Ç´„É°„É©„ÅåËá™ÊíÆ„ÇäÂÅ¥„ÅÆ„ÅøÔºí„Å§„Å§„ÅÑ„Å¶„ÅÑ„Çã„Åü„ÇÅ„ÄÇÂ∫ÉËßí„Å†„Çà‚Üê‰Ωø„Å£„Åü„Åì„Å®„Å™„ÅÑ„Åë„Å©Ôºâ\n\nÂü∫Êú¨ÁöÑ„Å´„ÅØ„Åì„ÅÆÈÉ®ÂàÜ„Å´„ÅØ„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„ÉºÔºàüîã„ÇÑüì∂„ÇÑüì≥Á≠â„Åå„ÅÇ„Çã„Éê„Éº„ÅÆ„Åì„Å®Ôºâ„Åå„ÅÇ„Å£„Å¶„Ç¢„Éó„É™„ÅØ‰æµÁï•„Åß„Åç„Å™„ÅÑ„ÄÇ\n\n# „Éé„ÉÉ„ÉÅ„Åå„Å™„ÅÑÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÂá∫„ÅôÊñπÊ≥ï\n\nÈñãÁô∫ËÄÖÂêë„Åë„Ç™„Éó„Ç∑„Éß„É≥‚Üí„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà‚ÜíÁ∏¶Èï∑„ÅÆ„Ç´„ÉÉ„Éà„Ç¢„Ç¶„Éà\n„ÇíÈÅ∏Êäû„Åô„Çã„Åì„Å®„Åß„Éé„ÉÉ„ÉÅ„ÇíË°®Á§∫„Åß„Åç„Åæ„Åô„ÄÇ\n„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅåÂ∫É„Åè„Å™„Å£„Å¶ÈÅïÂíåÊÑü„ÅÇ„Çã„Å®ÊÄù„ÅÜ„Çà„ÄÇ\n\n# „Éé„ÉÉ„ÉÅ„Åå„ÅÇ„ÇãÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÈö†„ÅôÔºàÂà©Áî®„Åó„Å™„ÅÑÔºâÊñπÊ≥ï\nPixel 3 XL„Åß„ÅÆÂ†¥Âêà„Åß„Åô„ÄÇ\nÈñãÁô∫ËÄÖÂêë„Åë„Ç™„Éó„Ç∑„Éß„É≥‚Üí„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà‚ÜíÈùûË°®Á§∫„ÄÄ\n„ÇíÈÅ∏Êäû„Åô„Çã„Åì„Å®„Åß„Éé„ÉÉ„ÉÅ„ÇíÂà©Áî®„Åó„Å™„ÅÑË®≠ÂÆö„Å´„Åß„Åç„Åæ„Åô„ÄÇ\n\n„Åù„ÅÆ‰ªñ„Çµ„Éº„Éâ„Éë„Éº„ÉÜ„Ç£„ÅÆ„Ç¢„Éó„É™„Åß„Éé„ÉÉ„ÉÅÈ†òÂüü„ÅÆËÉåÊôØ„ÇíÈªí„Åè„Åô„Çã„Ç¢„Éó„É™„Å™„Å©„ÇÇ„ÅÇ„Çã„ÅÆ„Åß„Å©„ÅÜ„Åó„Å¶„ÇÇÊ∞ó„Å´„Å™„Çã‰∫∫„ÅØÂÖ•„Çå„Å¶„Åø„Å¶„ÅØÔºü„ÄÇ\n\n# ‰æµÁï•„Åô„Çã„Å´„ÅØ\n![Screenshot_1578906820.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/7b9cf20d-ad5b-a631-bcaf-531a970da9ab.png)\n\n„Åì„Çì„Å™„Åµ„ÅÜ„Å´‰∏ä„Å´„ÇÇË°®Á§∫„Åï„Åõ„Åü„ÅÑÂ†¥Âêà„ÅØ„ÄÅ\n\n```kotlin\n//„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„ÉºÈÄèÊòéÂåñÔºã„Çø„Ç§„Éà„É´„Éê„ÉºÈùûË°®Á§∫Ôºã„Éé„ÉÉ„ÉÅÈ†òÂüü„Å´„ÇÇ‰æµÁï•\nwindow.addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS)\nsupportActionBar?.hide()\nif (Build.VERSION.SDK_INT >= Build.VERSION_CODES.P) {\n    val attrib = window.attributes\n    attrib.layoutInDisplayCutoutMode =\n        WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES\n}\n```\n\n„Åì„Çå„ÅßÂãï„Åç„Åæ„Åô„ÄÇ\nActionBar„ÇíÈùûË°®Á§∫„Å´„Åó„Å¶„Åæ„Åô„Åå„ÄÅ„Å©„Å£„Åã„Åß„Åù„ÇÇ„Åù„ÇÇË°®Á§∫„Åó„Å™„ÅÑË®≠ÂÆö„Å´„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅØ\n‰∫åË°åÁõÆ„ÇíÊ∂à„Åó„Åü„Åª„ÅÜ„Åå„ÅÑ„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n\n„Åì„Çå„Åß„Éé„ÉÉ„ÉÅÈ†òÂüü„Å´‰æµÁï•„Åô„Çã„Åì„Å®„Å´ÊàêÂäü„Åó„Åæ„Åó„Åü„ÄÇ\n\n![Screenshot_1578906694.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/38701a36-6bfe-969e-1b62-013a5bcfd64c.png)\n\n‰ª•‰∏ä„Åß„Åô„ÄÇ„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åó„Åü„ÄÇÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºò\n\n# ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\nhttps://stackoverflow.com/questions/49190381/fullscreen-app-with-displaycutout\n\nandroid display cutout full screen „Å£„Å¶Ê§úÁ¥¢„Åó„Åü„Çì„Åß„Åô„Åë„Å©GoogleÂÖàÁîü„Åô„Åî„ÅÑ„ÄÇ\n","slug":"Android„ÅÆ„Éé„ÉÉ„ÉÅÈ†òÂüü„Å´‰æµÁï•","published":1,"date":"2020-04-05T16:27:15.645Z","updated":"2020-04-05T16:38:33.441Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgo000bh8vu11iuhj5r","content":"<p>„Éé„ÉÉ„ÉÅ„Çí‰ªò„Åë„Åö„Å´Êà¶„Å£„Å¶„Çã„É°„Éº„Ç´„Éº„ÅØ„Åã„Å£„Åì„ÅÑ„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h1 id=\"„Éé„ÉÉ„ÉÅ„ÄÅ„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà„ÄÅÂàá„ÇäÊ¨†„Åç„Å®„ÅØ\"><a href=\"#„Éé„ÉÉ„ÉÅ„ÄÅ„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà„ÄÅÂàá„ÇäÊ¨†„Åç„Å®„ÅØ\" class=\"headerlink\" title=\"„Éé„ÉÉ„ÉÅ„ÄÅ„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà„ÄÅÂàá„ÇäÊ¨†„Åç„Å®„ÅØ\"></a>„Éé„ÉÉ„ÉÅ„ÄÅ„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà„ÄÅÂàá„ÇäÊ¨†„Åç„Å®„ÅØ</h1><p>iPhone XÔºàÂòò„Åß„ÅôEssential Phone„Åß„ÅôÔºâ„Åã„ÇâÂßã„Åæ„Å£„Åü‰∏ä„ÅÆ„Åã„Åë„Å¶„ÅÑ„ÇãÈÉ®ÂàÜ„ÄÇ„Åì„ÅÆÈÉ®ÂàÜ„Å´„ÅØ„Ç´„É°„É©„ÇÑÈ°îË™çË®º„Å´ÂøÖË¶Å„Å™ÈÉ®ÂìÅ„Åå„ÅÇ„Å£„Åü„Çä„Åô„ÇãÔºàÈ°îË™çË®ºÂØæÂøúÁ´ØÊú´„ÅÆ„ÅøÔºâ„ÄÇ<br>‰∏≠ËèØÁ≥ª„ÅåÁúü‰ºº„Åó„Åü„Åõ„ÅÑ„ÅßÊµÅË°å„Å£„Å¶„Åó„Åæ„Å£„ÅüÔºü</p>\n<p>Pixel 3 XL„Å´Èñ¢„Åó„Å¶„ÅØ‰ªñÁ´ØÊú´„Çà„Çä„ÇÇÂ§ß„Åç„ÇÅ„ÅÆ„Éé„ÉÉ„ÉÅ„Åå„Å§„ÅÑ„Å¶„Åü„Çä„Åô„Çã„ÄÇÔºà„Ç´„É°„É©„ÅåËá™ÊíÆ„ÇäÂÅ¥„ÅÆ„ÅøÔºí„Å§„Å§„ÅÑ„Å¶„ÅÑ„Çã„Åü„ÇÅ„ÄÇÂ∫ÉËßí„Å†„Çà‚Üê‰Ωø„Å£„Åü„Åì„Å®„Å™„ÅÑ„Åë„Å©Ôºâ</p>\n<p>Âü∫Êú¨ÁöÑ„Å´„ÅØ„Åì„ÅÆÈÉ®ÂàÜ„Å´„ÅØ„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„ÉºÔºàüîã„ÇÑüì∂„ÇÑüì≥Á≠â„Åå„ÅÇ„Çã„Éê„Éº„ÅÆ„Åì„Å®Ôºâ„Åå„ÅÇ„Å£„Å¶„Ç¢„Éó„É™„ÅØ‰æµÁï•„Åß„Åç„Å™„ÅÑ„ÄÇ</p>\n<h1 id=\"„Éé„ÉÉ„ÉÅ„Åå„Å™„ÅÑÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÂá∫„ÅôÊñπÊ≥ï\"><a href=\"#„Éé„ÉÉ„ÉÅ„Åå„Å™„ÅÑÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÂá∫„ÅôÊñπÊ≥ï\" class=\"headerlink\" title=\"„Éé„ÉÉ„ÉÅ„Åå„Å™„ÅÑÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÂá∫„ÅôÊñπÊ≥ï\"></a>„Éé„ÉÉ„ÉÅ„Åå„Å™„ÅÑÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÂá∫„ÅôÊñπÊ≥ï</h1><p>ÈñãÁô∫ËÄÖÂêë„Åë„Ç™„Éó„Ç∑„Éß„É≥‚Üí„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà‚ÜíÁ∏¶Èï∑„ÅÆ„Ç´„ÉÉ„Éà„Ç¢„Ç¶„Éà<br>„ÇíÈÅ∏Êäû„Åô„Çã„Åì„Å®„Åß„Éé„ÉÉ„ÉÅ„ÇíË°®Á§∫„Åß„Åç„Åæ„Åô„ÄÇ<br>„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅåÂ∫É„Åè„Å™„Å£„Å¶ÈÅïÂíåÊÑü„ÅÇ„Çã„Å®ÊÄù„ÅÜ„Çà„ÄÇ</p>\n<h1 id=\"„Éé„ÉÉ„ÉÅ„Åå„ÅÇ„ÇãÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÈö†„ÅôÔºàÂà©Áî®„Åó„Å™„ÅÑÔºâÊñπÊ≥ï\"><a href=\"#„Éé„ÉÉ„ÉÅ„Åå„ÅÇ„ÇãÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÈö†„ÅôÔºàÂà©Áî®„Åó„Å™„ÅÑÔºâÊñπÊ≥ï\" class=\"headerlink\" title=\"„Éé„ÉÉ„ÉÅ„Åå„ÅÇ„ÇãÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÈö†„ÅôÔºàÂà©Áî®„Åó„Å™„ÅÑÔºâÊñπÊ≥ï\"></a>„Éé„ÉÉ„ÉÅ„Åå„ÅÇ„ÇãÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÈö†„ÅôÔºàÂà©Áî®„Åó„Å™„ÅÑÔºâÊñπÊ≥ï</h1><p>Pixel 3 XL„Åß„ÅÆÂ†¥Âêà„Åß„Åô„ÄÇ<br>ÈñãÁô∫ËÄÖÂêë„Åë„Ç™„Éó„Ç∑„Éß„É≥‚Üí„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà‚ÜíÈùûË°®Á§∫„ÄÄ<br>„ÇíÈÅ∏Êäû„Åô„Çã„Åì„Å®„Åß„Éé„ÉÉ„ÉÅ„ÇíÂà©Áî®„Åó„Å™„ÅÑË®≠ÂÆö„Å´„Åß„Åç„Åæ„Åô„ÄÇ</p>\n<p>„Åù„ÅÆ‰ªñ„Çµ„Éº„Éâ„Éë„Éº„ÉÜ„Ç£„ÅÆ„Ç¢„Éó„É™„Åß„Éé„ÉÉ„ÉÅÈ†òÂüü„ÅÆËÉåÊôØ„ÇíÈªí„Åè„Åô„Çã„Ç¢„Éó„É™„Å™„Å©„ÇÇ„ÅÇ„Çã„ÅÆ„Åß„Å©„ÅÜ„Åó„Å¶„ÇÇÊ∞ó„Å´„Å™„Çã‰∫∫„ÅØÂÖ•„Çå„Å¶„Åø„Å¶„ÅØÔºü„ÄÇ</p>\n<h1 id=\"‰æµÁï•„Åô„Çã„Å´„ÅØ\"><a href=\"#‰æµÁï•„Åô„Çã„Å´„ÅØ\" class=\"headerlink\" title=\"‰æµÁï•„Åô„Çã„Å´„ÅØ\"></a>‰æµÁï•„Åô„Çã„Å´„ÅØ</h1><figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/7b9cf20d-ad5b-a631-bcaf-531a970da9ab.png\" alt=\"Screenshot_1578906820.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_1578906820.png</div>\n            </figure>\n\n<p>„Åì„Çì„Å™„Åµ„ÅÜ„Å´‰∏ä„Å´„ÇÇË°®Á§∫„Åï„Åõ„Åü„ÅÑÂ†¥Âêà„ÅØ„ÄÅ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„ÉºÈÄèÊòéÂåñÔºã„Çø„Ç§„Éà„É´„Éê„ÉºÈùûË°®Á§∫Ôºã„Éé„ÉÉ„ÉÅÈ†òÂüü„Å´„ÇÇ‰æµÁï•</span></span><br><span class=\"line\">window.addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS)</span><br><span class=\"line\">supportActionBar?.hide()</span><br><span class=\"line\"><span class=\"keyword\">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> attrib = window.attributes</span><br><span class=\"line\">    attrib.layoutInDisplayCutoutMode =</span><br><span class=\"line\">        WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßÂãï„Åç„Åæ„Åô„ÄÇ<br>ActionBar„ÇíÈùûË°®Á§∫„Å´„Åó„Å¶„Åæ„Åô„Åå„ÄÅ„Å©„Å£„Åã„Åß„Åù„ÇÇ„Åù„ÇÇË°®Á§∫„Åó„Å™„ÅÑË®≠ÂÆö„Å´„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅØ<br>‰∫åË°åÁõÆ„ÇíÊ∂à„Åó„Åü„Åª„ÅÜ„Åå„ÅÑ„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<p>„Åì„Çå„Åß„Éé„ÉÉ„ÉÅÈ†òÂüü„Å´‰æµÁï•„Åô„Çã„Åì„Å®„Å´ÊàêÂäü„Åó„Åæ„Åó„Åü„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/38701a36-6bfe-969e-1b62-013a5bcfd64c.png\" alt=\"Screenshot_1578906694.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_1578906694.png</div>\n            </figure>\n\n<p>‰ª•‰∏ä„Åß„Åô„ÄÇ„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åó„Åü„ÄÇÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºò</p>\n<h1 id=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\"><a href=\"#ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\" class=\"headerlink\" title=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\"></a>ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü</h1><p><a href=\"https://stackoverflow.com/questions/49190381/fullscreen-app-with-displaycutout\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/49190381/fullscreen-app-with-displaycutout</a></p>\n<p>android display cutout full screen „Å£„Å¶Ê§úÁ¥¢„Åó„Åü„Çì„Åß„Åô„Åë„Å©GoogleÂÖàÁîü„Åô„Åî„ÅÑ„ÄÇ</p>\n","site":{"data":{}},"excerpt":"","more":"<p>„Éé„ÉÉ„ÉÅ„Çí‰ªò„Åë„Åö„Å´Êà¶„Å£„Å¶„Çã„É°„Éº„Ç´„Éº„ÅØ„Åã„Å£„Åì„ÅÑ„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h1 id=\"„Éé„ÉÉ„ÉÅ„ÄÅ„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà„ÄÅÂàá„ÇäÊ¨†„Åç„Å®„ÅØ\"><a href=\"#„Éé„ÉÉ„ÉÅ„ÄÅ„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà„ÄÅÂàá„ÇäÊ¨†„Åç„Å®„ÅØ\" class=\"headerlink\" title=\"„Éé„ÉÉ„ÉÅ„ÄÅ„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà„ÄÅÂàá„ÇäÊ¨†„Åç„Å®„ÅØ\"></a>„Éé„ÉÉ„ÉÅ„ÄÅ„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà„ÄÅÂàá„ÇäÊ¨†„Åç„Å®„ÅØ</h1><p>iPhone XÔºàÂòò„Åß„ÅôEssential Phone„Åß„ÅôÔºâ„Åã„ÇâÂßã„Åæ„Å£„Åü‰∏ä„ÅÆ„Åã„Åë„Å¶„ÅÑ„ÇãÈÉ®ÂàÜ„ÄÇ„Åì„ÅÆÈÉ®ÂàÜ„Å´„ÅØ„Ç´„É°„É©„ÇÑÈ°îË™çË®º„Å´ÂøÖË¶Å„Å™ÈÉ®ÂìÅ„Åå„ÅÇ„Å£„Åü„Çä„Åô„ÇãÔºàÈ°îË™çË®ºÂØæÂøúÁ´ØÊú´„ÅÆ„ÅøÔºâ„ÄÇ<br>‰∏≠ËèØÁ≥ª„ÅåÁúü‰ºº„Åó„Åü„Åõ„ÅÑ„ÅßÊµÅË°å„Å£„Å¶„Åó„Åæ„Å£„ÅüÔºü</p>\n<p>Pixel 3 XL„Å´Èñ¢„Åó„Å¶„ÅØ‰ªñÁ´ØÊú´„Çà„Çä„ÇÇÂ§ß„Åç„ÇÅ„ÅÆ„Éé„ÉÉ„ÉÅ„Åå„Å§„ÅÑ„Å¶„Åü„Çä„Åô„Çã„ÄÇÔºà„Ç´„É°„É©„ÅåËá™ÊíÆ„ÇäÂÅ¥„ÅÆ„ÅøÔºí„Å§„Å§„ÅÑ„Å¶„ÅÑ„Çã„Åü„ÇÅ„ÄÇÂ∫ÉËßí„Å†„Çà‚Üê‰Ωø„Å£„Åü„Åì„Å®„Å™„ÅÑ„Åë„Å©Ôºâ</p>\n<p>Âü∫Êú¨ÁöÑ„Å´„ÅØ„Åì„ÅÆÈÉ®ÂàÜ„Å´„ÅØ„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„ÉºÔºàüîã„ÇÑüì∂„ÇÑüì≥Á≠â„Åå„ÅÇ„Çã„Éê„Éº„ÅÆ„Åì„Å®Ôºâ„Åå„ÅÇ„Å£„Å¶„Ç¢„Éó„É™„ÅØ‰æµÁï•„Åß„Åç„Å™„ÅÑ„ÄÇ</p>\n<h1 id=\"„Éé„ÉÉ„ÉÅ„Åå„Å™„ÅÑÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÂá∫„ÅôÊñπÊ≥ï\"><a href=\"#„Éé„ÉÉ„ÉÅ„Åå„Å™„ÅÑÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÂá∫„ÅôÊñπÊ≥ï\" class=\"headerlink\" title=\"„Éé„ÉÉ„ÉÅ„Åå„Å™„ÅÑÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÂá∫„ÅôÊñπÊ≥ï\"></a>„Éé„ÉÉ„ÉÅ„Åå„Å™„ÅÑÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÂá∫„ÅôÊñπÊ≥ï</h1><p>ÈñãÁô∫ËÄÖÂêë„Åë„Ç™„Éó„Ç∑„Éß„É≥‚Üí„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà‚ÜíÁ∏¶Èï∑„ÅÆ„Ç´„ÉÉ„Éà„Ç¢„Ç¶„Éà<br>„ÇíÈÅ∏Êäû„Åô„Çã„Åì„Å®„Åß„Éé„ÉÉ„ÉÅ„ÇíË°®Á§∫„Åß„Åç„Åæ„Åô„ÄÇ<br>„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅåÂ∫É„Åè„Å™„Å£„Å¶ÈÅïÂíåÊÑü„ÅÇ„Çã„Å®ÊÄù„ÅÜ„Çà„ÄÇ</p>\n<h1 id=\"„Éé„ÉÉ„ÉÅ„Åå„ÅÇ„ÇãÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÈö†„ÅôÔºàÂà©Áî®„Åó„Å™„ÅÑÔºâÊñπÊ≥ï\"><a href=\"#„Éé„ÉÉ„ÉÅ„Åå„ÅÇ„ÇãÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÈö†„ÅôÔºàÂà©Áî®„Åó„Å™„ÅÑÔºâÊñπÊ≥ï\" class=\"headerlink\" title=\"„Éé„ÉÉ„ÉÅ„Åå„ÅÇ„ÇãÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÈö†„ÅôÔºàÂà©Áî®„Åó„Å™„ÅÑÔºâÊñπÊ≥ï\"></a>„Éé„ÉÉ„ÉÅ„Åå„ÅÇ„ÇãÁ´ØÊú´„Åß„Éé„ÉÉ„ÉÅ„ÇíÈö†„ÅôÔºàÂà©Áî®„Åó„Å™„ÅÑÔºâÊñπÊ≥ï</h1><p>Pixel 3 XL„Åß„ÅÆÂ†¥Âêà„Åß„Åô„ÄÇ<br>ÈñãÁô∫ËÄÖÂêë„Åë„Ç™„Éó„Ç∑„Éß„É≥‚Üí„Éá„Ç£„Çπ„Éó„É¨„Ç§„Ç´„ÉÉ„Éà‚ÜíÈùûË°®Á§∫„ÄÄ<br>„ÇíÈÅ∏Êäû„Åô„Çã„Åì„Å®„Åß„Éé„ÉÉ„ÉÅ„ÇíÂà©Áî®„Åó„Å™„ÅÑË®≠ÂÆö„Å´„Åß„Åç„Åæ„Åô„ÄÇ</p>\n<p>„Åù„ÅÆ‰ªñ„Çµ„Éº„Éâ„Éë„Éº„ÉÜ„Ç£„ÅÆ„Ç¢„Éó„É™„Åß„Éé„ÉÉ„ÉÅÈ†òÂüü„ÅÆËÉåÊôØ„ÇíÈªí„Åè„Åô„Çã„Ç¢„Éó„É™„Å™„Å©„ÇÇ„ÅÇ„Çã„ÅÆ„Åß„Å©„ÅÜ„Åó„Å¶„ÇÇÊ∞ó„Å´„Å™„Çã‰∫∫„ÅØÂÖ•„Çå„Å¶„Åø„Å¶„ÅØÔºü„ÄÇ</p>\n<h1 id=\"‰æµÁï•„Åô„Çã„Å´„ÅØ\"><a href=\"#‰æµÁï•„Åô„Çã„Å´„ÅØ\" class=\"headerlink\" title=\"‰æµÁï•„Åô„Çã„Å´„ÅØ\"></a>‰æµÁï•„Åô„Çã„Å´„ÅØ</h1><figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/7b9cf20d-ad5b-a631-bcaf-531a970da9ab.png\" alt=\"Screenshot_1578906820.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_1578906820.png</div>\n            </figure>\n\n<p>„Åì„Çì„Å™„Åµ„ÅÜ„Å´‰∏ä„Å´„ÇÇË°®Á§∫„Åï„Åõ„Åü„ÅÑÂ†¥Âêà„ÅØ„ÄÅ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„ÉºÈÄèÊòéÂåñÔºã„Çø„Ç§„Éà„É´„Éê„ÉºÈùûË°®Á§∫Ôºã„Éé„ÉÉ„ÉÅÈ†òÂüü„Å´„ÇÇ‰æµÁï•</span></span><br><span class=\"line\">window.addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS)</span><br><span class=\"line\">supportActionBar?.hide()</span><br><span class=\"line\"><span class=\"keyword\">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> attrib = window.attributes</span><br><span class=\"line\">    attrib.layoutInDisplayCutoutMode =</span><br><span class=\"line\">        WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßÂãï„Åç„Åæ„Åô„ÄÇ<br>ActionBar„ÇíÈùûË°®Á§∫„Å´„Åó„Å¶„Åæ„Åô„Åå„ÄÅ„Å©„Å£„Åã„Åß„Åù„ÇÇ„Åù„ÇÇË°®Á§∫„Åó„Å™„ÅÑË®≠ÂÆö„Å´„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅØ<br>‰∫åË°åÁõÆ„ÇíÊ∂à„Åó„Åü„Åª„ÅÜ„Åå„ÅÑ„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<p>„Åì„Çå„Åß„Éé„ÉÉ„ÉÅÈ†òÂüü„Å´‰æµÁï•„Åô„Çã„Åì„Å®„Å´ÊàêÂäü„Åó„Åæ„Åó„Åü„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/38701a36-6bfe-969e-1b62-013a5bcfd64c.png\" alt=\"Screenshot_1578906694.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_1578906694.png</div>\n            </figure>\n\n<p>‰ª•‰∏ä„Åß„Åô„ÄÇ„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åó„Åü„ÄÇÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºò</p>\n<h1 id=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\"><a href=\"#ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\" class=\"headerlink\" title=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\"></a>ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü</h1><p><a href=\"https://stackoverflow.com/questions/49190381/fullscreen-app-with-displaycutout\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/49190381/fullscreen-app-with-displaycutout</a></p>\n<p>android display cutout full screen „Å£„Å¶Ê§úÁ¥¢„Åó„Åü„Çì„Åß„Åô„Åë„Å©GoogleÂÖàÁîü„Åô„Åî„ÅÑ„ÄÇ</p>\n"},{"title":"Electron„ÅßÈõë„Å´„Ç¢„Éó„É™„Çí‰Ωú„Å£„Å¶Windows„ÅÆ„Éù„Éº„Çø„Éñ„É´„Ç¢„Éó„É™„Å®„Åó„Å¶Âãï„Åè„Åæ„Åß„ÇÑ„Çã„ÄÇ 2020/02/28ËøΩË®ò","author":"takusan_23","slide":false,"_content":"‰πÖ„Åó„Å∂„Çä„Å´Electron„Å´„Å§„ÅÑ„Å¶**„ÅäË©±„Åó„Åæ„Åô„ÄÇ**\n\n# exe„Éï„Ç°„Ç§„É´„Å´„Åó„Å¶Âãï„Åã„Åó„Åü„ÅÑ„ÄÇ\n„Åó„Åã„Åó2015Âπ¥„Å®„Åã2016Âπ¥„ÅÆË®ò‰∫ã„Åå„Åä„Åä„ÅÑ„ÄÇ„Å§„Çâ„ÅÑ„ÄÇ~~‰ª§Âíå„Å†„Åû„ÄÇ~~\n\n„Å®„ÅÑ„ÅÜ„Çè„Åë„Åß‰ªäÂõû„ÅØElectron„ÅßÈÅ©ÂΩì„Å´„Ç¢„Éó„É™„Çí‰Ωú„Å£„Å¶„Éù„Éº„Çø„Éñ„É´„Ç¢„Éó„É™„Å®„Åó„Å¶„Åô„Åê‰Ωø„Åà„Çã„Çà„ÅÜ„Å´„Åô„Çã„Å®„Åì„Çç„ÇíÁõÆÊ®ô„Å´‰Ωú„Å£„Å¶„ÅÑ„Åì„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ==„Ç§„É≥„Çπ„Éà„Éº„É´‰∏çË¶Å„ÅßÂãï„Åã„ÅôÔºÅ\n\n# ‰Ωï‰Ωú„Çã„ÄÇ\nmarquee„Çø„Ç∞„Åßüç£„ÇíÊµÅ„Åô„Å†„Åë„ÅÆ„Ç¢„Éó„É™„ÄÇ„Åã„Çì„Åü„Çì„ÄÇ\n\n# ‰Ωú„ÇäÊñπ\n## „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó npm init\n„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„ÅØËá™ÂàÜ„ÅåÊõ∏„ÅÑ„ÅüÈÅéÂéª„ÅÆË®ò‰∫ã„Å®Âêå„Åò„Åì„Å®„Åó„Å¶„Åæ„Åô„ÄÇ[„Åì„Åì](https://qiita.com/takusan_23/items/eca19b4111109616bbfa)„ÄÇ\n\n\nÈÅ©ÂΩì„Å´„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åô„Çã„ÄÇ\n\n‰Ωú„Å£„Åü„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Åß```Shift+Âè≥„ÇØ„É™„ÉÉ„ÇØ```„Åß```PowerShell „Ç¶„Ç£„É≥„Éâ„Ç¶„Çí„Åì„Åì„Å´Èñã„Åè```„Åã```„Ç≥„Éû„É≥„Éâ „Ç¶„Ç£„É≥„Éâ„Ç¶„Çí„Åì„Åì„ÅßÈñã„Åè```„ÇíÊäº„Åó„Åæ„Åô„ÄÇÔºàWin10„ÅØÂâçËÄÖ„ÄÇ„Åù„Çå‰ª•Â§ñ„ÅØÂæåËÄÖÔºâ„ÄÇ\n\nÈñã„ÅÑ„Åü„Çâ‰∏≠„Åß‰ª•‰∏ã„ÅÆÊñá„ÇíÂÖ•Âäõ„Åó„Åæ„Åô„ÄÇ\n\n```terminal\nnpm init -y\n````\n\n„Åì„Çå„Åß```package.json```„Åå‰ΩúÊàê„Åß„Åç„Å¶„ÅÑ„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ\n\n„Åù„Åó„Åü„Çâpackage.json„ÇíÈñã„ÅÑ„Å¶„ÄÅÂ∞ë„ÅóÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ\n\n```\"main\" : \"index.js\",```\n‚Üì\n```\"main\": \"./src/main.js\",```\n\n```\n\"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n```\n‚Üì\n\n```\n \"scripts\": {\n    \"start\": \"electron .\"\n  },\n```\n\n## „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó npm install --save-dev electron\n\nPowerShell„Åæ„Åü„ÅØ„Ç≥„Éû„É≥„Éâ„Éó„É≠„É≥„Éó„Éà„ÅÆÁîªÈù¢„ÅØ„Åù„ÅÆ„Åæ„Åæ„ÄÅÊ¨°„ÅÆÊñá„ÇíÂÖ•Âäõ„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\n```console\nnpm install --save-dev electron\n```\n\n## „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó Â•Ω„Åç„Å™„Ç®„Éá„Ç£„Çø„ÇíÈñã„ÅÑ„Å¶\n\nÊúÄÂàù„Å´‰Ωú„Å£„Åü„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Å´src„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÔºà„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„Å´icon.ico„Åå„ÅÇ„Çä„Åæ„Åô„ÅåÊ∞ó„Å´„Åõ„Åö„ÄÇÔºâ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/50f257ab-2fac-e705-a5ca-235e207c2496.png)\n\n‰ΩúÊàê„Åó„Åü„Çâ‰∏≠„Å´„ÄÇ\n```package.json```\n```index.html```\n```main.js```\n\n„Åù„Çå„Åû„Çå\n\n```json:package.json\n{\n    \"main\": \"main.js\"\n}\n```\n\n```html:index.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë„ÅÆ„Ç¢„Éó„É™</title>\n</head>\n\n<body style=\"-webkit-app-region: drag;background-color: rgba(157, 204, 224\t, .7)\">\n    <!-- ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë -->\n    <div style=\"padding: 20px\" class=\"center\">\n        <marquee id=\"marquee\" scrollamount=\"25\">\n            <font id=\"text\" size=\"7\">üç£</font>\n        </marquee>\n    </div>\n</body>\n\n</html>\n```\n\n```javascript:main.js\n// Modules to control application life and create native browser window\nconst { app, BrowserWindow, Menu } = require('electron')\n\n// Keep a global reference of the window object, if you don't, the window will\n// be closed automatically when the JavaScript object is garbage collected.\nlet mainWindow\n\nfunction createWindow() {\n    // Create the browser window.\n    mainWindow = new BrowserWindow({\n        width: 300,         //Ê®™\n        height: 150,        //Á∏¶\n        frame: false,       //„Éï„É¨„Éº„É†„Å™„Åè„Åô\n        transparent: true,   //ËÉåÊôØÈÄèÊòéÂåñ\n        alwaysOnTop: true,         //ÊúÄÂâçÈù¢\n        webPreferences: {\n            nodeIntegration: true   //„Åì„ÇåÊõ∏„Åè„ÄÇ\n        }\n    })\n\n    // and load the index.html of the app.\n    mainWindow.loadFile('./src/index.html')\n    //„É°„Éã„É•„Éº„Éê„ÉºÂâäÈô§\n    Menu.setApplicationMenu(null)\n\n    // Open the DevTools.\n    // mainWindow.webContents.openDevTools()\n\n    // Emitted when the window is closed.\n    mainWindow.on('closed', function () {\n        // Dereference the window object, usually you would store windows\n        // in an array if your app supports multi windows, this is the time\n        // when you should delete the corresponding element.\n        mainWindow = null\n    })\n}\n\n// This method will be called when Electron has finished\n// initialization and is ready to create browser windows.\n// Some APIs can only be used after this event occurs.\napp.on('ready', createWindow)\n\n// Quit when all windows are closed.\napp.on('window-all-closed', function () {\n    // On macOS it is common for applications and their menu bar\n    // to stay active until the user quits explicitly with Cmd + Q\n    if (process.platform !== 'darwin') app.quit()\n})\n\napp.on('activate', function () {\n    // On macOS it's common to re-create a window in the app when the\n    // dock icon is clicked and there are no other windows open.\n    if (mainWindow === null) createWindow()\n})\n\n// In this file you can include the rest of your app's specific main process\n// code. You can also put them in separate files and require them here.\n```\n\n„Åì„ÅÆ„Åæ„ÅæÂÆüË°å„Åô„Çã„Å®ÂçäÈÄèÊòé„ÅßÂ∞è„Åï„Åè„Å¶„Å©„ÅÆ„Ç¶„Ç£„É≥„Éâ„Ç¶„Çà„ÇäÂâç„Å´Âá∫„Çã„Åü„Å†üç£„ÅåÊµÅ„Çå„Çã„Ç¶„Ç£„É≥„Éâ„Ç¶„Åå„Åß„Åç„Å¶„Çã„ÅØ„Åö„Åß„Åô„ÄÇ\n![SnapCrab_NoName_2019-8-22_0-1-26_No-00.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/d2ef021e-e0b8-de7c-38fb-74ca80adf223.png)\n\n„Å°„Å™„Åø„Å´Âè≥„ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Åì„Å®„ÅßÈñâ„Åò„Åü„ÇäÊúÄÂ§ßÂåñ„Åß„Åç„Åæ„Åô„ÄÇ\n![SnapCrab_ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë„ÅÆ„Ç¢„Éó„É™_2019-8-21_23-58-10_No-00.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/01f43431-50e5-9aba-9fbe-0322af15944a.png)\n\n„Å®„Å£„Å¶„ÇÇ„ÅÑ„Çâ„Å™„ÅÑ„Ç¢„Éó„É™„ÅåÂÆåÊàê„Åó„Åæ„Åó„Åü„ÄÇ\n\n## electron-builder„Çí„ÅÑ„Çå„Çã\n„Åì„Çå„ÅØyarn„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Ç§„É≥„Çπ„Éà„Éº„É©„Éº„Å´Ê≤ø„Å£„Å¶„ÇÑ„Çå„Å∞„Åß„Åç„Åæ„Åô„ÄÇ\n„Å°„ÇÉ„Çì„Å®„Ç§„É≥„Çπ„Éà„Éº„É´„Åß„Åç„Åü„Åã„Å©„ÅÜ„Åã„ÅØ‰ª•‰∏ã„ÅÆÊñá„Çí„ÅÑ„Çå„Å¶„Éê„Éº„Ç∏„Éß„É≥„ÅåÂá∫„Çå„Å∞„ÅäÔΩã„Åß„Åô„ÄÇ\n\n```console\nyarn -v\n```\n\n„Åù„Åó„Åü„Çâ‰ª•‰∏ã„ÅÆÊñá„Çí„ÅÑ„Çå„Å¶```electron-builder```„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„Åæ„Åô„ÄÇ\n\n```console\nyarn global add electron-builder\n```\n\n## package.json„Å´Êõ∏„ÅçË∂≥„Åô\n„Å©„Å£„Å°„ÅÆpackage.json„ÅãÔºüsrc„Åò„ÇÉ„Å™„ÅÑÊñπ„ÄÇnpm init„Åß‰ΩúÊàê„Åó„Åü„Åª„ÅÜ„ÄÇ\nÈñã„ÅÑ„Å¶„Åø„Å¶Êòé„Çâ„Åã„Å´‰∏ã„ÅÆ‰∏≠Ë∫´„Å®ÈÅï„ÅÜÂ†¥Âêà„ÅØÈñã„Åè„ÅÆÈñìÈÅï„Åà„Å¶„Åæ„Åô„ÄÇ\n\n```json:package.json\n{\n  \"name\": \"sushi_portable\",\n  \"version\": \"1.0.0\",\n  \"description\": \"ÂØøÂè∏„ÅÆÁµµÊñáÂ≠ó„ÇíÁú∫„ÇÅ„Çã„Ç¢„Éó„É™„ÄÇ\",\n  \"main\": \"./src/main.js\",\n  \"scripts\": {\n    \"start\": \"electron .\"\n  },\n  \"keywords\": [],\n  \"author\": \"sushi\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"electron\": \"^6.0.3\"\n  }\n}\n```\n\n„Åù„Åó„Å¶„Åô„Åì„ÅóÊõ∏„ÅçË∂≥„Åó„Åæ„Åô„ÄÇbuild„Åã„ÇâÂ¢ó„Åà„Åæ„Åó„Åü„ÄÇ\n\n```json:package.json\n{\n  \"name\": \"sushi_portable\",\n  \"version\": \"1.0.0\",\n  \"description\": \"ÂØøÂè∏„ÅÆÁµµÊñáÂ≠ó„ÇíÁú∫„ÇÅ„Çã„Ç¢„Éó„É™„ÄÇ\",\n  \"main\": \"./src/main.js\",\n  \"scripts\": {\n    \"start\": \"electron .\"\n  },\n  \"keywords\": [],\n  \"author\": \"sushi\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"electron\": \"^6.0.3\"\n  },\n  \"build\": {\n    \"productName\": \"ÂØøÂè∏„ÅÆÁµµÊñáÂ≠óÁú∫„ÇÅ„Çã„ÇÑ„Å§\",\n    \"appId\": \"sushi.emoji\",\n    \"win\": {\n      \"target\": \"portable\",\n      \"icon\": \"./src/icon.ico\"\n    }\n  }\n}\n```\n\nproductName„ÅåÂêçÂâç„ÄÅappId„ÅØ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥IDÔºàApplication User Model IDÔºâ„Çâ„Åó„ÅÑ„Åß„ÅôÔºü\n```target```„Å´„ÅØ```portable```„Å´„Åó„Åæ„Åô„ÄÇ„Åì„Çå„Åßexe„Éï„Ç°„Ç§„É´„ÉÄ„Éñ„É´„ÇØ„É™„ÉÉ„ÇØ„ÅßËµ∑Âãï„Åß„Åç„Çã„Ç¢„Éó„É™„Å´„Å™„Çä„Åæ„Åô„ÄÇ„Éù„Éº„Çø„Éñ„É´„Ç¢„Éó„É™„ÄÇ\n```nsis```„Å´„Åô„Çå„Å∞„Ç§„É≥„Çπ„Éà„Éº„É´ÂΩ¢Âºè„Å´„Å™„Çã„Åù„ÅÜ„Åß„ÅôÔºü„ÄÇÔºàË¶ÅÊ§úË®ºÔºâ\n```icon```„ÅØ„Ç¢„Ç§„Ç≥„É≥ÁîªÂÉè„ÅÆ„Éë„Çπ„Åß„Åô„ÄÇsrc„ÅÆ‰∏≠„Å´ÂÖ•„Çå„Çå„Å∞„ÅÑ„ÅÑ„ÅÆ„Åß„Åô„Åå„ÄÅÊã°ÂºµÂ≠ê„Ååico„Å™„ÅÆ„ÅßÁîªÂÉè„Éï„Ç°„Ç§„É´„Çí‰Ωï„Çâ„Åã„ÅÆÊñπÊ≥ï„Åßico„Å´Â§âÊèõ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åü„Å†„Åó„ÄÅ‰∏Ä„Å§Êù°‰ª∂„Åå„ÅÇ„Å£„Å¶ÁîªÂÉè„Çµ„Ç§„Ç∫„Çí256√ó256„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„Çà„ÅÜ„Åß„Åô„ÄÇ\n\n## „Éù„Éº„Çø„Éñ„É´„Ç¢„Éó„É™‰ΩúÊàê\n„Çø„Éº„Éü„Éä„É´ÔºàPowerShell„Éª„Ç≥„Éû„É≥„Éâ„Éó„É≠„É≥„Éó„ÉàÔºâ„Åß‰ª•‰∏ã„ÅÆÊñá„ÇíÂÖ•Âäõ„ÄÇ\n\n```console\nelectron-builder build --win\n```\n\n„ÅÇ„Å®„ÅØÁµÇ„Çè„Çã„Åæ„ÅßÂæÖ„Å°„Åæ„Åó„Çá„ÅÜ„ÄÇ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/50abd5ca-91a3-2152-e577-5b82e9b24296.png)\n\n„Åä„Çè„Çã„Å®```dist```„Å®„ÅÑ„ÅÜÂêçÂâç„ÅÆ„Éï„Ç©„É´„ÉÄ„Åå„Åß„Åç„Å¶„Çã„ÅÆ„Åß„Åù„ÅÆ‰∏≠„ÅÆ„Å´„ÅÇ„Çãexe„Éï„Ç°„Ç§„É´„Çí„ÉÄ„Éñ„É´„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Â∞ë„ÅóÂæÖ„Å¶„Å∞„Ç¶„Ç£„É≥„Éâ„Ç¶„ÅåÂá∫„Å¶„Åç„Åæ„Åô„ÄÇ\n\n![SnapCrab_NoName_2019-8-22_0-30-47_No-00.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/9fdcb99d-00ab-b83d-71d7-1f1d9d7d90bb.png)\n\n\n**ÂÆåÊàê„Åß„ÅôÔºÅÔºÅÔºÅ**\n\n## ËøΩË®ò\n\n![SnapCrab_NoName_2019-8-22_0-39-35_No-00.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/f0d114e3-99ed-fb82-441e-19ac8a9097f8.png)\n\n„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„Åß„Åô‚Üíhttps://github.com/takusan23/SushiPortable\n\n## Êõ¥„Å´ËøΩË®ò„ÄÄ2020/02/28\n\n„Ç≥„É°„É≥„Éà„Åßelectron-builder„ÅåË¶ã„Å§„Åã„Çâ„Çì„Å£„Å¶„ÅÇ„Å£„Åü„ÅÆ„ÅßË™ø„Åπ„Åü„Çâ[ÂÖ¨Âºè„Çµ„Ç§„Éà](https://www.electron.build/)„Å®Â∞éÂÖ•ÊñπÊ≥ï„ÅåÈÅï„Å£„Åü„ÅÆ„ÅßËøΩË®ò„Åó„Å¶„Åä„Åç„Åæ„Åô„ÄÇ\n\n„Å°„Å™„Åø„Å´yarn„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„ÅØ1.22.0„Åß„Åô„ÄÇ\n\n„Å®„Çä„ÅÇ„Åà„Åöelectron-builder„ÇíÊ∂à„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\n```console\nyarn global remove electron-builder\n```\n\nÊ∂à„Åõ„Åü„Çâ‰ª•‰∏ã„ÅÆÊñá„ÇíÂÖ•Âäõ„Åó„Å¶„Å™„Å´„ÇÇ„Å™„ÅÑ„Åì„Å®„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô\n\n```console\nyarn global list --depth=0\n```\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/226b19ef-9f95-0116-fb30-471e25eb2d0f.png)\n\nÊ¨°„Å´ÂÖ¨Âºè„Å®Âêå„ÅòÊñπÊ≥ï„Åßelectron-builder„ÇíÂÖ•„Çå„Åæ„Åô„ÄÇ\n\n```console\nyarn add electron-builder --dev\n```\n\nÊàêÂäü„Åô„Çå„Å∞```package.json```„ÅÆdevDependencies„ÅÆ‰∏≠„Å´\n```\"electron-builder\": \"^22.3.2\"```„ÅåËøΩÂä†„Åï„Çå„Å¶„ÅÑ„Çã„ÅØ„Åö„Åß„Åô„ÄÇ\n\n„Å°„Å™„Åø„Å´electron-builder„Å®ÂÖ•Âäõ„Åó„Å¶„ÇÇÁÑ°„ÅÑ„Å£„Å¶Ë®Ä„Çè„Çå„Çã„Å†„Åë„Åß„Åô„ÄÇ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/b0192e15-4f4b-915d-4bef-0bfaa01386e6.png)\n\nÊ¨°„Å´package.json„Å´Êõ∏„ÅçË∂≥„Åó„Å¶„Å™„Åë„Çå„Å∞„ÄÅ\n[package.json„Å´Êõ∏„ÅçË∂≥„Åô](https://qiita.com/takusan_23/items/0ae82e0a4a1ea6469bbd#packagejson%E3%81%AB%E6%9B%B8%E3%81%8D%E8%B6%B3%E3%81%99)„ÅßÊõ∏„ÅçË∂≥„Åó„Å¶„Åç„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åì„Åì„ÅØÂêå„Åò„ÄÇ\n\nÊúÄÂæå„Å´‰ª•‰∏ã„ÅÆ„Ç≥„Éû„É≥„Éâ„ÇíÂÖ•Âäõ„Åô„Çå„Å∞Âá¶ÁêÜ„ÅåÂßã„Åæ„Çã„ÅØ„Åö„Åß„Åô„ÄÇ\n\n```console\nyarn electron-builder --win\n```\n\nelectron-builder„Åå„ÅÜ„Åæ„ÅèÂãï„Åã„Å™„ÅÑÂ†¥Âêà„ÅØË©¶„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÔºàÁßÅ„ÅØ„Å©„Å°„Çâ„Åß„ÇÇÂãï„ÅÑ„Åü„ÅÆ„Åß„Åô„ÅåÔºõÔºõÔºâ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/b41f1f15-2800-b2ce-b128-7b24c7a9c839.png)\n\n„ÅÇ„Å®‰∏ÄÂøú```package.json```ÁΩÆ„ÅÑ„Å®„Åç„Åæ„Åô„Å≠\n\n```json:package.json\n{\n  \"name\": \"ElectronBuilderSample\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"src/main.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"keywords\": [],\n  \"author\": \"takusan23\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"electron\": \"^8.0.2\",\n    \"electron-builder\": \"^22.3.2\"\n  },\n  \"build\": {\n    \"productName\": \"„Å¶„Åô„Å®\",\n    \"appId\": \"aiueo.test\",\n    \"win\": {\n      \"target\": \"portable\",\n      \"icon\": \"src/icon.ico\"\n    }\n  }\n}\n```\n\n### „Åä„Çè„Çä„Å´\nexe„ÉÄ„Éñ„É´„ÇØ„É™„ÉÉ„ÇØ„Åã„ÇâÊï∞ÁßíÔΩûÊï∞ÂçÅÁßí„Åã„Åã„Çã„ÅÆ„ÅØ‰ªïÊßòÔºü„Çè„Åã„Çâ„ÇìÔºÅ\n\n## ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ\nhttps://qiita.com/SallyAcolyte/items/94ed26ab62b8b32b1b2c\nhttp://var.blog.jp/archives/78877702.html\n","source":"_posts/Electron Builder.md","raw":"---\ntitle: Electron„ÅßÈõë„Å´„Ç¢„Éó„É™„Çí‰Ωú„Å£„Å¶Windows„ÅÆ„Éù„Éº„Çø„Éñ„É´„Ç¢„Éó„É™„Å®„Åó„Å¶Âãï„Åè„Åæ„Åß„ÇÑ„Çã„ÄÇ 2020/02/28ËøΩË®ò\ntags: \n- JavaScript\n- Electron\nauthor: takusan_23\nslide: false\n---\n‰πÖ„Åó„Å∂„Çä„Å´Electron„Å´„Å§„ÅÑ„Å¶**„ÅäË©±„Åó„Åæ„Åô„ÄÇ**\n\n# exe„Éï„Ç°„Ç§„É´„Å´„Åó„Å¶Âãï„Åã„Åó„Åü„ÅÑ„ÄÇ\n„Åó„Åã„Åó2015Âπ¥„Å®„Åã2016Âπ¥„ÅÆË®ò‰∫ã„Åå„Åä„Åä„ÅÑ„ÄÇ„Å§„Çâ„ÅÑ„ÄÇ~~‰ª§Âíå„Å†„Åû„ÄÇ~~\n\n„Å®„ÅÑ„ÅÜ„Çè„Åë„Åß‰ªäÂõû„ÅØElectron„ÅßÈÅ©ÂΩì„Å´„Ç¢„Éó„É™„Çí‰Ωú„Å£„Å¶„Éù„Éº„Çø„Éñ„É´„Ç¢„Éó„É™„Å®„Åó„Å¶„Åô„Åê‰Ωø„Åà„Çã„Çà„ÅÜ„Å´„Åô„Çã„Å®„Åì„Çç„ÇíÁõÆÊ®ô„Å´‰Ωú„Å£„Å¶„ÅÑ„Åì„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ==„Ç§„É≥„Çπ„Éà„Éº„É´‰∏çË¶Å„ÅßÂãï„Åã„ÅôÔºÅ\n\n# ‰Ωï‰Ωú„Çã„ÄÇ\nmarquee„Çø„Ç∞„Åßüç£„ÇíÊµÅ„Åô„Å†„Åë„ÅÆ„Ç¢„Éó„É™„ÄÇ„Åã„Çì„Åü„Çì„ÄÇ\n\n# ‰Ωú„ÇäÊñπ\n## „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó npm init\n„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„ÅØËá™ÂàÜ„ÅåÊõ∏„ÅÑ„ÅüÈÅéÂéª„ÅÆË®ò‰∫ã„Å®Âêå„Åò„Åì„Å®„Åó„Å¶„Åæ„Åô„ÄÇ[„Åì„Åì](https://qiita.com/takusan_23/items/eca19b4111109616bbfa)„ÄÇ\n\n\nÈÅ©ÂΩì„Å´„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åô„Çã„ÄÇ\n\n‰Ωú„Å£„Åü„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Åß```Shift+Âè≥„ÇØ„É™„ÉÉ„ÇØ```„Åß```PowerShell „Ç¶„Ç£„É≥„Éâ„Ç¶„Çí„Åì„Åì„Å´Èñã„Åè```„Åã```„Ç≥„Éû„É≥„Éâ „Ç¶„Ç£„É≥„Éâ„Ç¶„Çí„Åì„Åì„ÅßÈñã„Åè```„ÇíÊäº„Åó„Åæ„Åô„ÄÇÔºàWin10„ÅØÂâçËÄÖ„ÄÇ„Åù„Çå‰ª•Â§ñ„ÅØÂæåËÄÖÔºâ„ÄÇ\n\nÈñã„ÅÑ„Åü„Çâ‰∏≠„Åß‰ª•‰∏ã„ÅÆÊñá„ÇíÂÖ•Âäõ„Åó„Åæ„Åô„ÄÇ\n\n```terminal\nnpm init -y\n````\n\n„Åì„Çå„Åß```package.json```„Åå‰ΩúÊàê„Åß„Åç„Å¶„ÅÑ„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ\n\n„Åù„Åó„Åü„Çâpackage.json„ÇíÈñã„ÅÑ„Å¶„ÄÅÂ∞ë„ÅóÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ\n\n```\"main\" : \"index.js\",```\n‚Üì\n```\"main\": \"./src/main.js\",```\n\n```\n\"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n```\n‚Üì\n\n```\n \"scripts\": {\n    \"start\": \"electron .\"\n  },\n```\n\n## „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó npm install --save-dev electron\n\nPowerShell„Åæ„Åü„ÅØ„Ç≥„Éû„É≥„Éâ„Éó„É≠„É≥„Éó„Éà„ÅÆÁîªÈù¢„ÅØ„Åù„ÅÆ„Åæ„Åæ„ÄÅÊ¨°„ÅÆÊñá„ÇíÂÖ•Âäõ„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\n```console\nnpm install --save-dev electron\n```\n\n## „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó Â•Ω„Åç„Å™„Ç®„Éá„Ç£„Çø„ÇíÈñã„ÅÑ„Å¶\n\nÊúÄÂàù„Å´‰Ωú„Å£„Åü„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Å´src„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÔºà„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„Å´icon.ico„Åå„ÅÇ„Çä„Åæ„Åô„ÅåÊ∞ó„Å´„Åõ„Åö„ÄÇÔºâ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/50f257ab-2fac-e705-a5ca-235e207c2496.png)\n\n‰ΩúÊàê„Åó„Åü„Çâ‰∏≠„Å´„ÄÇ\n```package.json```\n```index.html```\n```main.js```\n\n„Åù„Çå„Åû„Çå\n\n```json:package.json\n{\n    \"main\": \"main.js\"\n}\n```\n\n```html:index.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë„ÅÆ„Ç¢„Éó„É™</title>\n</head>\n\n<body style=\"-webkit-app-region: drag;background-color: rgba(157, 204, 224\t, .7)\">\n    <!-- ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë -->\n    <div style=\"padding: 20px\" class=\"center\">\n        <marquee id=\"marquee\" scrollamount=\"25\">\n            <font id=\"text\" size=\"7\">üç£</font>\n        </marquee>\n    </div>\n</body>\n\n</html>\n```\n\n```javascript:main.js\n// Modules to control application life and create native browser window\nconst { app, BrowserWindow, Menu } = require('electron')\n\n// Keep a global reference of the window object, if you don't, the window will\n// be closed automatically when the JavaScript object is garbage collected.\nlet mainWindow\n\nfunction createWindow() {\n    // Create the browser window.\n    mainWindow = new BrowserWindow({\n        width: 300,         //Ê®™\n        height: 150,        //Á∏¶\n        frame: false,       //„Éï„É¨„Éº„É†„Å™„Åè„Åô\n        transparent: true,   //ËÉåÊôØÈÄèÊòéÂåñ\n        alwaysOnTop: true,         //ÊúÄÂâçÈù¢\n        webPreferences: {\n            nodeIntegration: true   //„Åì„ÇåÊõ∏„Åè„ÄÇ\n        }\n    })\n\n    // and load the index.html of the app.\n    mainWindow.loadFile('./src/index.html')\n    //„É°„Éã„É•„Éº„Éê„ÉºÂâäÈô§\n    Menu.setApplicationMenu(null)\n\n    // Open the DevTools.\n    // mainWindow.webContents.openDevTools()\n\n    // Emitted when the window is closed.\n    mainWindow.on('closed', function () {\n        // Dereference the window object, usually you would store windows\n        // in an array if your app supports multi windows, this is the time\n        // when you should delete the corresponding element.\n        mainWindow = null\n    })\n}\n\n// This method will be called when Electron has finished\n// initialization and is ready to create browser windows.\n// Some APIs can only be used after this event occurs.\napp.on('ready', createWindow)\n\n// Quit when all windows are closed.\napp.on('window-all-closed', function () {\n    // On macOS it is common for applications and their menu bar\n    // to stay active until the user quits explicitly with Cmd + Q\n    if (process.platform !== 'darwin') app.quit()\n})\n\napp.on('activate', function () {\n    // On macOS it's common to re-create a window in the app when the\n    // dock icon is clicked and there are no other windows open.\n    if (mainWindow === null) createWindow()\n})\n\n// In this file you can include the rest of your app's specific main process\n// code. You can also put them in separate files and require them here.\n```\n\n„Åì„ÅÆ„Åæ„ÅæÂÆüË°å„Åô„Çã„Å®ÂçäÈÄèÊòé„ÅßÂ∞è„Åï„Åè„Å¶„Å©„ÅÆ„Ç¶„Ç£„É≥„Éâ„Ç¶„Çà„ÇäÂâç„Å´Âá∫„Çã„Åü„Å†üç£„ÅåÊµÅ„Çå„Çã„Ç¶„Ç£„É≥„Éâ„Ç¶„Åå„Åß„Åç„Å¶„Çã„ÅØ„Åö„Åß„Åô„ÄÇ\n![SnapCrab_NoName_2019-8-22_0-1-26_No-00.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/d2ef021e-e0b8-de7c-38fb-74ca80adf223.png)\n\n„Å°„Å™„Åø„Å´Âè≥„ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Åì„Å®„ÅßÈñâ„Åò„Åü„ÇäÊúÄÂ§ßÂåñ„Åß„Åç„Åæ„Åô„ÄÇ\n![SnapCrab_ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë„ÅÆ„Ç¢„Éó„É™_2019-8-21_23-58-10_No-00.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/01f43431-50e5-9aba-9fbe-0322af15944a.png)\n\n„Å®„Å£„Å¶„ÇÇ„ÅÑ„Çâ„Å™„ÅÑ„Ç¢„Éó„É™„ÅåÂÆåÊàê„Åó„Åæ„Åó„Åü„ÄÇ\n\n## electron-builder„Çí„ÅÑ„Çå„Çã\n„Åì„Çå„ÅØyarn„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Ç§„É≥„Çπ„Éà„Éº„É©„Éº„Å´Ê≤ø„Å£„Å¶„ÇÑ„Çå„Å∞„Åß„Åç„Åæ„Åô„ÄÇ\n„Å°„ÇÉ„Çì„Å®„Ç§„É≥„Çπ„Éà„Éº„É´„Åß„Åç„Åü„Åã„Å©„ÅÜ„Åã„ÅØ‰ª•‰∏ã„ÅÆÊñá„Çí„ÅÑ„Çå„Å¶„Éê„Éº„Ç∏„Éß„É≥„ÅåÂá∫„Çå„Å∞„ÅäÔΩã„Åß„Åô„ÄÇ\n\n```console\nyarn -v\n```\n\n„Åù„Åó„Åü„Çâ‰ª•‰∏ã„ÅÆÊñá„Çí„ÅÑ„Çå„Å¶```electron-builder```„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„Åæ„Åô„ÄÇ\n\n```console\nyarn global add electron-builder\n```\n\n## package.json„Å´Êõ∏„ÅçË∂≥„Åô\n„Å©„Å£„Å°„ÅÆpackage.json„ÅãÔºüsrc„Åò„ÇÉ„Å™„ÅÑÊñπ„ÄÇnpm init„Åß‰ΩúÊàê„Åó„Åü„Åª„ÅÜ„ÄÇ\nÈñã„ÅÑ„Å¶„Åø„Å¶Êòé„Çâ„Åã„Å´‰∏ã„ÅÆ‰∏≠Ë∫´„Å®ÈÅï„ÅÜÂ†¥Âêà„ÅØÈñã„Åè„ÅÆÈñìÈÅï„Åà„Å¶„Åæ„Åô„ÄÇ\n\n```json:package.json\n{\n  \"name\": \"sushi_portable\",\n  \"version\": \"1.0.0\",\n  \"description\": \"ÂØøÂè∏„ÅÆÁµµÊñáÂ≠ó„ÇíÁú∫„ÇÅ„Çã„Ç¢„Éó„É™„ÄÇ\",\n  \"main\": \"./src/main.js\",\n  \"scripts\": {\n    \"start\": \"electron .\"\n  },\n  \"keywords\": [],\n  \"author\": \"sushi\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"electron\": \"^6.0.3\"\n  }\n}\n```\n\n„Åù„Åó„Å¶„Åô„Åì„ÅóÊõ∏„ÅçË∂≥„Åó„Åæ„Åô„ÄÇbuild„Åã„ÇâÂ¢ó„Åà„Åæ„Åó„Åü„ÄÇ\n\n```json:package.json\n{\n  \"name\": \"sushi_portable\",\n  \"version\": \"1.0.0\",\n  \"description\": \"ÂØøÂè∏„ÅÆÁµµÊñáÂ≠ó„ÇíÁú∫„ÇÅ„Çã„Ç¢„Éó„É™„ÄÇ\",\n  \"main\": \"./src/main.js\",\n  \"scripts\": {\n    \"start\": \"electron .\"\n  },\n  \"keywords\": [],\n  \"author\": \"sushi\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"electron\": \"^6.0.3\"\n  },\n  \"build\": {\n    \"productName\": \"ÂØøÂè∏„ÅÆÁµµÊñáÂ≠óÁú∫„ÇÅ„Çã„ÇÑ„Å§\",\n    \"appId\": \"sushi.emoji\",\n    \"win\": {\n      \"target\": \"portable\",\n      \"icon\": \"./src/icon.ico\"\n    }\n  }\n}\n```\n\nproductName„ÅåÂêçÂâç„ÄÅappId„ÅØ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥IDÔºàApplication User Model IDÔºâ„Çâ„Åó„ÅÑ„Åß„ÅôÔºü\n```target```„Å´„ÅØ```portable```„Å´„Åó„Åæ„Åô„ÄÇ„Åì„Çå„Åßexe„Éï„Ç°„Ç§„É´„ÉÄ„Éñ„É´„ÇØ„É™„ÉÉ„ÇØ„ÅßËµ∑Âãï„Åß„Åç„Çã„Ç¢„Éó„É™„Å´„Å™„Çä„Åæ„Åô„ÄÇ„Éù„Éº„Çø„Éñ„É´„Ç¢„Éó„É™„ÄÇ\n```nsis```„Å´„Åô„Çå„Å∞„Ç§„É≥„Çπ„Éà„Éº„É´ÂΩ¢Âºè„Å´„Å™„Çã„Åù„ÅÜ„Åß„ÅôÔºü„ÄÇÔºàË¶ÅÊ§úË®ºÔºâ\n```icon```„ÅØ„Ç¢„Ç§„Ç≥„É≥ÁîªÂÉè„ÅÆ„Éë„Çπ„Åß„Åô„ÄÇsrc„ÅÆ‰∏≠„Å´ÂÖ•„Çå„Çå„Å∞„ÅÑ„ÅÑ„ÅÆ„Åß„Åô„Åå„ÄÅÊã°ÂºµÂ≠ê„Ååico„Å™„ÅÆ„ÅßÁîªÂÉè„Éï„Ç°„Ç§„É´„Çí‰Ωï„Çâ„Åã„ÅÆÊñπÊ≥ï„Åßico„Å´Â§âÊèõ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åü„Å†„Åó„ÄÅ‰∏Ä„Å§Êù°‰ª∂„Åå„ÅÇ„Å£„Å¶ÁîªÂÉè„Çµ„Ç§„Ç∫„Çí256√ó256„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„Çà„ÅÜ„Åß„Åô„ÄÇ\n\n## „Éù„Éº„Çø„Éñ„É´„Ç¢„Éó„É™‰ΩúÊàê\n„Çø„Éº„Éü„Éä„É´ÔºàPowerShell„Éª„Ç≥„Éû„É≥„Éâ„Éó„É≠„É≥„Éó„ÉàÔºâ„Åß‰ª•‰∏ã„ÅÆÊñá„ÇíÂÖ•Âäõ„ÄÇ\n\n```console\nelectron-builder build --win\n```\n\n„ÅÇ„Å®„ÅØÁµÇ„Çè„Çã„Åæ„ÅßÂæÖ„Å°„Åæ„Åó„Çá„ÅÜ„ÄÇ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/50abd5ca-91a3-2152-e577-5b82e9b24296.png)\n\n„Åä„Çè„Çã„Å®```dist```„Å®„ÅÑ„ÅÜÂêçÂâç„ÅÆ„Éï„Ç©„É´„ÉÄ„Åå„Åß„Åç„Å¶„Çã„ÅÆ„Åß„Åù„ÅÆ‰∏≠„ÅÆ„Å´„ÅÇ„Çãexe„Éï„Ç°„Ç§„É´„Çí„ÉÄ„Éñ„É´„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Â∞ë„ÅóÂæÖ„Å¶„Å∞„Ç¶„Ç£„É≥„Éâ„Ç¶„ÅåÂá∫„Å¶„Åç„Åæ„Åô„ÄÇ\n\n![SnapCrab_NoName_2019-8-22_0-30-47_No-00.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/9fdcb99d-00ab-b83d-71d7-1f1d9d7d90bb.png)\n\n\n**ÂÆåÊàê„Åß„ÅôÔºÅÔºÅÔºÅ**\n\n## ËøΩË®ò\n\n![SnapCrab_NoName_2019-8-22_0-39-35_No-00.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/f0d114e3-99ed-fb82-441e-19ac8a9097f8.png)\n\n„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„Åß„Åô‚Üíhttps://github.com/takusan23/SushiPortable\n\n## Êõ¥„Å´ËøΩË®ò„ÄÄ2020/02/28\n\n„Ç≥„É°„É≥„Éà„Åßelectron-builder„ÅåË¶ã„Å§„Åã„Çâ„Çì„Å£„Å¶„ÅÇ„Å£„Åü„ÅÆ„ÅßË™ø„Åπ„Åü„Çâ[ÂÖ¨Âºè„Çµ„Ç§„Éà](https://www.electron.build/)„Å®Â∞éÂÖ•ÊñπÊ≥ï„ÅåÈÅï„Å£„Åü„ÅÆ„ÅßËøΩË®ò„Åó„Å¶„Åä„Åç„Åæ„Åô„ÄÇ\n\n„Å°„Å™„Åø„Å´yarn„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„ÅØ1.22.0„Åß„Åô„ÄÇ\n\n„Å®„Çä„ÅÇ„Åà„Åöelectron-builder„ÇíÊ∂à„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\n```console\nyarn global remove electron-builder\n```\n\nÊ∂à„Åõ„Åü„Çâ‰ª•‰∏ã„ÅÆÊñá„ÇíÂÖ•Âäõ„Åó„Å¶„Å™„Å´„ÇÇ„Å™„ÅÑ„Åì„Å®„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô\n\n```console\nyarn global list --depth=0\n```\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/226b19ef-9f95-0116-fb30-471e25eb2d0f.png)\n\nÊ¨°„Å´ÂÖ¨Âºè„Å®Âêå„ÅòÊñπÊ≥ï„Åßelectron-builder„ÇíÂÖ•„Çå„Åæ„Åô„ÄÇ\n\n```console\nyarn add electron-builder --dev\n```\n\nÊàêÂäü„Åô„Çå„Å∞```package.json```„ÅÆdevDependencies„ÅÆ‰∏≠„Å´\n```\"electron-builder\": \"^22.3.2\"```„ÅåËøΩÂä†„Åï„Çå„Å¶„ÅÑ„Çã„ÅØ„Åö„Åß„Åô„ÄÇ\n\n„Å°„Å™„Åø„Å´electron-builder„Å®ÂÖ•Âäõ„Åó„Å¶„ÇÇÁÑ°„ÅÑ„Å£„Å¶Ë®Ä„Çè„Çå„Çã„Å†„Åë„Åß„Åô„ÄÇ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/b0192e15-4f4b-915d-4bef-0bfaa01386e6.png)\n\nÊ¨°„Å´package.json„Å´Êõ∏„ÅçË∂≥„Åó„Å¶„Å™„Åë„Çå„Å∞„ÄÅ\n[package.json„Å´Êõ∏„ÅçË∂≥„Åô](https://qiita.com/takusan_23/items/0ae82e0a4a1ea6469bbd#packagejson%E3%81%AB%E6%9B%B8%E3%81%8D%E8%B6%B3%E3%81%99)„ÅßÊõ∏„ÅçË∂≥„Åó„Å¶„Åç„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åì„Åì„ÅØÂêå„Åò„ÄÇ\n\nÊúÄÂæå„Å´‰ª•‰∏ã„ÅÆ„Ç≥„Éû„É≥„Éâ„ÇíÂÖ•Âäõ„Åô„Çå„Å∞Âá¶ÁêÜ„ÅåÂßã„Åæ„Çã„ÅØ„Åö„Åß„Åô„ÄÇ\n\n```console\nyarn electron-builder --win\n```\n\nelectron-builder„Åå„ÅÜ„Åæ„ÅèÂãï„Åã„Å™„ÅÑÂ†¥Âêà„ÅØË©¶„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÔºàÁßÅ„ÅØ„Å©„Å°„Çâ„Åß„ÇÇÂãï„ÅÑ„Åü„ÅÆ„Åß„Åô„ÅåÔºõÔºõÔºâ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/b41f1f15-2800-b2ce-b128-7b24c7a9c839.png)\n\n„ÅÇ„Å®‰∏ÄÂøú```package.json```ÁΩÆ„ÅÑ„Å®„Åç„Åæ„Åô„Å≠\n\n```json:package.json\n{\n  \"name\": \"ElectronBuilderSample\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"src/main.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"keywords\": [],\n  \"author\": \"takusan23\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"electron\": \"^8.0.2\",\n    \"electron-builder\": \"^22.3.2\"\n  },\n  \"build\": {\n    \"productName\": \"„Å¶„Åô„Å®\",\n    \"appId\": \"aiueo.test\",\n    \"win\": {\n      \"target\": \"portable\",\n      \"icon\": \"src/icon.ico\"\n    }\n  }\n}\n```\n\n### „Åä„Çè„Çä„Å´\nexe„ÉÄ„Éñ„É´„ÇØ„É™„ÉÉ„ÇØ„Åã„ÇâÊï∞ÁßíÔΩûÊï∞ÂçÅÁßí„Åã„Åã„Çã„ÅÆ„ÅØ‰ªïÊßòÔºü„Çè„Åã„Çâ„ÇìÔºÅ\n\n## ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ\nhttps://qiita.com/SallyAcolyte/items/94ed26ab62b8b32b1b2c\nhttp://var.blog.jp/archives/78877702.html\n","slug":"Electron Builder","published":1,"date":"2020-04-05T16:27:15.739Z","updated":"2020-04-05T16:39:24.716Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgp000ch8vue8b90tk1","content":"<p>‰πÖ„Åó„Å∂„Çä„Å´Electron„Å´„Å§„ÅÑ„Å¶<strong>„ÅäË©±„Åó„Åæ„Åô„ÄÇ</strong></p>\n<h1 id=\"exe„Éï„Ç°„Ç§„É´„Å´„Åó„Å¶Âãï„Åã„Åó„Åü„ÅÑ„ÄÇ\"><a href=\"#exe„Éï„Ç°„Ç§„É´„Å´„Åó„Å¶Âãï„Åã„Åó„Åü„ÅÑ„ÄÇ\" class=\"headerlink\" title=\"exe„Éï„Ç°„Ç§„É´„Å´„Åó„Å¶Âãï„Åã„Åó„Åü„ÅÑ„ÄÇ\"></a>exe„Éï„Ç°„Ç§„É´„Å´„Åó„Å¶Âãï„Åã„Åó„Åü„ÅÑ„ÄÇ</h1><p>„Åó„Åã„Åó2015Âπ¥„Å®„Åã2016Âπ¥„ÅÆË®ò‰∫ã„Åå„Åä„Åä„ÅÑ„ÄÇ„Å§„Çâ„ÅÑ„ÄÇ<del>‰ª§Âíå„Å†„Åû„ÄÇ</del></p>\n<p>„Å®„ÅÑ„ÅÜ„Çè„Åë„Åß‰ªäÂõû„ÅØElectron„ÅßÈÅ©ÂΩì„Å´„Ç¢„Éó„É™„Çí‰Ωú„Å£„Å¶„Éù„Éº„Çø„Éñ„É´„Ç¢„Éó„É™„Å®„Åó„Å¶„Åô„Åê‰Ωø„Åà„Çã„Çà„ÅÜ„Å´„Åô„Çã„Å®„Åì„Çç„ÇíÁõÆÊ®ô„Å´‰Ωú„Å£„Å¶„ÅÑ„Åì„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ==„Ç§„É≥„Çπ„Éà„Éº„É´‰∏çË¶Å„ÅßÂãï„Åã„ÅôÔºÅ</p>\n<h1 id=\"‰Ωï‰Ωú„Çã„ÄÇ\"><a href=\"#‰Ωï‰Ωú„Çã„ÄÇ\" class=\"headerlink\" title=\"‰Ωï‰Ωú„Çã„ÄÇ\"></a>‰Ωï‰Ωú„Çã„ÄÇ</h1><p>marquee„Çø„Ç∞„Åßüç£„ÇíÊµÅ„Åô„Å†„Åë„ÅÆ„Ç¢„Éó„É™„ÄÇ„Åã„Çì„Åü„Çì„ÄÇ</p>\n<h1 id=\"‰Ωú„ÇäÊñπ\"><a href=\"#‰Ωú„ÇäÊñπ\" class=\"headerlink\" title=\"‰Ωú„ÇäÊñπ\"></a>‰Ωú„ÇäÊñπ</h1><h2 id=\"„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó-npm-init\"><a href=\"#„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó-npm-init\" class=\"headerlink\" title=\"„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó npm init\"></a>„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó npm init</h2><p>„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„ÅØËá™ÂàÜ„ÅåÊõ∏„ÅÑ„ÅüÈÅéÂéª„ÅÆË®ò‰∫ã„Å®Âêå„Åò„Åì„Å®„Åó„Å¶„Åæ„Åô„ÄÇ<a href=\"https://qiita.com/takusan_23/items/eca19b4111109616bbfa\" target=\"_blank\" rel=\"noopener\">„Åì„Åì</a>„ÄÇ</p>\n<p>ÈÅ©ÂΩì„Å´„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åô„Çã„ÄÇ</p>\n<p>‰Ωú„Å£„Åü„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Åß<code>Shift+Âè≥„ÇØ„É™„ÉÉ„ÇØ</code>„Åß<code>PowerShell „Ç¶„Ç£„É≥„Éâ„Ç¶„Çí„Åì„Åì„Å´Èñã„Åè</code>„Åã<code>„Ç≥„Éû„É≥„Éâ „Ç¶„Ç£„É≥„Éâ„Ç¶„Çí„Åì„Åì„ÅßÈñã„Åè</code>„ÇíÊäº„Åó„Åæ„Åô„ÄÇÔºàWin10„ÅØÂâçËÄÖ„ÄÇ„Åù„Çå‰ª•Â§ñ„ÅØÂæåËÄÖÔºâ„ÄÇ</p>\n<p>Èñã„ÅÑ„Åü„Çâ‰∏≠„Åß‰ª•‰∏ã„ÅÆÊñá„ÇíÂÖ•Âäõ„Åó„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm init -y</span><br><span class=\"line\">&#96;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„Åß<code>package.json</code>„Åå‰ΩúÊàê„Åß„Åç„Å¶„ÅÑ„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ</p>\n<p>„Åù„Åó„Åü„Çâpackage.json„ÇíÈñã„ÅÑ„Å¶„ÄÅÂ∞ë„ÅóÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><figcaption><span>: \"index.js\",```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">‚Üì</span><br><span class=\"line\">&#96;&#96;&#96;&quot;main&quot;: &quot;.&#x2F;src&#x2F;main.js&quot;,</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123;</span><br><span class=\"line\">    &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;</span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure>\n<p>‚Üì</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123;</span><br><span class=\"line\">   &quot;start&quot;: &quot;electron .&quot;</span><br><span class=\"line\"> &#125;,</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó-npm-install-‚Äìsave-dev-electron\"><a href=\"#„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó-npm-install-‚Äìsave-dev-electron\" class=\"headerlink\" title=\"„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó npm install ‚Äìsave-dev electron\"></a>„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó npm install ‚Äìsave-dev electron</h2><p>PowerShell„Åæ„Åü„ÅØ„Ç≥„Éû„É≥„Éâ„Éó„É≠„É≥„Éó„Éà„ÅÆÁîªÈù¢„ÅØ„Åù„ÅÆ„Åæ„Åæ„ÄÅÊ¨°„ÅÆÊñá„ÇíÂÖ•Âäõ„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save-dev electron</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó-Â•Ω„Åç„Å™„Ç®„Éá„Ç£„Çø„ÇíÈñã„ÅÑ„Å¶\"><a href=\"#„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó-Â•Ω„Åç„Å™„Ç®„Éá„Ç£„Çø„ÇíÈñã„ÅÑ„Å¶\" class=\"headerlink\" title=\"„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó Â•Ω„Åç„Å™„Ç®„Éá„Ç£„Çø„ÇíÈñã„ÅÑ„Å¶\"></a>„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó Â•Ω„Åç„Å™„Ç®„Éá„Ç£„Çø„ÇíÈñã„ÅÑ„Å¶</h2><p>ÊúÄÂàù„Å´‰Ωú„Å£„Åü„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Å´src„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÔºà„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„Å´icon.ico„Åå„ÅÇ„Çä„Åæ„Åô„ÅåÊ∞ó„Å´„Åõ„Åö„ÄÇÔºâ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/50f257ab-2fac-e705-a5ca-235e207c2496.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>‰ΩúÊàê„Åó„Åü„Çâ‰∏≠„Å´„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#96;&#96;&#96;index.html</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">„Åù„Çå„Åû„Çå</span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;json:package.json</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;main&quot;: &quot;main.js&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang&#x3D;&quot;ja&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class=\"line\">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;ie&#x3D;edge&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë„ÅÆ„Ç¢„Éó„É™&lt;&#x2F;title&gt;</span><br><span class=\"line\">&lt;&#x2F;head&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;body style&#x3D;&quot;-webkit-app-region: drag;background-color: rgba(157, 204, 224\t, .7)&quot;&gt;</span><br><span class=\"line\">    &lt;!-- ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë --&gt;</span><br><span class=\"line\">    &lt;div style&#x3D;&quot;padding: 20px&quot; class&#x3D;&quot;center&quot;&gt;</span><br><span class=\"line\">        &lt;marquee id&#x3D;&quot;marquee&quot; scrollamount&#x3D;&quot;25&quot;&gt;</span><br><span class=\"line\">            &lt;font id&#x3D;&quot;text&quot; size&#x3D;&quot;7&quot;&gt;üç£&lt;&#x2F;font&gt;</span><br><span class=\"line\">        &lt;&#x2F;marquee&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">&lt;&#x2F;body&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; Modules to control application life and create native browser window</span><br><span class=\"line\">const &#123; app, BrowserWindow, Menu &#125; &#x3D; require(&#39;electron&#39;)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; Keep a global reference of the window object, if you don&#39;t, the window will</span><br><span class=\"line\">&#x2F;&#x2F; be closed automatically when the JavaScript object is garbage collected.</span><br><span class=\"line\">let mainWindow</span><br><span class=\"line\"></span><br><span class=\"line\">function createWindow() &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; Create the browser window.</span><br><span class=\"line\">    mainWindow &#x3D; new BrowserWindow(&#123;</span><br><span class=\"line\">        width: 300,         &#x2F;&#x2F;Ê®™</span><br><span class=\"line\">        height: 150,        &#x2F;&#x2F;Á∏¶</span><br><span class=\"line\">        frame: false,       &#x2F;&#x2F;„Éï„É¨„Éº„É†„Å™„Åè„Åô</span><br><span class=\"line\">        transparent: true,   &#x2F;&#x2F;ËÉåÊôØÈÄèÊòéÂåñ</span><br><span class=\"line\">        alwaysOnTop: true,         &#x2F;&#x2F;ÊúÄÂâçÈù¢</span><br><span class=\"line\">        webPreferences: &#123;</span><br><span class=\"line\">            nodeIntegration: true   &#x2F;&#x2F;„Åì„ÇåÊõ∏„Åè„ÄÇ</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F; and load the index.html of the app.</span><br><span class=\"line\">    mainWindow.loadFile(&#39;.&#x2F;src&#x2F;index.html&#39;)</span><br><span class=\"line\">    &#x2F;&#x2F;„É°„Éã„É•„Éº„Éê„ÉºÂâäÈô§</span><br><span class=\"line\">    Menu.setApplicationMenu(null)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F; Open the DevTools.</span><br><span class=\"line\">    &#x2F;&#x2F; mainWindow.webContents.openDevTools()</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F; Emitted when the window is closed.</span><br><span class=\"line\">    mainWindow.on(&#39;closed&#39;, function () &#123;</span><br><span class=\"line\">        &#x2F;&#x2F; Dereference the window object, usually you would store windows</span><br><span class=\"line\">        &#x2F;&#x2F; in an array if your app supports multi windows, this is the time</span><br><span class=\"line\">        &#x2F;&#x2F; when you should delete the corresponding element.</span><br><span class=\"line\">        mainWindow &#x3D; null</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; This method will be called when Electron has finished</span><br><span class=\"line\">&#x2F;&#x2F; initialization and is ready to create browser windows.</span><br><span class=\"line\">&#x2F;&#x2F; Some APIs can only be used after this event occurs.</span><br><span class=\"line\">app.on(&#39;ready&#39;, createWindow)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; Quit when all windows are closed.</span><br><span class=\"line\">app.on(&#39;window-all-closed&#39;, function () &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; On macOS it is common for applications and their menu bar</span><br><span class=\"line\">    &#x2F;&#x2F; to stay active until the user quits explicitly with Cmd + Q</span><br><span class=\"line\">    if (process.platform !&#x3D;&#x3D; &#39;darwin&#39;) app.quit()</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">app.on(&#39;activate&#39;, function () &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; On macOS it&#39;s common to re-create a window in the app when the</span><br><span class=\"line\">    &#x2F;&#x2F; dock icon is clicked and there are no other windows open.</span><br><span class=\"line\">    if (mainWindow &#x3D;&#x3D;&#x3D; null) createWindow()</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; In this file you can include the rest of your app&#39;s specific main process</span><br><span class=\"line\">&#x2F;&#x2F; code. You can also put them in separate files and require them here.</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„ÅÆ„Åæ„ÅæÂÆüË°å„Åô„Çã„Å®ÂçäÈÄèÊòé„ÅßÂ∞è„Åï„Åè„Å¶„Å©„ÅÆ„Ç¶„Ç£„É≥„Éâ„Ç¶„Çà„ÇäÂâç„Å´Âá∫„Çã„Åü„Å†üç£„ÅåÊµÅ„Çå„Çã„Ç¶„Ç£„É≥„Éâ„Ç¶„Åå„Åß„Åç„Å¶„Çã„ÅØ„Åö„Åß„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/d2ef021e-e0b8-de7c-38fb-74ca80adf223.png\" alt=\"SnapCrab_NoName_2019-8-22_0-1-26_No-00.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">SnapCrab_NoName_2019-8-22_0-1-26_No-00.png</div>\n            </figure>\n\n<p>„Å°„Å™„Åø„Å´Âè≥„ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Åì„Å®„ÅßÈñâ„Åò„Åü„ÇäÊúÄÂ§ßÂåñ„Åß„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/01f43431-50e5-9aba-9fbe-0322af15944a.png\" alt=\"SnapCrab_ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë„ÅÆ„Ç¢„Éó„É™_2019-8-21_23-58-10_No-00.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">SnapCrab_ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë„ÅÆ„Ç¢„Éó„É™_2019-8-21_23-58-10_No-00.png</div>\n            </figure>\n\n<p>„Å®„Å£„Å¶„ÇÇ„ÅÑ„Çâ„Å™„ÅÑ„Ç¢„Éó„É™„ÅåÂÆåÊàê„Åó„Åæ„Åó„Åü„ÄÇ</p>\n<h2 id=\"electron-builder„Çí„ÅÑ„Çå„Çã\"><a href=\"#electron-builder„Çí„ÅÑ„Çå„Çã\" class=\"headerlink\" title=\"electron-builder„Çí„ÅÑ„Çå„Çã\"></a>electron-builder„Çí„ÅÑ„Çå„Çã</h2><p>„Åì„Çå„ÅØyarn„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Ç§„É≥„Çπ„Éà„Éº„É©„Éº„Å´Ê≤ø„Å£„Å¶„ÇÑ„Çå„Å∞„Åß„Åç„Åæ„Åô„ÄÇ<br>„Å°„ÇÉ„Çì„Å®„Ç§„É≥„Çπ„Éà„Éº„É´„Åß„Åç„Åü„Åã„Å©„ÅÜ„Åã„ÅØ‰ª•‰∏ã„ÅÆÊñá„Çí„ÅÑ„Çå„Å¶„Éê„Éº„Ç∏„Éß„É≥„ÅåÂá∫„Çå„Å∞„ÅäÔΩã„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn -v</span><br></pre></td></tr></table></figure>\n\n<p>„Åù„Åó„Åü„Çâ‰ª•‰∏ã„ÅÆÊñá„Çí„ÅÑ„Çå„Å¶<code>electron-builder</code>„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn global add electron-builder</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"package-json„Å´Êõ∏„ÅçË∂≥„Åô\"><a href=\"#package-json„Å´Êõ∏„ÅçË∂≥„Åô\" class=\"headerlink\" title=\"package.json„Å´Êõ∏„ÅçË∂≥„Åô\"></a>package.json„Å´Êõ∏„ÅçË∂≥„Åô</h2><p>„Å©„Å£„Å°„ÅÆpackage.json„ÅãÔºüsrc„Åò„ÇÉ„Å™„ÅÑÊñπ„ÄÇnpm init„Åß‰ΩúÊàê„Åó„Åü„Åª„ÅÜ„ÄÇ<br>Èñã„ÅÑ„Å¶„Åø„Å¶Êòé„Çâ„Åã„Å´‰∏ã„ÅÆ‰∏≠Ë∫´„Å®ÈÅï„ÅÜÂ†¥Âêà„ÅØÈñã„Åè„ÅÆÈñìÈÅï„Åà„Å¶„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;name&quot;: &quot;sushi_portable&quot;,</span><br><span class=\"line\">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class=\"line\">  &quot;description&quot;: &quot;ÂØøÂè∏„ÅÆÁµµÊñáÂ≠ó„ÇíÁú∫„ÇÅ„Çã„Ç¢„Éó„É™„ÄÇ&quot;,</span><br><span class=\"line\">  &quot;main&quot;: &quot;.&#x2F;src&#x2F;main.js&quot;,</span><br><span class=\"line\">  &quot;scripts&quot;: &#123;</span><br><span class=\"line\">    &quot;start&quot;: &quot;electron .&quot;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &quot;keywords&quot;: [],</span><br><span class=\"line\">  &quot;author&quot;: &quot;sushi&quot;,</span><br><span class=\"line\">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class=\"line\">  &quot;devDependencies&quot;: &#123;</span><br><span class=\"line\">    &quot;electron&quot;: &quot;^6.0.3&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åù„Åó„Å¶„Åô„Åì„ÅóÊõ∏„ÅçË∂≥„Åó„Åæ„Åô„ÄÇbuild„Åã„ÇâÂ¢ó„Åà„Åæ„Åó„Åü„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;name&quot;: &quot;sushi_portable&quot;,</span><br><span class=\"line\">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class=\"line\">  &quot;description&quot;: &quot;ÂØøÂè∏„ÅÆÁµµÊñáÂ≠ó„ÇíÁú∫„ÇÅ„Çã„Ç¢„Éó„É™„ÄÇ&quot;,</span><br><span class=\"line\">  &quot;main&quot;: &quot;.&#x2F;src&#x2F;main.js&quot;,</span><br><span class=\"line\">  &quot;scripts&quot;: &#123;</span><br><span class=\"line\">    &quot;start&quot;: &quot;electron .&quot;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &quot;keywords&quot;: [],</span><br><span class=\"line\">  &quot;author&quot;: &quot;sushi&quot;,</span><br><span class=\"line\">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class=\"line\">  &quot;devDependencies&quot;: &#123;</span><br><span class=\"line\">    &quot;electron&quot;: &quot;^6.0.3&quot;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &quot;build&quot;: &#123;</span><br><span class=\"line\">    &quot;productName&quot;: &quot;ÂØøÂè∏„ÅÆÁµµÊñáÂ≠óÁú∫„ÇÅ„Çã„ÇÑ„Å§&quot;,</span><br><span class=\"line\">    &quot;appId&quot;: &quot;sushi.emoji&quot;,</span><br><span class=\"line\">    &quot;win&quot;: &#123;</span><br><span class=\"line\">      &quot;target&quot;: &quot;portable&quot;,</span><br><span class=\"line\">      &quot;icon&quot;: &quot;.&#x2F;src&#x2F;icon.ico&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>productName„ÅåÂêçÂâç„ÄÅappId„ÅØ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥IDÔºàApplication User Model IDÔºâ„Çâ„Åó„ÅÑ„Åß„ÅôÔºü</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#96;&#96;&#96;nsis&#96;&#96;&#96;„Å´„Åô„Çå„Å∞„Ç§„É≥„Çπ„Éà„Éº„É´ÂΩ¢Âºè„Å´„Å™„Çã„Åù„ÅÜ„Åß„ÅôÔºü„ÄÇÔºàË¶ÅÊ§úË®ºÔºâ</span><br><span class=\"line\">&#96;&#96;&#96;icon&#96;&#96;&#96;„ÅØ„Ç¢„Ç§„Ç≥„É≥ÁîªÂÉè„ÅÆ„Éë„Çπ„Åß„Åô„ÄÇsrc„ÅÆ‰∏≠„Å´ÂÖ•„Çå„Çå„Å∞„ÅÑ„ÅÑ„ÅÆ„Åß„Åô„Åå„ÄÅÊã°ÂºµÂ≠ê„Ååico„Å™„ÅÆ„ÅßÁîªÂÉè„Éï„Ç°„Ç§„É´„Çí‰Ωï„Çâ„Åã„ÅÆÊñπÊ≥ï„Åßico„Å´Â§âÊèõ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åü„Å†„Åó„ÄÅ‰∏Ä„Å§Êù°‰ª∂„Åå„ÅÇ„Å£„Å¶ÁîªÂÉè„Çµ„Ç§„Ç∫„Çí256√ó256„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„Çà„ÅÜ„Åß„Åô„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">## „Éù„Éº„Çø„Éñ„É´„Ç¢„Éó„É™‰ΩúÊàê</span><br><span class=\"line\">„Çø„Éº„Éü„Éä„É´ÔºàPowerShell„Éª„Ç≥„Éû„É≥„Éâ„Éó„É≠„É≥„Éó„ÉàÔºâ„Åß‰ª•‰∏ã„ÅÆÊñá„ÇíÂÖ•Âäõ„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;console</span><br><span class=\"line\">electron-builder build --win</span><br></pre></td></tr></table></figure>\n\n<p>„ÅÇ„Å®„ÅØÁµÇ„Çè„Çã„Åæ„ÅßÂæÖ„Å°„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/50abd5ca-91a3-2152-e577-5b82e9b24296.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>„Åä„Çè„Çã„Å®<code>dist</code>„Å®„ÅÑ„ÅÜÂêçÂâç„ÅÆ„Éï„Ç©„É´„ÉÄ„Åå„Åß„Åç„Å¶„Çã„ÅÆ„Åß„Åù„ÅÆ‰∏≠„ÅÆ„Å´„ÅÇ„Çãexe„Éï„Ç°„Ç§„É´„Çí„ÉÄ„Éñ„É´„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Â∞ë„ÅóÂæÖ„Å¶„Å∞„Ç¶„Ç£„É≥„Éâ„Ç¶„ÅåÂá∫„Å¶„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/9fdcb99d-00ab-b83d-71d7-1f1d9d7d90bb.png\" alt=\"SnapCrab_NoName_2019-8-22_0-30-47_No-00.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">SnapCrab_NoName_2019-8-22_0-30-47_No-00.png</div>\n            </figure>\n\n\n<p><strong>ÂÆåÊàê„Åß„ÅôÔºÅÔºÅÔºÅ</strong></p>\n<h2 id=\"ËøΩË®ò\"><a href=\"#ËøΩË®ò\" class=\"headerlink\" title=\"ËøΩË®ò\"></a>ËøΩË®ò</h2><figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/f0d114e3-99ed-fb82-441e-19ac8a9097f8.png\" alt=\"SnapCrab_NoName_2019-8-22_0-39-35_No-00.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">SnapCrab_NoName_2019-8-22_0-39-35_No-00.png</div>\n            </figure>\n\n<p>„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„Åß„Åô‚Üí<a href=\"https://github.com/takusan23/SushiPortable\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/SushiPortable</a></p>\n<h2 id=\"Êõ¥„Å´ËøΩË®ò-2020-02-28\"><a href=\"#Êõ¥„Å´ËøΩË®ò-2020-02-28\" class=\"headerlink\" title=\"Êõ¥„Å´ËøΩË®ò„ÄÄ2020/02/28\"></a>Êõ¥„Å´ËøΩË®ò„ÄÄ2020/02/28</h2><p>„Ç≥„É°„É≥„Éà„Åßelectron-builder„ÅåË¶ã„Å§„Åã„Çâ„Çì„Å£„Å¶„ÅÇ„Å£„Åü„ÅÆ„ÅßË™ø„Åπ„Åü„Çâ<a href=\"https://www.electron.build/\" target=\"_blank\" rel=\"noopener\">ÂÖ¨Âºè„Çµ„Ç§„Éà</a>„Å®Â∞éÂÖ•ÊñπÊ≥ï„ÅåÈÅï„Å£„Åü„ÅÆ„ÅßËøΩË®ò„Åó„Å¶„Åä„Åç„Åæ„Åô„ÄÇ</p>\n<p>„Å°„Å™„Åø„Å´yarn„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„ÅØ1.22.0„Åß„Åô„ÄÇ</p>\n<p>„Å®„Çä„ÅÇ„Åà„Åöelectron-builder„ÇíÊ∂à„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn global remove electron-builder</span><br></pre></td></tr></table></figure>\n\n<p>Ê∂à„Åõ„Åü„Çâ‰ª•‰∏ã„ÅÆÊñá„ÇíÂÖ•Âäõ„Åó„Å¶„Å™„Å´„ÇÇ„Å™„ÅÑ„Åì„Å®„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn global list --depth=0</span><br></pre></td></tr></table></figure>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/226b19ef-9f95-0116-fb30-471e25eb2d0f.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>Ê¨°„Å´ÂÖ¨Âºè„Å®Âêå„ÅòÊñπÊ≥ï„Åßelectron-builder„ÇíÂÖ•„Çå„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add electron-builder --dev</span><br></pre></td></tr></table></figure>\n\n<p>ÊàêÂäü„Åô„Çå„Å∞<code>package.json</code>„ÅÆdevDependencies„ÅÆ‰∏≠„Å´</p>\n<figure class=\"highlight plain\"><figcaption><span>\"^22.3.2\"```„ÅåËøΩÂä†„Åï„Çå„Å¶„ÅÑ„Çã„ÅØ„Åö„Åß„Åô„ÄÇ</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">„Å°„Å™„Åø„Å´electron-builder„Å®ÂÖ•Âäõ„Åó„Å¶„ÇÇÁÑ°„ÅÑ„Å£„Å¶Ë®Ä„Çè„Çå„Çã„Å†„Åë„Åß„Åô„ÄÇ</span><br><span class=\"line\">![image.png](https:&#x2F;&#x2F;qiita-image-store.s3.ap-northeast-1.amazonaws.com&#x2F;0&#x2F;409918&#x2F;b0192e15-4f4b-915d-4bef-0bfaa01386e6.png)</span><br><span class=\"line\"></span><br><span class=\"line\">Ê¨°„Å´package.json„Å´Êõ∏„ÅçË∂≥„Åó„Å¶„Å™„Åë„Çå„Å∞„ÄÅ</span><br><span class=\"line\">[package.json„Å´Êõ∏„ÅçË∂≥„Åô](https:&#x2F;&#x2F;qiita.com&#x2F;takusan_23&#x2F;items&#x2F;0ae82e0a4a1ea6469bbd#packagejson%E3%81%AB%E6%9B%B8%E3%81%8D%E8%B6%B3%E3%81%99)„ÅßÊõ∏„ÅçË∂≥„Åó„Å¶„Åç„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åì„Åì„ÅØÂêå„Åò„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">ÊúÄÂæå„Å´‰ª•‰∏ã„ÅÆ„Ç≥„Éû„É≥„Éâ„ÇíÂÖ•Âäõ„Åô„Çå„Å∞Âá¶ÁêÜ„ÅåÂßã„Åæ„Çã„ÅØ„Åö„Åß„Åô„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;console</span><br><span class=\"line\">yarn electron-builder --win</span><br></pre></td></tr></table></figure>\n\n<p>electron-builder„Åå„ÅÜ„Åæ„ÅèÂãï„Åã„Å™„ÅÑÂ†¥Âêà„ÅØË©¶„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÔºàÁßÅ„ÅØ„Å©„Å°„Çâ„Åß„ÇÇÂãï„ÅÑ„Åü„ÅÆ„Åß„Åô„ÅåÔºõÔºõÔºâ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/b41f1f15-2800-b2ce-b128-7b24c7a9c839.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>„ÅÇ„Å®‰∏ÄÂøú<code>package.json</code>ÁΩÆ„ÅÑ„Å®„Åç„Åæ„Åô„Å≠</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;name&quot;: &quot;ElectronBuilderSample&quot;,</span><br><span class=\"line\">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class=\"line\">  &quot;description&quot;: &quot;&quot;,</span><br><span class=\"line\">  &quot;main&quot;: &quot;src&#x2F;main.js&quot;,</span><br><span class=\"line\">  &quot;scripts&quot;: &#123;</span><br><span class=\"line\">    &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &quot;keywords&quot;: [],</span><br><span class=\"line\">  &quot;author&quot;: &quot;takusan23&quot;,</span><br><span class=\"line\">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class=\"line\">  &quot;devDependencies&quot;: &#123;</span><br><span class=\"line\">    &quot;electron&quot;: &quot;^8.0.2&quot;,</span><br><span class=\"line\">    &quot;electron-builder&quot;: &quot;^22.3.2&quot;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &quot;build&quot;: &#123;</span><br><span class=\"line\">    &quot;productName&quot;: &quot;„Å¶„Åô„Å®&quot;,</span><br><span class=\"line\">    &quot;appId&quot;: &quot;aiueo.test&quot;,</span><br><span class=\"line\">    &quot;win&quot;: &#123;</span><br><span class=\"line\">      &quot;target&quot;: &quot;portable&quot;,</span><br><span class=\"line\">      &quot;icon&quot;: &quot;src&#x2F;icon.ico&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"„Åä„Çè„Çä„Å´\"><a href=\"#„Åä„Çè„Çä„Å´\" class=\"headerlink\" title=\"„Åä„Çè„Çä„Å´\"></a>„Åä„Çè„Çä„Å´</h3><p>exe„ÉÄ„Éñ„É´„ÇØ„É™„ÉÉ„ÇØ„Åã„ÇâÊï∞ÁßíÔΩûÊï∞ÂçÅÁßí„Åã„Åã„Çã„ÅÆ„ÅØ‰ªïÊßòÔºü„Çè„Åã„Çâ„ÇìÔºÅ</p>\n<h2 id=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ\"><a href=\"#ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ\" class=\"headerlink\" title=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ\"></a>ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ</h2><p><a href=\"https://qiita.com/SallyAcolyte/items/94ed26ab62b8b32b1b2c\" target=\"_blank\" rel=\"noopener\">https://qiita.com/SallyAcolyte/items/94ed26ab62b8b32b1b2c</a><br><a href=\"http://var.blog.jp/archives/78877702.html\" target=\"_blank\" rel=\"noopener\">http://var.blog.jp/archives/78877702.html</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>‰πÖ„Åó„Å∂„Çä„Å´Electron„Å´„Å§„ÅÑ„Å¶<strong>„ÅäË©±„Åó„Åæ„Åô„ÄÇ</strong></p>\n<h1 id=\"exe„Éï„Ç°„Ç§„É´„Å´„Åó„Å¶Âãï„Åã„Åó„Åü„ÅÑ„ÄÇ\"><a href=\"#exe„Éï„Ç°„Ç§„É´„Å´„Åó„Å¶Âãï„Åã„Åó„Åü„ÅÑ„ÄÇ\" class=\"headerlink\" title=\"exe„Éï„Ç°„Ç§„É´„Å´„Åó„Å¶Âãï„Åã„Åó„Åü„ÅÑ„ÄÇ\"></a>exe„Éï„Ç°„Ç§„É´„Å´„Åó„Å¶Âãï„Åã„Åó„Åü„ÅÑ„ÄÇ</h1><p>„Åó„Åã„Åó2015Âπ¥„Å®„Åã2016Âπ¥„ÅÆË®ò‰∫ã„Åå„Åä„Åä„ÅÑ„ÄÇ„Å§„Çâ„ÅÑ„ÄÇ<del>‰ª§Âíå„Å†„Åû„ÄÇ</del></p>\n<p>„Å®„ÅÑ„ÅÜ„Çè„Åë„Åß‰ªäÂõû„ÅØElectron„ÅßÈÅ©ÂΩì„Å´„Ç¢„Éó„É™„Çí‰Ωú„Å£„Å¶„Éù„Éº„Çø„Éñ„É´„Ç¢„Éó„É™„Å®„Åó„Å¶„Åô„Åê‰Ωø„Åà„Çã„Çà„ÅÜ„Å´„Åô„Çã„Å®„Åì„Çç„ÇíÁõÆÊ®ô„Å´‰Ωú„Å£„Å¶„ÅÑ„Åì„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ==„Ç§„É≥„Çπ„Éà„Éº„É´‰∏çË¶Å„ÅßÂãï„Åã„ÅôÔºÅ</p>\n<h1 id=\"‰Ωï‰Ωú„Çã„ÄÇ\"><a href=\"#‰Ωï‰Ωú„Çã„ÄÇ\" class=\"headerlink\" title=\"‰Ωï‰Ωú„Çã„ÄÇ\"></a>‰Ωï‰Ωú„Çã„ÄÇ</h1><p>marquee„Çø„Ç∞„Åßüç£„ÇíÊµÅ„Åô„Å†„Åë„ÅÆ„Ç¢„Éó„É™„ÄÇ„Åã„Çì„Åü„Çì„ÄÇ</p>\n<h1 id=\"‰Ωú„ÇäÊñπ\"><a href=\"#‰Ωú„ÇäÊñπ\" class=\"headerlink\" title=\"‰Ωú„ÇäÊñπ\"></a>‰Ωú„ÇäÊñπ</h1><h2 id=\"„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó-npm-init\"><a href=\"#„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó-npm-init\" class=\"headerlink\" title=\"„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó npm init\"></a>„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó npm init</h2><p>„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„ÅØËá™ÂàÜ„ÅåÊõ∏„ÅÑ„ÅüÈÅéÂéª„ÅÆË®ò‰∫ã„Å®Âêå„Åò„Åì„Å®„Åó„Å¶„Åæ„Åô„ÄÇ<a href=\"https://qiita.com/takusan_23/items/eca19b4111109616bbfa\" target=\"_blank\" rel=\"noopener\">„Åì„Åì</a>„ÄÇ</p>\n<p>ÈÅ©ÂΩì„Å´„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åô„Çã„ÄÇ</p>\n<p>‰Ωú„Å£„Åü„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Åß<code>Shift+Âè≥„ÇØ„É™„ÉÉ„ÇØ</code>„Åß<code>PowerShell „Ç¶„Ç£„É≥„Éâ„Ç¶„Çí„Åì„Åì„Å´Èñã„Åè</code>„Åã<code>„Ç≥„Éû„É≥„Éâ „Ç¶„Ç£„É≥„Éâ„Ç¶„Çí„Åì„Åì„ÅßÈñã„Åè</code>„ÇíÊäº„Åó„Åæ„Åô„ÄÇÔºàWin10„ÅØÂâçËÄÖ„ÄÇ„Åù„Çå‰ª•Â§ñ„ÅØÂæåËÄÖÔºâ„ÄÇ</p>\n<p>Èñã„ÅÑ„Åü„Çâ‰∏≠„Åß‰ª•‰∏ã„ÅÆÊñá„ÇíÂÖ•Âäõ„Åó„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm init -y</span><br><span class=\"line\">&#96;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„Åß<code>package.json</code>„Åå‰ΩúÊàê„Åß„Åç„Å¶„ÅÑ„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ</p>\n<p>„Åù„Åó„Åü„Çâpackage.json„ÇíÈñã„ÅÑ„Å¶„ÄÅÂ∞ë„ÅóÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><figcaption><span>: \"index.js\",```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">‚Üì</span><br><span class=\"line\">&#96;&#96;&#96;&quot;main&quot;: &quot;.&#x2F;src&#x2F;main.js&quot;,</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123;</span><br><span class=\"line\">    &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;</span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure>\n<p>‚Üì</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123;</span><br><span class=\"line\">   &quot;start&quot;: &quot;electron .&quot;</span><br><span class=\"line\"> &#125;,</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó-npm-install-‚Äìsave-dev-electron\"><a href=\"#„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó-npm-install-‚Äìsave-dev-electron\" class=\"headerlink\" title=\"„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó npm install ‚Äìsave-dev electron\"></a>„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó npm install ‚Äìsave-dev electron</h2><p>PowerShell„Åæ„Åü„ÅØ„Ç≥„Éû„É≥„Éâ„Éó„É≠„É≥„Éó„Éà„ÅÆÁîªÈù¢„ÅØ„Åù„ÅÆ„Åæ„Åæ„ÄÅÊ¨°„ÅÆÊñá„ÇíÂÖ•Âäõ„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save-dev electron</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó-Â•Ω„Åç„Å™„Ç®„Éá„Ç£„Çø„ÇíÈñã„ÅÑ„Å¶\"><a href=\"#„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó-Â•Ω„Åç„Å™„Ç®„Éá„Ç£„Çø„ÇíÈñã„ÅÑ„Å¶\" class=\"headerlink\" title=\"„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó Â•Ω„Åç„Å™„Ç®„Éá„Ç£„Çø„ÇíÈñã„ÅÑ„Å¶\"></a>„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó Â•Ω„Åç„Å™„Ç®„Éá„Ç£„Çø„ÇíÈñã„ÅÑ„Å¶</h2><p>ÊúÄÂàù„Å´‰Ωú„Å£„Åü„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Å´src„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÔºà„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„Å´icon.ico„Åå„ÅÇ„Çä„Åæ„Åô„ÅåÊ∞ó„Å´„Åõ„Åö„ÄÇÔºâ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/50f257ab-2fac-e705-a5ca-235e207c2496.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>‰ΩúÊàê„Åó„Åü„Çâ‰∏≠„Å´„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#96;&#96;&#96;index.html</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">„Åù„Çå„Åû„Çå</span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;json:package.json</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;main&quot;: &quot;main.js&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang&#x3D;&quot;ja&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class=\"line\">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;ie&#x3D;edge&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë„ÅÆ„Ç¢„Éó„É™&lt;&#x2F;title&gt;</span><br><span class=\"line\">&lt;&#x2F;head&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;body style&#x3D;&quot;-webkit-app-region: drag;background-color: rgba(157, 204, 224\t, .7)&quot;&gt;</span><br><span class=\"line\">    &lt;!-- ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë --&gt;</span><br><span class=\"line\">    &lt;div style&#x3D;&quot;padding: 20px&quot; class&#x3D;&quot;center&quot;&gt;</span><br><span class=\"line\">        &lt;marquee id&#x3D;&quot;marquee&quot; scrollamount&#x3D;&quot;25&quot;&gt;</span><br><span class=\"line\">            &lt;font id&#x3D;&quot;text&quot; size&#x3D;&quot;7&quot;&gt;üç£&lt;&#x2F;font&gt;</span><br><span class=\"line\">        &lt;&#x2F;marquee&gt;</span><br><span class=\"line\">    &lt;&#x2F;div&gt;</span><br><span class=\"line\">&lt;&#x2F;body&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; Modules to control application life and create native browser window</span><br><span class=\"line\">const &#123; app, BrowserWindow, Menu &#125; &#x3D; require(&#39;electron&#39;)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; Keep a global reference of the window object, if you don&#39;t, the window will</span><br><span class=\"line\">&#x2F;&#x2F; be closed automatically when the JavaScript object is garbage collected.</span><br><span class=\"line\">let mainWindow</span><br><span class=\"line\"></span><br><span class=\"line\">function createWindow() &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; Create the browser window.</span><br><span class=\"line\">    mainWindow &#x3D; new BrowserWindow(&#123;</span><br><span class=\"line\">        width: 300,         &#x2F;&#x2F;Ê®™</span><br><span class=\"line\">        height: 150,        &#x2F;&#x2F;Á∏¶</span><br><span class=\"line\">        frame: false,       &#x2F;&#x2F;„Éï„É¨„Éº„É†„Å™„Åè„Åô</span><br><span class=\"line\">        transparent: true,   &#x2F;&#x2F;ËÉåÊôØÈÄèÊòéÂåñ</span><br><span class=\"line\">        alwaysOnTop: true,         &#x2F;&#x2F;ÊúÄÂâçÈù¢</span><br><span class=\"line\">        webPreferences: &#123;</span><br><span class=\"line\">            nodeIntegration: true   &#x2F;&#x2F;„Åì„ÇåÊõ∏„Åè„ÄÇ</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F; and load the index.html of the app.</span><br><span class=\"line\">    mainWindow.loadFile(&#39;.&#x2F;src&#x2F;index.html&#39;)</span><br><span class=\"line\">    &#x2F;&#x2F;„É°„Éã„É•„Éº„Éê„ÉºÂâäÈô§</span><br><span class=\"line\">    Menu.setApplicationMenu(null)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F; Open the DevTools.</span><br><span class=\"line\">    &#x2F;&#x2F; mainWindow.webContents.openDevTools()</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F; Emitted when the window is closed.</span><br><span class=\"line\">    mainWindow.on(&#39;closed&#39;, function () &#123;</span><br><span class=\"line\">        &#x2F;&#x2F; Dereference the window object, usually you would store windows</span><br><span class=\"line\">        &#x2F;&#x2F; in an array if your app supports multi windows, this is the time</span><br><span class=\"line\">        &#x2F;&#x2F; when you should delete the corresponding element.</span><br><span class=\"line\">        mainWindow &#x3D; null</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; This method will be called when Electron has finished</span><br><span class=\"line\">&#x2F;&#x2F; initialization and is ready to create browser windows.</span><br><span class=\"line\">&#x2F;&#x2F; Some APIs can only be used after this event occurs.</span><br><span class=\"line\">app.on(&#39;ready&#39;, createWindow)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; Quit when all windows are closed.</span><br><span class=\"line\">app.on(&#39;window-all-closed&#39;, function () &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; On macOS it is common for applications and their menu bar</span><br><span class=\"line\">    &#x2F;&#x2F; to stay active until the user quits explicitly with Cmd + Q</span><br><span class=\"line\">    if (process.platform !&#x3D;&#x3D; &#39;darwin&#39;) app.quit()</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">app.on(&#39;activate&#39;, function () &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; On macOS it&#39;s common to re-create a window in the app when the</span><br><span class=\"line\">    &#x2F;&#x2F; dock icon is clicked and there are no other windows open.</span><br><span class=\"line\">    if (mainWindow &#x3D;&#x3D;&#x3D; null) createWindow()</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; In this file you can include the rest of your app&#39;s specific main process</span><br><span class=\"line\">&#x2F;&#x2F; code. You can also put them in separate files and require them here.</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„ÅÆ„Åæ„ÅæÂÆüË°å„Åô„Çã„Å®ÂçäÈÄèÊòé„ÅßÂ∞è„Åï„Åè„Å¶„Å©„ÅÆ„Ç¶„Ç£„É≥„Éâ„Ç¶„Çà„ÇäÂâç„Å´Âá∫„Çã„Åü„Å†üç£„ÅåÊµÅ„Çå„Çã„Ç¶„Ç£„É≥„Éâ„Ç¶„Åå„Åß„Åç„Å¶„Çã„ÅØ„Åö„Åß„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/d2ef021e-e0b8-de7c-38fb-74ca80adf223.png\" alt=\"SnapCrab_NoName_2019-8-22_0-1-26_No-00.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">SnapCrab_NoName_2019-8-22_0-1-26_No-00.png</div>\n            </figure>\n\n<p>„Å°„Å™„Åø„Å´Âè≥„ÇØ„É™„ÉÉ„ÇØ„Åô„Çã„Åì„Å®„ÅßÈñâ„Åò„Åü„ÇäÊúÄÂ§ßÂåñ„Åß„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/01f43431-50e5-9aba-9fbe-0322af15944a.png\" alt=\"SnapCrab_ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë„ÅÆ„Ç¢„Éó„É™_2019-8-21_23-58-10_No-00.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">SnapCrab_ÂØøÂè∏„ÅåÊµÅ„Çå„Çã„Å†„Åë„ÅÆ„Ç¢„Éó„É™_2019-8-21_23-58-10_No-00.png</div>\n            </figure>\n\n<p>„Å®„Å£„Å¶„ÇÇ„ÅÑ„Çâ„Å™„ÅÑ„Ç¢„Éó„É™„ÅåÂÆåÊàê„Åó„Åæ„Åó„Åü„ÄÇ</p>\n<h2 id=\"electron-builder„Çí„ÅÑ„Çå„Çã\"><a href=\"#electron-builder„Çí„ÅÑ„Çå„Çã\" class=\"headerlink\" title=\"electron-builder„Çí„ÅÑ„Çå„Çã\"></a>electron-builder„Çí„ÅÑ„Çå„Çã</h2><p>„Åì„Çå„ÅØyarn„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Ç§„É≥„Çπ„Éà„Éº„É©„Éº„Å´Ê≤ø„Å£„Å¶„ÇÑ„Çå„Å∞„Åß„Åç„Åæ„Åô„ÄÇ<br>„Å°„ÇÉ„Çì„Å®„Ç§„É≥„Çπ„Éà„Éº„É´„Åß„Åç„Åü„Åã„Å©„ÅÜ„Åã„ÅØ‰ª•‰∏ã„ÅÆÊñá„Çí„ÅÑ„Çå„Å¶„Éê„Éº„Ç∏„Éß„É≥„ÅåÂá∫„Çå„Å∞„ÅäÔΩã„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn -v</span><br></pre></td></tr></table></figure>\n\n<p>„Åù„Åó„Åü„Çâ‰ª•‰∏ã„ÅÆÊñá„Çí„ÅÑ„Çå„Å¶<code>electron-builder</code>„Çí„Ç§„É≥„Çπ„Éà„Éº„É´„Åó„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn global add electron-builder</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"package-json„Å´Êõ∏„ÅçË∂≥„Åô\"><a href=\"#package-json„Å´Êõ∏„ÅçË∂≥„Åô\" class=\"headerlink\" title=\"package.json„Å´Êõ∏„ÅçË∂≥„Åô\"></a>package.json„Å´Êõ∏„ÅçË∂≥„Åô</h2><p>„Å©„Å£„Å°„ÅÆpackage.json„ÅãÔºüsrc„Åò„ÇÉ„Å™„ÅÑÊñπ„ÄÇnpm init„Åß‰ΩúÊàê„Åó„Åü„Åª„ÅÜ„ÄÇ<br>Èñã„ÅÑ„Å¶„Åø„Å¶Êòé„Çâ„Åã„Å´‰∏ã„ÅÆ‰∏≠Ë∫´„Å®ÈÅï„ÅÜÂ†¥Âêà„ÅØÈñã„Åè„ÅÆÈñìÈÅï„Åà„Å¶„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;name&quot;: &quot;sushi_portable&quot;,</span><br><span class=\"line\">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class=\"line\">  &quot;description&quot;: &quot;ÂØøÂè∏„ÅÆÁµµÊñáÂ≠ó„ÇíÁú∫„ÇÅ„Çã„Ç¢„Éó„É™„ÄÇ&quot;,</span><br><span class=\"line\">  &quot;main&quot;: &quot;.&#x2F;src&#x2F;main.js&quot;,</span><br><span class=\"line\">  &quot;scripts&quot;: &#123;</span><br><span class=\"line\">    &quot;start&quot;: &quot;electron .&quot;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &quot;keywords&quot;: [],</span><br><span class=\"line\">  &quot;author&quot;: &quot;sushi&quot;,</span><br><span class=\"line\">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class=\"line\">  &quot;devDependencies&quot;: &#123;</span><br><span class=\"line\">    &quot;electron&quot;: &quot;^6.0.3&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åù„Åó„Å¶„Åô„Åì„ÅóÊõ∏„ÅçË∂≥„Åó„Åæ„Åô„ÄÇbuild„Åã„ÇâÂ¢ó„Åà„Åæ„Åó„Åü„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;name&quot;: &quot;sushi_portable&quot;,</span><br><span class=\"line\">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class=\"line\">  &quot;description&quot;: &quot;ÂØøÂè∏„ÅÆÁµµÊñáÂ≠ó„ÇíÁú∫„ÇÅ„Çã„Ç¢„Éó„É™„ÄÇ&quot;,</span><br><span class=\"line\">  &quot;main&quot;: &quot;.&#x2F;src&#x2F;main.js&quot;,</span><br><span class=\"line\">  &quot;scripts&quot;: &#123;</span><br><span class=\"line\">    &quot;start&quot;: &quot;electron .&quot;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &quot;keywords&quot;: [],</span><br><span class=\"line\">  &quot;author&quot;: &quot;sushi&quot;,</span><br><span class=\"line\">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class=\"line\">  &quot;devDependencies&quot;: &#123;</span><br><span class=\"line\">    &quot;electron&quot;: &quot;^6.0.3&quot;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &quot;build&quot;: &#123;</span><br><span class=\"line\">    &quot;productName&quot;: &quot;ÂØøÂè∏„ÅÆÁµµÊñáÂ≠óÁú∫„ÇÅ„Çã„ÇÑ„Å§&quot;,</span><br><span class=\"line\">    &quot;appId&quot;: &quot;sushi.emoji&quot;,</span><br><span class=\"line\">    &quot;win&quot;: &#123;</span><br><span class=\"line\">      &quot;target&quot;: &quot;portable&quot;,</span><br><span class=\"line\">      &quot;icon&quot;: &quot;.&#x2F;src&#x2F;icon.ico&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>productName„ÅåÂêçÂâç„ÄÅappId„ÅØ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥IDÔºàApplication User Model IDÔºâ„Çâ„Åó„ÅÑ„Åß„ÅôÔºü</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#96;&#96;&#96;nsis&#96;&#96;&#96;„Å´„Åô„Çå„Å∞„Ç§„É≥„Çπ„Éà„Éº„É´ÂΩ¢Âºè„Å´„Å™„Çã„Åù„ÅÜ„Åß„ÅôÔºü„ÄÇÔºàË¶ÅÊ§úË®ºÔºâ</span><br><span class=\"line\">&#96;&#96;&#96;icon&#96;&#96;&#96;„ÅØ„Ç¢„Ç§„Ç≥„É≥ÁîªÂÉè„ÅÆ„Éë„Çπ„Åß„Åô„ÄÇsrc„ÅÆ‰∏≠„Å´ÂÖ•„Çå„Çå„Å∞„ÅÑ„ÅÑ„ÅÆ„Åß„Åô„Åå„ÄÅÊã°ÂºµÂ≠ê„Ååico„Å™„ÅÆ„ÅßÁîªÂÉè„Éï„Ç°„Ç§„É´„Çí‰Ωï„Çâ„Åã„ÅÆÊñπÊ≥ï„Åßico„Å´Â§âÊèõ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åü„Å†„Åó„ÄÅ‰∏Ä„Å§Êù°‰ª∂„Åå„ÅÇ„Å£„Å¶ÁîªÂÉè„Çµ„Ç§„Ç∫„Çí256√ó256„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„Çà„ÅÜ„Åß„Åô„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">## „Éù„Éº„Çø„Éñ„É´„Ç¢„Éó„É™‰ΩúÊàê</span><br><span class=\"line\">„Çø„Éº„Éü„Éä„É´ÔºàPowerShell„Éª„Ç≥„Éû„É≥„Éâ„Éó„É≠„É≥„Éó„ÉàÔºâ„Åß‰ª•‰∏ã„ÅÆÊñá„ÇíÂÖ•Âäõ„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;console</span><br><span class=\"line\">electron-builder build --win</span><br></pre></td></tr></table></figure>\n\n<p>„ÅÇ„Å®„ÅØÁµÇ„Çè„Çã„Åæ„ÅßÂæÖ„Å°„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/50abd5ca-91a3-2152-e577-5b82e9b24296.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>„Åä„Çè„Çã„Å®<code>dist</code>„Å®„ÅÑ„ÅÜÂêçÂâç„ÅÆ„Éï„Ç©„É´„ÉÄ„Åå„Åß„Åç„Å¶„Çã„ÅÆ„Åß„Åù„ÅÆ‰∏≠„ÅÆ„Å´„ÅÇ„Çãexe„Éï„Ç°„Ç§„É´„Çí„ÉÄ„Éñ„É´„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Â∞ë„ÅóÂæÖ„Å¶„Å∞„Ç¶„Ç£„É≥„Éâ„Ç¶„ÅåÂá∫„Å¶„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/9fdcb99d-00ab-b83d-71d7-1f1d9d7d90bb.png\" alt=\"SnapCrab_NoName_2019-8-22_0-30-47_No-00.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">SnapCrab_NoName_2019-8-22_0-30-47_No-00.png</div>\n            </figure>\n\n\n<p><strong>ÂÆåÊàê„Åß„ÅôÔºÅÔºÅÔºÅ</strong></p>\n<h2 id=\"ËøΩË®ò\"><a href=\"#ËøΩË®ò\" class=\"headerlink\" title=\"ËøΩË®ò\"></a>ËøΩË®ò</h2><figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/f0d114e3-99ed-fb82-441e-19ac8a9097f8.png\" alt=\"SnapCrab_NoName_2019-8-22_0-39-35_No-00.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">SnapCrab_NoName_2019-8-22_0-39-35_No-00.png</div>\n            </figure>\n\n<p>„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„Åß„Åô‚Üí<a href=\"https://github.com/takusan23/SushiPortable\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/SushiPortable</a></p>\n<h2 id=\"Êõ¥„Å´ËøΩË®ò-2020-02-28\"><a href=\"#Êõ¥„Å´ËøΩË®ò-2020-02-28\" class=\"headerlink\" title=\"Êõ¥„Å´ËøΩË®ò„ÄÄ2020/02/28\"></a>Êõ¥„Å´ËøΩË®ò„ÄÄ2020/02/28</h2><p>„Ç≥„É°„É≥„Éà„Åßelectron-builder„ÅåË¶ã„Å§„Åã„Çâ„Çì„Å£„Å¶„ÅÇ„Å£„Åü„ÅÆ„ÅßË™ø„Åπ„Åü„Çâ<a href=\"https://www.electron.build/\" target=\"_blank\" rel=\"noopener\">ÂÖ¨Âºè„Çµ„Ç§„Éà</a>„Å®Â∞éÂÖ•ÊñπÊ≥ï„ÅåÈÅï„Å£„Åü„ÅÆ„ÅßËøΩË®ò„Åó„Å¶„Åä„Åç„Åæ„Åô„ÄÇ</p>\n<p>„Å°„Å™„Åø„Å´yarn„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„ÅØ1.22.0„Åß„Åô„ÄÇ</p>\n<p>„Å®„Çä„ÅÇ„Åà„Åöelectron-builder„ÇíÊ∂à„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn global remove electron-builder</span><br></pre></td></tr></table></figure>\n\n<p>Ê∂à„Åõ„Åü„Çâ‰ª•‰∏ã„ÅÆÊñá„ÇíÂÖ•Âäõ„Åó„Å¶„Å™„Å´„ÇÇ„Å™„ÅÑ„Åì„Å®„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn global list --depth=0</span><br></pre></td></tr></table></figure>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/226b19ef-9f95-0116-fb30-471e25eb2d0f.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>Ê¨°„Å´ÂÖ¨Âºè„Å®Âêå„ÅòÊñπÊ≥ï„Åßelectron-builder„ÇíÂÖ•„Çå„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add electron-builder --dev</span><br></pre></td></tr></table></figure>\n\n<p>ÊàêÂäü„Åô„Çå„Å∞<code>package.json</code>„ÅÆdevDependencies„ÅÆ‰∏≠„Å´</p>\n<figure class=\"highlight plain\"><figcaption><span>\"^22.3.2\"```„ÅåËøΩÂä†„Åï„Çå„Å¶„ÅÑ„Çã„ÅØ„Åö„Åß„Åô„ÄÇ</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">„Å°„Å™„Åø„Å´electron-builder„Å®ÂÖ•Âäõ„Åó„Å¶„ÇÇÁÑ°„ÅÑ„Å£„Å¶Ë®Ä„Çè„Çå„Çã„Å†„Åë„Åß„Åô„ÄÇ</span><br><span class=\"line\">![image.png](https:&#x2F;&#x2F;qiita-image-store.s3.ap-northeast-1.amazonaws.com&#x2F;0&#x2F;409918&#x2F;b0192e15-4f4b-915d-4bef-0bfaa01386e6.png)</span><br><span class=\"line\"></span><br><span class=\"line\">Ê¨°„Å´package.json„Å´Êõ∏„ÅçË∂≥„Åó„Å¶„Å™„Åë„Çå„Å∞„ÄÅ</span><br><span class=\"line\">[package.json„Å´Êõ∏„ÅçË∂≥„Åô](https:&#x2F;&#x2F;qiita.com&#x2F;takusan_23&#x2F;items&#x2F;0ae82e0a4a1ea6469bbd#packagejson%E3%81%AB%E6%9B%B8%E3%81%8D%E8%B6%B3%E3%81%99)„ÅßÊõ∏„ÅçË∂≥„Åó„Å¶„Åç„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åì„Åì„ÅØÂêå„Åò„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">ÊúÄÂæå„Å´‰ª•‰∏ã„ÅÆ„Ç≥„Éû„É≥„Éâ„ÇíÂÖ•Âäõ„Åô„Çå„Å∞Âá¶ÁêÜ„ÅåÂßã„Åæ„Çã„ÅØ„Åö„Åß„Åô„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;console</span><br><span class=\"line\">yarn electron-builder --win</span><br></pre></td></tr></table></figure>\n\n<p>electron-builder„Åå„ÅÜ„Åæ„ÅèÂãï„Åã„Å™„ÅÑÂ†¥Âêà„ÅØË©¶„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇÔºàÁßÅ„ÅØ„Å©„Å°„Çâ„Åß„ÇÇÂãï„ÅÑ„Åü„ÅÆ„Åß„Åô„ÅåÔºõÔºõÔºâ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/b41f1f15-2800-b2ce-b128-7b24c7a9c839.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>„ÅÇ„Å®‰∏ÄÂøú<code>package.json</code>ÁΩÆ„ÅÑ„Å®„Åç„Åæ„Åô„Å≠</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;name&quot;: &quot;ElectronBuilderSample&quot;,</span><br><span class=\"line\">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class=\"line\">  &quot;description&quot;: &quot;&quot;,</span><br><span class=\"line\">  &quot;main&quot;: &quot;src&#x2F;main.js&quot;,</span><br><span class=\"line\">  &quot;scripts&quot;: &#123;</span><br><span class=\"line\">    &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &quot;keywords&quot;: [],</span><br><span class=\"line\">  &quot;author&quot;: &quot;takusan23&quot;,</span><br><span class=\"line\">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class=\"line\">  &quot;devDependencies&quot;: &#123;</span><br><span class=\"line\">    &quot;electron&quot;: &quot;^8.0.2&quot;,</span><br><span class=\"line\">    &quot;electron-builder&quot;: &quot;^22.3.2&quot;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &quot;build&quot;: &#123;</span><br><span class=\"line\">    &quot;productName&quot;: &quot;„Å¶„Åô„Å®&quot;,</span><br><span class=\"line\">    &quot;appId&quot;: &quot;aiueo.test&quot;,</span><br><span class=\"line\">    &quot;win&quot;: &#123;</span><br><span class=\"line\">      &quot;target&quot;: &quot;portable&quot;,</span><br><span class=\"line\">      &quot;icon&quot;: &quot;src&#x2F;icon.ico&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"„Åä„Çè„Çä„Å´\"><a href=\"#„Åä„Çè„Çä„Å´\" class=\"headerlink\" title=\"„Åä„Çè„Çä„Å´\"></a>„Åä„Çè„Çä„Å´</h3><p>exe„ÉÄ„Éñ„É´„ÇØ„É™„ÉÉ„ÇØ„Åã„ÇâÊï∞ÁßíÔΩûÊï∞ÂçÅÁßí„Åã„Åã„Çã„ÅÆ„ÅØ‰ªïÊßòÔºü„Çè„Åã„Çâ„ÇìÔºÅ</p>\n<h2 id=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ\"><a href=\"#ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ\" class=\"headerlink\" title=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ\"></a>ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ</h2><p><a href=\"https://qiita.com/SallyAcolyte/items/94ed26ab62b8b32b1b2c\" target=\"_blank\" rel=\"noopener\">https://qiita.com/SallyAcolyte/items/94ed26ab62b8b32b1b2c</a><br><a href=\"http://var.blog.jp/archives/78877702.html\" target=\"_blank\" rel=\"noopener\">http://var.blog.jp/archives/78877702.html</a></p>\n"},{"title":"„ÄêElectron / TypeScript„Äë Electron„ÅßTypeScript","author":"takusan_23","slide":false,"_content":"Ê¨°Electron„Åß„Å™„Å´„Åã‰Ωú„ÇãÊôÇ„ÅØTypeScript‰Ωø„Åä„Å£„Åã„Å™„Éº„ÄÇ\n\n# Êú¨È°å\nTypeScript„Å£„Å¶„ÅÆ„Çí„ÅÇ„Çì„Åæ„ÇäËß¶„Å£„Åü„Åì„Å®ÁÑ°„ÅÑ„Åë„Å©Âûã„ÅåÊ±∫„ÇÅ„Çâ„Çå„Çã„Å®„Åã„Å™„Çì„Å®„Åã„ÄÇ\n\n# ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\nhttps://github.com/electron/electron-quick-start-typescript\n\n„Åì„Åì„ÇíÁúü‰ºº„Åó„Å¶„ÇÑ„Çã„ÄÇ\n\n# package.json„Å§„Åè„Çã\n\nNode.jsÂÖ•„Çå„Å¶„Åä„ÅÑ„Å¶„Å≠„ÄÇ\nnpm version„ÅØ6.4.1„Åß„Åô„ÄÇ\n\nÈÅ©ÂΩì„Å´„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„ÄÅ„Çø„Éº„Éü„Éä„É´„Åß‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„Çí„ÄÇ\n\n```terminal\nnpm init -y\n```\n\n```package.json``` „Åå‰ΩúÊàê„Åï„Çå„Å¶„ÅÑ„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ\n\n# ElectronÂÖ•„Çå„Çã\n\n„Çø„Éº„Éü„Éä„É´„Åß\n\n```terminal\nnpm install --save electron\n```\n\n# TypeScriptÂÖ•„Çå„Çã\n\n„Çø„Éº„Éü„Éä„É´„Åß\n\n```terminal\nnpm install -g typescript\n```\n\n# package.json„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\n\npackage.json„ÇíÈñã„ÅÑ„Å¶„ÄÅ\"scripts\"{}„ÇíÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ\n\n```json:package.json\n  \"scripts\": {\n    \"build\": \"tsc\",\n    \"start\": \"npm run build && electron ./js/main.js\"\n  }\n```\n\n„ÅÇ„Å®main„ÅÆ„Å®„Åì„Çç„ÇÇÂ§â„Åà„Åæ„Åô\n\n```json:package.json\n  \"main\": \"js/main.js\",\n```\n\n\n# tsconfig.json ‰ΩúÊàê\n\n„Çø„Éº„Éü„Éä„É´„Åß\n\n```terminal\ntsc --init\n```\n\n„Å®ÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\ntsconfig.json„ÅåÁîüÊàê„Åï„Çå„Å¶„ÅÑ„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ\n\n„Éï„Ç°„Ç§„É´„ÅÆ‰∏≠Ë∫´„ÅØÂÖ¨ÂºèÈÄö„Çä„Å´Êõ∏„ÅçÊèõ„Åà„Å¶„Åä„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\n```json:tsconfig.json\n{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"noImplicitAny\": true,\n    \"sourceMap\": true,\n    \"outDir\": \"js\",\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"*\": [\"node_modules/*\"]\n    }\n  },\n  \"include\": [\n    \"src/**/*\"\n  ]\n}\n```\n\nÊú¨ÂÆ∂„Åß„ÅØoutDir„Åådist„Å´„Å™„Å£„Å¶„Åæ„Åô„Åå„ÄÅElectron Builder„ÅÆÂá∫Âäõ„Å®Ë¢´„Çä„Åù„ÅÜ„Å™„ÅÆ„ÅßÂ§â„Åà„Å®„Åç„Åæ„Åó„Åü„ÄÇ(„Éâ„Ç≠„É•„É°„É≥„ÉàË¶ã„Çå„Å∞Â§â„Åà„Çâ„Çå„Åù„ÅÜ„ÄÇ)\n\n# HTML„Å®TypeScript„Åã„Åè\n\nsrc„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„ÄÅ\n\nindex.html „Å® main.ts „Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/185fc1f6-72ec-00aa-b75d-503663a4696c.png)\n\n```html:index.html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>TypeScript</title>\n</head>\n<body>\n    <h1>TypeScript„Åß„Åô„Éº</h1>\n</body>\n</html>\n```\n\n```typescript:main.ts\nimport { app, BrowserWindow } from \"electron\";\nimport * as path from \"path\";\n\nlet mainWindow: Electron.BrowserWindow;\n\nfunction createWindow() {\n    // Create the browser window.\n    mainWindow = new BrowserWindow({\n        height: 600,\n        webPreferences: {\n            nodeIntegration: true //true„Å´„Åó„Å¶„Åä„Åè„ÄÇpreload‰Ωø„Å£„Å¶„ÇÇ„ÅÑ„ÅÑ„Åë„Å©‰ªäÂõû„ÅØ„Éë„Çπ„ÄÇ\n        },\n        width: 800,\n    });\n\n    // and load the index.html of the app.\n    mainWindow.loadFile(path.join(__dirname, \"../src/index.html\"));„ÄÄ//index.html„ÅØsrc„Éï„Ç©„É´„ÉÄÔºàmain.js„ÅØjs„Éï„Ç©„É´„ÉÄÔºâ„Å™„ÅÆ„Åß„Éë„ÇπÊ∞ó„Çí„Å§„Åë„Å¶„ÄÇ\n\n    // Open the DevTools.\n    mainWindow.webContents.openDevTools();\n\n    // Emitted when the window is closed.\n    mainWindow.on(\"closed\", () => {\n        // Dereference the window object, usually you would store windows\n        // in an array if your app supports multi windows, this is the time\n        // when you should delete the corresponding element.\n        mainWindow = null;\n    });\n}\n\n// This method will be called when Electron has finished\n// initialization and is ready to create browser windows.\n// Some APIs can only be used after this event occurs.\napp.on(\"ready\", createWindow);\n\n// Quit when all windows are closed.\napp.on(\"window-all-closed\", () => {\n    // On OS X it is common for applications and their menu bar\n    // to stay active until the user quits explicitly with Cmd + Q\n    if (process.platform !== \"darwin\") {\n        app.quit();\n    }\n});\n\napp.on(\"activate\", () => {\n    // On OS X it\"s common to re-create a window in the app when the\n    // dock icon is clicked and there are no other windows open.\n    if (mainWindow === null) {\n        createWindow();\n    }\n});\n\n// In this file you can include the rest of your app\"s specific main process\n// code. You can also put them in separate files and require them here.\n```\n\nmain.ts„ÅØÂèÇËÄÉ„Å©„Åä„ÇäÔºà„Å°„Çá„Å£„Å®Â§â„Åà„Åü„Åë„Å©Ôºâ„Åß„Åô‚Üíhttps://github.com/electron/electron-quick-start-typescript/blob/master/src/main.ts\n\n# ÂÆüË°å„Åó„Å¶„Åø„Çã\n\n„Çø„Éº„Éü„Éä„É´„Åß\n\n```terminal\nnpm start\n```\n\n„Å®ÂÖ•Âäõ„Åô„Çã„Å®Ëµ∑Âãï„Åô„Çã„ÅØ„Åö„Åß„Åô„ÄÇ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/9c327da2-1e15-6c66-b1fd-226fb39458c9.png)\n\nÂÆüË°å„Åô„Çã„Å®TypeScript„ÅåJavaScript„Å´Â§âÊèõ„Åï„Çå„Å¶„ÄÅjs„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Å´ÂÖ•„Å£„Å¶„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n# „É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÇÇTypeScript„Åß\n\n„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„Å®„É°„Ç§„É≥„Éó„É≠„Çª„Çπ„Åå„Çà„Åè„Çè„Çâ„Çì„Å£„Å¶Êñπ„ÄÅ\nconsole.log()„Åå„Éá„Éô„É≠„ÉÉ„Éë„Éº„ÉÑ„Éº„É´„ÅÆÊñπ„Å´Âá∫„Çå„Å∞„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÄÅ\n„Çø„Éº„Éü„Éä„É´„ÅÆÊñπ„Å´Âá∫Âäõ„Åï„Çå„Çå„Å∞„É°„Ç§„É≥„Éó„É≠„Çª„Çπ„Åß„Åô„ÄÇ\n„ÅÇ„Å®„ÅØalert()„ÅØ„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„Åã„Çâ„Åó„Åã‰Ωø„Åà„Å™„ÅÑ„ÅÆ„Åß„Åù„Çì„Å™ÊÑü„Åò„Åß„ÄÇ\n\n\n## „Åæ„Åö„ÅØHTML„ÇíÂ§â„Åà„Å¶\n\n```html:index.html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>TypeScript</title>\n</head>\n<body>\n    <h1>TypeScript„Åß„Åô„Éº</h1>\n    <input type=\"button\" value=\"„ÉÄ„Ç§„Ç¢„É≠„Ç∞\" id=\"button\">\n    <!-- src„Å´„ÅØÂ§âÊèõÂæå„ÅÆJSÊåáÂÆö„Åó„Å¶„Åä„Åè -->\n    <script src=\"../js/renderer.js\"></script>\n</body>\n</html>\n```\n\n## renderer.ts ‰ΩúÊàê\n‰ªäÂõû„ÅØ„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíÂá∫„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ\nÁî≥„ÅóË®≥Á®ãÂ∫¶„ÅÆTypeScriptË¶ÅÁ¥†\n\n```typescript:renderer.ts\n//„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„Å™„ÅÆ„Åßremote„Å§„Åë„Çã\nconst { dialog } = require('electron').remote\n\nconst button: HTMLElement = document.getElementById('button')\n\n//„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÅÆÈÅ∏ÊäûËÇ¢„Å®„Åã\nconst dialogList: string[] = [\"üçú\", \"üç£\", \"ü•û\"]\n\n//Êäº„Åó„ÅüÊôÇ\nbutton.onclick = function () {\n    dialog.showMessageBox(null, {\n        type: \"info\",\n        message: \"TypeScript„Å†„Åû\",\n        buttons: dialogList\n    })\n}\n```\n\n„Åì„Çå„ÅßÂÆüË°å„Åó„Å¶„Éú„Çø„É≥„ÇíÊäº„Åô„Å®„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÅåË°®Á§∫„Åï„Çå„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/41d52c79-08b5-8177-1df2-3616c4d74a7c.png)\n\n‰ª•‰∏ä„Åß„Åô„ÄÇ\n\n### „ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\nhttps://github.com/takusan23/ElectronTypeScriptSample\n","source":"_posts/Electron TypeScript.md","raw":"---\ntitle: „ÄêElectron / TypeScript„Äë Electron„ÅßTypeScript\ntags:\n- Electron\n- JavaScript\n- TypeScript\n- Node.js\nauthor: takusan_23\nslide: false\n---\nÊ¨°Electron„Åß„Å™„Å´„Åã‰Ωú„ÇãÊôÇ„ÅØTypeScript‰Ωø„Åä„Å£„Åã„Å™„Éº„ÄÇ\n\n# Êú¨È°å\nTypeScript„Å£„Å¶„ÅÆ„Çí„ÅÇ„Çì„Åæ„ÇäËß¶„Å£„Åü„Åì„Å®ÁÑ°„ÅÑ„Åë„Å©Âûã„ÅåÊ±∫„ÇÅ„Çâ„Çå„Çã„Å®„Åã„Å™„Çì„Å®„Åã„ÄÇ\n\n# ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\nhttps://github.com/electron/electron-quick-start-typescript\n\n„Åì„Åì„ÇíÁúü‰ºº„Åó„Å¶„ÇÑ„Çã„ÄÇ\n\n# package.json„Å§„Åè„Çã\n\nNode.jsÂÖ•„Çå„Å¶„Åä„ÅÑ„Å¶„Å≠„ÄÇ\nnpm version„ÅØ6.4.1„Åß„Åô„ÄÇ\n\nÈÅ©ÂΩì„Å´„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„ÄÅ„Çø„Éº„Éü„Éä„É´„Åß‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„Çí„ÄÇ\n\n```terminal\nnpm init -y\n```\n\n```package.json``` „Åå‰ΩúÊàê„Åï„Çå„Å¶„ÅÑ„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ\n\n# ElectronÂÖ•„Çå„Çã\n\n„Çø„Éº„Éü„Éä„É´„Åß\n\n```terminal\nnpm install --save electron\n```\n\n# TypeScriptÂÖ•„Çå„Çã\n\n„Çø„Éº„Éü„Éä„É´„Åß\n\n```terminal\nnpm install -g typescript\n```\n\n# package.json„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\n\npackage.json„ÇíÈñã„ÅÑ„Å¶„ÄÅ\"scripts\"{}„ÇíÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ\n\n```json:package.json\n  \"scripts\": {\n    \"build\": \"tsc\",\n    \"start\": \"npm run build && electron ./js/main.js\"\n  }\n```\n\n„ÅÇ„Å®main„ÅÆ„Å®„Åì„Çç„ÇÇÂ§â„Åà„Åæ„Åô\n\n```json:package.json\n  \"main\": \"js/main.js\",\n```\n\n\n# tsconfig.json ‰ΩúÊàê\n\n„Çø„Éº„Éü„Éä„É´„Åß\n\n```terminal\ntsc --init\n```\n\n„Å®ÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\ntsconfig.json„ÅåÁîüÊàê„Åï„Çå„Å¶„ÅÑ„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ\n\n„Éï„Ç°„Ç§„É´„ÅÆ‰∏≠Ë∫´„ÅØÂÖ¨ÂºèÈÄö„Çä„Å´Êõ∏„ÅçÊèõ„Åà„Å¶„Åä„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\n```json:tsconfig.json\n{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"noImplicitAny\": true,\n    \"sourceMap\": true,\n    \"outDir\": \"js\",\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"*\": [\"node_modules/*\"]\n    }\n  },\n  \"include\": [\n    \"src/**/*\"\n  ]\n}\n```\n\nÊú¨ÂÆ∂„Åß„ÅØoutDir„Åådist„Å´„Å™„Å£„Å¶„Åæ„Åô„Åå„ÄÅElectron Builder„ÅÆÂá∫Âäõ„Å®Ë¢´„Çä„Åù„ÅÜ„Å™„ÅÆ„ÅßÂ§â„Åà„Å®„Åç„Åæ„Åó„Åü„ÄÇ(„Éâ„Ç≠„É•„É°„É≥„ÉàË¶ã„Çå„Å∞Â§â„Åà„Çâ„Çå„Åù„ÅÜ„ÄÇ)\n\n# HTML„Å®TypeScript„Åã„Åè\n\nsrc„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„ÄÅ\n\nindex.html „Å® main.ts „Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/185fc1f6-72ec-00aa-b75d-503663a4696c.png)\n\n```html:index.html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>TypeScript</title>\n</head>\n<body>\n    <h1>TypeScript„Åß„Åô„Éº</h1>\n</body>\n</html>\n```\n\n```typescript:main.ts\nimport { app, BrowserWindow } from \"electron\";\nimport * as path from \"path\";\n\nlet mainWindow: Electron.BrowserWindow;\n\nfunction createWindow() {\n    // Create the browser window.\n    mainWindow = new BrowserWindow({\n        height: 600,\n        webPreferences: {\n            nodeIntegration: true //true„Å´„Åó„Å¶„Åä„Åè„ÄÇpreload‰Ωø„Å£„Å¶„ÇÇ„ÅÑ„ÅÑ„Åë„Å©‰ªäÂõû„ÅØ„Éë„Çπ„ÄÇ\n        },\n        width: 800,\n    });\n\n    // and load the index.html of the app.\n    mainWindow.loadFile(path.join(__dirname, \"../src/index.html\"));„ÄÄ//index.html„ÅØsrc„Éï„Ç©„É´„ÉÄÔºàmain.js„ÅØjs„Éï„Ç©„É´„ÉÄÔºâ„Å™„ÅÆ„Åß„Éë„ÇπÊ∞ó„Çí„Å§„Åë„Å¶„ÄÇ\n\n    // Open the DevTools.\n    mainWindow.webContents.openDevTools();\n\n    // Emitted when the window is closed.\n    mainWindow.on(\"closed\", () => {\n        // Dereference the window object, usually you would store windows\n        // in an array if your app supports multi windows, this is the time\n        // when you should delete the corresponding element.\n        mainWindow = null;\n    });\n}\n\n// This method will be called when Electron has finished\n// initialization and is ready to create browser windows.\n// Some APIs can only be used after this event occurs.\napp.on(\"ready\", createWindow);\n\n// Quit when all windows are closed.\napp.on(\"window-all-closed\", () => {\n    // On OS X it is common for applications and their menu bar\n    // to stay active until the user quits explicitly with Cmd + Q\n    if (process.platform !== \"darwin\") {\n        app.quit();\n    }\n});\n\napp.on(\"activate\", () => {\n    // On OS X it\"s common to re-create a window in the app when the\n    // dock icon is clicked and there are no other windows open.\n    if (mainWindow === null) {\n        createWindow();\n    }\n});\n\n// In this file you can include the rest of your app\"s specific main process\n// code. You can also put them in separate files and require them here.\n```\n\nmain.ts„ÅØÂèÇËÄÉ„Å©„Åä„ÇäÔºà„Å°„Çá„Å£„Å®Â§â„Åà„Åü„Åë„Å©Ôºâ„Åß„Åô‚Üíhttps://github.com/electron/electron-quick-start-typescript/blob/master/src/main.ts\n\n# ÂÆüË°å„Åó„Å¶„Åø„Çã\n\n„Çø„Éº„Éü„Éä„É´„Åß\n\n```terminal\nnpm start\n```\n\n„Å®ÂÖ•Âäõ„Åô„Çã„Å®Ëµ∑Âãï„Åô„Çã„ÅØ„Åö„Åß„Åô„ÄÇ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/9c327da2-1e15-6c66-b1fd-226fb39458c9.png)\n\nÂÆüË°å„Åô„Çã„Å®TypeScript„ÅåJavaScript„Å´Â§âÊèõ„Åï„Çå„Å¶„ÄÅjs„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Å´ÂÖ•„Å£„Å¶„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n# „É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÇÇTypeScript„Åß\n\n„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„Å®„É°„Ç§„É≥„Éó„É≠„Çª„Çπ„Åå„Çà„Åè„Çè„Çâ„Çì„Å£„Å¶Êñπ„ÄÅ\nconsole.log()„Åå„Éá„Éô„É≠„ÉÉ„Éë„Éº„ÉÑ„Éº„É´„ÅÆÊñπ„Å´Âá∫„Çå„Å∞„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÄÅ\n„Çø„Éº„Éü„Éä„É´„ÅÆÊñπ„Å´Âá∫Âäõ„Åï„Çå„Çå„Å∞„É°„Ç§„É≥„Éó„É≠„Çª„Çπ„Åß„Åô„ÄÇ\n„ÅÇ„Å®„ÅØalert()„ÅØ„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„Åã„Çâ„Åó„Åã‰Ωø„Åà„Å™„ÅÑ„ÅÆ„Åß„Åù„Çì„Å™ÊÑü„Åò„Åß„ÄÇ\n\n\n## „Åæ„Åö„ÅØHTML„ÇíÂ§â„Åà„Å¶\n\n```html:index.html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>TypeScript</title>\n</head>\n<body>\n    <h1>TypeScript„Åß„Åô„Éº</h1>\n    <input type=\"button\" value=\"„ÉÄ„Ç§„Ç¢„É≠„Ç∞\" id=\"button\">\n    <!-- src„Å´„ÅØÂ§âÊèõÂæå„ÅÆJSÊåáÂÆö„Åó„Å¶„Åä„Åè -->\n    <script src=\"../js/renderer.js\"></script>\n</body>\n</html>\n```\n\n## renderer.ts ‰ΩúÊàê\n‰ªäÂõû„ÅØ„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíÂá∫„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ\nÁî≥„ÅóË®≥Á®ãÂ∫¶„ÅÆTypeScriptË¶ÅÁ¥†\n\n```typescript:renderer.ts\n//„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„Å™„ÅÆ„Åßremote„Å§„Åë„Çã\nconst { dialog } = require('electron').remote\n\nconst button: HTMLElement = document.getElementById('button')\n\n//„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÅÆÈÅ∏ÊäûËÇ¢„Å®„Åã\nconst dialogList: string[] = [\"üçú\", \"üç£\", \"ü•û\"]\n\n//Êäº„Åó„ÅüÊôÇ\nbutton.onclick = function () {\n    dialog.showMessageBox(null, {\n        type: \"info\",\n        message: \"TypeScript„Å†„Åû\",\n        buttons: dialogList\n    })\n}\n```\n\n„Åì„Çå„ÅßÂÆüË°å„Åó„Å¶„Éú„Çø„É≥„ÇíÊäº„Åô„Å®„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÅåË°®Á§∫„Åï„Çå„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/41d52c79-08b5-8177-1df2-3616c4d74a7c.png)\n\n‰ª•‰∏ä„Åß„Åô„ÄÇ\n\n### „ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\nhttps://github.com/takusan23/ElectronTypeScriptSample\n","slug":"Electron TypeScript","published":1,"date":"2020-04-05T16:27:15.269Z","updated":"2020-04-05T16:39:45.180Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgr000fh8vudtt5063k","content":"<p>Ê¨°Electron„Åß„Å™„Å´„Åã‰Ωú„ÇãÊôÇ„ÅØTypeScript‰Ωø„Åä„Å£„Åã„Å™„Éº„ÄÇ</p>\n<h1 id=\"Êú¨È°å\"><a href=\"#Êú¨È°å\" class=\"headerlink\" title=\"Êú¨È°å\"></a>Êú¨È°å</h1><p>TypeScript„Å£„Å¶„ÅÆ„Çí„ÅÇ„Çì„Åæ„ÇäËß¶„Å£„Åü„Åì„Å®ÁÑ°„ÅÑ„Åë„Å©Âûã„ÅåÊ±∫„ÇÅ„Çâ„Çå„Çã„Å®„Åã„Å™„Çì„Å®„Åã„ÄÇ</p>\n<h1 id=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\"><a href=\"#ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\" class=\"headerlink\" title=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\"></a>ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü</h1><p><a href=\"https://github.com/electron/electron-quick-start-typescript\" target=\"_blank\" rel=\"noopener\">https://github.com/electron/electron-quick-start-typescript</a></p>\n<p>„Åì„Åì„ÇíÁúü‰ºº„Åó„Å¶„ÇÑ„Çã„ÄÇ</p>\n<h1 id=\"package-json„Å§„Åè„Çã\"><a href=\"#package-json„Å§„Åè„Çã\" class=\"headerlink\" title=\"package.json„Å§„Åè„Çã\"></a>package.json„Å§„Åè„Çã</h1><p>Node.jsÂÖ•„Çå„Å¶„Åä„ÅÑ„Å¶„Å≠„ÄÇ<br>npm version„ÅØ6.4.1„Åß„Åô„ÄÇ</p>\n<p>ÈÅ©ÂΩì„Å´„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„ÄÅ„Çø„Éº„Éü„Éä„É´„Åß‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„Çí„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm init -y</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><figcaption><span>„Åå‰ΩúÊàê„Åï„Çå„Å¶„ÅÑ„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"># ElectronÂÖ•„Çå„Çã</span><br><span class=\"line\"></span><br><span class=\"line\">„Çø„Éº„Éü„Éä„É´„Åß</span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;terminal</span><br><span class=\"line\">npm install --save electron</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"TypeScriptÂÖ•„Çå„Çã\"><a href=\"#TypeScriptÂÖ•„Çå„Çã\" class=\"headerlink\" title=\"TypeScriptÂÖ•„Çå„Çã\"></a>TypeScriptÂÖ•„Çå„Çã</h1><p>„Çø„Éº„Éü„Éä„É´„Åß</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g typescript</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"package-json„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\"><a href=\"#package-json„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\" class=\"headerlink\" title=\"package.json„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\"></a>package.json„ÇíÊõ∏„ÅçÊèõ„Åà„Çã</h1><p>package.json„ÇíÈñã„ÅÑ„Å¶„ÄÅ‚Äùscripts‚Äù{}„ÇíÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123;</span><br><span class=\"line\">  &quot;build&quot;: &quot;tsc&quot;,</span><br><span class=\"line\">  &quot;start&quot;: &quot;npm run build &amp;&amp; electron .&#x2F;js&#x2F;main.js&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„ÅÇ„Å®main„ÅÆ„Å®„Åì„Çç„ÇÇÂ§â„Åà„Åæ„Åô</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;main&quot;: &quot;js&#x2F;main.js&quot;,</span><br></pre></td></tr></table></figure>\n\n\n<h1 id=\"tsconfig-json-‰ΩúÊàê\"><a href=\"#tsconfig-json-‰ΩúÊàê\" class=\"headerlink\" title=\"tsconfig.json ‰ΩúÊàê\"></a>tsconfig.json ‰ΩúÊàê</h1><p>„Çø„Éº„Éü„Éä„É´„Åß</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tsc --init</span><br></pre></td></tr></table></figure>\n\n<p>„Å®ÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>tsconfig.json„ÅåÁîüÊàê„Åï„Çå„Å¶„ÅÑ„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ</p>\n<p>„Éï„Ç°„Ç§„É´„ÅÆ‰∏≠Ë∫´„ÅØÂÖ¨ÂºèÈÄö„Çä„Å´Êõ∏„ÅçÊèõ„Åà„Å¶„Åä„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;compilerOptions&quot;: &#123;</span><br><span class=\"line\">    &quot;module&quot;: &quot;commonjs&quot;,</span><br><span class=\"line\">    &quot;noImplicitAny&quot;: true,</span><br><span class=\"line\">    &quot;sourceMap&quot;: true,</span><br><span class=\"line\">    &quot;outDir&quot;: &quot;js&quot;,</span><br><span class=\"line\">    &quot;baseUrl&quot;: &quot;.&quot;,</span><br><span class=\"line\">    &quot;paths&quot;: &#123;</span><br><span class=\"line\">      &quot;*&quot;: [&quot;node_modules&#x2F;*&quot;]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &quot;include&quot;: [</span><br><span class=\"line\">    &quot;src&#x2F;**&#x2F;*&quot;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Êú¨ÂÆ∂„Åß„ÅØoutDir„Åådist„Å´„Å™„Å£„Å¶„Åæ„Åô„Åå„ÄÅElectron Builder„ÅÆÂá∫Âäõ„Å®Ë¢´„Çä„Åù„ÅÜ„Å™„ÅÆ„ÅßÂ§â„Åà„Å®„Åç„Åæ„Åó„Åü„ÄÇ(„Éâ„Ç≠„É•„É°„É≥„ÉàË¶ã„Çå„Å∞Â§â„Åà„Çâ„Çå„Åù„ÅÜ„ÄÇ)</p>\n<h1 id=\"HTML„Å®TypeScript„Åã„Åè\"><a href=\"#HTML„Å®TypeScript„Åã„Åè\" class=\"headerlink\" title=\"HTML„Å®TypeScript„Åã„Åè\"></a>HTML„Å®TypeScript„Åã„Åè</h1><p>src„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„ÄÅ</p>\n<p>index.html „Å® main.ts „Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/185fc1f6-72ec-00aa-b75d-503663a4696c.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class=\"line\">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;ie&#x3D;edge&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;TypeScript&lt;&#x2F;title&gt;</span><br><span class=\"line\">&lt;&#x2F;head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;h1&gt;TypeScript„Åß„Åô„Éº&lt;&#x2F;h1&gt;</span><br><span class=\"line\">&lt;&#x2F;body&gt;</span><br><span class=\"line\">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; app, BrowserWindow &#125; from &quot;electron&quot;;</span><br><span class=\"line\">import * as path from &quot;path&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">let mainWindow: Electron.BrowserWindow;</span><br><span class=\"line\"></span><br><span class=\"line\">function createWindow() &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; Create the browser window.</span><br><span class=\"line\">    mainWindow &#x3D; new BrowserWindow(&#123;</span><br><span class=\"line\">        height: 600,</span><br><span class=\"line\">        webPreferences: &#123;</span><br><span class=\"line\">            nodeIntegration: true &#x2F;&#x2F;true„Å´„Åó„Å¶„Åä„Åè„ÄÇpreload‰Ωø„Å£„Å¶„ÇÇ„ÅÑ„ÅÑ„Åë„Å©‰ªäÂõû„ÅØ„Éë„Çπ„ÄÇ</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        width: 800,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F; and load the index.html of the app.</span><br><span class=\"line\">    mainWindow.loadFile(path.join(__dirname, &quot;..&#x2F;src&#x2F;index.html&quot;));„ÄÄ&#x2F;&#x2F;index.html„ÅØsrc„Éï„Ç©„É´„ÉÄÔºàmain.js„ÅØjs„Éï„Ç©„É´„ÉÄÔºâ„Å™„ÅÆ„Åß„Éë„ÇπÊ∞ó„Çí„Å§„Åë„Å¶„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F; Open the DevTools.</span><br><span class=\"line\">    mainWindow.webContents.openDevTools();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F; Emitted when the window is closed.</span><br><span class=\"line\">    mainWindow.on(&quot;closed&quot;, () &#x3D;&gt; &#123;</span><br><span class=\"line\">        &#x2F;&#x2F; Dereference the window object, usually you would store windows</span><br><span class=\"line\">        &#x2F;&#x2F; in an array if your app supports multi windows, this is the time</span><br><span class=\"line\">        &#x2F;&#x2F; when you should delete the corresponding element.</span><br><span class=\"line\">        mainWindow &#x3D; null;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; This method will be called when Electron has finished</span><br><span class=\"line\">&#x2F;&#x2F; initialization and is ready to create browser windows.</span><br><span class=\"line\">&#x2F;&#x2F; Some APIs can only be used after this event occurs.</span><br><span class=\"line\">app.on(&quot;ready&quot;, createWindow);</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; Quit when all windows are closed.</span><br><span class=\"line\">app.on(&quot;window-all-closed&quot;, () &#x3D;&gt; &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; On OS X it is common for applications and their menu bar</span><br><span class=\"line\">    &#x2F;&#x2F; to stay active until the user quits explicitly with Cmd + Q</span><br><span class=\"line\">    if (process.platform !&#x3D;&#x3D; &quot;darwin&quot;) &#123;</span><br><span class=\"line\">        app.quit();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">app.on(&quot;activate&quot;, () &#x3D;&gt; &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; On OS X it&quot;s common to re-create a window in the app when the</span><br><span class=\"line\">    &#x2F;&#x2F; dock icon is clicked and there are no other windows open.</span><br><span class=\"line\">    if (mainWindow &#x3D;&#x3D;&#x3D; null) &#123;</span><br><span class=\"line\">        createWindow();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; In this file you can include the rest of your app&quot;s specific main process</span><br><span class=\"line\">&#x2F;&#x2F; code. You can also put them in separate files and require them here.</span><br></pre></td></tr></table></figure>\n\n<p>main.ts„ÅØÂèÇËÄÉ„Å©„Åä„ÇäÔºà„Å°„Çá„Å£„Å®Â§â„Åà„Åü„Åë„Å©Ôºâ„Åß„Åô‚Üí<a href=\"https://github.com/electron/electron-quick-start-typescript/blob/master/src/main.ts\" target=\"_blank\" rel=\"noopener\">https://github.com/electron/electron-quick-start-typescript/blob/master/src/main.ts</a></p>\n<h1 id=\"ÂÆüË°å„Åó„Å¶„Åø„Çã\"><a href=\"#ÂÆüË°å„Åó„Å¶„Åø„Çã\" class=\"headerlink\" title=\"ÂÆüË°å„Åó„Å¶„Åø„Çã\"></a>ÂÆüË°å„Åó„Å¶„Åø„Çã</h1><p>„Çø„Éº„Éü„Éä„É´„Åß</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm start</span><br></pre></td></tr></table></figure>\n\n<p>„Å®ÂÖ•Âäõ„Åô„Çã„Å®Ëµ∑Âãï„Åô„Çã„ÅØ„Åö„Åß„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/9c327da2-1e15-6c66-b1fd-226fb39458c9.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>ÂÆüË°å„Åô„Çã„Å®TypeScript„ÅåJavaScript„Å´Â§âÊèõ„Åï„Çå„Å¶„ÄÅjs„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Å´ÂÖ•„Å£„Å¶„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h1 id=\"„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÇÇTypeScript„Åß\"><a href=\"#„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÇÇTypeScript„Åß\" class=\"headerlink\" title=\"„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÇÇTypeScript„Åß\"></a>„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÇÇTypeScript„Åß</h1><p>„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„Å®„É°„Ç§„É≥„Éó„É≠„Çª„Çπ„Åå„Çà„Åè„Çè„Çâ„Çì„Å£„Å¶Êñπ„ÄÅ<br>console.log()„Åå„Éá„Éô„É≠„ÉÉ„Éë„Éº„ÉÑ„Éº„É´„ÅÆÊñπ„Å´Âá∫„Çå„Å∞„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÄÅ<br>„Çø„Éº„Éü„Éä„É´„ÅÆÊñπ„Å´Âá∫Âäõ„Åï„Çå„Çå„Å∞„É°„Ç§„É≥„Éó„É≠„Çª„Çπ„Åß„Åô„ÄÇ<br>„ÅÇ„Å®„ÅØalert()„ÅØ„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„Åã„Çâ„Åó„Åã‰Ωø„Åà„Å™„ÅÑ„ÅÆ„Åß„Åù„Çì„Å™ÊÑü„Åò„Åß„ÄÇ</p>\n<h2 id=\"„Åæ„Åö„ÅØHTML„ÇíÂ§â„Åà„Å¶\"><a href=\"#„Åæ„Åö„ÅØHTML„ÇíÂ§â„Åà„Å¶\" class=\"headerlink\" title=\"„Åæ„Åö„ÅØHTML„ÇíÂ§â„Åà„Å¶\"></a>„Åæ„Åö„ÅØHTML„ÇíÂ§â„Åà„Å¶</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class=\"line\">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;ie&#x3D;edge&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;TypeScript&lt;&#x2F;title&gt;</span><br><span class=\"line\">&lt;&#x2F;head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;h1&gt;TypeScript„Åß„Åô„Éº&lt;&#x2F;h1&gt;</span><br><span class=\"line\">    &lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;„ÉÄ„Ç§„Ç¢„É≠„Ç∞&quot; id&#x3D;&quot;button&quot;&gt;</span><br><span class=\"line\">    &lt;!-- src„Å´„ÅØÂ§âÊèõÂæå„ÅÆJSÊåáÂÆö„Åó„Å¶„Åä„Åè --&gt;</span><br><span class=\"line\">    &lt;script src&#x3D;&quot;..&#x2F;js&#x2F;renderer.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class=\"line\">&lt;&#x2F;body&gt;</span><br><span class=\"line\">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"renderer-ts-‰ΩúÊàê\"><a href=\"#renderer-ts-‰ΩúÊàê\" class=\"headerlink\" title=\"renderer.ts ‰ΩúÊàê\"></a>renderer.ts ‰ΩúÊàê</h2><p>‰ªäÂõû„ÅØ„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíÂá∫„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ<br>Áî≥„ÅóË®≥Á®ãÂ∫¶„ÅÆTypeScriptË¶ÅÁ¥†</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„Å™„ÅÆ„Åßremote„Å§„Åë„Çã</span><br><span class=\"line\">const &#123; dialog &#125; &#x3D; require(&#39;electron&#39;).remote</span><br><span class=\"line\"></span><br><span class=\"line\">const button: HTMLElement &#x3D; document.getElementById(&#39;button&#39;)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÅÆÈÅ∏ÊäûËÇ¢„Å®„Åã</span><br><span class=\"line\">const dialogList: string[] &#x3D; [&quot;üçú&quot;, &quot;üç£&quot;, &quot;ü•û&quot;]</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;Êäº„Åó„ÅüÊôÇ</span><br><span class=\"line\">button.onclick &#x3D; function () &#123;</span><br><span class=\"line\">    dialog.showMessageBox(null, &#123;</span><br><span class=\"line\">        type: &quot;info&quot;,</span><br><span class=\"line\">        message: &quot;TypeScript„Å†„Åû&quot;,</span><br><span class=\"line\">        buttons: dialogList</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßÂÆüË°å„Åó„Å¶„Éú„Çø„É≥„ÇíÊäº„Åô„Å®„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÅåË°®Á§∫„Åï„Çå„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/41d52c79-08b5-8177-1df2-3616c4d74a7c.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>‰ª•‰∏ä„Åß„Åô„ÄÇ</p>\n<h3 id=\"„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\"><a href=\"#„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\" class=\"headerlink\" title=\"„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\"></a>„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ</h3><p><a href=\"https://github.com/takusan23/ElectronTypeScriptSample\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/ElectronTypeScriptSample</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Ê¨°Electron„Åß„Å™„Å´„Åã‰Ωú„ÇãÊôÇ„ÅØTypeScript‰Ωø„Åä„Å£„Åã„Å™„Éº„ÄÇ</p>\n<h1 id=\"Êú¨È°å\"><a href=\"#Êú¨È°å\" class=\"headerlink\" title=\"Êú¨È°å\"></a>Êú¨È°å</h1><p>TypeScript„Å£„Å¶„ÅÆ„Çí„ÅÇ„Çì„Åæ„ÇäËß¶„Å£„Åü„Åì„Å®ÁÑ°„ÅÑ„Åë„Å©Âûã„ÅåÊ±∫„ÇÅ„Çâ„Çå„Çã„Å®„Åã„Å™„Çì„Å®„Åã„ÄÇ</p>\n<h1 id=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\"><a href=\"#ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\" class=\"headerlink\" title=\"ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü\"></a>ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü</h1><p><a href=\"https://github.com/electron/electron-quick-start-typescript\" target=\"_blank\" rel=\"noopener\">https://github.com/electron/electron-quick-start-typescript</a></p>\n<p>„Åì„Åì„ÇíÁúü‰ºº„Åó„Å¶„ÇÑ„Çã„ÄÇ</p>\n<h1 id=\"package-json„Å§„Åè„Çã\"><a href=\"#package-json„Å§„Åè„Çã\" class=\"headerlink\" title=\"package.json„Å§„Åè„Çã\"></a>package.json„Å§„Åè„Çã</h1><p>Node.jsÂÖ•„Çå„Å¶„Åä„ÅÑ„Å¶„Å≠„ÄÇ<br>npm version„ÅØ6.4.1„Åß„Åô„ÄÇ</p>\n<p>ÈÅ©ÂΩì„Å´„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„ÄÅ„Çø„Éº„Éü„Éä„É´„Åß‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„Çí„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm init -y</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><figcaption><span>„Åå‰ΩúÊàê„Åï„Çå„Å¶„ÅÑ„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"># ElectronÂÖ•„Çå„Çã</span><br><span class=\"line\"></span><br><span class=\"line\">„Çø„Éº„Éü„Éä„É´„Åß</span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;terminal</span><br><span class=\"line\">npm install --save electron</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"TypeScriptÂÖ•„Çå„Çã\"><a href=\"#TypeScriptÂÖ•„Çå„Çã\" class=\"headerlink\" title=\"TypeScriptÂÖ•„Çå„Çã\"></a>TypeScriptÂÖ•„Çå„Çã</h1><p>„Çø„Éº„Éü„Éä„É´„Åß</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g typescript</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"package-json„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\"><a href=\"#package-json„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\" class=\"headerlink\" title=\"package.json„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\"></a>package.json„ÇíÊõ∏„ÅçÊèõ„Åà„Çã</h1><p>package.json„ÇíÈñã„ÅÑ„Å¶„ÄÅ‚Äùscripts‚Äù{}„ÇíÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123;</span><br><span class=\"line\">  &quot;build&quot;: &quot;tsc&quot;,</span><br><span class=\"line\">  &quot;start&quot;: &quot;npm run build &amp;&amp; electron .&#x2F;js&#x2F;main.js&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„ÅÇ„Å®main„ÅÆ„Å®„Åì„Çç„ÇÇÂ§â„Åà„Åæ„Åô</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;main&quot;: &quot;js&#x2F;main.js&quot;,</span><br></pre></td></tr></table></figure>\n\n\n<h1 id=\"tsconfig-json-‰ΩúÊàê\"><a href=\"#tsconfig-json-‰ΩúÊàê\" class=\"headerlink\" title=\"tsconfig.json ‰ΩúÊàê\"></a>tsconfig.json ‰ΩúÊàê</h1><p>„Çø„Éº„Éü„Éä„É´„Åß</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tsc --init</span><br></pre></td></tr></table></figure>\n\n<p>„Å®ÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>tsconfig.json„ÅåÁîüÊàê„Åï„Çå„Å¶„ÅÑ„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ</p>\n<p>„Éï„Ç°„Ç§„É´„ÅÆ‰∏≠Ë∫´„ÅØÂÖ¨ÂºèÈÄö„Çä„Å´Êõ∏„ÅçÊèõ„Åà„Å¶„Åä„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;compilerOptions&quot;: &#123;</span><br><span class=\"line\">    &quot;module&quot;: &quot;commonjs&quot;,</span><br><span class=\"line\">    &quot;noImplicitAny&quot;: true,</span><br><span class=\"line\">    &quot;sourceMap&quot;: true,</span><br><span class=\"line\">    &quot;outDir&quot;: &quot;js&quot;,</span><br><span class=\"line\">    &quot;baseUrl&quot;: &quot;.&quot;,</span><br><span class=\"line\">    &quot;paths&quot;: &#123;</span><br><span class=\"line\">      &quot;*&quot;: [&quot;node_modules&#x2F;*&quot;]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &quot;include&quot;: [</span><br><span class=\"line\">    &quot;src&#x2F;**&#x2F;*&quot;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Êú¨ÂÆ∂„Åß„ÅØoutDir„Åådist„Å´„Å™„Å£„Å¶„Åæ„Åô„Åå„ÄÅElectron Builder„ÅÆÂá∫Âäõ„Å®Ë¢´„Çä„Åù„ÅÜ„Å™„ÅÆ„ÅßÂ§â„Åà„Å®„Åç„Åæ„Åó„Åü„ÄÇ(„Éâ„Ç≠„É•„É°„É≥„ÉàË¶ã„Çå„Å∞Â§â„Åà„Çâ„Çå„Åù„ÅÜ„ÄÇ)</p>\n<h1 id=\"HTML„Å®TypeScript„Åã„Åè\"><a href=\"#HTML„Å®TypeScript„Åã„Åè\" class=\"headerlink\" title=\"HTML„Å®TypeScript„Åã„Åè\"></a>HTML„Å®TypeScript„Åã„Åè</h1><p>src„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„ÄÅ</p>\n<p>index.html „Å® main.ts „Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/185fc1f6-72ec-00aa-b75d-503663a4696c.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class=\"line\">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;ie&#x3D;edge&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;TypeScript&lt;&#x2F;title&gt;</span><br><span class=\"line\">&lt;&#x2F;head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;h1&gt;TypeScript„Åß„Åô„Éº&lt;&#x2F;h1&gt;</span><br><span class=\"line\">&lt;&#x2F;body&gt;</span><br><span class=\"line\">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; app, BrowserWindow &#125; from &quot;electron&quot;;</span><br><span class=\"line\">import * as path from &quot;path&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">let mainWindow: Electron.BrowserWindow;</span><br><span class=\"line\"></span><br><span class=\"line\">function createWindow() &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; Create the browser window.</span><br><span class=\"line\">    mainWindow &#x3D; new BrowserWindow(&#123;</span><br><span class=\"line\">        height: 600,</span><br><span class=\"line\">        webPreferences: &#123;</span><br><span class=\"line\">            nodeIntegration: true &#x2F;&#x2F;true„Å´„Åó„Å¶„Åä„Åè„ÄÇpreload‰Ωø„Å£„Å¶„ÇÇ„ÅÑ„ÅÑ„Åë„Å©‰ªäÂõû„ÅØ„Éë„Çπ„ÄÇ</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        width: 800,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F; and load the index.html of the app.</span><br><span class=\"line\">    mainWindow.loadFile(path.join(__dirname, &quot;..&#x2F;src&#x2F;index.html&quot;));„ÄÄ&#x2F;&#x2F;index.html„ÅØsrc„Éï„Ç©„É´„ÉÄÔºàmain.js„ÅØjs„Éï„Ç©„É´„ÉÄÔºâ„Å™„ÅÆ„Åß„Éë„ÇπÊ∞ó„Çí„Å§„Åë„Å¶„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F; Open the DevTools.</span><br><span class=\"line\">    mainWindow.webContents.openDevTools();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F; Emitted when the window is closed.</span><br><span class=\"line\">    mainWindow.on(&quot;closed&quot;, () &#x3D;&gt; &#123;</span><br><span class=\"line\">        &#x2F;&#x2F; Dereference the window object, usually you would store windows</span><br><span class=\"line\">        &#x2F;&#x2F; in an array if your app supports multi windows, this is the time</span><br><span class=\"line\">        &#x2F;&#x2F; when you should delete the corresponding element.</span><br><span class=\"line\">        mainWindow &#x3D; null;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; This method will be called when Electron has finished</span><br><span class=\"line\">&#x2F;&#x2F; initialization and is ready to create browser windows.</span><br><span class=\"line\">&#x2F;&#x2F; Some APIs can only be used after this event occurs.</span><br><span class=\"line\">app.on(&quot;ready&quot;, createWindow);</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; Quit when all windows are closed.</span><br><span class=\"line\">app.on(&quot;window-all-closed&quot;, () &#x3D;&gt; &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; On OS X it is common for applications and their menu bar</span><br><span class=\"line\">    &#x2F;&#x2F; to stay active until the user quits explicitly with Cmd + Q</span><br><span class=\"line\">    if (process.platform !&#x3D;&#x3D; &quot;darwin&quot;) &#123;</span><br><span class=\"line\">        app.quit();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">app.on(&quot;activate&quot;, () &#x3D;&gt; &#123;</span><br><span class=\"line\">    &#x2F;&#x2F; On OS X it&quot;s common to re-create a window in the app when the</span><br><span class=\"line\">    &#x2F;&#x2F; dock icon is clicked and there are no other windows open.</span><br><span class=\"line\">    if (mainWindow &#x3D;&#x3D;&#x3D; null) &#123;</span><br><span class=\"line\">        createWindow();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F; In this file you can include the rest of your app&quot;s specific main process</span><br><span class=\"line\">&#x2F;&#x2F; code. You can also put them in separate files and require them here.</span><br></pre></td></tr></table></figure>\n\n<p>main.ts„ÅØÂèÇËÄÉ„Å©„Åä„ÇäÔºà„Å°„Çá„Å£„Å®Â§â„Åà„Åü„Åë„Å©Ôºâ„Åß„Åô‚Üí<a href=\"https://github.com/electron/electron-quick-start-typescript/blob/master/src/main.ts\" target=\"_blank\" rel=\"noopener\">https://github.com/electron/electron-quick-start-typescript/blob/master/src/main.ts</a></p>\n<h1 id=\"ÂÆüË°å„Åó„Å¶„Åø„Çã\"><a href=\"#ÂÆüË°å„Åó„Å¶„Åø„Çã\" class=\"headerlink\" title=\"ÂÆüË°å„Åó„Å¶„Åø„Çã\"></a>ÂÆüË°å„Åó„Å¶„Åø„Çã</h1><p>„Çø„Éº„Éü„Éä„É´„Åß</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm start</span><br></pre></td></tr></table></figure>\n\n<p>„Å®ÂÖ•Âäõ„Åô„Çã„Å®Ëµ∑Âãï„Åô„Çã„ÅØ„Åö„Åß„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/9c327da2-1e15-6c66-b1fd-226fb39458c9.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>ÂÆüË°å„Åô„Çã„Å®TypeScript„ÅåJavaScript„Å´Â§âÊèõ„Åï„Çå„Å¶„ÄÅjs„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Å´ÂÖ•„Å£„Å¶„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h1 id=\"„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÇÇTypeScript„Åß\"><a href=\"#„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÇÇTypeScript„Åß\" class=\"headerlink\" title=\"„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÇÇTypeScript„Åß\"></a>„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÇÇTypeScript„Åß</h1><p>„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„Å®„É°„Ç§„É≥„Éó„É≠„Çª„Çπ„Åå„Çà„Åè„Çè„Çâ„Çì„Å£„Å¶Êñπ„ÄÅ<br>console.log()„Åå„Éá„Éô„É≠„ÉÉ„Éë„Éº„ÉÑ„Éº„É´„ÅÆÊñπ„Å´Âá∫„Çå„Å∞„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„ÄÅ<br>„Çø„Éº„Éü„Éä„É´„ÅÆÊñπ„Å´Âá∫Âäõ„Åï„Çå„Çå„Å∞„É°„Ç§„É≥„Éó„É≠„Çª„Çπ„Åß„Åô„ÄÇ<br>„ÅÇ„Å®„ÅØalert()„ÅØ„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„Åã„Çâ„Åó„Åã‰Ωø„Åà„Å™„ÅÑ„ÅÆ„Åß„Åù„Çì„Å™ÊÑü„Åò„Åß„ÄÇ</p>\n<h2 id=\"„Åæ„Åö„ÅØHTML„ÇíÂ§â„Åà„Å¶\"><a href=\"#„Åæ„Åö„ÅØHTML„ÇíÂ§â„Åà„Å¶\" class=\"headerlink\" title=\"„Åæ„Åö„ÅØHTML„ÇíÂ§â„Åà„Å¶\"></a>„Åæ„Åö„ÅØHTML„ÇíÂ§â„Åà„Å¶</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class=\"line\">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;ie&#x3D;edge&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;TypeScript&lt;&#x2F;title&gt;</span><br><span class=\"line\">&lt;&#x2F;head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;h1&gt;TypeScript„Åß„Åô„Éº&lt;&#x2F;h1&gt;</span><br><span class=\"line\">    &lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;„ÉÄ„Ç§„Ç¢„É≠„Ç∞&quot; id&#x3D;&quot;button&quot;&gt;</span><br><span class=\"line\">    &lt;!-- src„Å´„ÅØÂ§âÊèõÂæå„ÅÆJSÊåáÂÆö„Åó„Å¶„Åä„Åè --&gt;</span><br><span class=\"line\">    &lt;script src&#x3D;&quot;..&#x2F;js&#x2F;renderer.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class=\"line\">&lt;&#x2F;body&gt;</span><br><span class=\"line\">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"renderer-ts-‰ΩúÊàê\"><a href=\"#renderer-ts-‰ΩúÊàê\" class=\"headerlink\" title=\"renderer.ts ‰ΩúÊàê\"></a>renderer.ts ‰ΩúÊàê</h2><p>‰ªäÂõû„ÅØ„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíÂá∫„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ<br>Áî≥„ÅóË®≥Á®ãÂ∫¶„ÅÆTypeScriptË¶ÅÁ¥†</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;„É¨„É≥„ÉÄ„É©„Éº„Éó„É≠„Çª„Çπ„Å™„ÅÆ„Åßremote„Å§„Åë„Çã</span><br><span class=\"line\">const &#123; dialog &#125; &#x3D; require(&#39;electron&#39;).remote</span><br><span class=\"line\"></span><br><span class=\"line\">const button: HTMLElement &#x3D; document.getElementById(&#39;button&#39;)</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÅÆÈÅ∏ÊäûËÇ¢„Å®„Åã</span><br><span class=\"line\">const dialogList: string[] &#x3D; [&quot;üçú&quot;, &quot;üç£&quot;, &quot;ü•û&quot;]</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;Êäº„Åó„ÅüÊôÇ</span><br><span class=\"line\">button.onclick &#x3D; function () &#123;</span><br><span class=\"line\">    dialog.showMessageBox(null, &#123;</span><br><span class=\"line\">        type: &quot;info&quot;,</span><br><span class=\"line\">        message: &quot;TypeScript„Å†„Åû&quot;,</span><br><span class=\"line\">        buttons: dialogList</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßÂÆüË°å„Åó„Å¶„Éú„Çø„É≥„ÇíÊäº„Åô„Å®„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÅåË°®Á§∫„Åï„Çå„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/41d52c79-08b5-8177-1df2-3616c4d74a7c.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>‰ª•‰∏ä„Åß„Åô„ÄÇ</p>\n<h3 id=\"„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\"><a href=\"#„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\" class=\"headerlink\" title=\"„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\"></a>„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ</h3><p><a href=\"https://github.com/takusan23/ElectronTypeScriptSample\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/ElectronTypeScriptSample</a></p>\n"},{"title":"„ÄêAndroid„Äë Material Components „ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Çí 1.0.0 „Åã„Çâ 1.1.0-alpha08 „Å´„Åó„Å¶„ÄÅTheme.MaterialComponents„Å®Êà¶„Å£„ÅüË©±„ÄÇ","author":"takusan_23","slide":false,"_content":"„Åì„Çì„Å∞„Çì„ÅØ„ÄÇ\nËô´ÔºàËõæÔºü„Åã„Å©„ÅÜ„Åã„ÇÇ„Çè„Åã„Çâ„ÇìÔºâ„ÅåÂÆ∂„Å´ÂÖ•„Å£„Å¶„Åç„Å¶ÊÄñ„ÅÑ„Åß„Åô„ÄÇ\n‰ªäÂõû„ÅØ„Çø„Ç§„Éà„É´ÈÄö„ÇäMaterial Components„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Ç¢„ÉÉ„Éó„Çí„Åó„Å¶Ë¶ã„ÇãË©±„Åß„Åô„ÄÇ\n\n# „Å™„Åú„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„Åó„Åü„ÅÆ„Åã\nA. Snackbar„ÅÆ‰ΩçÁΩÆ„ÇíFloating Action Button„ÅÆ‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Åü„Åã„Å£„Åü„Åã„Çâ„ÄÇ\n[Snackbars„ÅÆ„Ç¨„Ç§„Éâ„É©„Ç§„É≥](https://material.io/design/components/snackbars.html#placement)„ÅÆ\nSnackbars and floating action buttons (FABs)\n„ÅßFAB„ÅÆ‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Çã„ÅÆ„ÅåÊ≠£„Åó„ÅÑ„Çâ„Åó„ÅÑ„ÄÇ\n„Åù„Çå„ÅßÁúü‰ºº„Çà„ÅÜ„Å®ÊÄù„Å£„Åü„ÅÆ„Åß„Åô„Åå„ÄÅÂè§„ÅÑ„ÅÆ„Åã```setAnchorViewÔºà„Å©„ÅÆView„ÅÆ‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Çã„ÅãÔºüÔºâ```„ÅåË¶ã„Å§„Åã„Çâ„Å™„Åã„Å£„Åü„ÅÆ„Åß„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„ÅÑ„ÅÜ„ÅÆ„ÅåÁêÜÁî±„ÄÇ\n\n# „Å®„Åì„Çç„ÅßÊúÄÊñ∞„Éê„Éº„Ç∏„Éß„É≥„ÅØ„Å©„Åì„ÅßÁü•„Çå„Çã„ÅÆ„ÅãÔºü\n\n„Åì„ÇåÔºü\nhttps://github.com/material-components/material-components-android/releases\n\n‰ΩúÊàêÊó•ÊôÇ„Åß„ÅØ1.1.0-alpha08„ÅåÊúÄÊñ∞„Åß„Åô„ÅÆ„ÅßÂÖ•„Çå„Å¶„Åø„Çà„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\nÊúÄÊÇ™GitHub„ÅÆ„Å°„Åã„ÇâÔºü„ÇíÂÄü„Çä„Å¶Êàª„Åõ„Å∞„ÅÑ„ÅÑ„ÅÆ„ÅßÊåëÊà¶„Åß„Åô„ÄÇ\n\n# build.gradle„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\n\n```gradle\n    //implementation 'com.google.android.material:material:1.0.0'\n    implementation 'com.google.android.material:material:1.1.0-alpha08'\n```\n##Âá∫‰ºö„Å£„ÅüÂïèÈ°å\n\n###„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ„Ç®„É©„Éº\n‰∏ã„ÅÆÊñπ„Å´Êõ∏„ÅÑ„Å¶„ÅÇ„Å£„Åü„ÄÇ\n\n```\nCaused by: java.lang.IllegalArgumentException: The style on this component requires your app theme to be Theme.MaterialComponents (or a descendant).\n```\n\nË™ø„Åπ„Çã„Å®„ÉÜ„Éº„Éû„ÅåTheme.MaterialComponentsÁ≥ª„Çí‰Ωø„Çè„Å™„ÅÑ„Å®„Å†„ÇÅ„Å†„ÇàÔºÅ„Å£„Å¶„Åì„Å®„Çâ„Åó„ÅÑ„Åß„Åô„ÄÇ\n„Åì„Çå„ÇíËß£Ê±∫„Åô„ÇãÊñπÊ≥ï„ÅØ2„Å§„ÄÇ\n#### Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºëÔºö„É¨„Ç§„Ç¢„Ç¶„ÉàÔºàxmlÔºâ„Éï„Ç°„Ç§„É´„ÅßË¶™„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ‰∏≠„Å´```android:theme=\"@style/Theme.MaterialComponents\"```„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ\n„Åì„Çì„Å™ÊÑü„Åò„Å´\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:theme=\"@style/Theme.MaterialComponents\"> <!--„Åì„ÅÆË°å„Çí‰ªò„ÅëË∂≥„Åô„ÄÇ-->\n    <com.google.android.material.textfield.TextInputLayout\n        android:id=\"@+id/name_TextInputLayout\"\n        style=\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\">\n        <EditText\n            android:id=\"@+id/name_editText\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:importantForAutofill=\"no\"\n            android:inputType=\"textMultiLine\"\n            android:singleLine=\"true\" />\n    </com.google.android.material.textfield.TextInputLayout>\n</LinearLayout>\n```\n\n„Åì„Çå„Åß‰∏ÄÂøúÈÄö„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÄÇTextInputLayout„Å†„Åë‰Ωø„ÅÑ„Åü„ÅÑÔºÅÔºÅÔºÅ„Å®„Åã„ÅÆ„Å®„Åç„ÅØTextInputLayout„ÅÆ‰∏≠„Å´```android:theme=\"@style/Theme.MaterialComponents\"```„ÇíÊõ∏„ÅçË∂≥„Åõ„Å∞Â§ß‰∏àÂ§´„Åß„Åô„ÄÇ\n\n##### „É°„É™„ÉÉ„Éà\n„Åã„Çì„Åü„Çì„ÄÇTextInputLayout„Å†„Åë‰Ωø„ÅÑ„Åü„ÅÑ„Å™„Çì„Åã„ÅØ„Åì„Çå„Åß„ÅÑ„ÅÑÊ∞ó„Åå„Åô„Çã„ÄÇ\nÊîπÂñÑ„Åó„ÅüÊñπ„Åß„ÇÇ„ÅÜÊ∫ÄË∂≥„Åó„ÅüÊñπ„ÅØ„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô„ÄÇ\n\n#### Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºíÔºöstyles.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã„ÄÇ\nstack overflow„Å™„Çì„Åã„Åß„ÅØ„Åì„Å£„Å°„ÅåÂ§ö„ÅÑ„Å≠„ÄÇ„Åß„ÇÇ**„Åì„ÅÆÊñπÊ≥ï„ÅØÁµêÊßã„Åç„Å§„ÅÑ„ÄÇ**„Å°„Å™„Åø„Å´ÁßÅ„ÅØ„Åì„Å£„Å°„Çí‰Ωø„Å£„Åü„ÄÇ\n„Å™„Åú„Å™„Çâ„Ç¢„Éó„É™„ÅÆÂ§ñË¶≥„ÇíÁµêÊßãÂ§â„Åà„Çã„Åì„Å®„Å´„Å™„Çã„ÄÇ\nÊõ∏„ÅçÊèõ„Åà„ÇãÂ†¥ÊâÄ„ÅØparent„ÅÆ„Å®„Åì„Çç„ÄÇ„Åì„ÅÜ„Åô„Çã```parent=\"Theme.MaterialComponents.Light.DarkActionBar\"```„ÄÇ\n‰ª•‰∏ã‰æã„Åß„Åô„ÄÇ\n\n```xml\n    <!-- Base application theme. -->\n    <style name=\"AppTheme\" parent=\"Theme.MaterialComponents.Light.DarkActionBar\">\n        <!-- Customize your theme here. -->\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\n        <item name=\"colorPrimaryDark\">@color/colorPrimary</item>\n        <item name=\"colorAccent\">@color/colorPrimaryDark</item>\n    </style>\n```\n\n„Å©„ÅÜ„Åß„Åó„Çá„ÅÜ„ÄÇÁµêÊßãÂ§â„Çè„Å£„Åü„Å®ÊÄù„ÅÑ„Åæ„Åô„ÇàÔºü\n\n„Åß„ÄÅ„Åì„Åì„Åã„Çâ„ÅØ**Theme.MaterialComponents**„Å®„ÅÆÊà¶„ÅÑ„Åß„Åô„ÄÇ\n\n# Theme.MaterialComponents „Å´„Åó„Å¶Â§â„Çè„Å£„Åü„Å®„Åì„Çç„ÄÇ\n\n## ËâØ„Åã„Å£„Åü„Å®„Åì„Çç\n\n- Snackbar„ÅÆË°®Á§∫ÊñπÊ≥ï„ÅåÂ§â„Çè„Å£„Åü\n    - ‰∏ã„Åã„Çâ„Åô„Éº„Å£„Å®Ë°®Á§∫Ôºü‚Üí„Åµ„Çè„Å£„Å®Ë°®Á§∫Ôºü„Åô„ÇãÊÑü„Åò„Å´ÔºàËá™ÂàÜ„ÅßË¶ã„Åü„Åª„ÅÜ„Åå„ÅØ„ÇÑ„ÅÑÔºâ\n    - „Çπ„Éö„Éº„Çπ„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇÔºà‰∏ã„Å´Á©∫Èñì„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„ÅüÔºâ\n\n![Screenshot_20190726-033304_Material_Test.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/c8961ea9-1823-0c05-938a-be07d81428de.png)\n\n\n„Åª„Åã„Å´„ÇÇ„ÅÇ„Çã„Åã„ÇÇ„Å†„Åë„Å©‰ªäÂõû„ÅØÊôÇÈñìÁÑ°„ÅÑ„ÅÆ„ÅßÈ£õ„Å∞„Åó„Åæ„Åô„ÄÇ\n\n## Áõ¥„ÅôÂøÖË¶Å„Åå„ÅÇ„Å£„Åü„Å®„Åì„Çç\n\n### Botton„Å´Background„ÅåË®≠ÂÆö„Åï„Çå„Å¶„Åó„Åæ„ÅÜÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï\n\nÂèÇËÄÉ\nhttps://stackoverflow.com/questions/52743190/when-use-theme-materialcomponents-light-noactionbar-style-set-button-background\n\nButton„ÅØButton„Åß„ÇÇ```androidx.appcompat.widget.AppCompatButton```„Å´Â§â„Åà„Å¶„ÅÇ„Åí„Çå„Å∞Ëß£Ê±∫„Åß„Åô„ÄÇ\n‰øÆÊ≠£Ââç\n\n```xml\n    <Button\n            android:layout_width=\"wrap_content\"\n            android:text=\"snackbar\"\n            android:id=\"@+id/snackbar_button\"\n            android:layout_height=\"wrap_content\"/>\n```\n\n‰øÆÊ≠£Âæå\n\n```xml\n    <androidx.appcompat.widget.AppCompatButton\n            android:layout_width=\"wrap_content\"\n            android:text=\"snackbar\"\n            android:id=\"@+id/snackbar_button\"\n            android:layout_height=\"wrap_content\"/>\n```\n\n„Å°„Å™„Åø„Å´ÁßÅ„ÅØBackground„Å´„Éú„Çø„É≥„ÅÆÊû†„Åå„Åß„Åç„ÇãÁî®„Å´Ë®≠ÂÆö„Åó„Å¶„Åü„Çì„Åß„Åô„Åë„Å©„Éª„Éª\n```style=\"@style/Widget.MaterialComponents.Button.OutlinedButton\"```\n„ÇíÊåáÂÆö„Åô„Çå„Å∞Êû†„Åå„Å§„Åè„ÅÆ„ÅßÁßÅ„ÅØstyle„ÇíÊõ∏„ÅçË∂≥„ÅôÂΩ¢„ÅßÂØæÂøú„Åó„Åæ„Åó„Åü„ÄÇ„Åì„Çå„Å†„Å®Êäº„Åó„ÅüÊôÇ„Å´Ê≥¢Á¥ã„ÇÇÂá∫„Çã„ÅÆ„Åß„ÅÑ„ÅÑÊÑü„Åò„ÄÇ\n\n![Screenshot_20190726-033945_Material_Test.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/1885d4f0-9209-6fa8-bb9c-7cf767fb838a.png)\n\n### AlertDialog„ÅÆ„Éú„Çø„É≥„Åå„Åä„Åã„Åó„Åè„Å™„ÇãÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï\nÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ\nhttps://stackoverflow.com/questions/52829954/materialcomponents-theme-alert-dialog-buttons\n\n„Åì„ÅÆÊßò„Å´„Å™„Å£„Å¶„ÇãÂ†¥Âêà„ÅØ\n![Screenshot_20190726-034620_Material_Test.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/64e01862-f158-3d59-2c7f-73f72d50fee9.png)\n\n\n„Ç§„É≥„Éù„Éº„Éà„ÅÆÈÉ®ÂàÜ„Åã„Çâ```import android.app.AlertDialog```„ÇíË¶ã„Å§„Åë„Å¶„Åç„Å¶„Åù„Çå„Çí```import androidx.appcompat.app.AlertDialog```„Å´Êõ∏„ÅçÊèõ„Åà„Çå„Å∞Áõ¥„Çä„Åæ„Åô„ÄÇ\n\n```kotlin\n//import android.app.AlertDialog\nimport androidx.appcompat.app.AlertDialog\n```\n\n„Åì„Çå„ÅßÂ§ß‰∏àÂ§´„Åù„ÅÜ„Åß„Åô„Å≠„ÄÇ\n![Screenshot_20190726-035018_Material_Test.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/f2a18f6c-513e-0537-e91c-356ca25407aa.png)\n\n‰ªä„ÅÆ„Å®„Åì„Çç„ÅØ„Åì„Çì„Å™ÊÑü„Åò„Åß„Åô„Å≠„ÄÇ\n\n# „ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô\nÊúÄÂæå„Å´ÁßÅ„ÅÆ„ÇÑ„Çä„Åü„Åã„Å£„ÅüFAB„ÅÆ‰∏ä„Å´Snackbar„ÇíÂá∫„Åô„ÇÑ„ÇäÊñπ„ÇíÊõ∏„ÅÑ„Å¶ÁµÇ„Çè„Çç„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n„ÇÑ„ÇäÊñπ„ÅØÊôÆÈÄö„Å´Snackbar„Çí‰Ωú„Çä„ÄÅ```setAnchorView```„ÅÆ„Ç´„ÉÉ„Ç≥„ÅÆ‰∏≠„Å´FAB„ÇÑSnackbar„ÅÆ‰∏ã„Å´„Å™„ÇãView„ÇíÂÖ•„Çå„Å¶„ÅÇ„Åí„Çå„Å∞„Åä„Å£„Åë„Éº„Åß„Åô„ÄÇ\n‰æã„Åß„Åô„ÄÇ\n\n```kotlin\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        snackbar_button.setOnClickListener {\n            Snackbar.make(findViewById(android.R.id.content), \"„Åô„Å™„Å£„Åè„Å∞„ÉºÔºÅ\", Snackbar.LENGTH_LONG).show()\n        }\n\n        alert_dialog.setOnClickListener {\n            AlertDialog.Builder(this)\n                .setTitle(\"„Éú„Çø„É≥„Åå\")\n                .setMessage(\"„Åä„Åã„Åó„Åè„Å™„ÅÑÔºÅÔºÅÔºÅ\")\n                .setPositiveButton(\"„Åì„Çå„Åß„ÅÑ„ÅÑ\") { dialogInterface: DialogInterface, i: Int ->\n\n                }\n                .setNegativeButton(\"„Å†„ÅÑ„Åò„Çá„ÅÜ„Å∂\", null)\n                .show();\n        }\n\n        fab.setOnClickListener {\n            val snackbar = Snackbar.make(fab,\"„Éú„Çø„É≥„ÅÆ‰∏ä„Åã„Çâ„Åì„Çì„Å´„Å°„ÅØ\",Snackbar.LENGTH_LONG)\n            snackbar.anchorView = fab\n            snackbar.show()\n        }\n    }\n}\n```\n\n„É¨„Ç§„Ç¢„Ç¶„Éà\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.coordinatorlayout.widget.CoordinatorLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\">\n\n    <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:gravity=\"center\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\">\n\n        <Button\n                style=\"@style/Widget.MaterialComponents.Button.OutlinedButton\"\n                android:layout_width=\"wrap_content\"\n                android:text=\"snackbar\"\n                android:id=\"@+id/snackbar_button\"\n                android:layout_height=\"wrap_content\"/>\n\n        <Button\n                style=\"@style/Widget.MaterialComponents.Button.OutlinedButton\"\n                android:layout_width=\"wrap_content\"\n                android:text=\"AlertDialog\"\n                android:id=\"@+id/alert_dialog\"\n                android:layout_height=\"wrap_content\"/>\n\n    </LinearLayout>\n\n    <com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=\"@+id/fab\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"bottom|end\"\n            android:layout_margin=\"16dp\"\n            app:srcCompat=\"@drawable/ic_laptop_windows_black_24dp\"/>\n\n</androidx.coordinatorlayout.widget.CoordinatorLayout>\n```\n\nÂÆüË°å„Åô„Çã„Å®„Åì„Çì„Å™ÊÑü„Åò\n![Screenshot_20190726-035632_Material_Test.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/58fff32c-b13c-7284-7f0c-38bb292ab384.png)\n\n\n„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åó„ÅüÔºÅ\n„Å©„ÅÜ„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÅåÊõ∏„ÅÑ„Å¶„ÇãÈÄî‰∏≠„Åß„Çµ„ÉñÊ©ü„ÅÆ‰∏≠Âè§„É¨„ÉÉ„ÉÑ„Éé„Éº„Éà„Åè„Çì„Åå„ÅÑ„Åç„Å™„Çä„Çà„Åè„Çè„Åã„Çâ„ÇìÁîªÈù¢„Å´„Å™„Çä„Åæ„Åó„Åü„ÅåÂÜçËµ∑Âãï„Åó„Åü„ÇâÁõ¥„Çä„Åæ„Åó„Åü„ÄÇ\n","source":"_posts/MaterialDesign.md","raw":"---\ntitle: „ÄêAndroid„Äë Material Components „ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Çí 1.0.0 „Åã„Çâ 1.1.0-alpha08 „Å´„Åó„Å¶„ÄÅTheme.MaterialComponents„Å®Êà¶„Å£„ÅüË©±„ÄÇ\ntags:\n- Android\n- MaterialDesign\n- Kotlin\nauthor: takusan_23\nslide: false\n---\n„Åì„Çì„Å∞„Çì„ÅØ„ÄÇ\nËô´ÔºàËõæÔºü„Åã„Å©„ÅÜ„Åã„ÇÇ„Çè„Åã„Çâ„ÇìÔºâ„ÅåÂÆ∂„Å´ÂÖ•„Å£„Å¶„Åç„Å¶ÊÄñ„ÅÑ„Åß„Åô„ÄÇ\n‰ªäÂõû„ÅØ„Çø„Ç§„Éà„É´ÈÄö„ÇäMaterial Components„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Ç¢„ÉÉ„Éó„Çí„Åó„Å¶Ë¶ã„ÇãË©±„Åß„Åô„ÄÇ\n\n# „Å™„Åú„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„Åó„Åü„ÅÆ„Åã\nA. Snackbar„ÅÆ‰ΩçÁΩÆ„ÇíFloating Action Button„ÅÆ‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Åü„Åã„Å£„Åü„Åã„Çâ„ÄÇ\n[Snackbars„ÅÆ„Ç¨„Ç§„Éâ„É©„Ç§„É≥](https://material.io/design/components/snackbars.html#placement)„ÅÆ\nSnackbars and floating action buttons (FABs)\n„ÅßFAB„ÅÆ‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Çã„ÅÆ„ÅåÊ≠£„Åó„ÅÑ„Çâ„Åó„ÅÑ„ÄÇ\n„Åù„Çå„ÅßÁúü‰ºº„Çà„ÅÜ„Å®ÊÄù„Å£„Åü„ÅÆ„Åß„Åô„Åå„ÄÅÂè§„ÅÑ„ÅÆ„Åã```setAnchorViewÔºà„Å©„ÅÆView„ÅÆ‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Çã„ÅãÔºüÔºâ```„ÅåË¶ã„Å§„Åã„Çâ„Å™„Åã„Å£„Åü„ÅÆ„Åß„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„ÅÑ„ÅÜ„ÅÆ„ÅåÁêÜÁî±„ÄÇ\n\n# „Å®„Åì„Çç„ÅßÊúÄÊñ∞„Éê„Éº„Ç∏„Éß„É≥„ÅØ„Å©„Åì„ÅßÁü•„Çå„Çã„ÅÆ„ÅãÔºü\n\n„Åì„ÇåÔºü\nhttps://github.com/material-components/material-components-android/releases\n\n‰ΩúÊàêÊó•ÊôÇ„Åß„ÅØ1.1.0-alpha08„ÅåÊúÄÊñ∞„Åß„Åô„ÅÆ„ÅßÂÖ•„Çå„Å¶„Åø„Çà„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\nÊúÄÊÇ™GitHub„ÅÆ„Å°„Åã„ÇâÔºü„ÇíÂÄü„Çä„Å¶Êàª„Åõ„Å∞„ÅÑ„ÅÑ„ÅÆ„ÅßÊåëÊà¶„Åß„Åô„ÄÇ\n\n# build.gradle„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\n\n```gradle\n    //implementation 'com.google.android.material:material:1.0.0'\n    implementation 'com.google.android.material:material:1.1.0-alpha08'\n```\n##Âá∫‰ºö„Å£„ÅüÂïèÈ°å\n\n###„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ„Ç®„É©„Éº\n‰∏ã„ÅÆÊñπ„Å´Êõ∏„ÅÑ„Å¶„ÅÇ„Å£„Åü„ÄÇ\n\n```\nCaused by: java.lang.IllegalArgumentException: The style on this component requires your app theme to be Theme.MaterialComponents (or a descendant).\n```\n\nË™ø„Åπ„Çã„Å®„ÉÜ„Éº„Éû„ÅåTheme.MaterialComponentsÁ≥ª„Çí‰Ωø„Çè„Å™„ÅÑ„Å®„Å†„ÇÅ„Å†„ÇàÔºÅ„Å£„Å¶„Åì„Å®„Çâ„Åó„ÅÑ„Åß„Åô„ÄÇ\n„Åì„Çå„ÇíËß£Ê±∫„Åô„ÇãÊñπÊ≥ï„ÅØ2„Å§„ÄÇ\n#### Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºëÔºö„É¨„Ç§„Ç¢„Ç¶„ÉàÔºàxmlÔºâ„Éï„Ç°„Ç§„É´„ÅßË¶™„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ‰∏≠„Å´```android:theme=\"@style/Theme.MaterialComponents\"```„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ\n„Åì„Çì„Å™ÊÑü„Åò„Å´\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:theme=\"@style/Theme.MaterialComponents\"> <!--„Åì„ÅÆË°å„Çí‰ªò„ÅëË∂≥„Åô„ÄÇ-->\n    <com.google.android.material.textfield.TextInputLayout\n        android:id=\"@+id/name_TextInputLayout\"\n        style=\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\">\n        <EditText\n            android:id=\"@+id/name_editText\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:importantForAutofill=\"no\"\n            android:inputType=\"textMultiLine\"\n            android:singleLine=\"true\" />\n    </com.google.android.material.textfield.TextInputLayout>\n</LinearLayout>\n```\n\n„Åì„Çå„Åß‰∏ÄÂøúÈÄö„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÄÇTextInputLayout„Å†„Åë‰Ωø„ÅÑ„Åü„ÅÑÔºÅÔºÅÔºÅ„Å®„Åã„ÅÆ„Å®„Åç„ÅØTextInputLayout„ÅÆ‰∏≠„Å´```android:theme=\"@style/Theme.MaterialComponents\"```„ÇíÊõ∏„ÅçË∂≥„Åõ„Å∞Â§ß‰∏àÂ§´„Åß„Åô„ÄÇ\n\n##### „É°„É™„ÉÉ„Éà\n„Åã„Çì„Åü„Çì„ÄÇTextInputLayout„Å†„Åë‰Ωø„ÅÑ„Åü„ÅÑ„Å™„Çì„Åã„ÅØ„Åì„Çå„Åß„ÅÑ„ÅÑÊ∞ó„Åå„Åô„Çã„ÄÇ\nÊîπÂñÑ„Åó„ÅüÊñπ„Åß„ÇÇ„ÅÜÊ∫ÄË∂≥„Åó„ÅüÊñπ„ÅØ„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô„ÄÇ\n\n#### Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºíÔºöstyles.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã„ÄÇ\nstack overflow„Å™„Çì„Åã„Åß„ÅØ„Åì„Å£„Å°„ÅåÂ§ö„ÅÑ„Å≠„ÄÇ„Åß„ÇÇ**„Åì„ÅÆÊñπÊ≥ï„ÅØÁµêÊßã„Åç„Å§„ÅÑ„ÄÇ**„Å°„Å™„Åø„Å´ÁßÅ„ÅØ„Åì„Å£„Å°„Çí‰Ωø„Å£„Åü„ÄÇ\n„Å™„Åú„Å™„Çâ„Ç¢„Éó„É™„ÅÆÂ§ñË¶≥„ÇíÁµêÊßãÂ§â„Åà„Çã„Åì„Å®„Å´„Å™„Çã„ÄÇ\nÊõ∏„ÅçÊèõ„Åà„ÇãÂ†¥ÊâÄ„ÅØparent„ÅÆ„Å®„Åì„Çç„ÄÇ„Åì„ÅÜ„Åô„Çã```parent=\"Theme.MaterialComponents.Light.DarkActionBar\"```„ÄÇ\n‰ª•‰∏ã‰æã„Åß„Åô„ÄÇ\n\n```xml\n    <!-- Base application theme. -->\n    <style name=\"AppTheme\" parent=\"Theme.MaterialComponents.Light.DarkActionBar\">\n        <!-- Customize your theme here. -->\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\n        <item name=\"colorPrimaryDark\">@color/colorPrimary</item>\n        <item name=\"colorAccent\">@color/colorPrimaryDark</item>\n    </style>\n```\n\n„Å©„ÅÜ„Åß„Åó„Çá„ÅÜ„ÄÇÁµêÊßãÂ§â„Çè„Å£„Åü„Å®ÊÄù„ÅÑ„Åæ„Åô„ÇàÔºü\n\n„Åß„ÄÅ„Åì„Åì„Åã„Çâ„ÅØ**Theme.MaterialComponents**„Å®„ÅÆÊà¶„ÅÑ„Åß„Åô„ÄÇ\n\n# Theme.MaterialComponents „Å´„Åó„Å¶Â§â„Çè„Å£„Åü„Å®„Åì„Çç„ÄÇ\n\n## ËâØ„Åã„Å£„Åü„Å®„Åì„Çç\n\n- Snackbar„ÅÆË°®Á§∫ÊñπÊ≥ï„ÅåÂ§â„Çè„Å£„Åü\n    - ‰∏ã„Åã„Çâ„Åô„Éº„Å£„Å®Ë°®Á§∫Ôºü‚Üí„Åµ„Çè„Å£„Å®Ë°®Á§∫Ôºü„Åô„ÇãÊÑü„Åò„Å´ÔºàËá™ÂàÜ„ÅßË¶ã„Åü„Åª„ÅÜ„Åå„ÅØ„ÇÑ„ÅÑÔºâ\n    - „Çπ„Éö„Éº„Çπ„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇÔºà‰∏ã„Å´Á©∫Èñì„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„ÅüÔºâ\n\n![Screenshot_20190726-033304_Material_Test.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/c8961ea9-1823-0c05-938a-be07d81428de.png)\n\n\n„Åª„Åã„Å´„ÇÇ„ÅÇ„Çã„Åã„ÇÇ„Å†„Åë„Å©‰ªäÂõû„ÅØÊôÇÈñìÁÑ°„ÅÑ„ÅÆ„ÅßÈ£õ„Å∞„Åó„Åæ„Åô„ÄÇ\n\n## Áõ¥„ÅôÂøÖË¶Å„Åå„ÅÇ„Å£„Åü„Å®„Åì„Çç\n\n### Botton„Å´Background„ÅåË®≠ÂÆö„Åï„Çå„Å¶„Åó„Åæ„ÅÜÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï\n\nÂèÇËÄÉ\nhttps://stackoverflow.com/questions/52743190/when-use-theme-materialcomponents-light-noactionbar-style-set-button-background\n\nButton„ÅØButton„Åß„ÇÇ```androidx.appcompat.widget.AppCompatButton```„Å´Â§â„Åà„Å¶„ÅÇ„Åí„Çå„Å∞Ëß£Ê±∫„Åß„Åô„ÄÇ\n‰øÆÊ≠£Ââç\n\n```xml\n    <Button\n            android:layout_width=\"wrap_content\"\n            android:text=\"snackbar\"\n            android:id=\"@+id/snackbar_button\"\n            android:layout_height=\"wrap_content\"/>\n```\n\n‰øÆÊ≠£Âæå\n\n```xml\n    <androidx.appcompat.widget.AppCompatButton\n            android:layout_width=\"wrap_content\"\n            android:text=\"snackbar\"\n            android:id=\"@+id/snackbar_button\"\n            android:layout_height=\"wrap_content\"/>\n```\n\n„Å°„Å™„Åø„Å´ÁßÅ„ÅØBackground„Å´„Éú„Çø„É≥„ÅÆÊû†„Åå„Åß„Åç„ÇãÁî®„Å´Ë®≠ÂÆö„Åó„Å¶„Åü„Çì„Åß„Åô„Åë„Å©„Éª„Éª\n```style=\"@style/Widget.MaterialComponents.Button.OutlinedButton\"```\n„ÇíÊåáÂÆö„Åô„Çå„Å∞Êû†„Åå„Å§„Åè„ÅÆ„ÅßÁßÅ„ÅØstyle„ÇíÊõ∏„ÅçË∂≥„ÅôÂΩ¢„ÅßÂØæÂøú„Åó„Åæ„Åó„Åü„ÄÇ„Åì„Çå„Å†„Å®Êäº„Åó„ÅüÊôÇ„Å´Ê≥¢Á¥ã„ÇÇÂá∫„Çã„ÅÆ„Åß„ÅÑ„ÅÑÊÑü„Åò„ÄÇ\n\n![Screenshot_20190726-033945_Material_Test.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/1885d4f0-9209-6fa8-bb9c-7cf767fb838a.png)\n\n### AlertDialog„ÅÆ„Éú„Çø„É≥„Åå„Åä„Åã„Åó„Åè„Å™„ÇãÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï\nÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ\nhttps://stackoverflow.com/questions/52829954/materialcomponents-theme-alert-dialog-buttons\n\n„Åì„ÅÆÊßò„Å´„Å™„Å£„Å¶„ÇãÂ†¥Âêà„ÅØ\n![Screenshot_20190726-034620_Material_Test.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/64e01862-f158-3d59-2c7f-73f72d50fee9.png)\n\n\n„Ç§„É≥„Éù„Éº„Éà„ÅÆÈÉ®ÂàÜ„Åã„Çâ```import android.app.AlertDialog```„ÇíË¶ã„Å§„Åë„Å¶„Åç„Å¶„Åù„Çå„Çí```import androidx.appcompat.app.AlertDialog```„Å´Êõ∏„ÅçÊèõ„Åà„Çå„Å∞Áõ¥„Çä„Åæ„Åô„ÄÇ\n\n```kotlin\n//import android.app.AlertDialog\nimport androidx.appcompat.app.AlertDialog\n```\n\n„Åì„Çå„ÅßÂ§ß‰∏àÂ§´„Åù„ÅÜ„Åß„Åô„Å≠„ÄÇ\n![Screenshot_20190726-035018_Material_Test.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/f2a18f6c-513e-0537-e91c-356ca25407aa.png)\n\n‰ªä„ÅÆ„Å®„Åì„Çç„ÅØ„Åì„Çì„Å™ÊÑü„Åò„Åß„Åô„Å≠„ÄÇ\n\n# „ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô\nÊúÄÂæå„Å´ÁßÅ„ÅÆ„ÇÑ„Çä„Åü„Åã„Å£„ÅüFAB„ÅÆ‰∏ä„Å´Snackbar„ÇíÂá∫„Åô„ÇÑ„ÇäÊñπ„ÇíÊõ∏„ÅÑ„Å¶ÁµÇ„Çè„Çç„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n„ÇÑ„ÇäÊñπ„ÅØÊôÆÈÄö„Å´Snackbar„Çí‰Ωú„Çä„ÄÅ```setAnchorView```„ÅÆ„Ç´„ÉÉ„Ç≥„ÅÆ‰∏≠„Å´FAB„ÇÑSnackbar„ÅÆ‰∏ã„Å´„Å™„ÇãView„ÇíÂÖ•„Çå„Å¶„ÅÇ„Åí„Çå„Å∞„Åä„Å£„Åë„Éº„Åß„Åô„ÄÇ\n‰æã„Åß„Åô„ÄÇ\n\n```kotlin\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        snackbar_button.setOnClickListener {\n            Snackbar.make(findViewById(android.R.id.content), \"„Åô„Å™„Å£„Åè„Å∞„ÉºÔºÅ\", Snackbar.LENGTH_LONG).show()\n        }\n\n        alert_dialog.setOnClickListener {\n            AlertDialog.Builder(this)\n                .setTitle(\"„Éú„Çø„É≥„Åå\")\n                .setMessage(\"„Åä„Åã„Åó„Åè„Å™„ÅÑÔºÅÔºÅÔºÅ\")\n                .setPositiveButton(\"„Åì„Çå„Åß„ÅÑ„ÅÑ\") { dialogInterface: DialogInterface, i: Int ->\n\n                }\n                .setNegativeButton(\"„Å†„ÅÑ„Åò„Çá„ÅÜ„Å∂\", null)\n                .show();\n        }\n\n        fab.setOnClickListener {\n            val snackbar = Snackbar.make(fab,\"„Éú„Çø„É≥„ÅÆ‰∏ä„Åã„Çâ„Åì„Çì„Å´„Å°„ÅØ\",Snackbar.LENGTH_LONG)\n            snackbar.anchorView = fab\n            snackbar.show()\n        }\n    }\n}\n```\n\n„É¨„Ç§„Ç¢„Ç¶„Éà\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.coordinatorlayout.widget.CoordinatorLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\">\n\n    <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:gravity=\"center\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\">\n\n        <Button\n                style=\"@style/Widget.MaterialComponents.Button.OutlinedButton\"\n                android:layout_width=\"wrap_content\"\n                android:text=\"snackbar\"\n                android:id=\"@+id/snackbar_button\"\n                android:layout_height=\"wrap_content\"/>\n\n        <Button\n                style=\"@style/Widget.MaterialComponents.Button.OutlinedButton\"\n                android:layout_width=\"wrap_content\"\n                android:text=\"AlertDialog\"\n                android:id=\"@+id/alert_dialog\"\n                android:layout_height=\"wrap_content\"/>\n\n    </LinearLayout>\n\n    <com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=\"@+id/fab\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"bottom|end\"\n            android:layout_margin=\"16dp\"\n            app:srcCompat=\"@drawable/ic_laptop_windows_black_24dp\"/>\n\n</androidx.coordinatorlayout.widget.CoordinatorLayout>\n```\n\nÂÆüË°å„Åô„Çã„Å®„Åì„Çì„Å™ÊÑü„Åò\n![Screenshot_20190726-035632_Material_Test.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/58fff32c-b13c-7284-7f0c-38bb292ab384.png)\n\n\n„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åó„ÅüÔºÅ\n„Å©„ÅÜ„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÅåÊõ∏„ÅÑ„Å¶„ÇãÈÄî‰∏≠„Åß„Çµ„ÉñÊ©ü„ÅÆ‰∏≠Âè§„É¨„ÉÉ„ÉÑ„Éé„Éº„Éà„Åè„Çì„Åå„ÅÑ„Åç„Å™„Çä„Çà„Åè„Çè„Åã„Çâ„ÇìÁîªÈù¢„Å´„Å™„Çä„Åæ„Åó„Åü„ÅåÂÜçËµ∑Âãï„Åó„Åü„ÇâÁõ¥„Çä„Åæ„Åó„Åü„ÄÇ\n","slug":"MaterialDesign","published":1,"date":"2020-04-05T16:27:15.335Z","updated":"2020-04-05T16:40:02.099Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgs000hh8vua9f69ipi","content":"<p>„Åì„Çì„Å∞„Çì„ÅØ„ÄÇ<br>Ëô´ÔºàËõæÔºü„Åã„Å©„ÅÜ„Åã„ÇÇ„Çè„Åã„Çâ„ÇìÔºâ„ÅåÂÆ∂„Å´ÂÖ•„Å£„Å¶„Åç„Å¶ÊÄñ„ÅÑ„Åß„Åô„ÄÇ<br>‰ªäÂõû„ÅØ„Çø„Ç§„Éà„É´ÈÄö„ÇäMaterial Components„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Ç¢„ÉÉ„Éó„Çí„Åó„Å¶Ë¶ã„ÇãË©±„Åß„Åô„ÄÇ</p>\n<h1 id=\"„Å™„Åú„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„Åó„Åü„ÅÆ„Åã\"><a href=\"#„Å™„Åú„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„Åó„Åü„ÅÆ„Åã\" class=\"headerlink\" title=\"„Å™„Åú„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„Åó„Åü„ÅÆ„Åã\"></a>„Å™„Åú„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„Åó„Åü„ÅÆ„Åã</h1><p>A. Snackbar„ÅÆ‰ΩçÁΩÆ„ÇíFloating Action Button„ÅÆ‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Åü„Åã„Å£„Åü„Åã„Çâ„ÄÇ<br><a href=\"https://material.io/design/components/snackbars.html#placement\" target=\"_blank\" rel=\"noopener\">Snackbars„ÅÆ„Ç¨„Ç§„Éâ„É©„Ç§„É≥</a>„ÅÆ<br>Snackbars and floating action buttons (FABs)<br>„ÅßFAB„ÅÆ‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Çã„ÅÆ„ÅåÊ≠£„Åó„ÅÑ„Çâ„Åó„ÅÑ„ÄÇ<br>„Åù„Çå„ÅßÁúü‰ºº„Çà„ÅÜ„Å®ÊÄù„Å£„Åü„ÅÆ„Åß„Åô„Åå„ÄÅÂè§„ÅÑ„ÅÆ„Åã<code>setAnchorViewÔºà„Å©„ÅÆView„ÅÆ‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Çã„ÅãÔºüÔºâ</code>„ÅåË¶ã„Å§„Åã„Çâ„Å™„Åã„Å£„Åü„ÅÆ„Åß„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„ÅÑ„ÅÜ„ÅÆ„ÅåÁêÜÁî±„ÄÇ</p>\n<h1 id=\"„Å®„Åì„Çç„ÅßÊúÄÊñ∞„Éê„Éº„Ç∏„Éß„É≥„ÅØ„Å©„Åì„ÅßÁü•„Çå„Çã„ÅÆ„ÅãÔºü\"><a href=\"#„Å®„Åì„Çç„ÅßÊúÄÊñ∞„Éê„Éº„Ç∏„Éß„É≥„ÅØ„Å©„Åì„ÅßÁü•„Çå„Çã„ÅÆ„ÅãÔºü\" class=\"headerlink\" title=\"„Å®„Åì„Çç„ÅßÊúÄÊñ∞„Éê„Éº„Ç∏„Éß„É≥„ÅØ„Å©„Åì„ÅßÁü•„Çå„Çã„ÅÆ„ÅãÔºü\"></a>„Å®„Åì„Çç„ÅßÊúÄÊñ∞„Éê„Éº„Ç∏„Éß„É≥„ÅØ„Å©„Åì„ÅßÁü•„Çå„Çã„ÅÆ„ÅãÔºü</h1><p>„Åì„ÇåÔºü<br><a href=\"https://github.com/material-components/material-components-android/releases\" target=\"_blank\" rel=\"noopener\">https://github.com/material-components/material-components-android/releases</a></p>\n<p>‰ΩúÊàêÊó•ÊôÇ„Åß„ÅØ1.1.0-alpha08„ÅåÊúÄÊñ∞„Åß„Åô„ÅÆ„ÅßÂÖ•„Çå„Å¶„Åø„Çà„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ<br>ÊúÄÊÇ™GitHub„ÅÆ„Å°„Åã„ÇâÔºü„ÇíÂÄü„Çä„Å¶Êàª„Åõ„Å∞„ÅÑ„ÅÑ„ÅÆ„ÅßÊåëÊà¶„Åß„Åô„ÄÇ</p>\n<h1 id=\"build-gradle„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\"><a href=\"#build-gradle„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\" class=\"headerlink\" title=\"build.gradle„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\"></a>build.gradle„ÇíÊõ∏„ÅçÊèõ„Åà„Çã</h1><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//implementation 'com.google.android.material:material:1.0.0'</span></span><br><span class=\"line\">implementation <span class=\"string\">'com.google.android.material:material:1.1.0-alpha08'</span></span><br></pre></td></tr></table></figure>\n<p>##Âá∫‰ºö„Å£„ÅüÂïèÈ°å</p>\n<p>###„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ„Ç®„É©„Éº<br>‰∏ã„ÅÆÊñπ„Å´Êõ∏„ÅÑ„Å¶„ÅÇ„Å£„Åü„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Caused by: java.lang.IllegalArgumentException: The style on this component requires your app theme to be Theme.MaterialComponents (or a descendant).</span><br></pre></td></tr></table></figure>\n\n<p>Ë™ø„Åπ„Çã„Å®„ÉÜ„Éº„Éû„ÅåTheme.MaterialComponentsÁ≥ª„Çí‰Ωø„Çè„Å™„ÅÑ„Å®„Å†„ÇÅ„Å†„ÇàÔºÅ„Å£„Å¶„Åì„Å®„Çâ„Åó„ÅÑ„Åß„Åô„ÄÇ<br>„Åì„Çå„ÇíËß£Ê±∫„Åô„ÇãÊñπÊ≥ï„ÅØ2„Å§„ÄÇ</p>\n<h4 id=\"Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºëÔºö„É¨„Ç§„Ç¢„Ç¶„ÉàÔºàxmlÔºâ„Éï„Ç°„Ç§„É´„ÅßË¶™„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ‰∏≠„Å´android-theme-quot-style-Theme-MaterialComponents-quot-„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ\"><a href=\"#Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºëÔºö„É¨„Ç§„Ç¢„Ç¶„ÉàÔºàxmlÔºâ„Éï„Ç°„Ç§„É´„ÅßË¶™„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ‰∏≠„Å´android-theme-quot-style-Theme-MaterialComponents-quot-„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ\" class=\"headerlink\" title=\"Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºëÔºö„É¨„Ç§„Ç¢„Ç¶„ÉàÔºàxmlÔºâ„Éï„Ç°„Ç§„É´„ÅßË¶™„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ‰∏≠„Å´android:theme=&quot;@style/Theme.MaterialComponents&quot;„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ\"></a>Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºëÔºö„É¨„Ç§„Ç¢„Ç¶„ÉàÔºàxmlÔºâ„Éï„Ç°„Ç§„É´„ÅßË¶™„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ‰∏≠„Å´<code>android:theme=&quot;@style/Theme.MaterialComponents&quot;</code>„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ</h4><p>„Åì„Çì„Å™ÊÑü„Åò„Å´</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:theme</span>=<span class=\"string\">\"@style/Theme.MaterialComponents\"</span>&gt;</span> <span class=\"comment\">&lt;!--„Åì„ÅÆË°å„Çí‰ªò„ÅëË∂≥„Åô„ÄÇ--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">com.google.android.material.textfield.TextInputLayout</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/name_TextInputLayout\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">style</span>=<span class=\"string\">\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">EditText</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/name_editText\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:importantForAutofill</span>=<span class=\"string\">\"no\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:inputType</span>=<span class=\"string\">\"textMultiLine\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:singleLine</span>=<span class=\"string\">\"true\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">com.google.android.material.textfield.TextInputLayout</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„Åß‰∏ÄÂøúÈÄö„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÄÇTextInputLayout„Å†„Åë‰Ωø„ÅÑ„Åü„ÅÑÔºÅÔºÅÔºÅ„Å®„Åã„ÅÆ„Å®„Åç„ÅØTextInputLayout„ÅÆ‰∏≠„Å´<code>android:theme=&quot;@style/Theme.MaterialComponents&quot;</code>„ÇíÊõ∏„ÅçË∂≥„Åõ„Å∞Â§ß‰∏àÂ§´„Åß„Åô„ÄÇ</p>\n<h5 id=\"„É°„É™„ÉÉ„Éà\"><a href=\"#„É°„É™„ÉÉ„Éà\" class=\"headerlink\" title=\"„É°„É™„ÉÉ„Éà\"></a>„É°„É™„ÉÉ„Éà</h5><p>„Åã„Çì„Åü„Çì„ÄÇTextInputLayout„Å†„Åë‰Ωø„ÅÑ„Åü„ÅÑ„Å™„Çì„Åã„ÅØ„Åì„Çå„Åß„ÅÑ„ÅÑÊ∞ó„Åå„Åô„Çã„ÄÇ<br>ÊîπÂñÑ„Åó„ÅüÊñπ„Åß„ÇÇ„ÅÜÊ∫ÄË∂≥„Åó„ÅüÊñπ„ÅØ„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô„ÄÇ</p>\n<h4 id=\"Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºíÔºöstyles-xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã„ÄÇ\"><a href=\"#Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºíÔºöstyles-xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã„ÄÇ\" class=\"headerlink\" title=\"Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºíÔºöstyles.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã„ÄÇ\"></a>Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºíÔºöstyles.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã„ÄÇ</h4><p>stack overflow„Å™„Çì„Åã„Åß„ÅØ„Åì„Å£„Å°„ÅåÂ§ö„ÅÑ„Å≠„ÄÇ„Åß„ÇÇ<strong>„Åì„ÅÆÊñπÊ≥ï„ÅØÁµêÊßã„Åç„Å§„ÅÑ„ÄÇ</strong>„Å°„Å™„Åø„Å´ÁßÅ„ÅØ„Åì„Å£„Å°„Çí‰Ωø„Å£„Åü„ÄÇ<br>„Å™„Åú„Å™„Çâ„Ç¢„Éó„É™„ÅÆÂ§ñË¶≥„ÇíÁµêÊßãÂ§â„Åà„Çã„Åì„Å®„Å´„Å™„Çã„ÄÇ<br>Êõ∏„ÅçÊèõ„Åà„ÇãÂ†¥ÊâÄ„ÅØparent„ÅÆ„Å®„Åì„Çç„ÄÇ„Åì„ÅÜ„Åô„Çã<code>parent=&quot;Theme.MaterialComponents.Light.DarkActionBar&quot;</code>„ÄÇ<br>‰ª•‰∏ã‰æã„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- Base application theme. --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">name</span>=<span class=\"string\">\"AppTheme\"</span> <span class=\"attr\">parent</span>=<span class=\"string\">\"Theme.MaterialComponents.Light.DarkActionBar\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"comment\">&lt;!-- Customize your theme here. --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">item</span> <span class=\"attr\">name</span>=<span class=\"string\">\"colorPrimary\"</span>&gt;</span>@color/colorPrimary<span class=\"tag\">&lt;/<span class=\"name\">item</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">item</span> <span class=\"attr\">name</span>=<span class=\"string\">\"colorPrimaryDark\"</span>&gt;</span>@color/colorPrimary<span class=\"tag\">&lt;/<span class=\"name\">item</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">item</span> <span class=\"attr\">name</span>=<span class=\"string\">\"colorAccent\"</span>&gt;</span>@color/colorPrimaryDark<span class=\"tag\">&lt;/<span class=\"name\">item</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>„Å©„ÅÜ„Åß„Åó„Çá„ÅÜ„ÄÇÁµêÊßãÂ§â„Çè„Å£„Åü„Å®ÊÄù„ÅÑ„Åæ„Åô„ÇàÔºü</p>\n<p>„Åß„ÄÅ„Åì„Åì„Åã„Çâ„ÅØ<strong>Theme.MaterialComponents</strong>„Å®„ÅÆÊà¶„ÅÑ„Åß„Åô„ÄÇ</p>\n<h1 id=\"Theme-MaterialComponents-„Å´„Åó„Å¶Â§â„Çè„Å£„Åü„Å®„Åì„Çç„ÄÇ\"><a href=\"#Theme-MaterialComponents-„Å´„Åó„Å¶Â§â„Çè„Å£„Åü„Å®„Åì„Çç„ÄÇ\" class=\"headerlink\" title=\"Theme.MaterialComponents „Å´„Åó„Å¶Â§â„Çè„Å£„Åü„Å®„Åì„Çç„ÄÇ\"></a>Theme.MaterialComponents „Å´„Åó„Å¶Â§â„Çè„Å£„Åü„Å®„Åì„Çç„ÄÇ</h1><h2 id=\"ËâØ„Åã„Å£„Åü„Å®„Åì„Çç\"><a href=\"#ËâØ„Åã„Å£„Åü„Å®„Åì„Çç\" class=\"headerlink\" title=\"ËâØ„Åã„Å£„Åü„Å®„Åì„Çç\"></a>ËâØ„Åã„Å£„Åü„Å®„Åì„Çç</h2><ul>\n<li>Snackbar„ÅÆË°®Á§∫ÊñπÊ≥ï„ÅåÂ§â„Çè„Å£„Åü<ul>\n<li>‰∏ã„Åã„Çâ„Åô„Éº„Å£„Å®Ë°®Á§∫Ôºü‚Üí„Åµ„Çè„Å£„Å®Ë°®Á§∫Ôºü„Åô„ÇãÊÑü„Åò„Å´ÔºàËá™ÂàÜ„ÅßË¶ã„Åü„Åª„ÅÜ„Åå„ÅØ„ÇÑ„ÅÑÔºâ</li>\n<li>„Çπ„Éö„Éº„Çπ„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇÔºà‰∏ã„Å´Á©∫Èñì„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„ÅüÔºâ</li>\n</ul>\n</li>\n</ul>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/c8961ea9-1823-0c05-938a-be07d81428de.png\" alt=\"Screenshot_20190726-033304_Material_Test.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20190726-033304_Material_Test.png</div>\n            </figure>\n\n\n<p>„Åª„Åã„Å´„ÇÇ„ÅÇ„Çã„Åã„ÇÇ„Å†„Åë„Å©‰ªäÂõû„ÅØÊôÇÈñìÁÑ°„ÅÑ„ÅÆ„ÅßÈ£õ„Å∞„Åó„Åæ„Åô„ÄÇ</p>\n<h2 id=\"Áõ¥„ÅôÂøÖË¶Å„Åå„ÅÇ„Å£„Åü„Å®„Åì„Çç\"><a href=\"#Áõ¥„ÅôÂøÖË¶Å„Åå„ÅÇ„Å£„Åü„Å®„Åì„Çç\" class=\"headerlink\" title=\"Áõ¥„ÅôÂøÖË¶Å„Åå„ÅÇ„Å£„Åü„Å®„Åì„Çç\"></a>Áõ¥„ÅôÂøÖË¶Å„Åå„ÅÇ„Å£„Åü„Å®„Åì„Çç</h2><h3 id=\"Botton„Å´Background„ÅåË®≠ÂÆö„Åï„Çå„Å¶„Åó„Åæ„ÅÜÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï\"><a href=\"#Botton„Å´Background„ÅåË®≠ÂÆö„Åï„Çå„Å¶„Åó„Åæ„ÅÜÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï\" class=\"headerlink\" title=\"Botton„Å´Background„ÅåË®≠ÂÆö„Åï„Çå„Å¶„Åó„Åæ„ÅÜÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï\"></a>Botton„Å´Background„ÅåË®≠ÂÆö„Åï„Çå„Å¶„Åó„Åæ„ÅÜÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï</h3><p>ÂèÇËÄÉ<br><a href=\"https://stackoverflow.com/questions/52743190/when-use-theme-materialcomponents-light-noactionbar-style-set-button-background\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/52743190/when-use-theme-materialcomponents-light-noactionbar-style-set-button-background</a></p>\n<p>Button„ÅØButton„Åß„ÇÇ<code>androidx.appcompat.widget.AppCompatButton</code>„Å´Â§â„Åà„Å¶„ÅÇ„Åí„Çå„Å∞Ëß£Ê±∫„Åß„Åô„ÄÇ<br>‰øÆÊ≠£Ââç</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"snackbar\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/snackbar_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span>/&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>‰øÆÊ≠£Âæå</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">androidx.appcompat.widget.AppCompatButton</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"snackbar\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/snackbar_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span>/&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>„Å°„Å™„Åø„Å´ÁßÅ„ÅØBackground„Å´„Éú„Çø„É≥„ÅÆÊû†„Åå„Åß„Åç„ÇãÁî®„Å´Ë®≠ÂÆö„Åó„Å¶„Åü„Çì„Åß„Åô„Åë„Å©„Éª„Éª</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">„ÇíÊåáÂÆö„Åô„Çå„Å∞Êû†„Åå„Å§„Åè„ÅÆ„ÅßÁßÅ„ÅØstyle„ÇíÊõ∏„ÅçË∂≥„ÅôÂΩ¢„ÅßÂØæÂøú„Åó„Åæ„Åó„Åü„ÄÇ„Åì„Çå„Å†„Å®Êäº„Åó„ÅüÊôÇ„Å´Ê≥¢Á¥ã„ÇÇÂá∫„Çã„ÅÆ„Åß„ÅÑ„ÅÑÊÑü„Åò„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">![Screenshot_20190726-033945_Material_Test.png](https:&#x2F;&#x2F;qiita-image-store.s3.ap-northeast-1.amazonaws.com&#x2F;0&#x2F;409918&#x2F;1885d4f0-9209-6fa8-bb9c-7cf767fb838a.png)</span><br><span class=\"line\"></span><br><span class=\"line\">### AlertDialog„ÅÆ„Éú„Çø„É≥„Åå„Åä„Åã„Åó„Åè„Å™„ÇãÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï</span><br><span class=\"line\">ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ</span><br><span class=\"line\">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;52829954&#x2F;materialcomponents-theme-alert-dialog-buttons</span><br><span class=\"line\"></span><br><span class=\"line\">„Åì„ÅÆÊßò„Å´„Å™„Å£„Å¶„ÇãÂ†¥Âêà„ÅØ</span><br><span class=\"line\">![Screenshot_20190726-034620_Material_Test.png](https:&#x2F;&#x2F;qiita-image-store.s3.ap-northeast-1.amazonaws.com&#x2F;0&#x2F;409918&#x2F;64e01862-f158-3d59-2c7f-73f72d50fee9.png)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">„Ç§„É≥„Éù„Éº„Éà„ÅÆÈÉ®ÂàÜ„Åã„Çâ&#96;&#96;&#96;import android.app.AlertDialog&#96;&#96;&#96;„ÇíË¶ã„Å§„Åë„Å¶„Åç„Å¶„Åù„Çå„Çí&#96;&#96;&#96;import androidx.appcompat.app.AlertDialog&#96;&#96;&#96;„Å´Êõ∏„ÅçÊèõ„Åà„Çå„Å∞Áõ¥„Çä„Åæ„Åô„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;kotlin</span><br><span class=\"line\">&#x2F;&#x2F;import android.app.AlertDialog</span><br><span class=\"line\">import androidx.appcompat.app.AlertDialog</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßÂ§ß‰∏àÂ§´„Åù„ÅÜ„Åß„Åô„Å≠„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/f2a18f6c-513e-0537-e91c-356ca25407aa.png\" alt=\"Screenshot_20190726-035018_Material_Test.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20190726-035018_Material_Test.png</div>\n            </figure>\n\n<p>‰ªä„ÅÆ„Å®„Åì„Çç„ÅØ„Åì„Çì„Å™ÊÑü„Åò„Åß„Åô„Å≠„ÄÇ</p>\n<h1 id=\"„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô\"><a href=\"#„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô\" class=\"headerlink\" title=\"„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô\"></a>„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô</h1><p>ÊúÄÂæå„Å´ÁßÅ„ÅÆ„ÇÑ„Çä„Åü„Åã„Å£„ÅüFAB„ÅÆ‰∏ä„Å´Snackbar„ÇíÂá∫„Åô„ÇÑ„ÇäÊñπ„ÇíÊõ∏„ÅÑ„Å¶ÁµÇ„Çè„Çç„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ<br>„ÇÑ„ÇäÊñπ„ÅØÊôÆÈÄö„Å´Snackbar„Çí‰Ωú„Çä„ÄÅ<code>setAnchorView</code>„ÅÆ„Ç´„ÉÉ„Ç≥„ÅÆ‰∏≠„Å´FAB„ÇÑSnackbar„ÅÆ‰∏ã„Å´„Å™„ÇãView„ÇíÂÖ•„Çå„Å¶„ÅÇ„Åí„Çå„Å∞„Åä„Å£„Åë„Éº„Åß„Åô„ÄÇ<br>‰æã„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        snackbar_button.setOnClickListener &#123;</span><br><span class=\"line\">            Snackbar.make(findViewById(android.R.id.content), <span class=\"string\">\"„Åô„Å™„Å£„Åè„Å∞„ÉºÔºÅ\"</span>, Snackbar.LENGTH_LONG).show()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        alert_dialog.setOnClickListener &#123;</span><br><span class=\"line\">            AlertDialog.Builder(<span class=\"keyword\">this</span>)</span><br><span class=\"line\">                .setTitle(<span class=\"string\">\"„Éú„Çø„É≥„Åå\"</span>)</span><br><span class=\"line\">                .setMessage(<span class=\"string\">\"„Åä„Åã„Åó„Åè„Å™„ÅÑÔºÅÔºÅÔºÅ\"</span>)</span><br><span class=\"line\">                .setPositiveButton(<span class=\"string\">\"„Åì„Çå„Åß„ÅÑ„ÅÑ\"</span>) &#123; dialogInterface: DialogInterface, i: <span class=\"built_in\">Int</span> -&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                .setNegativeButton(<span class=\"string\">\"„Å†„ÅÑ„Åò„Çá„ÅÜ„Å∂\"</span>, <span class=\"literal\">null</span>)</span><br><span class=\"line\">                .show();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        fab.setOnClickListener &#123;</span><br><span class=\"line\">            <span class=\"keyword\">val</span> snackbar = Snackbar.make(fab,<span class=\"string\">\"„Éú„Çø„É≥„ÅÆ‰∏ä„Åã„Çâ„Åì„Çì„Å´„Å°„ÅØ\"</span>,Snackbar.LENGTH_LONG)</span><br><span class=\"line\">            snackbar.anchorView = fab</span><br><span class=\"line\">            snackbar.show()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„É¨„Ç§„Ç¢„Ç¶„Éà</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">androidx.coordinatorlayout.widget.CoordinatorLayout</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">tools:context</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:gravity</span>=<span class=\"string\">\"center\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">style</span>=<span class=\"string\">\"@style/Widget.MaterialComponents.Button.OutlinedButton\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:text</span>=<span class=\"string\">\"snackbar\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/snackbar_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">style</span>=<span class=\"string\">\"@style/Widget.MaterialComponents.Button.OutlinedButton\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:text</span>=<span class=\"string\">\"AlertDialog\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/alert_dialog\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">com.google.android.material.floatingactionbutton.FloatingActionButton</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/fab\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_gravity</span>=<span class=\"string\">\"bottom|end\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_margin</span>=<span class=\"string\">\"16dp\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">app:srcCompat</span>=<span class=\"string\">\"@drawable/ic_laptop_windows_black_24dp\"</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">androidx.coordinatorlayout.widget.CoordinatorLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>ÂÆüË°å„Åô„Çã„Å®„Åì„Çì„Å™ÊÑü„Åò</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/58fff32c-b13c-7284-7f0c-38bb292ab384.png\" alt=\"Screenshot_20190726-035632_Material_Test.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20190726-035632_Material_Test.png</div>\n            </figure>\n\n\n<p>„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åó„ÅüÔºÅ<br>„Å©„ÅÜ„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÅåÊõ∏„ÅÑ„Å¶„ÇãÈÄî‰∏≠„Åß„Çµ„ÉñÊ©ü„ÅÆ‰∏≠Âè§„É¨„ÉÉ„ÉÑ„Éé„Éº„Éà„Åè„Çì„Åå„ÅÑ„Åç„Å™„Çä„Çà„Åè„Çè„Åã„Çâ„ÇìÁîªÈù¢„Å´„Å™„Çä„Åæ„Åó„Åü„ÅåÂÜçËµ∑Âãï„Åó„Åü„ÇâÁõ¥„Çä„Åæ„Åó„Åü„ÄÇ</p>\n","site":{"data":{}},"excerpt":"","more":"<p>„Åì„Çì„Å∞„Çì„ÅØ„ÄÇ<br>Ëô´ÔºàËõæÔºü„Åã„Å©„ÅÜ„Åã„ÇÇ„Çè„Åã„Çâ„ÇìÔºâ„ÅåÂÆ∂„Å´ÂÖ•„Å£„Å¶„Åç„Å¶ÊÄñ„ÅÑ„Åß„Åô„ÄÇ<br>‰ªäÂõû„ÅØ„Çø„Ç§„Éà„É´ÈÄö„ÇäMaterial Components„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Ç¢„ÉÉ„Éó„Çí„Åó„Å¶Ë¶ã„ÇãË©±„Åß„Åô„ÄÇ</p>\n<h1 id=\"„Å™„Åú„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„Åó„Åü„ÅÆ„Åã\"><a href=\"#„Å™„Åú„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„Åó„Åü„ÅÆ„Åã\" class=\"headerlink\" title=\"„Å™„Åú„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„Åó„Åü„ÅÆ„Åã\"></a>„Å™„Åú„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„Åó„Åü„ÅÆ„Åã</h1><p>A. Snackbar„ÅÆ‰ΩçÁΩÆ„ÇíFloating Action Button„ÅÆ‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Åü„Åã„Å£„Åü„Åã„Çâ„ÄÇ<br><a href=\"https://material.io/design/components/snackbars.html#placement\" target=\"_blank\" rel=\"noopener\">Snackbars„ÅÆ„Ç¨„Ç§„Éâ„É©„Ç§„É≥</a>„ÅÆ<br>Snackbars and floating action buttons (FABs)<br>„ÅßFAB„ÅÆ‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Çã„ÅÆ„ÅåÊ≠£„Åó„ÅÑ„Çâ„Åó„ÅÑ„ÄÇ<br>„Åù„Çå„ÅßÁúü‰ºº„Çà„ÅÜ„Å®ÊÄù„Å£„Åü„ÅÆ„Åß„Åô„Åå„ÄÅÂè§„ÅÑ„ÅÆ„Åã<code>setAnchorViewÔºà„Å©„ÅÆView„ÅÆ‰∏ä„Å´Ë°®Á§∫„Åï„Åõ„Çã„ÅãÔºüÔºâ</code>„ÅåË¶ã„Å§„Åã„Çâ„Å™„Åã„Å£„Åü„ÅÆ„Åß„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Çà„ÅÜ„Å®„ÅÑ„ÅÜ„ÅÆ„ÅåÁêÜÁî±„ÄÇ</p>\n<h1 id=\"„Å®„Åì„Çç„ÅßÊúÄÊñ∞„Éê„Éº„Ç∏„Éß„É≥„ÅØ„Å©„Åì„ÅßÁü•„Çå„Çã„ÅÆ„ÅãÔºü\"><a href=\"#„Å®„Åì„Çç„ÅßÊúÄÊñ∞„Éê„Éº„Ç∏„Éß„É≥„ÅØ„Å©„Åì„ÅßÁü•„Çå„Çã„ÅÆ„ÅãÔºü\" class=\"headerlink\" title=\"„Å®„Åì„Çç„ÅßÊúÄÊñ∞„Éê„Éº„Ç∏„Éß„É≥„ÅØ„Å©„Åì„ÅßÁü•„Çå„Çã„ÅÆ„ÅãÔºü\"></a>„Å®„Åì„Çç„ÅßÊúÄÊñ∞„Éê„Éº„Ç∏„Éß„É≥„ÅØ„Å©„Åì„ÅßÁü•„Çå„Çã„ÅÆ„ÅãÔºü</h1><p>„Åì„ÇåÔºü<br><a href=\"https://github.com/material-components/material-components-android/releases\" target=\"_blank\" rel=\"noopener\">https://github.com/material-components/material-components-android/releases</a></p>\n<p>‰ΩúÊàêÊó•ÊôÇ„Åß„ÅØ1.1.0-alpha08„ÅåÊúÄÊñ∞„Åß„Åô„ÅÆ„ÅßÂÖ•„Çå„Å¶„Åø„Çà„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ<br>ÊúÄÊÇ™GitHub„ÅÆ„Å°„Åã„ÇâÔºü„ÇíÂÄü„Çä„Å¶Êàª„Åõ„Å∞„ÅÑ„ÅÑ„ÅÆ„ÅßÊåëÊà¶„Åß„Åô„ÄÇ</p>\n<h1 id=\"build-gradle„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\"><a href=\"#build-gradle„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\" class=\"headerlink\" title=\"build.gradle„ÇíÊõ∏„ÅçÊèõ„Åà„Çã\"></a>build.gradle„ÇíÊõ∏„ÅçÊèõ„Åà„Çã</h1><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//implementation 'com.google.android.material:material:1.0.0'</span></span><br><span class=\"line\">implementation <span class=\"string\">'com.google.android.material:material:1.1.0-alpha08'</span></span><br></pre></td></tr></table></figure>\n<p>##Âá∫‰ºö„Å£„ÅüÂïèÈ°å</p>\n<p>###„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ„Ç®„É©„Éº<br>‰∏ã„ÅÆÊñπ„Å´Êõ∏„ÅÑ„Å¶„ÅÇ„Å£„Åü„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Caused by: java.lang.IllegalArgumentException: The style on this component requires your app theme to be Theme.MaterialComponents (or a descendant).</span><br></pre></td></tr></table></figure>\n\n<p>Ë™ø„Åπ„Çã„Å®„ÉÜ„Éº„Éû„ÅåTheme.MaterialComponentsÁ≥ª„Çí‰Ωø„Çè„Å™„ÅÑ„Å®„Å†„ÇÅ„Å†„ÇàÔºÅ„Å£„Å¶„Åì„Å®„Çâ„Åó„ÅÑ„Åß„Åô„ÄÇ<br>„Åì„Çå„ÇíËß£Ê±∫„Åô„ÇãÊñπÊ≥ï„ÅØ2„Å§„ÄÇ</p>\n<h4 id=\"Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºëÔºö„É¨„Ç§„Ç¢„Ç¶„ÉàÔºàxmlÔºâ„Éï„Ç°„Ç§„É´„ÅßË¶™„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ‰∏≠„Å´android-theme-quot-style-Theme-MaterialComponents-quot-„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ\"><a href=\"#Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºëÔºö„É¨„Ç§„Ç¢„Ç¶„ÉàÔºàxmlÔºâ„Éï„Ç°„Ç§„É´„ÅßË¶™„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ‰∏≠„Å´android-theme-quot-style-Theme-MaterialComponents-quot-„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ\" class=\"headerlink\" title=\"Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºëÔºö„É¨„Ç§„Ç¢„Ç¶„ÉàÔºàxmlÔºâ„Éï„Ç°„Ç§„É´„ÅßË¶™„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ‰∏≠„Å´android:theme=&quot;@style/Theme.MaterialComponents&quot;„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ\"></a>Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºëÔºö„É¨„Ç§„Ç¢„Ç¶„ÉàÔºàxmlÔºâ„Éï„Ç°„Ç§„É´„ÅßË¶™„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÅÆ‰∏≠„Å´<code>android:theme=&quot;@style/Theme.MaterialComponents&quot;</code>„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ</h4><p>„Åì„Çì„Å™ÊÑü„Åò„Å´</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:theme</span>=<span class=\"string\">\"@style/Theme.MaterialComponents\"</span>&gt;</span> <span class=\"comment\">&lt;!--„Åì„ÅÆË°å„Çí‰ªò„ÅëË∂≥„Åô„ÄÇ--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">com.google.android.material.textfield.TextInputLayout</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/name_TextInputLayout\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">style</span>=<span class=\"string\">\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">EditText</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/name_editText\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:importantForAutofill</span>=<span class=\"string\">\"no\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:inputType</span>=<span class=\"string\">\"textMultiLine\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:singleLine</span>=<span class=\"string\">\"true\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">com.google.android.material.textfield.TextInputLayout</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„Åß‰∏ÄÂøúÈÄö„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÄÇTextInputLayout„Å†„Åë‰Ωø„ÅÑ„Åü„ÅÑÔºÅÔºÅÔºÅ„Å®„Åã„ÅÆ„Å®„Åç„ÅØTextInputLayout„ÅÆ‰∏≠„Å´<code>android:theme=&quot;@style/Theme.MaterialComponents&quot;</code>„ÇíÊõ∏„ÅçË∂≥„Åõ„Å∞Â§ß‰∏àÂ§´„Åß„Åô„ÄÇ</p>\n<h5 id=\"„É°„É™„ÉÉ„Éà\"><a href=\"#„É°„É™„ÉÉ„Éà\" class=\"headerlink\" title=\"„É°„É™„ÉÉ„Éà\"></a>„É°„É™„ÉÉ„Éà</h5><p>„Åã„Çì„Åü„Çì„ÄÇTextInputLayout„Å†„Åë‰Ωø„ÅÑ„Åü„ÅÑ„Å™„Çì„Åã„ÅØ„Åì„Çå„Åß„ÅÑ„ÅÑÊ∞ó„Åå„Åô„Çã„ÄÇ<br>ÊîπÂñÑ„Åó„ÅüÊñπ„Åß„ÇÇ„ÅÜÊ∫ÄË∂≥„Åó„ÅüÊñπ„ÅØ„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô„ÄÇ</p>\n<h4 id=\"Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºíÔºöstyles-xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã„ÄÇ\"><a href=\"#Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºíÔºöstyles-xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã„ÄÇ\" class=\"headerlink\" title=\"Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºíÔºöstyles.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã„ÄÇ\"></a>Ëß£Ê±∫Á≠ñ„Åù„ÅÆÔºíÔºöstyles.xml„ÇíÊõ∏„ÅçÊèõ„Åà„Çã„ÄÇ</h4><p>stack overflow„Å™„Çì„Åã„Åß„ÅØ„Åì„Å£„Å°„ÅåÂ§ö„ÅÑ„Å≠„ÄÇ„Åß„ÇÇ<strong>„Åì„ÅÆÊñπÊ≥ï„ÅØÁµêÊßã„Åç„Å§„ÅÑ„ÄÇ</strong>„Å°„Å™„Åø„Å´ÁßÅ„ÅØ„Åì„Å£„Å°„Çí‰Ωø„Å£„Åü„ÄÇ<br>„Å™„Åú„Å™„Çâ„Ç¢„Éó„É™„ÅÆÂ§ñË¶≥„ÇíÁµêÊßãÂ§â„Åà„Çã„Åì„Å®„Å´„Å™„Çã„ÄÇ<br>Êõ∏„ÅçÊèõ„Åà„ÇãÂ†¥ÊâÄ„ÅØparent„ÅÆ„Å®„Åì„Çç„ÄÇ„Åì„ÅÜ„Åô„Çã<code>parent=&quot;Theme.MaterialComponents.Light.DarkActionBar&quot;</code>„ÄÇ<br>‰ª•‰∏ã‰æã„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- Base application theme. --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">name</span>=<span class=\"string\">\"AppTheme\"</span> <span class=\"attr\">parent</span>=<span class=\"string\">\"Theme.MaterialComponents.Light.DarkActionBar\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"comment\">&lt;!-- Customize your theme here. --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">item</span> <span class=\"attr\">name</span>=<span class=\"string\">\"colorPrimary\"</span>&gt;</span>@color/colorPrimary<span class=\"tag\">&lt;/<span class=\"name\">item</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">item</span> <span class=\"attr\">name</span>=<span class=\"string\">\"colorPrimaryDark\"</span>&gt;</span>@color/colorPrimary<span class=\"tag\">&lt;/<span class=\"name\">item</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">item</span> <span class=\"attr\">name</span>=<span class=\"string\">\"colorAccent\"</span>&gt;</span>@color/colorPrimaryDark<span class=\"tag\">&lt;/<span class=\"name\">item</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>„Å©„ÅÜ„Åß„Åó„Çá„ÅÜ„ÄÇÁµêÊßãÂ§â„Çè„Å£„Åü„Å®ÊÄù„ÅÑ„Åæ„Åô„ÇàÔºü</p>\n<p>„Åß„ÄÅ„Åì„Åì„Åã„Çâ„ÅØ<strong>Theme.MaterialComponents</strong>„Å®„ÅÆÊà¶„ÅÑ„Åß„Åô„ÄÇ</p>\n<h1 id=\"Theme-MaterialComponents-„Å´„Åó„Å¶Â§â„Çè„Å£„Åü„Å®„Åì„Çç„ÄÇ\"><a href=\"#Theme-MaterialComponents-„Å´„Åó„Å¶Â§â„Çè„Å£„Åü„Å®„Åì„Çç„ÄÇ\" class=\"headerlink\" title=\"Theme.MaterialComponents „Å´„Åó„Å¶Â§â„Çè„Å£„Åü„Å®„Åì„Çç„ÄÇ\"></a>Theme.MaterialComponents „Å´„Åó„Å¶Â§â„Çè„Å£„Åü„Å®„Åì„Çç„ÄÇ</h1><h2 id=\"ËâØ„Åã„Å£„Åü„Å®„Åì„Çç\"><a href=\"#ËâØ„Åã„Å£„Åü„Å®„Åì„Çç\" class=\"headerlink\" title=\"ËâØ„Åã„Å£„Åü„Å®„Åì„Çç\"></a>ËâØ„Åã„Å£„Åü„Å®„Åì„Çç</h2><ul>\n<li>Snackbar„ÅÆË°®Á§∫ÊñπÊ≥ï„ÅåÂ§â„Çè„Å£„Åü<ul>\n<li>‰∏ã„Åã„Çâ„Åô„Éº„Å£„Å®Ë°®Á§∫Ôºü‚Üí„Åµ„Çè„Å£„Å®Ë°®Á§∫Ôºü„Åô„ÇãÊÑü„Åò„Å´ÔºàËá™ÂàÜ„ÅßË¶ã„Åü„Åª„ÅÜ„Åå„ÅØ„ÇÑ„ÅÑÔºâ</li>\n<li>„Çπ„Éö„Éº„Çπ„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇÔºà‰∏ã„Å´Á©∫Èñì„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„ÅüÔºâ</li>\n</ul>\n</li>\n</ul>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/c8961ea9-1823-0c05-938a-be07d81428de.png\" alt=\"Screenshot_20190726-033304_Material_Test.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20190726-033304_Material_Test.png</div>\n            </figure>\n\n\n<p>„Åª„Åã„Å´„ÇÇ„ÅÇ„Çã„Åã„ÇÇ„Å†„Åë„Å©‰ªäÂõû„ÅØÊôÇÈñìÁÑ°„ÅÑ„ÅÆ„ÅßÈ£õ„Å∞„Åó„Åæ„Åô„ÄÇ</p>\n<h2 id=\"Áõ¥„ÅôÂøÖË¶Å„Åå„ÅÇ„Å£„Åü„Å®„Åì„Çç\"><a href=\"#Áõ¥„ÅôÂøÖË¶Å„Åå„ÅÇ„Å£„Åü„Å®„Åì„Çç\" class=\"headerlink\" title=\"Áõ¥„ÅôÂøÖË¶Å„Åå„ÅÇ„Å£„Åü„Å®„Åì„Çç\"></a>Áõ¥„ÅôÂøÖË¶Å„Åå„ÅÇ„Å£„Åü„Å®„Åì„Çç</h2><h3 id=\"Botton„Å´Background„ÅåË®≠ÂÆö„Åï„Çå„Å¶„Åó„Åæ„ÅÜÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï\"><a href=\"#Botton„Å´Background„ÅåË®≠ÂÆö„Åï„Çå„Å¶„Åó„Åæ„ÅÜÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï\" class=\"headerlink\" title=\"Botton„Å´Background„ÅåË®≠ÂÆö„Åï„Çå„Å¶„Åó„Åæ„ÅÜÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï\"></a>Botton„Å´Background„ÅåË®≠ÂÆö„Åï„Çå„Å¶„Åó„Åæ„ÅÜÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï</h3><p>ÂèÇËÄÉ<br><a href=\"https://stackoverflow.com/questions/52743190/when-use-theme-materialcomponents-light-noactionbar-style-set-button-background\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/52743190/when-use-theme-materialcomponents-light-noactionbar-style-set-button-background</a></p>\n<p>Button„ÅØButton„Åß„ÇÇ<code>androidx.appcompat.widget.AppCompatButton</code>„Å´Â§â„Åà„Å¶„ÅÇ„Åí„Çå„Å∞Ëß£Ê±∫„Åß„Åô„ÄÇ<br>‰øÆÊ≠£Ââç</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"snackbar\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/snackbar_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span>/&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>‰øÆÊ≠£Âæå</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">androidx.appcompat.widget.AppCompatButton</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"snackbar\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/snackbar_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span>/&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>„Å°„Å™„Åø„Å´ÁßÅ„ÅØBackground„Å´„Éú„Çø„É≥„ÅÆÊû†„Åå„Åß„Åç„ÇãÁî®„Å´Ë®≠ÂÆö„Åó„Å¶„Åü„Çì„Åß„Åô„Åë„Å©„Éª„Éª</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">„ÇíÊåáÂÆö„Åô„Çå„Å∞Êû†„Åå„Å§„Åè„ÅÆ„ÅßÁßÅ„ÅØstyle„ÇíÊõ∏„ÅçË∂≥„ÅôÂΩ¢„ÅßÂØæÂøú„Åó„Åæ„Åó„Åü„ÄÇ„Åì„Çå„Å†„Å®Êäº„Åó„ÅüÊôÇ„Å´Ê≥¢Á¥ã„ÇÇÂá∫„Çã„ÅÆ„Åß„ÅÑ„ÅÑÊÑü„Åò„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">![Screenshot_20190726-033945_Material_Test.png](https:&#x2F;&#x2F;qiita-image-store.s3.ap-northeast-1.amazonaws.com&#x2F;0&#x2F;409918&#x2F;1885d4f0-9209-6fa8-bb9c-7cf767fb838a.png)</span><br><span class=\"line\"></span><br><span class=\"line\">### AlertDialog„ÅÆ„Éú„Çø„É≥„Åå„Åä„Åã„Åó„Åè„Å™„ÇãÂïèÈ°å„ÅÆËß£Ê±∫ÊñπÊ≥ï</span><br><span class=\"line\">ÂèÇËÄÉ„Å´„Åó„Åæ„Åó„Åü„ÄÇ</span><br><span class=\"line\">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;52829954&#x2F;materialcomponents-theme-alert-dialog-buttons</span><br><span class=\"line\"></span><br><span class=\"line\">„Åì„ÅÆÊßò„Å´„Å™„Å£„Å¶„ÇãÂ†¥Âêà„ÅØ</span><br><span class=\"line\">![Screenshot_20190726-034620_Material_Test.png](https:&#x2F;&#x2F;qiita-image-store.s3.ap-northeast-1.amazonaws.com&#x2F;0&#x2F;409918&#x2F;64e01862-f158-3d59-2c7f-73f72d50fee9.png)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">„Ç§„É≥„Éù„Éº„Éà„ÅÆÈÉ®ÂàÜ„Åã„Çâ&#96;&#96;&#96;import android.app.AlertDialog&#96;&#96;&#96;„ÇíË¶ã„Å§„Åë„Å¶„Åç„Å¶„Åù„Çå„Çí&#96;&#96;&#96;import androidx.appcompat.app.AlertDialog&#96;&#96;&#96;„Å´Êõ∏„ÅçÊèõ„Åà„Çå„Å∞Áõ¥„Çä„Åæ„Åô„ÄÇ</span><br><span class=\"line\"></span><br><span class=\"line\">&#96;&#96;&#96;kotlin</span><br><span class=\"line\">&#x2F;&#x2F;import android.app.AlertDialog</span><br><span class=\"line\">import androidx.appcompat.app.AlertDialog</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßÂ§ß‰∏àÂ§´„Åù„ÅÜ„Åß„Åô„Å≠„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/f2a18f6c-513e-0537-e91c-356ca25407aa.png\" alt=\"Screenshot_20190726-035018_Material_Test.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20190726-035018_Material_Test.png</div>\n            </figure>\n\n<p>‰ªä„ÅÆ„Å®„Åì„Çç„ÅØ„Åì„Çì„Å™ÊÑü„Åò„Åß„Åô„Å≠„ÄÇ</p>\n<h1 id=\"„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô\"><a href=\"#„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô\" class=\"headerlink\" title=\"„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô\"></a>„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åô</h1><p>ÊúÄÂæå„Å´ÁßÅ„ÅÆ„ÇÑ„Çä„Åü„Åã„Å£„ÅüFAB„ÅÆ‰∏ä„Å´Snackbar„ÇíÂá∫„Åô„ÇÑ„ÇäÊñπ„ÇíÊõ∏„ÅÑ„Å¶ÁµÇ„Çè„Çç„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ<br>„ÇÑ„ÇäÊñπ„ÅØÊôÆÈÄö„Å´Snackbar„Çí‰Ωú„Çä„ÄÅ<code>setAnchorView</code>„ÅÆ„Ç´„ÉÉ„Ç≥„ÅÆ‰∏≠„Å´FAB„ÇÑSnackbar„ÅÆ‰∏ã„Å´„Å™„ÇãView„ÇíÂÖ•„Çå„Å¶„ÅÇ„Åí„Çå„Å∞„Åä„Å£„Åë„Éº„Åß„Åô„ÄÇ<br>‰æã„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        snackbar_button.setOnClickListener &#123;</span><br><span class=\"line\">            Snackbar.make(findViewById(android.R.id.content), <span class=\"string\">\"„Åô„Å™„Å£„Åè„Å∞„ÉºÔºÅ\"</span>, Snackbar.LENGTH_LONG).show()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        alert_dialog.setOnClickListener &#123;</span><br><span class=\"line\">            AlertDialog.Builder(<span class=\"keyword\">this</span>)</span><br><span class=\"line\">                .setTitle(<span class=\"string\">\"„Éú„Çø„É≥„Åå\"</span>)</span><br><span class=\"line\">                .setMessage(<span class=\"string\">\"„Åä„Åã„Åó„Åè„Å™„ÅÑÔºÅÔºÅÔºÅ\"</span>)</span><br><span class=\"line\">                .setPositiveButton(<span class=\"string\">\"„Åì„Çå„Åß„ÅÑ„ÅÑ\"</span>) &#123; dialogInterface: DialogInterface, i: <span class=\"built_in\">Int</span> -&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                .setNegativeButton(<span class=\"string\">\"„Å†„ÅÑ„Åò„Çá„ÅÜ„Å∂\"</span>, <span class=\"literal\">null</span>)</span><br><span class=\"line\">                .show();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        fab.setOnClickListener &#123;</span><br><span class=\"line\">            <span class=\"keyword\">val</span> snackbar = Snackbar.make(fab,<span class=\"string\">\"„Éú„Çø„É≥„ÅÆ‰∏ä„Åã„Çâ„Åì„Çì„Å´„Å°„ÅØ\"</span>,Snackbar.LENGTH_LONG)</span><br><span class=\"line\">            snackbar.anchorView = fab</span><br><span class=\"line\">            snackbar.show()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„É¨„Ç§„Ç¢„Ç¶„Éà</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">androidx.coordinatorlayout.widget.CoordinatorLayout</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">tools:context</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:gravity</span>=<span class=\"string\">\"center\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">style</span>=<span class=\"string\">\"@style/Widget.MaterialComponents.Button.OutlinedButton\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:text</span>=<span class=\"string\">\"snackbar\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/snackbar_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">style</span>=<span class=\"string\">\"@style/Widget.MaterialComponents.Button.OutlinedButton\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:text</span>=<span class=\"string\">\"AlertDialog\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/alert_dialog\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">com.google.android.material.floatingactionbutton.FloatingActionButton</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/fab\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_gravity</span>=<span class=\"string\">\"bottom|end\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">android:layout_margin</span>=<span class=\"string\">\"16dp\"</span></span></span><br><span class=\"line\"><span class=\"tag\">            <span class=\"attr\">app:srcCompat</span>=<span class=\"string\">\"@drawable/ic_laptop_windows_black_24dp\"</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">androidx.coordinatorlayout.widget.CoordinatorLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>ÂÆüË°å„Åô„Çã„Å®„Åì„Çì„Å™ÊÑü„Åò</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/58fff32c-b13c-7284-7f0c-38bb292ab384.png\" alt=\"Screenshot_20190726-035632_Material_Test.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20190726-035632_Material_Test.png</div>\n            </figure>\n\n\n<p>„ÅäÁñ≤„Çå„Åï„Åæ„Åß„Åó„ÅüÔºÅ<br>„Å©„ÅÜ„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÅåÊõ∏„ÅÑ„Å¶„ÇãÈÄî‰∏≠„Åß„Çµ„ÉñÊ©ü„ÅÆ‰∏≠Âè§„É¨„ÉÉ„ÉÑ„Éé„Éº„Éà„Åè„Çì„Åå„ÅÑ„Åç„Å™„Çä„Çà„Åè„Çè„Åã„Çâ„ÇìÁîªÈù¢„Å´„Å™„Çä„Åæ„Åó„Åü„ÅåÂÜçËµ∑Âãï„Åó„Åü„ÇâÁõ¥„Çä„Åæ„Åó„Åü„ÄÇ</p>\n"},{"title":"„ÄêAndroid / MediaProjection / Kotlin„ÄëAndroid„ÅßÁîªÈù¢Èå≤Áîª„Çí„Åô„Çã","author":"takusan_23","slide":false,"_content":"„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„ÅØ„ÄÇ„ÉÜ„Çπ„ÉàÊúüÈñì„Å§„Çâ„ÅÑ„ÄÇ\n‰ªäÂõû„ÅØÁîªÈù¢„ÇíÈå≤Áîª„Åß„Åç„Çã„Ç¢„Éó„É™„Çí‰Ωú„Å£„Å¶„Åø„Çà„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n## ÁîªÈù¢Èå≤Áîª„ÅÆÊ≠¥Âè≤Ôºü\n„Åì„Åì„Åß„ÅØRootÂåñ„ÅßÂà©Áî®„Åß„Åç„ÇãÁîªÈù¢Èå≤Áîª„ÅØ„Å™„Åó„ÅÆÊñπÂêë„Åß„ÄÇRootÂèñ„Çå„Å∞ÂÜÖÈÉ®Èü≥Â£∞„ÅåÂèñ„Çå„Çã„Å£„Å¶ËÅû„ÅÑ„Åü„Åì„Å®„ÅÇ„Çã„ÄÇ\n„ÅÇ„Å®Â§ñÈÉ®Âá∫ÂäõÁ´ØÂ≠ê„ÇíÂà©Áî®„Åó„Å¶Èå≤Áîª„Åô„ÇãË©±„ÇÇ„Å™„Åó„ÅÆÊñπÂêë„Åß„ÄÇ\nÁßÅ„ÅåÁü•„Å£„Å¶„ÇãÈôê„Çä„Åß„ÅØ\n\nXperia Z3 / Z3 Compact „Åß„Çπ„ÇØ„É™„Éº„É≥„É¨„Ç≥„Éº„ÉÄ„Éº„ÅåÊê≠Ëºâ„Åï„Çå„ÅüÔºà4.4Ôºâ„ÄÇ\nÔºà„Åß„Åô„Åå„ÅÑ„Å§„ÅÆÈñì„Å´„Åã„Çπ„ÇØ„É™„Éº„É≥„É¨„Ç≥„Éº„ÉÄ„ÉºÊ©üËÉΩ„ÅØ„Å™„Åè„Å™„Å£„Åü„Åù„ÅÜ„Åß„Åô„ÄÇÔºàXperia 1„ÅßÂæ©Ê¥ª„Åó„Åü„Çâ„Åó„ÅÑÔºâÔºâ\nÔºà„ÅÇ„Å®„Çπ„É¢„Éº„É´„Ç¢„Éó„É™„Å®„Åã„Å©„ÅìË°å„Å£„Åü„ÅÆÔºüÔºâ\n‚Üì\n5.0„Åß„ÄåMediaProjection API„Äç„ÅåËøΩÂä†„Åï„Çå„Å¶„Çµ„Éº„Éâ„Éë„Éº„ÉÜ„Ç£„Ç¢„Éó„É™„Åß„ÇÇÈå≤Áîª„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇ\nGoogle Play „Ç≤„Éº„É†„ÅßÁîªÈù¢Èå≤ÁîªÊ©üËÉΩ„ÅåËøΩÂä†„Åï„Çå„Åü„Çä„Åó„Åü„ÄÇ\n„Åó„Åã„Åó„Åì„ÅÆÊâã„ÅÆÁîªÈù¢Èå≤Áîª„Ç¢„Éó„É™„ÅØÈü≥Â£∞„Çí„Éû„Ç§„ÇØ„Åã„ÇâÊíÆ„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅßÁ´ØÊú´„ÅÆÈü≥‰ª•Â§ñ„ÅåÂÖ•„Å£„Å¶„Åó„Åæ„ÅÜ„ÄÇ\n‚Üì\nÔºàSamsung„Å®„Åã„ÅåÂÜÖÈÉ®Èü≥Â£∞„ÅåÂèñ„Çå„Çã„Ç¢„Éó„É™„ÇíÁã¨Ëá™„ÅßËøΩÂä†„Åó„Å¶„ÅÑ„Çã„Çâ„Åó„ÅÑÔºüÔºâ\n‚Üì\n10.0„ÅßÁ´ØÊú´„ÅÆÂÜÖÈÉ®Èü≥Â£∞„ÇíÂèñ„Çå„Çã„ÄåAudioPlaybackCapture API„Äç„ÅåËøΩÂä†„Åï„Çå„Åü„ÄÇ\n‰ªäÂõû„ÅØËß¶„Çå„Åæ„Åõ„Çì„ÄÇ„Å®„ÅÑ„ÅÜ„ÅãÂÆüË£ÖÊñπÊ≥ï„Åå„Çè„Åã„Çâ„Å™„Åã„Å£„Åü„ÄÇÊÆãÂøµ„ÄÇüò•\n\n## Á´ØÊú´Á¥π‰ªã\n|                   |            |\n|-------------------|------------|\n| Á´ØÊú´              | Pixel 3 XL |\n| Android„Éê„Éº„Ç∏„Éß„É≥ | 10         |\n| compileSdkVersion | 29         |\n\n## ‰Ωú„Çã„ÇÇ„ÅÆ\nÁîªÈù¢Èå≤Áîª„Åó„Å¶mp4„Åß‰øùÂ≠ò„Åô„Çã„ÄÇ\nÈü≥Â£∞„ÅØ„Éû„Ç§„ÇØ„Åã„ÇâÂèñ„Çã„Åì„Å®„Å´„Åô„Çã„ÄÇ\n\n\n# ÂÆüË£Ö\nÊú¨È°å„Åß„Åô„ÄÇ„Åì„Åì„Åæ„ÅßÈï∑„Åã„Å£„Åü„Å≠„ÄÇ\n## Android 10„Åß„ÇÇÂãï„Åè„Çà„ÅÜ„Å´\n‰øùÂ≠òÂÖà„ÇíÂØæË±°ÁØÑÂõ≤Âà•„Çπ„Éà„É¨„Éº„Ç∏„Å´„Åô„Çã„ÄÇ\nService„Å´Android 10„Åã„ÇâËøΩÂä†„Åï„Çå„ÅüÂ±ûÊÄß„ÄåforegroundServiceType„Äç„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ\n## ÊµÅ„Çå\n\nÊ®©Èôê„Åå„ÅÇ„Çã„ÅãÁ¢∫Ë™ç„Åô„ÇãÔºà„Éû„Ç§„ÇØ„ÅÆÈå≤Èü≥Ôºâ\n‚Üì\nÁîªÈù¢Èå≤Áîª„Åó„Å¶„ÅÑ„ÅÑ„ÅãËÅû„Åè„ÄÇ\n‚Üì\nË®±ÂèØ„ÅåÂæó„Çâ„Çå„Åü„ÇâService„ÇíËµ∑Âãï„Åô„Çã„ÄÇ\n‚Üì\nService„ÅÆ‰∏≠„ÅßÁîªÈù¢Èå≤Áîª„ÇíË°å„ÅÜ„ÄÇ\n\nService„ÅåÁµÇ‰∫Ü„Åô„Çã„Å®ÂêåÊôÇ„Å´Èå≤Áîª„ÇÇÁµÇ‰∫Ü„Åï„Åõ„Çã„ÄÇ\n\n## „É¨„Ç§„Ç¢„Ç¶„Éà\nActivity„ÅØMainActivity„Å†„Åë„Åß„Åô„ÄÇ\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\">\n\n\n    <Button\n        android:id=\"@+id/rec_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Èå≤Áîª\" />\n\n    <Button\n        android:id=\"@+id/stop_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"ÂÅúÊ≠¢\" />\n</LinearLayout>\n```\n\n## Manifest\nÂøÖË¶Å„Å™Ê®©Èôê„ÅØ\n\n| Ê®©Èôê               | Ë™¨Êòé                 |\n|--------------------|----------------------|\n| FOREGROUND_SERVICE | „Çµ„Éº„Éì„Çπ„ÅÆÂÆüË°å„Å´ÂøÖË¶Å |\n| RECORD_AUDIO       | „Éû„Ç§„ÇØ„Çí‰Ωø„ÅÜ„ÅÆ„Å´ÂøÖË¶Å |\n\n„Åì„ÅÆÊÆµÈöé„Åß„ÅØ„ÄåScreenRecordService„Äç„ÅØ‰ΩúÊàê„Åó„Å¶„Å™„ÅÑ„ÅÆ„ÅßËµ§„Åè„Å™„Çã„Åë„Å©Âæå„Åß‰Ωú„Çã„ÅÆ„Åß„ÅäÔΩã„ÄÇ\n**android:foregroundServiceType=\"mediaProjection\"**„ÇíÂøò„Çå„Åö„Å´\n\n```xml:AndroidManifest.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"io.github.takusan23.screenrecordsample\">\n\n    <uses-permission android:name=\"android.permission.FOREGROUND_SERVICE\"/>\n    <uses-permission android:name=\"android.permission.RECORD_AUDIO\"/>\n\n    <application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\">\n        <activity android:name=\".MainActivity\">\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n        <service android:name=\".ScreenRecordService\" android:foregroundServiceType=\"mediaProjection\"/>\n    </application>\n\n</manifest>\n```\n\n## Ê®©Èôê„Çí„ÇÇ„Çâ„ÅÜ\nÈå≤Áîª„ÅÆ„Éú„Çø„É≥„ÇíÊäº„Åó„Åü„Çâ„Åæ„Åö„Éû„Ç§„ÇØ„Å∏„ÅÆ„Ç¢„ÇØ„Çª„ÇπÊ®©„Åå„ÅÇ„Çã„ÅãÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ\n„Å™„ÅÑÂ†¥Âêà„ÅØÊ®©Èôê„Çí„É™„ÇØ„Ç®„Çπ„Éà„Åô„Çã„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíË°®Á§∫„Åï„Åõ„Åæ„Åô„ÄÇ\n\nÊ®©Èôê„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅØÈå≤Áîª„ÇíÈñãÂßã„Åô„Çã„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíË°®Á§∫„Åï„Åõ„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity.kt\n    //„É™„ÇØ„Ç®„Çπ„Éà„ÅÆÁµêÊûú\n    val code = 512\n    val permissionCode = 810\n    lateinit var projectionManager: MediaProjectionManager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        projectionManager =\n            getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager\n\n        //ÁîªÈù¢Èå≤Áîª„Çí„Åó„Å¶„ÇÇ„ÅÑ„ÅÑ„ÅãËÅû„Åè\n        rec_button.setOnClickListener {\n            //„Åù„ÅÆÂâç„Å´„Éû„Ç§„ÇØ„Å∏„Ç¢„ÇØ„Çª„Çπ„Åó„Å¶„ÅÑ„ÅÑ„ÅãÂ∞ã„Å≠„Çã\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO)\n                != PackageManager.PERMISSION_GRANTED\n            ) {\n                requestPermissions(arrayOf(Manifest.permission.RECORD_AUDIO), permissionCode)\n            } else {\n                //„Éû„Ç§„ÇØ„ÅÆÊ®©Èôê„Åå„ÅÇ„Çã„ÅÆ„ÅßÁîªÈù¢Èå≤Áîª„É™„ÇØ„Ç®„Çπ„Éà\n                //„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíÂá∫„Åô\n                startActivityForResult(projectionManager.createScreenCaptureIntent(), code)\n            }\n        }\n        //ÂÅúÊ≠¢„Éú„Çø„É≥„ÅßÊ≠¢„ÇÅ„Çâ„Çå„Çã„Çà„ÅÜ„Å´\n        stop_button.setOnClickListener {\n            val intent = Intent(this, ScreenRecordService::class.java)\n            stopService(intent)\n        }\n    }\n\n    //Ê®©Èôê„ÅÆÁµêÊûúÂèó„ÅëÂèñ„Çã\n    override fun onRequestPermissionsResult(\n        requestCode: Int,\n        permissions: Array<out String>,\n        grantResults: IntArray\n    ) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n        if (requestCode == permissionCode) {\n            //„Éû„Ç§„ÇØ„Å∏„Ç¢„ÇØ„Çª„ÇπÊ®©„Åí„Å£„Å®\n            Toast.makeText(this, \"Ê®©Èôê„Åå‰ªò‰∏é„Åï„Çå„Åæ„Åó„Åü„ÄÇ\", Toast.LENGTH_SHORT).show()\n        }\n    }\n```\n\n## ÁîªÈù¢Èå≤Áîª„Çí„Åô„ÇãService„ÇíËµ∑Âãï„Åï„Åõ„Çã\n„Å®„Åì„Çç„ÅßAndroid„ÅÆÁîªÈù¢Èå≤Áîª„Çí„Åô„Çã„Ç≥„Éº„Éâ„Å®„Åã„Çí„ÅÑ„Çç„ÅÑ„ÇçÂèÇËÄÉ„Å´„Åó„Åü„Çè„Åë„Åß„Åô„Åå„ÄÅAndroid 10„ÅßËøΩÂä†„Åï„Çå„ÅüÂ±ûÊÄß„ÄåforegroundServiceType„Äç„ÅÆ„Åõ„ÅÑ„ÅãActivity„Åß„ÅØÁîªÈù¢Èå≤Áîª„ÅåÂá∫Êù•„Å™„ÅÑ„Å£„ÅΩ„ÅÑ„Çì„Åß„Åô„Çà„Å≠„ÄÇ\n„Å™„ÅÆ„Åß‰ªïÊñπ„Å™„ÅèService„Åß„ÄÇ„Åæ„ÅÇService„ÅßÂÆüË£Ö„Åó„Åü„Åª„ÅÜ„ÅåÂ∫É„Åè‰Ωø„Åà„Åù„ÅÜ„Å†„ÇÇ„Çì„Å≠„ÄÇ\n\nMainActivity.kt„Å´„ÄåonActivityResult„Äç„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity.kt\n    //ÁîªÈù¢Èå≤Áîª„ÅÆÂêàÂê¶„ÇíÂèó„ÅëÂèñ„Çã\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        //ÊàêÂäüÔºãÁµêÊûú„ÅåÁîªÈù¢Èå≤Áîª„ÅÆÁâ©„Åã\n        if (resultCode == Activity.RESULT_OK && requestCode == code) {\n            //ServiceËµ∑Âãï\n            //Manifest„Å´„Äåandroid:foregroundServiceType=\"mediaProjection\"„Äç„Çí‰ªò„ÅëË∂≥„Åó„Å¶„Åä„Åè\n            val intent = Intent(this, ScreenRecordService::class.java)\n            intent.putExtra(\"code\", resultCode) //ÂøÖË¶Å„Å™„ÅÆ„ÅØÁµêÊûú„ÄÇstartActivityForResult„ÅÆrequestCode„Åß„ÅØ„Å™„ÅÑ„ÄÇ\n            intent.putExtra(\"data\", data)\n            //ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï„ÇÇ‰∏ÄÁ∑í„Å´ÂÖ•„Çå„Çã\n            val metrics = resources.displayMetrics;\n            intent.putExtra(\"height\", metrics.heightPixels)\n            intent.putExtra(\"width\", metrics.widthPixels)\n            intent.putExtra(\"dpi\", metrics.densityDpi)\n\n            startForegroundService(intent)\n        }\n    }\n```\n## Service‰ΩúÊàê\n„Åù„Çå„Åã„Çâ„ÄåScreenRecordService.kt„Äç„Çí‰ΩúÊàê„Åó„Å¶‰∏ã„Åï„ÅÑ„ÄÇ\n‰ΩúÊàê„Åó„Åü„Çâ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„ÄÇ\nsetSmallIcon„ÅåËµ§„Åè„Å™„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ„Åì„Çå„ÅØ„Éô„ÇØ„Çø„Éº„Ç¢„Çª„ÉÉ„Éà„Åã„ÇâËøΩÂä†„Åó„Åü„Åü„ÇÅ„Åß„Åô„ÄÇ\n„Å™„ÅÆ„ÅßÁîªÂÉè„ÅÆ„Çà„ÅÜ„Å´„Åó„Å¶Ë¶ã„Å§„Åë„Å¶‰∏ã„Åï„ÅÑ„ÄÇ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/f504e4f1-57ae-e459-8f51-eb96af80bfea.png)\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/ebe8ef29-bd69-3afc-6aec-100a92f9322f.png)\n\n```kotlin:ScreenRecordService.kt\nclass ScreenRecordService : Service() {\n    //Intent„Å´Ë©∞„ÇÅ„Åü„Éá„Éº„Çø„ÇíÂèó„ÅëÂèñ„Çã\n    var data: Intent? = null\n    var code = Activity.RESULT_OK\n\n    //ÁîªÈù¢Èå≤Áîª„Åß‰Ωø„ÅÜ\n    lateinit var mediaRecorder: MediaRecorder\n    lateinit var projectionManager: MediaProjectionManager\n    lateinit var projection: MediaProjection\n    lateinit var virtualDisplay: VirtualDisplay\n\n    //ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï\n    //Pixel 3 XL„Å†„Å®„Å™„Çì„Åã„Åä„Åã„Åó„Åè„Å™„Çã\n    var height = 2800\n    var width = 1400\n    var dpi = 1000\n\n\n    override fun onBind(p0: Intent?): IBinder? {\n        return null\n    }\n\n    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n\n        //„Éá„Éº„ÇøÂèó„ÅëÂèñ„Çã\n        data = intent?.getParcelableExtra(\"data\")\n        code = intent?.getIntExtra(\"code\", Activity.RESULT_OK) ?: Activity.RESULT_OK\n\n        //ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï\n        //   height = intent?.getIntExtra(\"height\", 1000) ?: 1000\n        //   width = intent?.getIntExtra(\"width\", 1000) ?: 1000\n        dpi = intent?.getIntExtra(\"dpi\", 1000) ?: 1000\n\n        //ÈÄöÁü•„ÇíÂá∫„Åô„ÄÇ\n        val notificationManager =\n            getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        //ÈÄöÁü•„ÉÅ„É£„É≥„Éç„É´\n        val channelID = \"rec_notify\"\n        //ÈÄöÁü•„ÉÅ„É£„É≥„Éç„É´„ÅåÂ≠òÂú®„Åó„Å™„ÅÑ„Å®„Åç„ÅØÁôªÈå≤„Åô„Çã\n        if (notificationManager.getNotificationChannel(channelID) == null) {\n            val channel =\n                NotificationChannel(channelID, \"Èå≤Áîª„Çµ„Éº„Éì„ÇπËµ∑Âãï‰∏≠ÈÄöÁü•\", NotificationManager.IMPORTANCE_HIGH)\n            notificationManager.createNotificationChannel(channel)\n        }\n        //ÈÄöÁü•‰ΩúÊàê\n        val notification = Notification.Builder(applicationContext, channelID)\n            .setContentText(\"Èå≤Áîª‰∏≠„Åß„Åô„ÄÇ\")\n            .setContentTitle(\"ÁîªÈù¢Èå≤Áîª\")\n            .setSmallIcon(R.drawable.ic_cast_black_24dp)    //„Ç¢„Ç§„Ç≥„É≥„ÅØ„Éô„ÇØ„Çø„Éº„Ç¢„Çª„ÉÉ„Éà„Åã„Çâ\n            .build()\n\n        startForeground(1, notification)\n\n        //Èå≤ÁîªÈñãÂßã\n        startRec()\n\n        return START_NOT_STICKY\n    }\n\n    //ServiceÁµÇ‰∫Ü„Å®ÂêåÊôÇ„Å´Èå≤ÁîªÁµÇ‰∫Ü\n    override fun onDestroy() {\n        super.onDestroy()\n        stopRec()\n    }\n\n}\n```\n\n## ÁîªÈù¢Èå≤Áîª\nScreenRecordService.kt„Å´‰ªò„ÅëË∂≥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n„Åì„Åì„ÅØ„Çà„Åè„Çè„Åã„Çâ„Çì„ÅÆ„Åß„ÅÇ„Åæ„ÇäË®Ä„Åà„Åæ„Åõ„Çì„Åå„ÄÅ„ÄåsetVideoEncodingBitRate„Äç„ÇíÈ´ò„Åè„Åô„Çå„Å∞ÁîªË≥™„Ç¢„ÉÉ„ÉóÔºÜ„Éï„Ç°„Ç§„É´„Çµ„Ç§„Ç∫„Ç¢„ÉÉ„Éó„Åß„Åô„ÄÇ\n„Éï„Ç°„Ç§„É´Âêç„ÅØÊï∞Â≠ó.mp4„Å´„Å™„Çä„Åæ„Åô„ÄÇ```${System.currentTimeMillis()}.mp4```„ÅÆÈÉ®ÂàÜ„Åå„Éï„Ç°„Ç§„É´Âêç„Å´„Å™„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅßÂ§â„Åà„Åü„ÅÑÂ†¥Âêà„ÅØ„Å©„ÅÜ„Åû„ÄÇ\n‰øùÂ≠òÂÖà„ÅØ**Android/data/io.github.takusan23.screenrecordsample/file**„ÅÆ‰∏≠„Åß„Åô„ÄÇ\n\n\n```kotlin:ScreenRecordService.kt\n    //Èå≤ÁîªÈñãÂßã\n    fun startRec() {\n        if (data != null) {\n            projectionManager =\n                getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager\n            //code„ÅØActivity.RESULT_OK„Å®„Åã„ÅåÂÖ•„Çã„ÄÇ\n            projection =\n                projectionManager.getMediaProjection(code, data!!)\n\n            mediaRecorder = MediaRecorder()\n            mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC)\n            mediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE)\n            mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4)\n            mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264)\n            mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB)\n            mediaRecorder.setVideoEncodingBitRate(1080 * 10000) //1080„ÅØ512„Åê„Çâ„ÅÑ„Å´„Åó„Å®„ÅÑ„Åü„Åª„ÅÜ„ÅåÂ∞è„Åï„Åè„Åß„Åç„Çã\n            mediaRecorder.setVideoFrameRate(30)\n            mediaRecorder.setVideoSize(width, height)\n            mediaRecorder.setAudioSamplingRate(44100)\n            mediaRecorder.setOutputFile(getFilePath())\n            mediaRecorder.prepare()\n\n            virtualDisplay = projection.createVirtualDisplay(\n                \"recode\",\n                width,\n                height,\n                dpi,\n                DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,\n                mediaRecorder.surface,\n                null,\n                null\n            )\n\n            //ÈñãÂßã\n            mediaRecorder.start()\n        }\n    }\n\n    //Èå≤ÁîªÊ≠¢„ÇÅ„Çã\n    fun stopRec() {\n        mediaRecorder.stop()\n        mediaRecorder.release()\n        virtualDisplay.release()\n        projection.stop()\n    }\n\n    //‰øùÂ≠òÂÖàÂèñÂæó„ÄÇ‰ªäÂõû„ÅØÂØæË±°ÁØÑÂõ≤Âà•„Çπ„Éà„É¨„Éº„Ç∏„Å´‰øùÂ≠ò„Åô„Çã\n    fun getFilePath(): File {\n        //ScopedStorage„Åß‰Ωú„Çâ„Çå„Çã„Çµ„É≥„Éâ„Éú„ÉÉ„ÇØ„Çπ„Å∏„ÅÆ„Å±„Åô\n        val scopedStoragePath = getExternalFilesDir(null)\n        //ÂÜôÁúü„Éï„Ç°„Ç§„É´‰ΩúÊàê\n        val file = File(\"${scopedStoragePath?.path}/${System.currentTimeMillis()}.mp4\")\n        return file\n    }\n```\n\n## ÂÆåÊàêÔºÅ\nÈñãÂßã„Éú„Çø„É≥Êäº„Åó„Åü„ÄÇ\n![Screenshot_20191010-200940.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/8942a6c6-0950-3c74-128a-a0fed4934bab.png)\n\n„Äå‰ªä„Åô„ÅêÈñãÂßã„Äç„ÇíÊäº„Åó„Åü„ÄÇ\n„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ„Éê„Ç§„Éñ„Ç¢„Ç§„Ç≥„É≥„ÅÆÈö£„Å´„Ç≠„É£„Çπ„Éà‰∏≠„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÅåÂá∫„Å¶„Åæ„Åô„Å≠„ÄÇ\n![Screenshot_20191010-200946.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/174fed18-0694-8111-6287-94f26c3bfd7b.png)\n\nÂÅúÊ≠¢„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶‰ΩúÊàê„Åó„ÅüÂãïÁîª„Éï„Ç°„Ç§„É´„ÇíË¶ã„Åü\n![Screenshot_20191010-201017.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/62653173-7209-4a74-9ff6-63f8eb695d83.png)\n\n## Pixel 3 XL „ÅßÈÅ≠ÈÅá„Åó„ÅüÂïèÈ°å\n### ÂãïÁîª„ÅÆÂ§ß„Åç„Åï„Åå„Åä„Åã„Åó„ÅÑÂïèÈ°å\n„Çà„Åè„Çè„Åã„Çâ„Å™„ÅÑ„ÅÆ„Åß‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´Êõ∏„ÅçÊèõ„Åà„Å¶„Åä„Åç„Åæ„Åó„Åü„ÄÇ\nÊú¨Êù•„ÅØ„Åì„ÅÆÂÄ§„ÇíÂõ∫ÂÆö„Åô„Çã„Åπ„Åç„Åß„ÅØÁÑ°„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÅåPixel 3 XL„Åß„Åó„ÅãÂãï„Åã„Åï„Å™„ÅÑ„ÅÆ„ÅßÂà•„Å´„ÅÑ„ÅÑ„ÇÑ„ÄÇ\n\n```kotlin:ScreenRecordService.kt\n    //ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï\n    //Pixel 3 XL„Å†„Å®„Å™„Çì„Åã„Åä„Åã„Åó„Åè„Å™„Çã\n    var height = 2800\n    var width = 1400\n    var dpi = 1000\n\n   //‰ª•‰∏ãÁúÅÁï•\n\n    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n\n        //„Éá„Éº„ÇøÂèó„ÅëÂèñ„Çã\n        data = intent?.getParcelableExtra(\"data\")\n        code = intent?.getIntExtra(\"code\", Activity.RESULT_OK) ?: Activity.RESULT_OK\n\n        //ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï\n        //   height = intent?.getIntExtra(\"height\", 1000) ?: 1000\n        //   width = intent?.getIntExtra(\"width\", 1000) ?: 1000\n        dpi = intent?.getIntExtra(\"dpi\", 1000) ?: 1000\n\n       //‰ª•‰∏ãÁúÅÁï•\n```\n\n## ÂÜÖÈÉ®Èü≥Â£∞„ÅØÂèñ„Çå„Å™„ÅÑ„ÅÆÔºü\nAndroid 10„Åã„Çâ„ÄåAudioPlaybackCapture API„Äç„ÅåËøΩÂä†„Åï„Çå„Åæ„Åó„Åü„Åå\nÂÜÖÈÉ®Èü≥Â£∞„ÅØMediaRecorder„Åß„ÅØ„Å™„ÅèAudioRecord„Çí‰Ωø„Çè„Å™„ÅÑ„Å®Èå≤Èü≥„Åß„Åç„Å™„ÅÑ„ÄÇÊÆãÂøµ„ÄÇ\nAudioRecord„ÅÆ‰øùÂ≠ò„Å®„Åã„Å©„ÅÜ„ÇÑ„Çã„Çì„Å†„Çç„ÅÜ„ÄÇ\n„Åç„Å£„Å®„Åù„ÅÆ„ÅÜ„Å°Âá∫„Å¶„Åè„Çã„Å®ÊÄù„ÅÜ„ÅÆ„Åß„Åó„Å∞„Çâ„ÅèÂæÖ„Å§„Åì„Å®„Å´„Åô„Çã„ÄÇ\n\n## ÁµÇ„Çè„Çä„Å´\nRoot„Å™„Åó„ÅßÂÜÖÈÉ®Èü≥Â£∞„ÅåÂèñ„Çå„Çã„ÅÆ„ÅØÊúüÂæÖ„Åß„Åô„Å≠„ÄÇ\n„Åì„ÅÆË®ò‰∫ã„ÇíÊõ∏„ÅÑ„Å¶„Çã„Å®„Åç„Å´ÊÄù„ÅÑÂá∫„Åó„Åæ„Åó„Åü„Åå„ÄÅAndroid Q Beta 3„Åê„Çâ„ÅÑ„ÅÆ„Å®„ÅçAndroid„Å´Ê®ôÊ∫ñ„ÅßÁîªÈù¢Èå≤Áîª„ÅåÊê≠Ëºâ„Åï„Çå„Åù„ÅÜ„Å´„Å™„Å£„ÅüÔºàÈñãÁô∫ËÄÖ„Ç™„Éó„Ç∑„Éß„É≥„ÅÆÊ©üËÉΩ„Éï„É©„Ç∞„ÅßÊúâÂäπ„Å´„Åó„Å™„ÅÑ„Å®„ÅÑ„Åë„Å™„ÅÑÔºâ„ÄÇ\nBetaÁâà„ÅÆÊÆµÈöé„Åß„ÅØÈõªÊ∫ê„Éú„Çø„É≥Èï∑Êäº„Åó„ÅßË°®Á§∫„Åï„Çå„Çã„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÇíÂèñ„Çã„Éú„Çø„É≥„ÇíÈï∑Êäº„Åó„Åô„Çå„Å∞Âà©Áî®„Åß„Åç„Åü„Åù„ÅÜ„ÄÇÔºàÊÆãÂøµ„Å™„Åå„ÇâÁßÅ„ÅÆÁí∞Â¢É„Åß„ÅØËêΩ„Å°„Å¶‰Ωø„Åà„Å™„Åã„Å£„Åü„ÄÇÔºâ\n„Åë„Å©Ê≠£ÂºèÁâà„Åß„ÅØÂÆüË£Ö„Åï„Çå„Å™„Åã„Å£„Åü„ÄÇ„Åú„Å≤Ê®ôÊ∫ñ„ÅßÊ¨≤„Åó„ÅÑÊ©üËÉΩ„Å™„Çì„Å†„Åë„Å©„Å™„ÅÇ„ÄÇ\n\n„Åù„Çå„Å®\nPixel 4„ÄÄ„Å®„ÄÄdocomo „ÅÆÁô∫Ë°®‰ºö„ÅåÊ•Ω„Åó„Åø„Åß„Åô„Å≠ÔºÅ\n\nÊõ∏„Åç„Åü„ÅÑ„Åì„Å®„ÅØÂ§öÂàÜÂÖ®ÈÉ®Êõ∏„ÅÑ„Åü„ÅÆ„Åß„ÄÅ\n‰ª•‰∏ä„Åß„Åô„ÄÇ„Åä„Å§„ÄÇÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºò\n\n## GitHub\nhttps://github.com/takusan23/ScreenRecordSample\nË©¶„Åó„Å¶„Åø„Åü„ÅÑÊñπ„Å©„ÅÜ„ÅûÔΩû\n","source":"_posts/MediaProjection.md","raw":"---\ntitle: „ÄêAndroid / MediaProjection / Kotlin„ÄëAndroid„ÅßÁîªÈù¢Èå≤Áîª„Çí„Åô„Çã\ntags:\n- Android\n- MediaProjection\n- ÁîªÈù¢Èå≤Áîª\n- AndroidQ\n- Kotlin\nauthor: takusan_23\nslide: false\n---\n„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„ÅØ„ÄÇ„ÉÜ„Çπ„ÉàÊúüÈñì„Å§„Çâ„ÅÑ„ÄÇ\n‰ªäÂõû„ÅØÁîªÈù¢„ÇíÈå≤Áîª„Åß„Åç„Çã„Ç¢„Éó„É™„Çí‰Ωú„Å£„Å¶„Åø„Çà„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n## ÁîªÈù¢Èå≤Áîª„ÅÆÊ≠¥Âè≤Ôºü\n„Åì„Åì„Åß„ÅØRootÂåñ„ÅßÂà©Áî®„Åß„Åç„ÇãÁîªÈù¢Èå≤Áîª„ÅØ„Å™„Åó„ÅÆÊñπÂêë„Åß„ÄÇRootÂèñ„Çå„Å∞ÂÜÖÈÉ®Èü≥Â£∞„ÅåÂèñ„Çå„Çã„Å£„Å¶ËÅû„ÅÑ„Åü„Åì„Å®„ÅÇ„Çã„ÄÇ\n„ÅÇ„Å®Â§ñÈÉ®Âá∫ÂäõÁ´ØÂ≠ê„ÇíÂà©Áî®„Åó„Å¶Èå≤Áîª„Åô„ÇãË©±„ÇÇ„Å™„Åó„ÅÆÊñπÂêë„Åß„ÄÇ\nÁßÅ„ÅåÁü•„Å£„Å¶„ÇãÈôê„Çä„Åß„ÅØ\n\nXperia Z3 / Z3 Compact „Åß„Çπ„ÇØ„É™„Éº„É≥„É¨„Ç≥„Éº„ÉÄ„Éº„ÅåÊê≠Ëºâ„Åï„Çå„ÅüÔºà4.4Ôºâ„ÄÇ\nÔºà„Åß„Åô„Åå„ÅÑ„Å§„ÅÆÈñì„Å´„Åã„Çπ„ÇØ„É™„Éº„É≥„É¨„Ç≥„Éº„ÉÄ„ÉºÊ©üËÉΩ„ÅØ„Å™„Åè„Å™„Å£„Åü„Åù„ÅÜ„Åß„Åô„ÄÇÔºàXperia 1„ÅßÂæ©Ê¥ª„Åó„Åü„Çâ„Åó„ÅÑÔºâÔºâ\nÔºà„ÅÇ„Å®„Çπ„É¢„Éº„É´„Ç¢„Éó„É™„Å®„Åã„Å©„ÅìË°å„Å£„Åü„ÅÆÔºüÔºâ\n‚Üì\n5.0„Åß„ÄåMediaProjection API„Äç„ÅåËøΩÂä†„Åï„Çå„Å¶„Çµ„Éº„Éâ„Éë„Éº„ÉÜ„Ç£„Ç¢„Éó„É™„Åß„ÇÇÈå≤Áîª„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇ\nGoogle Play „Ç≤„Éº„É†„ÅßÁîªÈù¢Èå≤ÁîªÊ©üËÉΩ„ÅåËøΩÂä†„Åï„Çå„Åü„Çä„Åó„Åü„ÄÇ\n„Åó„Åã„Åó„Åì„ÅÆÊâã„ÅÆÁîªÈù¢Èå≤Áîª„Ç¢„Éó„É™„ÅØÈü≥Â£∞„Çí„Éû„Ç§„ÇØ„Åã„ÇâÊíÆ„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅßÁ´ØÊú´„ÅÆÈü≥‰ª•Â§ñ„ÅåÂÖ•„Å£„Å¶„Åó„Åæ„ÅÜ„ÄÇ\n‚Üì\nÔºàSamsung„Å®„Åã„ÅåÂÜÖÈÉ®Èü≥Â£∞„ÅåÂèñ„Çå„Çã„Ç¢„Éó„É™„ÇíÁã¨Ëá™„ÅßËøΩÂä†„Åó„Å¶„ÅÑ„Çã„Çâ„Åó„ÅÑÔºüÔºâ\n‚Üì\n10.0„ÅßÁ´ØÊú´„ÅÆÂÜÖÈÉ®Èü≥Â£∞„ÇíÂèñ„Çå„Çã„ÄåAudioPlaybackCapture API„Äç„ÅåËøΩÂä†„Åï„Çå„Åü„ÄÇ\n‰ªäÂõû„ÅØËß¶„Çå„Åæ„Åõ„Çì„ÄÇ„Å®„ÅÑ„ÅÜ„ÅãÂÆüË£ÖÊñπÊ≥ï„Åå„Çè„Åã„Çâ„Å™„Åã„Å£„Åü„ÄÇÊÆãÂøµ„ÄÇüò•\n\n## Á´ØÊú´Á¥π‰ªã\n|                   |            |\n|-------------------|------------|\n| Á´ØÊú´              | Pixel 3 XL |\n| Android„Éê„Éº„Ç∏„Éß„É≥ | 10         |\n| compileSdkVersion | 29         |\n\n## ‰Ωú„Çã„ÇÇ„ÅÆ\nÁîªÈù¢Èå≤Áîª„Åó„Å¶mp4„Åß‰øùÂ≠ò„Åô„Çã„ÄÇ\nÈü≥Â£∞„ÅØ„Éû„Ç§„ÇØ„Åã„ÇâÂèñ„Çã„Åì„Å®„Å´„Åô„Çã„ÄÇ\n\n\n# ÂÆüË£Ö\nÊú¨È°å„Åß„Åô„ÄÇ„Åì„Åì„Åæ„ÅßÈï∑„Åã„Å£„Åü„Å≠„ÄÇ\n## Android 10„Åß„ÇÇÂãï„Åè„Çà„ÅÜ„Å´\n‰øùÂ≠òÂÖà„ÇíÂØæË±°ÁØÑÂõ≤Âà•„Çπ„Éà„É¨„Éº„Ç∏„Å´„Åô„Çã„ÄÇ\nService„Å´Android 10„Åã„ÇâËøΩÂä†„Åï„Çå„ÅüÂ±ûÊÄß„ÄåforegroundServiceType„Äç„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ\n## ÊµÅ„Çå\n\nÊ®©Èôê„Åå„ÅÇ„Çã„ÅãÁ¢∫Ë™ç„Åô„ÇãÔºà„Éû„Ç§„ÇØ„ÅÆÈå≤Èü≥Ôºâ\n‚Üì\nÁîªÈù¢Èå≤Áîª„Åó„Å¶„ÅÑ„ÅÑ„ÅãËÅû„Åè„ÄÇ\n‚Üì\nË®±ÂèØ„ÅåÂæó„Çâ„Çå„Åü„ÇâService„ÇíËµ∑Âãï„Åô„Çã„ÄÇ\n‚Üì\nService„ÅÆ‰∏≠„ÅßÁîªÈù¢Èå≤Áîª„ÇíË°å„ÅÜ„ÄÇ\n\nService„ÅåÁµÇ‰∫Ü„Åô„Çã„Å®ÂêåÊôÇ„Å´Èå≤Áîª„ÇÇÁµÇ‰∫Ü„Åï„Åõ„Çã„ÄÇ\n\n## „É¨„Ç§„Ç¢„Ç¶„Éà\nActivity„ÅØMainActivity„Å†„Åë„Åß„Åô„ÄÇ\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\">\n\n\n    <Button\n        android:id=\"@+id/rec_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Èå≤Áîª\" />\n\n    <Button\n        android:id=\"@+id/stop_button\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"ÂÅúÊ≠¢\" />\n</LinearLayout>\n```\n\n## Manifest\nÂøÖË¶Å„Å™Ê®©Èôê„ÅØ\n\n| Ê®©Èôê               | Ë™¨Êòé                 |\n|--------------------|----------------------|\n| FOREGROUND_SERVICE | „Çµ„Éº„Éì„Çπ„ÅÆÂÆüË°å„Å´ÂøÖË¶Å |\n| RECORD_AUDIO       | „Éû„Ç§„ÇØ„Çí‰Ωø„ÅÜ„ÅÆ„Å´ÂøÖË¶Å |\n\n„Åì„ÅÆÊÆµÈöé„Åß„ÅØ„ÄåScreenRecordService„Äç„ÅØ‰ΩúÊàê„Åó„Å¶„Å™„ÅÑ„ÅÆ„ÅßËµ§„Åè„Å™„Çã„Åë„Å©Âæå„Åß‰Ωú„Çã„ÅÆ„Åß„ÅäÔΩã„ÄÇ\n**android:foregroundServiceType=\"mediaProjection\"**„ÇíÂøò„Çå„Åö„Å´\n\n```xml:AndroidManifest.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"io.github.takusan23.screenrecordsample\">\n\n    <uses-permission android:name=\"android.permission.FOREGROUND_SERVICE\"/>\n    <uses-permission android:name=\"android.permission.RECORD_AUDIO\"/>\n\n    <application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\">\n        <activity android:name=\".MainActivity\">\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n        <service android:name=\".ScreenRecordService\" android:foregroundServiceType=\"mediaProjection\"/>\n    </application>\n\n</manifest>\n```\n\n## Ê®©Èôê„Çí„ÇÇ„Çâ„ÅÜ\nÈå≤Áîª„ÅÆ„Éú„Çø„É≥„ÇíÊäº„Åó„Åü„Çâ„Åæ„Åö„Éû„Ç§„ÇØ„Å∏„ÅÆ„Ç¢„ÇØ„Çª„ÇπÊ®©„Åå„ÅÇ„Çã„ÅãÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ\n„Å™„ÅÑÂ†¥Âêà„ÅØÊ®©Èôê„Çí„É™„ÇØ„Ç®„Çπ„Éà„Åô„Çã„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíË°®Á§∫„Åï„Åõ„Åæ„Åô„ÄÇ\n\nÊ®©Èôê„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅØÈå≤Áîª„ÇíÈñãÂßã„Åô„Çã„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíË°®Á§∫„Åï„Åõ„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity.kt\n    //„É™„ÇØ„Ç®„Çπ„Éà„ÅÆÁµêÊûú\n    val code = 512\n    val permissionCode = 810\n    lateinit var projectionManager: MediaProjectionManager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        projectionManager =\n            getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager\n\n        //ÁîªÈù¢Èå≤Áîª„Çí„Åó„Å¶„ÇÇ„ÅÑ„ÅÑ„ÅãËÅû„Åè\n        rec_button.setOnClickListener {\n            //„Åù„ÅÆÂâç„Å´„Éû„Ç§„ÇØ„Å∏„Ç¢„ÇØ„Çª„Çπ„Åó„Å¶„ÅÑ„ÅÑ„ÅãÂ∞ã„Å≠„Çã\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO)\n                != PackageManager.PERMISSION_GRANTED\n            ) {\n                requestPermissions(arrayOf(Manifest.permission.RECORD_AUDIO), permissionCode)\n            } else {\n                //„Éû„Ç§„ÇØ„ÅÆÊ®©Èôê„Åå„ÅÇ„Çã„ÅÆ„ÅßÁîªÈù¢Èå≤Áîª„É™„ÇØ„Ç®„Çπ„Éà\n                //„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíÂá∫„Åô\n                startActivityForResult(projectionManager.createScreenCaptureIntent(), code)\n            }\n        }\n        //ÂÅúÊ≠¢„Éú„Çø„É≥„ÅßÊ≠¢„ÇÅ„Çâ„Çå„Çã„Çà„ÅÜ„Å´\n        stop_button.setOnClickListener {\n            val intent = Intent(this, ScreenRecordService::class.java)\n            stopService(intent)\n        }\n    }\n\n    //Ê®©Èôê„ÅÆÁµêÊûúÂèó„ÅëÂèñ„Çã\n    override fun onRequestPermissionsResult(\n        requestCode: Int,\n        permissions: Array<out String>,\n        grantResults: IntArray\n    ) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n        if (requestCode == permissionCode) {\n            //„Éû„Ç§„ÇØ„Å∏„Ç¢„ÇØ„Çª„ÇπÊ®©„Åí„Å£„Å®\n            Toast.makeText(this, \"Ê®©Èôê„Åå‰ªò‰∏é„Åï„Çå„Åæ„Åó„Åü„ÄÇ\", Toast.LENGTH_SHORT).show()\n        }\n    }\n```\n\n## ÁîªÈù¢Èå≤Áîª„Çí„Åô„ÇãService„ÇíËµ∑Âãï„Åï„Åõ„Çã\n„Å®„Åì„Çç„ÅßAndroid„ÅÆÁîªÈù¢Èå≤Áîª„Çí„Åô„Çã„Ç≥„Éº„Éâ„Å®„Åã„Çí„ÅÑ„Çç„ÅÑ„ÇçÂèÇËÄÉ„Å´„Åó„Åü„Çè„Åë„Åß„Åô„Åå„ÄÅAndroid 10„ÅßËøΩÂä†„Åï„Çå„ÅüÂ±ûÊÄß„ÄåforegroundServiceType„Äç„ÅÆ„Åõ„ÅÑ„ÅãActivity„Åß„ÅØÁîªÈù¢Èå≤Áîª„ÅåÂá∫Êù•„Å™„ÅÑ„Å£„ÅΩ„ÅÑ„Çì„Åß„Åô„Çà„Å≠„ÄÇ\n„Å™„ÅÆ„Åß‰ªïÊñπ„Å™„ÅèService„Åß„ÄÇ„Åæ„ÅÇService„ÅßÂÆüË£Ö„Åó„Åü„Åª„ÅÜ„ÅåÂ∫É„Åè‰Ωø„Åà„Åù„ÅÜ„Å†„ÇÇ„Çì„Å≠„ÄÇ\n\nMainActivity.kt„Å´„ÄåonActivityResult„Äç„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ\n\n```kotlin:MainActivity.kt\n    //ÁîªÈù¢Èå≤Áîª„ÅÆÂêàÂê¶„ÇíÂèó„ÅëÂèñ„Çã\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        //ÊàêÂäüÔºãÁµêÊûú„ÅåÁîªÈù¢Èå≤Áîª„ÅÆÁâ©„Åã\n        if (resultCode == Activity.RESULT_OK && requestCode == code) {\n            //ServiceËµ∑Âãï\n            //Manifest„Å´„Äåandroid:foregroundServiceType=\"mediaProjection\"„Äç„Çí‰ªò„ÅëË∂≥„Åó„Å¶„Åä„Åè\n            val intent = Intent(this, ScreenRecordService::class.java)\n            intent.putExtra(\"code\", resultCode) //ÂøÖË¶Å„Å™„ÅÆ„ÅØÁµêÊûú„ÄÇstartActivityForResult„ÅÆrequestCode„Åß„ÅØ„Å™„ÅÑ„ÄÇ\n            intent.putExtra(\"data\", data)\n            //ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï„ÇÇ‰∏ÄÁ∑í„Å´ÂÖ•„Çå„Çã\n            val metrics = resources.displayMetrics;\n            intent.putExtra(\"height\", metrics.heightPixels)\n            intent.putExtra(\"width\", metrics.widthPixels)\n            intent.putExtra(\"dpi\", metrics.densityDpi)\n\n            startForegroundService(intent)\n        }\n    }\n```\n## Service‰ΩúÊàê\n„Åù„Çå„Åã„Çâ„ÄåScreenRecordService.kt„Äç„Çí‰ΩúÊàê„Åó„Å¶‰∏ã„Åï„ÅÑ„ÄÇ\n‰ΩúÊàê„Åó„Åü„Çâ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„ÄÇ\nsetSmallIcon„ÅåËµ§„Åè„Å™„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ„Åì„Çå„ÅØ„Éô„ÇØ„Çø„Éº„Ç¢„Çª„ÉÉ„Éà„Åã„ÇâËøΩÂä†„Åó„Åü„Åü„ÇÅ„Åß„Åô„ÄÇ\n„Å™„ÅÆ„ÅßÁîªÂÉè„ÅÆ„Çà„ÅÜ„Å´„Åó„Å¶Ë¶ã„Å§„Åë„Å¶‰∏ã„Åï„ÅÑ„ÄÇ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/f504e4f1-57ae-e459-8f51-eb96af80bfea.png)\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/ebe8ef29-bd69-3afc-6aec-100a92f9322f.png)\n\n```kotlin:ScreenRecordService.kt\nclass ScreenRecordService : Service() {\n    //Intent„Å´Ë©∞„ÇÅ„Åü„Éá„Éº„Çø„ÇíÂèó„ÅëÂèñ„Çã\n    var data: Intent? = null\n    var code = Activity.RESULT_OK\n\n    //ÁîªÈù¢Èå≤Áîª„Åß‰Ωø„ÅÜ\n    lateinit var mediaRecorder: MediaRecorder\n    lateinit var projectionManager: MediaProjectionManager\n    lateinit var projection: MediaProjection\n    lateinit var virtualDisplay: VirtualDisplay\n\n    //ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï\n    //Pixel 3 XL„Å†„Å®„Å™„Çì„Åã„Åä„Åã„Åó„Åè„Å™„Çã\n    var height = 2800\n    var width = 1400\n    var dpi = 1000\n\n\n    override fun onBind(p0: Intent?): IBinder? {\n        return null\n    }\n\n    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n\n        //„Éá„Éº„ÇøÂèó„ÅëÂèñ„Çã\n        data = intent?.getParcelableExtra(\"data\")\n        code = intent?.getIntExtra(\"code\", Activity.RESULT_OK) ?: Activity.RESULT_OK\n\n        //ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï\n        //   height = intent?.getIntExtra(\"height\", 1000) ?: 1000\n        //   width = intent?.getIntExtra(\"width\", 1000) ?: 1000\n        dpi = intent?.getIntExtra(\"dpi\", 1000) ?: 1000\n\n        //ÈÄöÁü•„ÇíÂá∫„Åô„ÄÇ\n        val notificationManager =\n            getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        //ÈÄöÁü•„ÉÅ„É£„É≥„Éç„É´\n        val channelID = \"rec_notify\"\n        //ÈÄöÁü•„ÉÅ„É£„É≥„Éç„É´„ÅåÂ≠òÂú®„Åó„Å™„ÅÑ„Å®„Åç„ÅØÁôªÈå≤„Åô„Çã\n        if (notificationManager.getNotificationChannel(channelID) == null) {\n            val channel =\n                NotificationChannel(channelID, \"Èå≤Áîª„Çµ„Éº„Éì„ÇπËµ∑Âãï‰∏≠ÈÄöÁü•\", NotificationManager.IMPORTANCE_HIGH)\n            notificationManager.createNotificationChannel(channel)\n        }\n        //ÈÄöÁü•‰ΩúÊàê\n        val notification = Notification.Builder(applicationContext, channelID)\n            .setContentText(\"Èå≤Áîª‰∏≠„Åß„Åô„ÄÇ\")\n            .setContentTitle(\"ÁîªÈù¢Èå≤Áîª\")\n            .setSmallIcon(R.drawable.ic_cast_black_24dp)    //„Ç¢„Ç§„Ç≥„É≥„ÅØ„Éô„ÇØ„Çø„Éº„Ç¢„Çª„ÉÉ„Éà„Åã„Çâ\n            .build()\n\n        startForeground(1, notification)\n\n        //Èå≤ÁîªÈñãÂßã\n        startRec()\n\n        return START_NOT_STICKY\n    }\n\n    //ServiceÁµÇ‰∫Ü„Å®ÂêåÊôÇ„Å´Èå≤ÁîªÁµÇ‰∫Ü\n    override fun onDestroy() {\n        super.onDestroy()\n        stopRec()\n    }\n\n}\n```\n\n## ÁîªÈù¢Èå≤Áîª\nScreenRecordService.kt„Å´‰ªò„ÅëË∂≥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n„Åì„Åì„ÅØ„Çà„Åè„Çè„Åã„Çâ„Çì„ÅÆ„Åß„ÅÇ„Åæ„ÇäË®Ä„Åà„Åæ„Åõ„Çì„Åå„ÄÅ„ÄåsetVideoEncodingBitRate„Äç„ÇíÈ´ò„Åè„Åô„Çå„Å∞ÁîªË≥™„Ç¢„ÉÉ„ÉóÔºÜ„Éï„Ç°„Ç§„É´„Çµ„Ç§„Ç∫„Ç¢„ÉÉ„Éó„Åß„Åô„ÄÇ\n„Éï„Ç°„Ç§„É´Âêç„ÅØÊï∞Â≠ó.mp4„Å´„Å™„Çä„Åæ„Åô„ÄÇ```${System.currentTimeMillis()}.mp4```„ÅÆÈÉ®ÂàÜ„Åå„Éï„Ç°„Ç§„É´Âêç„Å´„Å™„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅßÂ§â„Åà„Åü„ÅÑÂ†¥Âêà„ÅØ„Å©„ÅÜ„Åû„ÄÇ\n‰øùÂ≠òÂÖà„ÅØ**Android/data/io.github.takusan23.screenrecordsample/file**„ÅÆ‰∏≠„Åß„Åô„ÄÇ\n\n\n```kotlin:ScreenRecordService.kt\n    //Èå≤ÁîªÈñãÂßã\n    fun startRec() {\n        if (data != null) {\n            projectionManager =\n                getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager\n            //code„ÅØActivity.RESULT_OK„Å®„Åã„ÅåÂÖ•„Çã„ÄÇ\n            projection =\n                projectionManager.getMediaProjection(code, data!!)\n\n            mediaRecorder = MediaRecorder()\n            mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC)\n            mediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE)\n            mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4)\n            mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264)\n            mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB)\n            mediaRecorder.setVideoEncodingBitRate(1080 * 10000) //1080„ÅØ512„Åê„Çâ„ÅÑ„Å´„Åó„Å®„ÅÑ„Åü„Åª„ÅÜ„ÅåÂ∞è„Åï„Åè„Åß„Åç„Çã\n            mediaRecorder.setVideoFrameRate(30)\n            mediaRecorder.setVideoSize(width, height)\n            mediaRecorder.setAudioSamplingRate(44100)\n            mediaRecorder.setOutputFile(getFilePath())\n            mediaRecorder.prepare()\n\n            virtualDisplay = projection.createVirtualDisplay(\n                \"recode\",\n                width,\n                height,\n                dpi,\n                DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,\n                mediaRecorder.surface,\n                null,\n                null\n            )\n\n            //ÈñãÂßã\n            mediaRecorder.start()\n        }\n    }\n\n    //Èå≤ÁîªÊ≠¢„ÇÅ„Çã\n    fun stopRec() {\n        mediaRecorder.stop()\n        mediaRecorder.release()\n        virtualDisplay.release()\n        projection.stop()\n    }\n\n    //‰øùÂ≠òÂÖàÂèñÂæó„ÄÇ‰ªäÂõû„ÅØÂØæË±°ÁØÑÂõ≤Âà•„Çπ„Éà„É¨„Éº„Ç∏„Å´‰øùÂ≠ò„Åô„Çã\n    fun getFilePath(): File {\n        //ScopedStorage„Åß‰Ωú„Çâ„Çå„Çã„Çµ„É≥„Éâ„Éú„ÉÉ„ÇØ„Çπ„Å∏„ÅÆ„Å±„Åô\n        val scopedStoragePath = getExternalFilesDir(null)\n        //ÂÜôÁúü„Éï„Ç°„Ç§„É´‰ΩúÊàê\n        val file = File(\"${scopedStoragePath?.path}/${System.currentTimeMillis()}.mp4\")\n        return file\n    }\n```\n\n## ÂÆåÊàêÔºÅ\nÈñãÂßã„Éú„Çø„É≥Êäº„Åó„Åü„ÄÇ\n![Screenshot_20191010-200940.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/8942a6c6-0950-3c74-128a-a0fed4934bab.png)\n\n„Äå‰ªä„Åô„ÅêÈñãÂßã„Äç„ÇíÊäº„Åó„Åü„ÄÇ\n„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ„Éê„Ç§„Éñ„Ç¢„Ç§„Ç≥„É≥„ÅÆÈö£„Å´„Ç≠„É£„Çπ„Éà‰∏≠„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÅåÂá∫„Å¶„Åæ„Åô„Å≠„ÄÇ\n![Screenshot_20191010-200946.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/174fed18-0694-8111-6287-94f26c3bfd7b.png)\n\nÂÅúÊ≠¢„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶‰ΩúÊàê„Åó„ÅüÂãïÁîª„Éï„Ç°„Ç§„É´„ÇíË¶ã„Åü\n![Screenshot_20191010-201017.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/62653173-7209-4a74-9ff6-63f8eb695d83.png)\n\n## Pixel 3 XL „ÅßÈÅ≠ÈÅá„Åó„ÅüÂïèÈ°å\n### ÂãïÁîª„ÅÆÂ§ß„Åç„Åï„Åå„Åä„Åã„Åó„ÅÑÂïèÈ°å\n„Çà„Åè„Çè„Åã„Çâ„Å™„ÅÑ„ÅÆ„Åß‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´Êõ∏„ÅçÊèõ„Åà„Å¶„Åä„Åç„Åæ„Åó„Åü„ÄÇ\nÊú¨Êù•„ÅØ„Åì„ÅÆÂÄ§„ÇíÂõ∫ÂÆö„Åô„Çã„Åπ„Åç„Åß„ÅØÁÑ°„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÅåPixel 3 XL„Åß„Åó„ÅãÂãï„Åã„Åï„Å™„ÅÑ„ÅÆ„ÅßÂà•„Å´„ÅÑ„ÅÑ„ÇÑ„ÄÇ\n\n```kotlin:ScreenRecordService.kt\n    //ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï\n    //Pixel 3 XL„Å†„Å®„Å™„Çì„Åã„Åä„Åã„Åó„Åè„Å™„Çã\n    var height = 2800\n    var width = 1400\n    var dpi = 1000\n\n   //‰ª•‰∏ãÁúÅÁï•\n\n    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n\n        //„Éá„Éº„ÇøÂèó„ÅëÂèñ„Çã\n        data = intent?.getParcelableExtra(\"data\")\n        code = intent?.getIntExtra(\"code\", Activity.RESULT_OK) ?: Activity.RESULT_OK\n\n        //ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï\n        //   height = intent?.getIntExtra(\"height\", 1000) ?: 1000\n        //   width = intent?.getIntExtra(\"width\", 1000) ?: 1000\n        dpi = intent?.getIntExtra(\"dpi\", 1000) ?: 1000\n\n       //‰ª•‰∏ãÁúÅÁï•\n```\n\n## ÂÜÖÈÉ®Èü≥Â£∞„ÅØÂèñ„Çå„Å™„ÅÑ„ÅÆÔºü\nAndroid 10„Åã„Çâ„ÄåAudioPlaybackCapture API„Äç„ÅåËøΩÂä†„Åï„Çå„Åæ„Åó„Åü„Åå\nÂÜÖÈÉ®Èü≥Â£∞„ÅØMediaRecorder„Åß„ÅØ„Å™„ÅèAudioRecord„Çí‰Ωø„Çè„Å™„ÅÑ„Å®Èå≤Èü≥„Åß„Åç„Å™„ÅÑ„ÄÇÊÆãÂøµ„ÄÇ\nAudioRecord„ÅÆ‰øùÂ≠ò„Å®„Åã„Å©„ÅÜ„ÇÑ„Çã„Çì„Å†„Çç„ÅÜ„ÄÇ\n„Åç„Å£„Å®„Åù„ÅÆ„ÅÜ„Å°Âá∫„Å¶„Åè„Çã„Å®ÊÄù„ÅÜ„ÅÆ„Åß„Åó„Å∞„Çâ„ÅèÂæÖ„Å§„Åì„Å®„Å´„Åô„Çã„ÄÇ\n\n## ÁµÇ„Çè„Çä„Å´\nRoot„Å™„Åó„ÅßÂÜÖÈÉ®Èü≥Â£∞„ÅåÂèñ„Çå„Çã„ÅÆ„ÅØÊúüÂæÖ„Åß„Åô„Å≠„ÄÇ\n„Åì„ÅÆË®ò‰∫ã„ÇíÊõ∏„ÅÑ„Å¶„Çã„Å®„Åç„Å´ÊÄù„ÅÑÂá∫„Åó„Åæ„Åó„Åü„Åå„ÄÅAndroid Q Beta 3„Åê„Çâ„ÅÑ„ÅÆ„Å®„ÅçAndroid„Å´Ê®ôÊ∫ñ„ÅßÁîªÈù¢Èå≤Áîª„ÅåÊê≠Ëºâ„Åï„Çå„Åù„ÅÜ„Å´„Å™„Å£„ÅüÔºàÈñãÁô∫ËÄÖ„Ç™„Éó„Ç∑„Éß„É≥„ÅÆÊ©üËÉΩ„Éï„É©„Ç∞„ÅßÊúâÂäπ„Å´„Åó„Å™„ÅÑ„Å®„ÅÑ„Åë„Å™„ÅÑÔºâ„ÄÇ\nBetaÁâà„ÅÆÊÆµÈöé„Åß„ÅØÈõªÊ∫ê„Éú„Çø„É≥Èï∑Êäº„Åó„ÅßË°®Á§∫„Åï„Çå„Çã„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÇíÂèñ„Çã„Éú„Çø„É≥„ÇíÈï∑Êäº„Åó„Åô„Çå„Å∞Âà©Áî®„Åß„Åç„Åü„Åù„ÅÜ„ÄÇÔºàÊÆãÂøµ„Å™„Åå„ÇâÁßÅ„ÅÆÁí∞Â¢É„Åß„ÅØËêΩ„Å°„Å¶‰Ωø„Åà„Å™„Åã„Å£„Åü„ÄÇÔºâ\n„Åë„Å©Ê≠£ÂºèÁâà„Åß„ÅØÂÆüË£Ö„Åï„Çå„Å™„Åã„Å£„Åü„ÄÇ„Åú„Å≤Ê®ôÊ∫ñ„ÅßÊ¨≤„Åó„ÅÑÊ©üËÉΩ„Å™„Çì„Å†„Åë„Å©„Å™„ÅÇ„ÄÇ\n\n„Åù„Çå„Å®\nPixel 4„ÄÄ„Å®„ÄÄdocomo „ÅÆÁô∫Ë°®‰ºö„ÅåÊ•Ω„Åó„Åø„Åß„Åô„Å≠ÔºÅ\n\nÊõ∏„Åç„Åü„ÅÑ„Åì„Å®„ÅØÂ§öÂàÜÂÖ®ÈÉ®Êõ∏„ÅÑ„Åü„ÅÆ„Åß„ÄÅ\n‰ª•‰∏ä„Åß„Åô„ÄÇ„Åä„Å§„ÄÇÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºò\n\n## GitHub\nhttps://github.com/takusan23/ScreenRecordSample\nË©¶„Åó„Å¶„Åø„Åü„ÅÑÊñπ„Å©„ÅÜ„ÅûÔΩû\n","slug":"MediaProjection","published":1,"date":"2020-04-05T16:27:15.406Z","updated":"2020-04-05T16:40:39.228Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgt000kh8vu72k31ivx","content":"<p>„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„ÅØ„ÄÇ„ÉÜ„Çπ„ÉàÊúüÈñì„Å§„Çâ„ÅÑ„ÄÇ<br>‰ªäÂõû„ÅØÁîªÈù¢„ÇíÈå≤Áîª„Åß„Åç„Çã„Ç¢„Éó„É™„Çí‰Ωú„Å£„Å¶„Åø„Çà„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h2 id=\"ÁîªÈù¢Èå≤Áîª„ÅÆÊ≠¥Âè≤Ôºü\"><a href=\"#ÁîªÈù¢Èå≤Áîª„ÅÆÊ≠¥Âè≤Ôºü\" class=\"headerlink\" title=\"ÁîªÈù¢Èå≤Áîª„ÅÆÊ≠¥Âè≤Ôºü\"></a>ÁîªÈù¢Èå≤Áîª„ÅÆÊ≠¥Âè≤Ôºü</h2><p>„Åì„Åì„Åß„ÅØRootÂåñ„ÅßÂà©Áî®„Åß„Åç„ÇãÁîªÈù¢Èå≤Áîª„ÅØ„Å™„Åó„ÅÆÊñπÂêë„Åß„ÄÇRootÂèñ„Çå„Å∞ÂÜÖÈÉ®Èü≥Â£∞„ÅåÂèñ„Çå„Çã„Å£„Å¶ËÅû„ÅÑ„Åü„Åì„Å®„ÅÇ„Çã„ÄÇ<br>„ÅÇ„Å®Â§ñÈÉ®Âá∫ÂäõÁ´ØÂ≠ê„ÇíÂà©Áî®„Åó„Å¶Èå≤Áîª„Åô„ÇãË©±„ÇÇ„Å™„Åó„ÅÆÊñπÂêë„Åß„ÄÇ<br>ÁßÅ„ÅåÁü•„Å£„Å¶„ÇãÈôê„Çä„Åß„ÅØ</p>\n<p>Xperia Z3 / Z3 Compact „Åß„Çπ„ÇØ„É™„Éº„É≥„É¨„Ç≥„Éº„ÉÄ„Éº„ÅåÊê≠Ëºâ„Åï„Çå„ÅüÔºà4.4Ôºâ„ÄÇ<br>Ôºà„Åß„Åô„Åå„ÅÑ„Å§„ÅÆÈñì„Å´„Åã„Çπ„ÇØ„É™„Éº„É≥„É¨„Ç≥„Éº„ÉÄ„ÉºÊ©üËÉΩ„ÅØ„Å™„Åè„Å™„Å£„Åü„Åù„ÅÜ„Åß„Åô„ÄÇÔºàXperia 1„ÅßÂæ©Ê¥ª„Åó„Åü„Çâ„Åó„ÅÑÔºâÔºâ<br>Ôºà„ÅÇ„Å®„Çπ„É¢„Éº„É´„Ç¢„Éó„É™„Å®„Åã„Å©„ÅìË°å„Å£„Åü„ÅÆÔºüÔºâ<br>‚Üì<br>5.0„Åß„ÄåMediaProjection API„Äç„ÅåËøΩÂä†„Åï„Çå„Å¶„Çµ„Éº„Éâ„Éë„Éº„ÉÜ„Ç£„Ç¢„Éó„É™„Åß„ÇÇÈå≤Áîª„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇ<br>Google Play „Ç≤„Éº„É†„ÅßÁîªÈù¢Èå≤ÁîªÊ©üËÉΩ„ÅåËøΩÂä†„Åï„Çå„Åü„Çä„Åó„Åü„ÄÇ<br>„Åó„Åã„Åó„Åì„ÅÆÊâã„ÅÆÁîªÈù¢Èå≤Áîª„Ç¢„Éó„É™„ÅØÈü≥Â£∞„Çí„Éû„Ç§„ÇØ„Åã„ÇâÊíÆ„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅßÁ´ØÊú´„ÅÆÈü≥‰ª•Â§ñ„ÅåÂÖ•„Å£„Å¶„Åó„Åæ„ÅÜ„ÄÇ<br>‚Üì<br>ÔºàSamsung„Å®„Åã„ÅåÂÜÖÈÉ®Èü≥Â£∞„ÅåÂèñ„Çå„Çã„Ç¢„Éó„É™„ÇíÁã¨Ëá™„ÅßËøΩÂä†„Åó„Å¶„ÅÑ„Çã„Çâ„Åó„ÅÑÔºüÔºâ<br>‚Üì<br>10.0„ÅßÁ´ØÊú´„ÅÆÂÜÖÈÉ®Èü≥Â£∞„ÇíÂèñ„Çå„Çã„ÄåAudioPlaybackCapture API„Äç„ÅåËøΩÂä†„Åï„Çå„Åü„ÄÇ<br>‰ªäÂõû„ÅØËß¶„Çå„Åæ„Åõ„Çì„ÄÇ„Å®„ÅÑ„ÅÜ„ÅãÂÆüË£ÖÊñπÊ≥ï„Åå„Çè„Åã„Çâ„Å™„Åã„Å£„Åü„ÄÇÊÆãÂøµ„ÄÇüò•</p>\n<h2 id=\"Á´ØÊú´Á¥π‰ªã\"><a href=\"#Á´ØÊú´Á¥π‰ªã\" class=\"headerlink\" title=\"Á´ØÊú´Á¥π‰ªã\"></a>Á´ØÊú´Á¥π‰ªã</h2><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Á´ØÊú´</td>\n<td>Pixel 3 XL</td>\n</tr>\n<tr>\n<td>Android„Éê„Éº„Ç∏„Éß„É≥</td>\n<td>10</td>\n</tr>\n<tr>\n<td>compileSdkVersion</td>\n<td>29</td>\n</tr>\n</tbody></table>\n<h2 id=\"‰Ωú„Çã„ÇÇ„ÅÆ\"><a href=\"#‰Ωú„Çã„ÇÇ„ÅÆ\" class=\"headerlink\" title=\"‰Ωú„Çã„ÇÇ„ÅÆ\"></a>‰Ωú„Çã„ÇÇ„ÅÆ</h2><p>ÁîªÈù¢Èå≤Áîª„Åó„Å¶mp4„Åß‰øùÂ≠ò„Åô„Çã„ÄÇ<br>Èü≥Â£∞„ÅØ„Éû„Ç§„ÇØ„Åã„ÇâÂèñ„Çã„Åì„Å®„Å´„Åô„Çã„ÄÇ</p>\n<h1 id=\"ÂÆüË£Ö\"><a href=\"#ÂÆüË£Ö\" class=\"headerlink\" title=\"ÂÆüË£Ö\"></a>ÂÆüË£Ö</h1><p>Êú¨È°å„Åß„Åô„ÄÇ„Åì„Åì„Åæ„ÅßÈï∑„Åã„Å£„Åü„Å≠„ÄÇ</p>\n<h2 id=\"Android-10„Åß„ÇÇÂãï„Åè„Çà„ÅÜ„Å´\"><a href=\"#Android-10„Åß„ÇÇÂãï„Åè„Çà„ÅÜ„Å´\" class=\"headerlink\" title=\"Android 10„Åß„ÇÇÂãï„Åè„Çà„ÅÜ„Å´\"></a>Android 10„Åß„ÇÇÂãï„Åè„Çà„ÅÜ„Å´</h2><p>‰øùÂ≠òÂÖà„ÇíÂØæË±°ÁØÑÂõ≤Âà•„Çπ„Éà„É¨„Éº„Ç∏„Å´„Åô„Çã„ÄÇ<br>Service„Å´Android 10„Åã„ÇâËøΩÂä†„Åï„Çå„ÅüÂ±ûÊÄß„ÄåforegroundServiceType„Äç„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ</p>\n<h2 id=\"ÊµÅ„Çå\"><a href=\"#ÊµÅ„Çå\" class=\"headerlink\" title=\"ÊµÅ„Çå\"></a>ÊµÅ„Çå</h2><p>Ê®©Èôê„Åå„ÅÇ„Çã„ÅãÁ¢∫Ë™ç„Åô„ÇãÔºà„Éû„Ç§„ÇØ„ÅÆÈå≤Èü≥Ôºâ<br>‚Üì<br>ÁîªÈù¢Èå≤Áîª„Åó„Å¶„ÅÑ„ÅÑ„ÅãËÅû„Åè„ÄÇ<br>‚Üì<br>Ë®±ÂèØ„ÅåÂæó„Çâ„Çå„Åü„ÇâService„ÇíËµ∑Âãï„Åô„Çã„ÄÇ<br>‚Üì<br>Service„ÅÆ‰∏≠„ÅßÁîªÈù¢Èå≤Áîª„ÇíË°å„ÅÜ„ÄÇ</p>\n<p>Service„ÅåÁµÇ‰∫Ü„Åô„Çã„Å®ÂêåÊôÇ„Å´Èå≤Áîª„ÇÇÁµÇ‰∫Ü„Åï„Åõ„Çã„ÄÇ</p>\n<h2 id=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"><a href=\"#„É¨„Ç§„Ç¢„Ç¶„Éà\" class=\"headerlink\" title=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"></a>„É¨„Ç§„Ç¢„Ç¶„Éà</h2><p>Activity„ÅØMainActivity„Å†„Åë„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:gravity</span>=<span class=\"string\">\"center\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">tools:context</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/rec_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"Èå≤Áîª\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/stop_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"ÂÅúÊ≠¢\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Manifest\"><a href=\"#Manifest\" class=\"headerlink\" title=\"Manifest\"></a>Manifest</h2><p>ÂøÖË¶Å„Å™Ê®©Èôê„ÅØ</p>\n<table>\n<thead>\n<tr>\n<th>Ê®©Èôê</th>\n<th>Ë™¨Êòé</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>FOREGROUND_SERVICE</td>\n<td>„Çµ„Éº„Éì„Çπ„ÅÆÂÆüË°å„Å´ÂøÖË¶Å</td>\n</tr>\n<tr>\n<td>RECORD_AUDIO</td>\n<td>„Éû„Ç§„ÇØ„Çí‰Ωø„ÅÜ„ÅÆ„Å´ÂøÖË¶Å</td>\n</tr>\n</tbody></table>\n<p>„Åì„ÅÆÊÆµÈöé„Åß„ÅØ„ÄåScreenRecordService„Äç„ÅØ‰ΩúÊàê„Åó„Å¶„Å™„ÅÑ„ÅÆ„ÅßËµ§„Åè„Å™„Çã„Åë„Å©Âæå„Åß‰Ωú„Çã„ÅÆ„Åß„ÅäÔΩã„ÄÇ<br><strong>android:foregroundServiceType=‚ÄùmediaProjection‚Äù</strong>„ÇíÂøò„Çå„Åö„Å´</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;manifest xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    package&#x3D;&quot;io.github.takusan23.screenrecordsample&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;uses-permission android:name&#x3D;&quot;android.permission.FOREGROUND_SERVICE&quot;&#x2F;&gt;</span><br><span class=\"line\">    &lt;uses-permission android:name&#x3D;&quot;android.permission.RECORD_AUDIO&quot;&#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;application</span><br><span class=\"line\">        android:allowBackup&#x3D;&quot;true&quot;</span><br><span class=\"line\">        android:icon&#x3D;&quot;@mipmap&#x2F;ic_launcher&quot;</span><br><span class=\"line\">        android:label&#x3D;&quot;@string&#x2F;app_name&quot;</span><br><span class=\"line\">        android:roundIcon&#x3D;&quot;@mipmap&#x2F;ic_launcher_round&quot;</span><br><span class=\"line\">        android:supportsRtl&#x3D;&quot;true&quot;</span><br><span class=\"line\">        android:theme&#x3D;&quot;@style&#x2F;AppTheme&quot;&gt;</span><br><span class=\"line\">        &lt;activity android:name&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\">            &lt;intent-filter&gt;</span><br><span class=\"line\">                &lt;action android:name&#x3D;&quot;android.intent.action.MAIN&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">                &lt;category android:name&#x3D;&quot;android.intent.category.LAUNCHER&quot; &#x2F;&gt;</span><br><span class=\"line\">            &lt;&#x2F;intent-filter&gt;</span><br><span class=\"line\">        &lt;&#x2F;activity&gt;</span><br><span class=\"line\">        &lt;service android:name&#x3D;&quot;.ScreenRecordService&quot; android:foregroundServiceType&#x3D;&quot;mediaProjection&quot;&#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;application&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;manifest&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Ê®©Èôê„Çí„ÇÇ„Çâ„ÅÜ\"><a href=\"#Ê®©Èôê„Çí„ÇÇ„Çâ„ÅÜ\" class=\"headerlink\" title=\"Ê®©Èôê„Çí„ÇÇ„Çâ„ÅÜ\"></a>Ê®©Èôê„Çí„ÇÇ„Çâ„ÅÜ</h2><p>Èå≤Áîª„ÅÆ„Éú„Çø„É≥„ÇíÊäº„Åó„Åü„Çâ„Åæ„Åö„Éû„Ç§„ÇØ„Å∏„ÅÆ„Ç¢„ÇØ„Çª„ÇπÊ®©„Åå„ÅÇ„Çã„ÅãÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ<br>„Å™„ÅÑÂ†¥Âêà„ÅØÊ®©Èôê„Çí„É™„ÇØ„Ç®„Çπ„Éà„Åô„Çã„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíË°®Á§∫„Åï„Åõ„Åæ„Åô„ÄÇ</p>\n<p>Ê®©Èôê„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅØÈå≤Áîª„ÇíÈñãÂßã„Åô„Çã„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíË°®Á§∫„Åï„Åõ„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;„É™„ÇØ„Ç®„Çπ„Éà„ÅÆÁµêÊûú</span><br><span class=\"line\">val code &#x3D; 512</span><br><span class=\"line\">val permissionCode &#x3D; 810</span><br><span class=\"line\">lateinit var projectionManager: MediaProjectionManager</span><br><span class=\"line\"></span><br><span class=\"line\">override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class=\"line\">    super.onCreate(savedInstanceState)</span><br><span class=\"line\">    setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">    projectionManager &#x3D;</span><br><span class=\"line\">        getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F;ÁîªÈù¢Èå≤Áîª„Çí„Åó„Å¶„ÇÇ„ÅÑ„ÅÑ„ÅãËÅû„Åè</span><br><span class=\"line\">    rec_button.setOnClickListener &#123;</span><br><span class=\"line\">        &#x2F;&#x2F;„Åù„ÅÆÂâç„Å´„Éû„Ç§„ÇØ„Å∏„Ç¢„ÇØ„Çª„Çπ„Åó„Å¶„ÅÑ„ÅÑ„ÅãÂ∞ã„Å≠„Çã</span><br><span class=\"line\">        if (ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO)</span><br><span class=\"line\">            !&#x3D; PackageManager.PERMISSION_GRANTED</span><br><span class=\"line\">        ) &#123;</span><br><span class=\"line\">            requestPermissions(arrayOf(Manifest.permission.RECORD_AUDIO), permissionCode)</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            &#x2F;&#x2F;„Éû„Ç§„ÇØ„ÅÆÊ®©Èôê„Åå„ÅÇ„Çã„ÅÆ„ÅßÁîªÈù¢Èå≤Áîª„É™„ÇØ„Ç®„Çπ„Éà</span><br><span class=\"line\">            &#x2F;&#x2F;„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíÂá∫„Åô</span><br><span class=\"line\">            startActivityForResult(projectionManager.createScreenCaptureIntent(), code)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#x2F;&#x2F;ÂÅúÊ≠¢„Éú„Çø„É≥„ÅßÊ≠¢„ÇÅ„Çâ„Çå„Çã„Çà„ÅÜ„Å´</span><br><span class=\"line\">    stop_button.setOnClickListener &#123;</span><br><span class=\"line\">        val intent &#x3D; Intent(this, ScreenRecordService::class.java)</span><br><span class=\"line\">        stopService(intent)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;Ê®©Èôê„ÅÆÁµêÊûúÂèó„ÅëÂèñ„Çã</span><br><span class=\"line\">override fun onRequestPermissionsResult(</span><br><span class=\"line\">    requestCode: Int,</span><br><span class=\"line\">    permissions: Array&lt;out String&gt;,</span><br><span class=\"line\">    grantResults: IntArray</span><br><span class=\"line\">) &#123;</span><br><span class=\"line\">    super.onRequestPermissionsResult(requestCode, permissions, grantResults)</span><br><span class=\"line\">    if (requestCode &#x3D;&#x3D; permissionCode) &#123;</span><br><span class=\"line\">        &#x2F;&#x2F;„Éû„Ç§„ÇØ„Å∏„Ç¢„ÇØ„Çª„ÇπÊ®©„Åí„Å£„Å®</span><br><span class=\"line\">        Toast.makeText(this, &quot;Ê®©Èôê„Åå‰ªò‰∏é„Åï„Çå„Åæ„Åó„Åü„ÄÇ&quot;, Toast.LENGTH_SHORT).show()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ÁîªÈù¢Èå≤Áîª„Çí„Åô„ÇãService„ÇíËµ∑Âãï„Åï„Åõ„Çã\"><a href=\"#ÁîªÈù¢Èå≤Áîª„Çí„Åô„ÇãService„ÇíËµ∑Âãï„Åï„Åõ„Çã\" class=\"headerlink\" title=\"ÁîªÈù¢Èå≤Áîª„Çí„Åô„ÇãService„ÇíËµ∑Âãï„Åï„Åõ„Çã\"></a>ÁîªÈù¢Èå≤Áîª„Çí„Åô„ÇãService„ÇíËµ∑Âãï„Åï„Åõ„Çã</h2><p>„Å®„Åì„Çç„ÅßAndroid„ÅÆÁîªÈù¢Èå≤Áîª„Çí„Åô„Çã„Ç≥„Éº„Éâ„Å®„Åã„Çí„ÅÑ„Çç„ÅÑ„ÇçÂèÇËÄÉ„Å´„Åó„Åü„Çè„Åë„Åß„Åô„Åå„ÄÅAndroid 10„ÅßËøΩÂä†„Åï„Çå„ÅüÂ±ûÊÄß„ÄåforegroundServiceType„Äç„ÅÆ„Åõ„ÅÑ„ÅãActivity„Åß„ÅØÁîªÈù¢Èå≤Áîª„ÅåÂá∫Êù•„Å™„ÅÑ„Å£„ÅΩ„ÅÑ„Çì„Åß„Åô„Çà„Å≠„ÄÇ<br>„Å™„ÅÆ„Åß‰ªïÊñπ„Å™„ÅèService„Åß„ÄÇ„Åæ„ÅÇService„ÅßÂÆüË£Ö„Åó„Åü„Åª„ÅÜ„ÅåÂ∫É„Åè‰Ωø„Åà„Åù„ÅÜ„Å†„ÇÇ„Çì„Å≠„ÄÇ</p>\n<p>MainActivity.kt„Å´„ÄåonActivityResult„Äç„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;ÁîªÈù¢Èå≤Áîª„ÅÆÂêàÂê¶„ÇíÂèó„ÅëÂèñ„Çã</span><br><span class=\"line\">override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) &#123;</span><br><span class=\"line\">    super.onActivityResult(requestCode, resultCode, data)</span><br><span class=\"line\">    &#x2F;&#x2F;ÊàêÂäüÔºãÁµêÊûú„ÅåÁîªÈù¢Èå≤Áîª„ÅÆÁâ©„Åã</span><br><span class=\"line\">    if (resultCode &#x3D;&#x3D; Activity.RESULT_OK &amp;&amp; requestCode &#x3D;&#x3D; code) &#123;</span><br><span class=\"line\">        &#x2F;&#x2F;ServiceËµ∑Âãï</span><br><span class=\"line\">        &#x2F;&#x2F;Manifest„Å´„Äåandroid:foregroundServiceType&#x3D;&quot;mediaProjection&quot;„Äç„Çí‰ªò„ÅëË∂≥„Åó„Å¶„Åä„Åè</span><br><span class=\"line\">        val intent &#x3D; Intent(this, ScreenRecordService::class.java)</span><br><span class=\"line\">        intent.putExtra(&quot;code&quot;, resultCode) &#x2F;&#x2F;ÂøÖË¶Å„Å™„ÅÆ„ÅØÁµêÊûú„ÄÇstartActivityForResult„ÅÆrequestCode„Åß„ÅØ„Å™„ÅÑ„ÄÇ</span><br><span class=\"line\">        intent.putExtra(&quot;data&quot;, data)</span><br><span class=\"line\">        &#x2F;&#x2F;ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï„ÇÇ‰∏ÄÁ∑í„Å´ÂÖ•„Çå„Çã</span><br><span class=\"line\">        val metrics &#x3D; resources.displayMetrics;</span><br><span class=\"line\">        intent.putExtra(&quot;height&quot;, metrics.heightPixels)</span><br><span class=\"line\">        intent.putExtra(&quot;width&quot;, metrics.widthPixels)</span><br><span class=\"line\">        intent.putExtra(&quot;dpi&quot;, metrics.densityDpi)</span><br><span class=\"line\"></span><br><span class=\"line\">        startForegroundService(intent)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Service‰ΩúÊàê\"><a href=\"#Service‰ΩúÊàê\" class=\"headerlink\" title=\"Service‰ΩúÊàê\"></a>Service‰ΩúÊàê</h2><p>„Åù„Çå„Åã„Çâ„ÄåScreenRecordService.kt„Äç„Çí‰ΩúÊàê„Åó„Å¶‰∏ã„Åï„ÅÑ„ÄÇ<br>‰ΩúÊàê„Åó„Åü„Çâ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„ÄÇ<br>setSmallIcon„ÅåËµ§„Åè„Å™„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ„Åì„Çå„ÅØ„Éô„ÇØ„Çø„Éº„Ç¢„Çª„ÉÉ„Éà„Åã„ÇâËøΩÂä†„Åó„Åü„Åü„ÇÅ„Åß„Åô„ÄÇ<br>„Å™„ÅÆ„ÅßÁîªÂÉè„ÅÆ„Çà„ÅÜ„Å´„Åó„Å¶Ë¶ã„Å§„Åë„Å¶‰∏ã„Åï„ÅÑ„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/f504e4f1-57ae-e459-8f51-eb96af80bfea.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/ebe8ef29-bd69-3afc-6aec-100a92f9322f.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class ScreenRecordService : Service() &#123;</span><br><span class=\"line\">    &#x2F;&#x2F;Intent„Å´Ë©∞„ÇÅ„Åü„Éá„Éº„Çø„ÇíÂèó„ÅëÂèñ„Çã</span><br><span class=\"line\">    var data: Intent? &#x3D; null</span><br><span class=\"line\">    var code &#x3D; Activity.RESULT_OK</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F;ÁîªÈù¢Èå≤Áîª„Åß‰Ωø„ÅÜ</span><br><span class=\"line\">    lateinit var mediaRecorder: MediaRecorder</span><br><span class=\"line\">    lateinit var projectionManager: MediaProjectionManager</span><br><span class=\"line\">    lateinit var projection: MediaProjection</span><br><span class=\"line\">    lateinit var virtualDisplay: VirtualDisplay</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F;ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï</span><br><span class=\"line\">    &#x2F;&#x2F;Pixel 3 XL„Å†„Å®„Å™„Çì„Åã„Åä„Åã„Åó„Åè„Å™„Çã</span><br><span class=\"line\">    var height &#x3D; 2800</span><br><span class=\"line\">    var width &#x3D; 1400</span><br><span class=\"line\">    var dpi &#x3D; 1000</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    override fun onBind(p0: Intent?): IBinder? &#123;</span><br><span class=\"line\">        return null</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;„Éá„Éº„ÇøÂèó„ÅëÂèñ„Çã</span><br><span class=\"line\">        data &#x3D; intent?.getParcelableExtra(&quot;data&quot;)</span><br><span class=\"line\">        code &#x3D; intent?.getIntExtra(&quot;code&quot;, Activity.RESULT_OK) ?: Activity.RESULT_OK</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï</span><br><span class=\"line\">        &#x2F;&#x2F;   height &#x3D; intent?.getIntExtra(&quot;height&quot;, 1000) ?: 1000</span><br><span class=\"line\">        &#x2F;&#x2F;   width &#x3D; intent?.getIntExtra(&quot;width&quot;, 1000) ?: 1000</span><br><span class=\"line\">        dpi &#x3D; intent?.getIntExtra(&quot;dpi&quot;, 1000) ?: 1000</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;ÈÄöÁü•„ÇíÂá∫„Åô„ÄÇ</span><br><span class=\"line\">        val notificationManager &#x3D;</span><br><span class=\"line\">            getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager</span><br><span class=\"line\">        &#x2F;&#x2F;ÈÄöÁü•„ÉÅ„É£„É≥„Éç„É´</span><br><span class=\"line\">        val channelID &#x3D; &quot;rec_notify&quot;</span><br><span class=\"line\">        &#x2F;&#x2F;ÈÄöÁü•„ÉÅ„É£„É≥„Éç„É´„ÅåÂ≠òÂú®„Åó„Å™„ÅÑ„Å®„Åç„ÅØÁôªÈå≤„Åô„Çã</span><br><span class=\"line\">        if (notificationManager.getNotificationChannel(channelID) &#x3D;&#x3D; null) &#123;</span><br><span class=\"line\">            val channel &#x3D;</span><br><span class=\"line\">                NotificationChannel(channelID, &quot;Èå≤Áîª„Çµ„Éº„Éì„ÇπËµ∑Âãï‰∏≠ÈÄöÁü•&quot;, NotificationManager.IMPORTANCE_HIGH)</span><br><span class=\"line\">            notificationManager.createNotificationChannel(channel)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        &#x2F;&#x2F;ÈÄöÁü•‰ΩúÊàê</span><br><span class=\"line\">        val notification &#x3D; Notification.Builder(applicationContext, channelID)</span><br><span class=\"line\">            .setContentText(&quot;Èå≤Áîª‰∏≠„Åß„Åô„ÄÇ&quot;)</span><br><span class=\"line\">            .setContentTitle(&quot;ÁîªÈù¢Èå≤Áîª&quot;)</span><br><span class=\"line\">            .setSmallIcon(R.drawable.ic_cast_black_24dp)    &#x2F;&#x2F;„Ç¢„Ç§„Ç≥„É≥„ÅØ„Éô„ÇØ„Çø„Éº„Ç¢„Çª„ÉÉ„Éà„Åã„Çâ</span><br><span class=\"line\">            .build()</span><br><span class=\"line\"></span><br><span class=\"line\">        startForeground(1, notification)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;Èå≤ÁîªÈñãÂßã</span><br><span class=\"line\">        startRec()</span><br><span class=\"line\"></span><br><span class=\"line\">        return START_NOT_STICKY</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F;ServiceÁµÇ‰∫Ü„Å®ÂêåÊôÇ„Å´Èå≤ÁîªÁµÇ‰∫Ü</span><br><span class=\"line\">    override fun onDestroy() &#123;</span><br><span class=\"line\">        super.onDestroy()</span><br><span class=\"line\">        stopRec()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ÁîªÈù¢Èå≤Áîª\"><a href=\"#ÁîªÈù¢Èå≤Áîª\" class=\"headerlink\" title=\"ÁîªÈù¢Èå≤Áîª\"></a>ÁîªÈù¢Èå≤Áîª</h2><p>ScreenRecordService.kt„Å´‰ªò„ÅëË∂≥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>„Åì„Åì„ÅØ„Çà„Åè„Çè„Åã„Çâ„Çì„ÅÆ„Åß„ÅÇ„Åæ„ÇäË®Ä„Åà„Åæ„Åõ„Çì„Åå„ÄÅ„ÄåsetVideoEncodingBitRate„Äç„ÇíÈ´ò„Åè„Åô„Çå„Å∞ÁîªË≥™„Ç¢„ÉÉ„ÉóÔºÜ„Éï„Ç°„Ç§„É´„Çµ„Ç§„Ç∫„Ç¢„ÉÉ„Éó„Åß„Åô„ÄÇ<br>„Éï„Ç°„Ç§„É´Âêç„ÅØÊï∞Â≠ó.mp4„Å´„Å™„Çä„Åæ„Åô„ÄÇ<code>${System.currentTimeMillis()}.mp4</code>„ÅÆÈÉ®ÂàÜ„Åå„Éï„Ç°„Ç§„É´Âêç„Å´„Å™„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅßÂ§â„Åà„Åü„ÅÑÂ†¥Âêà„ÅØ„Å©„ÅÜ„Åû„ÄÇ<br>‰øùÂ≠òÂÖà„ÅØ<strong>Android/data/io.github.takusan23.screenrecordsample/file</strong>„ÅÆ‰∏≠„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;Èå≤ÁîªÈñãÂßã</span><br><span class=\"line\">fun startRec() &#123;</span><br><span class=\"line\">    if (data !&#x3D; null) &#123;</span><br><span class=\"line\">        projectionManager &#x3D;</span><br><span class=\"line\">            getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager</span><br><span class=\"line\">        &#x2F;&#x2F;code„ÅØActivity.RESULT_OK„Å®„Åã„ÅåÂÖ•„Çã„ÄÇ</span><br><span class=\"line\">        projection &#x3D;</span><br><span class=\"line\">            projectionManager.getMediaProjection(code, data!!)</span><br><span class=\"line\"></span><br><span class=\"line\">        mediaRecorder &#x3D; MediaRecorder()</span><br><span class=\"line\">        mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC)</span><br><span class=\"line\">        mediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE)</span><br><span class=\"line\">        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4)</span><br><span class=\"line\">        mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264)</span><br><span class=\"line\">        mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB)</span><br><span class=\"line\">        mediaRecorder.setVideoEncodingBitRate(1080 * 10000) &#x2F;&#x2F;1080„ÅØ512„Åê„Çâ„ÅÑ„Å´„Åó„Å®„ÅÑ„Åü„Åª„ÅÜ„ÅåÂ∞è„Åï„Åè„Åß„Åç„Çã</span><br><span class=\"line\">        mediaRecorder.setVideoFrameRate(30)</span><br><span class=\"line\">        mediaRecorder.setVideoSize(width, height)</span><br><span class=\"line\">        mediaRecorder.setAudioSamplingRate(44100)</span><br><span class=\"line\">        mediaRecorder.setOutputFile(getFilePath())</span><br><span class=\"line\">        mediaRecorder.prepare()</span><br><span class=\"line\"></span><br><span class=\"line\">        virtualDisplay &#x3D; projection.createVirtualDisplay(</span><br><span class=\"line\">            &quot;recode&quot;,</span><br><span class=\"line\">            width,</span><br><span class=\"line\">            height,</span><br><span class=\"line\">            dpi,</span><br><span class=\"line\">            DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,</span><br><span class=\"line\">            mediaRecorder.surface,</span><br><span class=\"line\">            null,</span><br><span class=\"line\">            null</span><br><span class=\"line\">        )</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;ÈñãÂßã</span><br><span class=\"line\">        mediaRecorder.start()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;Èå≤ÁîªÊ≠¢„ÇÅ„Çã</span><br><span class=\"line\">fun stopRec() &#123;</span><br><span class=\"line\">    mediaRecorder.stop()</span><br><span class=\"line\">    mediaRecorder.release()</span><br><span class=\"line\">    virtualDisplay.release()</span><br><span class=\"line\">    projection.stop()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;‰øùÂ≠òÂÖàÂèñÂæó„ÄÇ‰ªäÂõû„ÅØÂØæË±°ÁØÑÂõ≤Âà•„Çπ„Éà„É¨„Éº„Ç∏„Å´‰øùÂ≠ò„Åô„Çã</span><br><span class=\"line\">fun getFilePath(): File &#123;</span><br><span class=\"line\">    &#x2F;&#x2F;ScopedStorage„Åß‰Ωú„Çâ„Çå„Çã„Çµ„É≥„Éâ„Éú„ÉÉ„ÇØ„Çπ„Å∏„ÅÆ„Å±„Åô</span><br><span class=\"line\">    val scopedStoragePath &#x3D; getExternalFilesDir(null)</span><br><span class=\"line\">    &#x2F;&#x2F;ÂÜôÁúü„Éï„Ç°„Ç§„É´‰ΩúÊàê</span><br><span class=\"line\">    val file &#x3D; File(&quot;$&#123;scopedStoragePath?.path&#125;&#x2F;$&#123;System.currentTimeMillis()&#125;.mp4&quot;)</span><br><span class=\"line\">    return file</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ÂÆåÊàêÔºÅ\"><a href=\"#ÂÆåÊàêÔºÅ\" class=\"headerlink\" title=\"ÂÆåÊàêÔºÅ\"></a>ÂÆåÊàêÔºÅ</h2><p>ÈñãÂßã„Éú„Çø„É≥Êäº„Åó„Åü„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/8942a6c6-0950-3c74-128a-a0fed4934bab.png\" alt=\"Screenshot_20191010-200940.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191010-200940.png</div>\n            </figure>\n\n<p>„Äå‰ªä„Åô„ÅêÈñãÂßã„Äç„ÇíÊäº„Åó„Åü„ÄÇ<br>„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ„Éê„Ç§„Éñ„Ç¢„Ç§„Ç≥„É≥„ÅÆÈö£„Å´„Ç≠„É£„Çπ„Éà‰∏≠„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÅåÂá∫„Å¶„Åæ„Åô„Å≠„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/174fed18-0694-8111-6287-94f26c3bfd7b.png\" alt=\"Screenshot_20191010-200946.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191010-200946.png</div>\n            </figure>\n\n<p>ÂÅúÊ≠¢„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶‰ΩúÊàê„Åó„ÅüÂãïÁîª„Éï„Ç°„Ç§„É´„ÇíË¶ã„Åü</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/62653173-7209-4a74-9ff6-63f8eb695d83.png\" alt=\"Screenshot_20191010-201017.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191010-201017.png</div>\n            </figure>\n\n<h2 id=\"Pixel-3-XL-„ÅßÈÅ≠ÈÅá„Åó„ÅüÂïèÈ°å\"><a href=\"#Pixel-3-XL-„ÅßÈÅ≠ÈÅá„Åó„ÅüÂïèÈ°å\" class=\"headerlink\" title=\"Pixel 3 XL „ÅßÈÅ≠ÈÅá„Åó„ÅüÂïèÈ°å\"></a>Pixel 3 XL „ÅßÈÅ≠ÈÅá„Åó„ÅüÂïèÈ°å</h2><h3 id=\"ÂãïÁîª„ÅÆÂ§ß„Åç„Åï„Åå„Åä„Åã„Åó„ÅÑÂïèÈ°å\"><a href=\"#ÂãïÁîª„ÅÆÂ§ß„Åç„Åï„Åå„Åä„Åã„Åó„ÅÑÂïèÈ°å\" class=\"headerlink\" title=\"ÂãïÁîª„ÅÆÂ§ß„Åç„Åï„Åå„Åä„Åã„Åó„ÅÑÂïèÈ°å\"></a>ÂãïÁîª„ÅÆÂ§ß„Åç„Åï„Åå„Åä„Åã„Åó„ÅÑÂïèÈ°å</h3><p>„Çà„Åè„Çè„Åã„Çâ„Å™„ÅÑ„ÅÆ„Åß‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´Êõ∏„ÅçÊèõ„Åà„Å¶„Åä„Åç„Åæ„Åó„Åü„ÄÇ<br>Êú¨Êù•„ÅØ„Åì„ÅÆÂÄ§„ÇíÂõ∫ÂÆö„Åô„Çã„Åπ„Åç„Åß„ÅØÁÑ°„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÅåPixel 3 XL„Åß„Åó„ÅãÂãï„Åã„Åï„Å™„ÅÑ„ÅÆ„ÅßÂà•„Å´„ÅÑ„ÅÑ„ÇÑ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &#x2F;&#x2F;ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï</span><br><span class=\"line\"> &#x2F;&#x2F;Pixel 3 XL„Å†„Å®„Å™„Çì„Åã„Åä„Åã„Åó„Åè„Å™„Çã</span><br><span class=\"line\"> var height &#x3D; 2800</span><br><span class=\"line\"> var width &#x3D; 1400</span><br><span class=\"line\"> var dpi &#x3D; 1000</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;‰ª•‰∏ãÁúÅÁï•</span><br><span class=\"line\"></span><br><span class=\"line\"> override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">     &#x2F;&#x2F;„Éá„Éº„ÇøÂèó„ÅëÂèñ„Çã</span><br><span class=\"line\">     data &#x3D; intent?.getParcelableExtra(&quot;data&quot;)</span><br><span class=\"line\">     code &#x3D; intent?.getIntExtra(&quot;code&quot;, Activity.RESULT_OK) ?: Activity.RESULT_OK</span><br><span class=\"line\"></span><br><span class=\"line\">     &#x2F;&#x2F;ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï</span><br><span class=\"line\">     &#x2F;&#x2F;   height &#x3D; intent?.getIntExtra(&quot;height&quot;, 1000) ?: 1000</span><br><span class=\"line\">     &#x2F;&#x2F;   width &#x3D; intent?.getIntExtra(&quot;width&quot;, 1000) ?: 1000</span><br><span class=\"line\">     dpi &#x3D; intent?.getIntExtra(&quot;dpi&quot;, 1000) ?: 1000</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F;‰ª•‰∏ãÁúÅÁï•</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ÂÜÖÈÉ®Èü≥Â£∞„ÅØÂèñ„Çå„Å™„ÅÑ„ÅÆÔºü\"><a href=\"#ÂÜÖÈÉ®Èü≥Â£∞„ÅØÂèñ„Çå„Å™„ÅÑ„ÅÆÔºü\" class=\"headerlink\" title=\"ÂÜÖÈÉ®Èü≥Â£∞„ÅØÂèñ„Çå„Å™„ÅÑ„ÅÆÔºü\"></a>ÂÜÖÈÉ®Èü≥Â£∞„ÅØÂèñ„Çå„Å™„ÅÑ„ÅÆÔºü</h2><p>Android 10„Åã„Çâ„ÄåAudioPlaybackCapture API„Äç„ÅåËøΩÂä†„Åï„Çå„Åæ„Åó„Åü„Åå<br>ÂÜÖÈÉ®Èü≥Â£∞„ÅØMediaRecorder„Åß„ÅØ„Å™„ÅèAudioRecord„Çí‰Ωø„Çè„Å™„ÅÑ„Å®Èå≤Èü≥„Åß„Åç„Å™„ÅÑ„ÄÇÊÆãÂøµ„ÄÇ<br>AudioRecord„ÅÆ‰øùÂ≠ò„Å®„Åã„Å©„ÅÜ„ÇÑ„Çã„Çì„Å†„Çç„ÅÜ„ÄÇ<br>„Åç„Å£„Å®„Åù„ÅÆ„ÅÜ„Å°Âá∫„Å¶„Åè„Çã„Å®ÊÄù„ÅÜ„ÅÆ„Åß„Åó„Å∞„Çâ„ÅèÂæÖ„Å§„Åì„Å®„Å´„Åô„Çã„ÄÇ</p>\n<h2 id=\"ÁµÇ„Çè„Çä„Å´\"><a href=\"#ÁµÇ„Çè„Çä„Å´\" class=\"headerlink\" title=\"ÁµÇ„Çè„Çä„Å´\"></a>ÁµÇ„Çè„Çä„Å´</h2><p>Root„Å™„Åó„ÅßÂÜÖÈÉ®Èü≥Â£∞„ÅåÂèñ„Çå„Çã„ÅÆ„ÅØÊúüÂæÖ„Åß„Åô„Å≠„ÄÇ<br>„Åì„ÅÆË®ò‰∫ã„ÇíÊõ∏„ÅÑ„Å¶„Çã„Å®„Åç„Å´ÊÄù„ÅÑÂá∫„Åó„Åæ„Åó„Åü„Åå„ÄÅAndroid Q Beta 3„Åê„Çâ„ÅÑ„ÅÆ„Å®„ÅçAndroid„Å´Ê®ôÊ∫ñ„ÅßÁîªÈù¢Èå≤Áîª„ÅåÊê≠Ëºâ„Åï„Çå„Åù„ÅÜ„Å´„Å™„Å£„ÅüÔºàÈñãÁô∫ËÄÖ„Ç™„Éó„Ç∑„Éß„É≥„ÅÆÊ©üËÉΩ„Éï„É©„Ç∞„ÅßÊúâÂäπ„Å´„Åó„Å™„ÅÑ„Å®„ÅÑ„Åë„Å™„ÅÑÔºâ„ÄÇ<br>BetaÁâà„ÅÆÊÆµÈöé„Åß„ÅØÈõªÊ∫ê„Éú„Çø„É≥Èï∑Êäº„Åó„ÅßË°®Á§∫„Åï„Çå„Çã„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÇíÂèñ„Çã„Éú„Çø„É≥„ÇíÈï∑Êäº„Åó„Åô„Çå„Å∞Âà©Áî®„Åß„Åç„Åü„Åù„ÅÜ„ÄÇÔºàÊÆãÂøµ„Å™„Åå„ÇâÁßÅ„ÅÆÁí∞Â¢É„Åß„ÅØËêΩ„Å°„Å¶‰Ωø„Åà„Å™„Åã„Å£„Åü„ÄÇÔºâ<br>„Åë„Å©Ê≠£ÂºèÁâà„Åß„ÅØÂÆüË£Ö„Åï„Çå„Å™„Åã„Å£„Åü„ÄÇ„Åú„Å≤Ê®ôÊ∫ñ„ÅßÊ¨≤„Åó„ÅÑÊ©üËÉΩ„Å™„Çì„Å†„Åë„Å©„Å™„ÅÇ„ÄÇ</p>\n<p>„Åù„Çå„Å®<br>Pixel 4„ÄÄ„Å®„ÄÄdocomo „ÅÆÁô∫Ë°®‰ºö„ÅåÊ•Ω„Åó„Åø„Åß„Åô„Å≠ÔºÅ</p>\n<p>Êõ∏„Åç„Åü„ÅÑ„Åì„Å®„ÅØÂ§öÂàÜÂÖ®ÈÉ®Êõ∏„ÅÑ„Åü„ÅÆ„Åß„ÄÅ<br>‰ª•‰∏ä„Åß„Åô„ÄÇ„Åä„Å§„ÄÇÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºò</p>\n<h2 id=\"GitHub\"><a href=\"#GitHub\" class=\"headerlink\" title=\"GitHub\"></a>GitHub</h2><p><a href=\"https://github.com/takusan23/ScreenRecordSample\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/ScreenRecordSample</a><br>Ë©¶„Åó„Å¶„Åø„Åü„ÅÑÊñπ„Å©„ÅÜ„ÅûÔΩû</p>\n","site":{"data":{}},"excerpt":"","more":"<p>„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„ÅØ„ÄÇ„ÉÜ„Çπ„ÉàÊúüÈñì„Å§„Çâ„ÅÑ„ÄÇ<br>‰ªäÂõû„ÅØÁîªÈù¢„ÇíÈå≤Áîª„Åß„Åç„Çã„Ç¢„Éó„É™„Çí‰Ωú„Å£„Å¶„Åø„Çà„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h2 id=\"ÁîªÈù¢Èå≤Áîª„ÅÆÊ≠¥Âè≤Ôºü\"><a href=\"#ÁîªÈù¢Èå≤Áîª„ÅÆÊ≠¥Âè≤Ôºü\" class=\"headerlink\" title=\"ÁîªÈù¢Èå≤Áîª„ÅÆÊ≠¥Âè≤Ôºü\"></a>ÁîªÈù¢Èå≤Áîª„ÅÆÊ≠¥Âè≤Ôºü</h2><p>„Åì„Åì„Åß„ÅØRootÂåñ„ÅßÂà©Áî®„Åß„Åç„ÇãÁîªÈù¢Èå≤Áîª„ÅØ„Å™„Åó„ÅÆÊñπÂêë„Åß„ÄÇRootÂèñ„Çå„Å∞ÂÜÖÈÉ®Èü≥Â£∞„ÅåÂèñ„Çå„Çã„Å£„Å¶ËÅû„ÅÑ„Åü„Åì„Å®„ÅÇ„Çã„ÄÇ<br>„ÅÇ„Å®Â§ñÈÉ®Âá∫ÂäõÁ´ØÂ≠ê„ÇíÂà©Áî®„Åó„Å¶Èå≤Áîª„Åô„ÇãË©±„ÇÇ„Å™„Åó„ÅÆÊñπÂêë„Åß„ÄÇ<br>ÁßÅ„ÅåÁü•„Å£„Å¶„ÇãÈôê„Çä„Åß„ÅØ</p>\n<p>Xperia Z3 / Z3 Compact „Åß„Çπ„ÇØ„É™„Éº„É≥„É¨„Ç≥„Éº„ÉÄ„Éº„ÅåÊê≠Ëºâ„Åï„Çå„ÅüÔºà4.4Ôºâ„ÄÇ<br>Ôºà„Åß„Åô„Åå„ÅÑ„Å§„ÅÆÈñì„Å´„Åã„Çπ„ÇØ„É™„Éº„É≥„É¨„Ç≥„Éº„ÉÄ„ÉºÊ©üËÉΩ„ÅØ„Å™„Åè„Å™„Å£„Åü„Åù„ÅÜ„Åß„Åô„ÄÇÔºàXperia 1„ÅßÂæ©Ê¥ª„Åó„Åü„Çâ„Åó„ÅÑÔºâÔºâ<br>Ôºà„ÅÇ„Å®„Çπ„É¢„Éº„É´„Ç¢„Éó„É™„Å®„Åã„Å©„ÅìË°å„Å£„Åü„ÅÆÔºüÔºâ<br>‚Üì<br>5.0„Åß„ÄåMediaProjection API„Äç„ÅåËøΩÂä†„Åï„Çå„Å¶„Çµ„Éº„Éâ„Éë„Éº„ÉÜ„Ç£„Ç¢„Éó„É™„Åß„ÇÇÈå≤Áîª„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇ<br>Google Play „Ç≤„Éº„É†„ÅßÁîªÈù¢Èå≤ÁîªÊ©üËÉΩ„ÅåËøΩÂä†„Åï„Çå„Åü„Çä„Åó„Åü„ÄÇ<br>„Åó„Åã„Åó„Åì„ÅÆÊâã„ÅÆÁîªÈù¢Èå≤Áîª„Ç¢„Éó„É™„ÅØÈü≥Â£∞„Çí„Éû„Ç§„ÇØ„Åã„ÇâÊíÆ„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅßÁ´ØÊú´„ÅÆÈü≥‰ª•Â§ñ„ÅåÂÖ•„Å£„Å¶„Åó„Åæ„ÅÜ„ÄÇ<br>‚Üì<br>ÔºàSamsung„Å®„Åã„ÅåÂÜÖÈÉ®Èü≥Â£∞„ÅåÂèñ„Çå„Çã„Ç¢„Éó„É™„ÇíÁã¨Ëá™„ÅßËøΩÂä†„Åó„Å¶„ÅÑ„Çã„Çâ„Åó„ÅÑÔºüÔºâ<br>‚Üì<br>10.0„ÅßÁ´ØÊú´„ÅÆÂÜÖÈÉ®Èü≥Â£∞„ÇíÂèñ„Çå„Çã„ÄåAudioPlaybackCapture API„Äç„ÅåËøΩÂä†„Åï„Çå„Åü„ÄÇ<br>‰ªäÂõû„ÅØËß¶„Çå„Åæ„Åõ„Çì„ÄÇ„Å®„ÅÑ„ÅÜ„ÅãÂÆüË£ÖÊñπÊ≥ï„Åå„Çè„Åã„Çâ„Å™„Åã„Å£„Åü„ÄÇÊÆãÂøµ„ÄÇüò•</p>\n<h2 id=\"Á´ØÊú´Á¥π‰ªã\"><a href=\"#Á´ØÊú´Á¥π‰ªã\" class=\"headerlink\" title=\"Á´ØÊú´Á¥π‰ªã\"></a>Á´ØÊú´Á¥π‰ªã</h2><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Á´ØÊú´</td>\n<td>Pixel 3 XL</td>\n</tr>\n<tr>\n<td>Android„Éê„Éº„Ç∏„Éß„É≥</td>\n<td>10</td>\n</tr>\n<tr>\n<td>compileSdkVersion</td>\n<td>29</td>\n</tr>\n</tbody></table>\n<h2 id=\"‰Ωú„Çã„ÇÇ„ÅÆ\"><a href=\"#‰Ωú„Çã„ÇÇ„ÅÆ\" class=\"headerlink\" title=\"‰Ωú„Çã„ÇÇ„ÅÆ\"></a>‰Ωú„Çã„ÇÇ„ÅÆ</h2><p>ÁîªÈù¢Èå≤Áîª„Åó„Å¶mp4„Åß‰øùÂ≠ò„Åô„Çã„ÄÇ<br>Èü≥Â£∞„ÅØ„Éû„Ç§„ÇØ„Åã„ÇâÂèñ„Çã„Åì„Å®„Å´„Åô„Çã„ÄÇ</p>\n<h1 id=\"ÂÆüË£Ö\"><a href=\"#ÂÆüË£Ö\" class=\"headerlink\" title=\"ÂÆüË£Ö\"></a>ÂÆüË£Ö</h1><p>Êú¨È°å„Åß„Åô„ÄÇ„Åì„Åì„Åæ„ÅßÈï∑„Åã„Å£„Åü„Å≠„ÄÇ</p>\n<h2 id=\"Android-10„Åß„ÇÇÂãï„Åè„Çà„ÅÜ„Å´\"><a href=\"#Android-10„Åß„ÇÇÂãï„Åè„Çà„ÅÜ„Å´\" class=\"headerlink\" title=\"Android 10„Åß„ÇÇÂãï„Åè„Çà„ÅÜ„Å´\"></a>Android 10„Åß„ÇÇÂãï„Åè„Çà„ÅÜ„Å´</h2><p>‰øùÂ≠òÂÖà„ÇíÂØæË±°ÁØÑÂõ≤Âà•„Çπ„Éà„É¨„Éº„Ç∏„Å´„Åô„Çã„ÄÇ<br>Service„Å´Android 10„Åã„ÇâËøΩÂä†„Åï„Çå„ÅüÂ±ûÊÄß„ÄåforegroundServiceType„Äç„ÇíÊõ∏„ÅçË∂≥„Åô„ÄÇ</p>\n<h2 id=\"ÊµÅ„Çå\"><a href=\"#ÊµÅ„Çå\" class=\"headerlink\" title=\"ÊµÅ„Çå\"></a>ÊµÅ„Çå</h2><p>Ê®©Èôê„Åå„ÅÇ„Çã„ÅãÁ¢∫Ë™ç„Åô„ÇãÔºà„Éû„Ç§„ÇØ„ÅÆÈå≤Èü≥Ôºâ<br>‚Üì<br>ÁîªÈù¢Èå≤Áîª„Åó„Å¶„ÅÑ„ÅÑ„ÅãËÅû„Åè„ÄÇ<br>‚Üì<br>Ë®±ÂèØ„ÅåÂæó„Çâ„Çå„Åü„ÇâService„ÇíËµ∑Âãï„Åô„Çã„ÄÇ<br>‚Üì<br>Service„ÅÆ‰∏≠„ÅßÁîªÈù¢Èå≤Áîª„ÇíË°å„ÅÜ„ÄÇ</p>\n<p>Service„ÅåÁµÇ‰∫Ü„Åô„Çã„Å®ÂêåÊôÇ„Å´Èå≤Áîª„ÇÇÁµÇ‰∫Ü„Åï„Åõ„Çã„ÄÇ</p>\n<h2 id=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"><a href=\"#„É¨„Ç§„Ç¢„Ç¶„Éà\" class=\"headerlink\" title=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"></a>„É¨„Ç§„Ç¢„Ç¶„Éà</h2><p>Activity„ÅØMainActivity„Å†„Åë„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:gravity</span>=<span class=\"string\">\"center\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">tools:context</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/rec_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"Èå≤Áîª\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/stop_button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"ÂÅúÊ≠¢\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Manifest\"><a href=\"#Manifest\" class=\"headerlink\" title=\"Manifest\"></a>Manifest</h2><p>ÂøÖË¶Å„Å™Ê®©Èôê„ÅØ</p>\n<table>\n<thead>\n<tr>\n<th>Ê®©Èôê</th>\n<th>Ë™¨Êòé</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>FOREGROUND_SERVICE</td>\n<td>„Çµ„Éº„Éì„Çπ„ÅÆÂÆüË°å„Å´ÂøÖË¶Å</td>\n</tr>\n<tr>\n<td>RECORD_AUDIO</td>\n<td>„Éû„Ç§„ÇØ„Çí‰Ωø„ÅÜ„ÅÆ„Å´ÂøÖË¶Å</td>\n</tr>\n</tbody></table>\n<p>„Åì„ÅÆÊÆµÈöé„Åß„ÅØ„ÄåScreenRecordService„Äç„ÅØ‰ΩúÊàê„Åó„Å¶„Å™„ÅÑ„ÅÆ„ÅßËµ§„Åè„Å™„Çã„Åë„Å©Âæå„Åß‰Ωú„Çã„ÅÆ„Åß„ÅäÔΩã„ÄÇ<br><strong>android:foregroundServiceType=‚ÄùmediaProjection‚Äù</strong>„ÇíÂøò„Çå„Åö„Å´</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;manifest xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    package&#x3D;&quot;io.github.takusan23.screenrecordsample&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;uses-permission android:name&#x3D;&quot;android.permission.FOREGROUND_SERVICE&quot;&#x2F;&gt;</span><br><span class=\"line\">    &lt;uses-permission android:name&#x3D;&quot;android.permission.RECORD_AUDIO&quot;&#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;application</span><br><span class=\"line\">        android:allowBackup&#x3D;&quot;true&quot;</span><br><span class=\"line\">        android:icon&#x3D;&quot;@mipmap&#x2F;ic_launcher&quot;</span><br><span class=\"line\">        android:label&#x3D;&quot;@string&#x2F;app_name&quot;</span><br><span class=\"line\">        android:roundIcon&#x3D;&quot;@mipmap&#x2F;ic_launcher_round&quot;</span><br><span class=\"line\">        android:supportsRtl&#x3D;&quot;true&quot;</span><br><span class=\"line\">        android:theme&#x3D;&quot;@style&#x2F;AppTheme&quot;&gt;</span><br><span class=\"line\">        &lt;activity android:name&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\">            &lt;intent-filter&gt;</span><br><span class=\"line\">                &lt;action android:name&#x3D;&quot;android.intent.action.MAIN&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">                &lt;category android:name&#x3D;&quot;android.intent.category.LAUNCHER&quot; &#x2F;&gt;</span><br><span class=\"line\">            &lt;&#x2F;intent-filter&gt;</span><br><span class=\"line\">        &lt;&#x2F;activity&gt;</span><br><span class=\"line\">        &lt;service android:name&#x3D;&quot;.ScreenRecordService&quot; android:foregroundServiceType&#x3D;&quot;mediaProjection&quot;&#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;application&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;manifest&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Ê®©Èôê„Çí„ÇÇ„Çâ„ÅÜ\"><a href=\"#Ê®©Èôê„Çí„ÇÇ„Çâ„ÅÜ\" class=\"headerlink\" title=\"Ê®©Èôê„Çí„ÇÇ„Çâ„ÅÜ\"></a>Ê®©Èôê„Çí„ÇÇ„Çâ„ÅÜ</h2><p>Èå≤Áîª„ÅÆ„Éú„Çø„É≥„ÇíÊäº„Åó„Åü„Çâ„Åæ„Åö„Éû„Ç§„ÇØ„Å∏„ÅÆ„Ç¢„ÇØ„Çª„ÇπÊ®©„Åå„ÅÇ„Çã„ÅãÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ<br>„Å™„ÅÑÂ†¥Âêà„ÅØÊ®©Èôê„Çí„É™„ÇØ„Ç®„Çπ„Éà„Åô„Çã„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíË°®Á§∫„Åï„Åõ„Åæ„Åô„ÄÇ</p>\n<p>Ê®©Èôê„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅØÈå≤Áîª„ÇíÈñãÂßã„Åô„Çã„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíË°®Á§∫„Åï„Åõ„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;„É™„ÇØ„Ç®„Çπ„Éà„ÅÆÁµêÊûú</span><br><span class=\"line\">val code &#x3D; 512</span><br><span class=\"line\">val permissionCode &#x3D; 810</span><br><span class=\"line\">lateinit var projectionManager: MediaProjectionManager</span><br><span class=\"line\"></span><br><span class=\"line\">override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class=\"line\">    super.onCreate(savedInstanceState)</span><br><span class=\"line\">    setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">    projectionManager &#x3D;</span><br><span class=\"line\">        getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F;ÁîªÈù¢Èå≤Áîª„Çí„Åó„Å¶„ÇÇ„ÅÑ„ÅÑ„ÅãËÅû„Åè</span><br><span class=\"line\">    rec_button.setOnClickListener &#123;</span><br><span class=\"line\">        &#x2F;&#x2F;„Åù„ÅÆÂâç„Å´„Éû„Ç§„ÇØ„Å∏„Ç¢„ÇØ„Çª„Çπ„Åó„Å¶„ÅÑ„ÅÑ„ÅãÂ∞ã„Å≠„Çã</span><br><span class=\"line\">        if (ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO)</span><br><span class=\"line\">            !&#x3D; PackageManager.PERMISSION_GRANTED</span><br><span class=\"line\">        ) &#123;</span><br><span class=\"line\">            requestPermissions(arrayOf(Manifest.permission.RECORD_AUDIO), permissionCode)</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            &#x2F;&#x2F;„Éû„Ç§„ÇØ„ÅÆÊ®©Èôê„Åå„ÅÇ„Çã„ÅÆ„ÅßÁîªÈù¢Èå≤Áîª„É™„ÇØ„Ç®„Çπ„Éà</span><br><span class=\"line\">            &#x2F;&#x2F;„ÉÄ„Ç§„Ç¢„É≠„Ç∞„ÇíÂá∫„Åô</span><br><span class=\"line\">            startActivityForResult(projectionManager.createScreenCaptureIntent(), code)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    &#x2F;&#x2F;ÂÅúÊ≠¢„Éú„Çø„É≥„ÅßÊ≠¢„ÇÅ„Çâ„Çå„Çã„Çà„ÅÜ„Å´</span><br><span class=\"line\">    stop_button.setOnClickListener &#123;</span><br><span class=\"line\">        val intent &#x3D; Intent(this, ScreenRecordService::class.java)</span><br><span class=\"line\">        stopService(intent)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;Ê®©Èôê„ÅÆÁµêÊûúÂèó„ÅëÂèñ„Çã</span><br><span class=\"line\">override fun onRequestPermissionsResult(</span><br><span class=\"line\">    requestCode: Int,</span><br><span class=\"line\">    permissions: Array&lt;out String&gt;,</span><br><span class=\"line\">    grantResults: IntArray</span><br><span class=\"line\">) &#123;</span><br><span class=\"line\">    super.onRequestPermissionsResult(requestCode, permissions, grantResults)</span><br><span class=\"line\">    if (requestCode &#x3D;&#x3D; permissionCode) &#123;</span><br><span class=\"line\">        &#x2F;&#x2F;„Éû„Ç§„ÇØ„Å∏„Ç¢„ÇØ„Çª„ÇπÊ®©„Åí„Å£„Å®</span><br><span class=\"line\">        Toast.makeText(this, &quot;Ê®©Èôê„Åå‰ªò‰∏é„Åï„Çå„Åæ„Åó„Åü„ÄÇ&quot;, Toast.LENGTH_SHORT).show()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ÁîªÈù¢Èå≤Áîª„Çí„Åô„ÇãService„ÇíËµ∑Âãï„Åï„Åõ„Çã\"><a href=\"#ÁîªÈù¢Èå≤Áîª„Çí„Åô„ÇãService„ÇíËµ∑Âãï„Åï„Åõ„Çã\" class=\"headerlink\" title=\"ÁîªÈù¢Èå≤Áîª„Çí„Åô„ÇãService„ÇíËµ∑Âãï„Åï„Åõ„Çã\"></a>ÁîªÈù¢Èå≤Áîª„Çí„Åô„ÇãService„ÇíËµ∑Âãï„Åï„Åõ„Çã</h2><p>„Å®„Åì„Çç„ÅßAndroid„ÅÆÁîªÈù¢Èå≤Áîª„Çí„Åô„Çã„Ç≥„Éº„Éâ„Å®„Åã„Çí„ÅÑ„Çç„ÅÑ„ÇçÂèÇËÄÉ„Å´„Åó„Åü„Çè„Åë„Åß„Åô„Åå„ÄÅAndroid 10„ÅßËøΩÂä†„Åï„Çå„ÅüÂ±ûÊÄß„ÄåforegroundServiceType„Äç„ÅÆ„Åõ„ÅÑ„ÅãActivity„Åß„ÅØÁîªÈù¢Èå≤Áîª„ÅåÂá∫Êù•„Å™„ÅÑ„Å£„ÅΩ„ÅÑ„Çì„Åß„Åô„Çà„Å≠„ÄÇ<br>„Å™„ÅÆ„Åß‰ªïÊñπ„Å™„ÅèService„Åß„ÄÇ„Åæ„ÅÇService„ÅßÂÆüË£Ö„Åó„Åü„Åª„ÅÜ„ÅåÂ∫É„Åè‰Ωø„Åà„Åù„ÅÜ„Å†„ÇÇ„Çì„Å≠„ÄÇ</p>\n<p>MainActivity.kt„Å´„ÄåonActivityResult„Äç„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;ÁîªÈù¢Èå≤Áîª„ÅÆÂêàÂê¶„ÇíÂèó„ÅëÂèñ„Çã</span><br><span class=\"line\">override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) &#123;</span><br><span class=\"line\">    super.onActivityResult(requestCode, resultCode, data)</span><br><span class=\"line\">    &#x2F;&#x2F;ÊàêÂäüÔºãÁµêÊûú„ÅåÁîªÈù¢Èå≤Áîª„ÅÆÁâ©„Åã</span><br><span class=\"line\">    if (resultCode &#x3D;&#x3D; Activity.RESULT_OK &amp;&amp; requestCode &#x3D;&#x3D; code) &#123;</span><br><span class=\"line\">        &#x2F;&#x2F;ServiceËµ∑Âãï</span><br><span class=\"line\">        &#x2F;&#x2F;Manifest„Å´„Äåandroid:foregroundServiceType&#x3D;&quot;mediaProjection&quot;„Äç„Çí‰ªò„ÅëË∂≥„Åó„Å¶„Åä„Åè</span><br><span class=\"line\">        val intent &#x3D; Intent(this, ScreenRecordService::class.java)</span><br><span class=\"line\">        intent.putExtra(&quot;code&quot;, resultCode) &#x2F;&#x2F;ÂøÖË¶Å„Å™„ÅÆ„ÅØÁµêÊûú„ÄÇstartActivityForResult„ÅÆrequestCode„Åß„ÅØ„Å™„ÅÑ„ÄÇ</span><br><span class=\"line\">        intent.putExtra(&quot;data&quot;, data)</span><br><span class=\"line\">        &#x2F;&#x2F;ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï„ÇÇ‰∏ÄÁ∑í„Å´ÂÖ•„Çå„Çã</span><br><span class=\"line\">        val metrics &#x3D; resources.displayMetrics;</span><br><span class=\"line\">        intent.putExtra(&quot;height&quot;, metrics.heightPixels)</span><br><span class=\"line\">        intent.putExtra(&quot;width&quot;, metrics.widthPixels)</span><br><span class=\"line\">        intent.putExtra(&quot;dpi&quot;, metrics.densityDpi)</span><br><span class=\"line\"></span><br><span class=\"line\">        startForegroundService(intent)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Service‰ΩúÊàê\"><a href=\"#Service‰ΩúÊàê\" class=\"headerlink\" title=\"Service‰ΩúÊàê\"></a>Service‰ΩúÊàê</h2><p>„Åù„Çå„Åã„Çâ„ÄåScreenRecordService.kt„Äç„Çí‰ΩúÊàê„Åó„Å¶‰∏ã„Åï„ÅÑ„ÄÇ<br>‰ΩúÊàê„Åó„Åü„Çâ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„ÄÇ<br>setSmallIcon„ÅåËµ§„Åè„Å™„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ„Åì„Çå„ÅØ„Éô„ÇØ„Çø„Éº„Ç¢„Çª„ÉÉ„Éà„Åã„ÇâËøΩÂä†„Åó„Åü„Åü„ÇÅ„Åß„Åô„ÄÇ<br>„Å™„ÅÆ„ÅßÁîªÂÉè„ÅÆ„Çà„ÅÜ„Å´„Åó„Å¶Ë¶ã„Å§„Åë„Å¶‰∏ã„Åï„ÅÑ„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/f504e4f1-57ae-e459-8f51-eb96af80bfea.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/ebe8ef29-bd69-3afc-6aec-100a92f9322f.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class ScreenRecordService : Service() &#123;</span><br><span class=\"line\">    &#x2F;&#x2F;Intent„Å´Ë©∞„ÇÅ„Åü„Éá„Éº„Çø„ÇíÂèó„ÅëÂèñ„Çã</span><br><span class=\"line\">    var data: Intent? &#x3D; null</span><br><span class=\"line\">    var code &#x3D; Activity.RESULT_OK</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F;ÁîªÈù¢Èå≤Áîª„Åß‰Ωø„ÅÜ</span><br><span class=\"line\">    lateinit var mediaRecorder: MediaRecorder</span><br><span class=\"line\">    lateinit var projectionManager: MediaProjectionManager</span><br><span class=\"line\">    lateinit var projection: MediaProjection</span><br><span class=\"line\">    lateinit var virtualDisplay: VirtualDisplay</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F;ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï</span><br><span class=\"line\">    &#x2F;&#x2F;Pixel 3 XL„Å†„Å®„Å™„Çì„Åã„Åä„Åã„Åó„Åè„Å™„Çã</span><br><span class=\"line\">    var height &#x3D; 2800</span><br><span class=\"line\">    var width &#x3D; 1400</span><br><span class=\"line\">    var dpi &#x3D; 1000</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    override fun onBind(p0: Intent?): IBinder? &#123;</span><br><span class=\"line\">        return null</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;„Éá„Éº„ÇøÂèó„ÅëÂèñ„Çã</span><br><span class=\"line\">        data &#x3D; intent?.getParcelableExtra(&quot;data&quot;)</span><br><span class=\"line\">        code &#x3D; intent?.getIntExtra(&quot;code&quot;, Activity.RESULT_OK) ?: Activity.RESULT_OK</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï</span><br><span class=\"line\">        &#x2F;&#x2F;   height &#x3D; intent?.getIntExtra(&quot;height&quot;, 1000) ?: 1000</span><br><span class=\"line\">        &#x2F;&#x2F;   width &#x3D; intent?.getIntExtra(&quot;width&quot;, 1000) ?: 1000</span><br><span class=\"line\">        dpi &#x3D; intent?.getIntExtra(&quot;dpi&quot;, 1000) ?: 1000</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;ÈÄöÁü•„ÇíÂá∫„Åô„ÄÇ</span><br><span class=\"line\">        val notificationManager &#x3D;</span><br><span class=\"line\">            getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager</span><br><span class=\"line\">        &#x2F;&#x2F;ÈÄöÁü•„ÉÅ„É£„É≥„Éç„É´</span><br><span class=\"line\">        val channelID &#x3D; &quot;rec_notify&quot;</span><br><span class=\"line\">        &#x2F;&#x2F;ÈÄöÁü•„ÉÅ„É£„É≥„Éç„É´„ÅåÂ≠òÂú®„Åó„Å™„ÅÑ„Å®„Åç„ÅØÁôªÈå≤„Åô„Çã</span><br><span class=\"line\">        if (notificationManager.getNotificationChannel(channelID) &#x3D;&#x3D; null) &#123;</span><br><span class=\"line\">            val channel &#x3D;</span><br><span class=\"line\">                NotificationChannel(channelID, &quot;Èå≤Áîª„Çµ„Éº„Éì„ÇπËµ∑Âãï‰∏≠ÈÄöÁü•&quot;, NotificationManager.IMPORTANCE_HIGH)</span><br><span class=\"line\">            notificationManager.createNotificationChannel(channel)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        &#x2F;&#x2F;ÈÄöÁü•‰ΩúÊàê</span><br><span class=\"line\">        val notification &#x3D; Notification.Builder(applicationContext, channelID)</span><br><span class=\"line\">            .setContentText(&quot;Èå≤Áîª‰∏≠„Åß„Åô„ÄÇ&quot;)</span><br><span class=\"line\">            .setContentTitle(&quot;ÁîªÈù¢Èå≤Áîª&quot;)</span><br><span class=\"line\">            .setSmallIcon(R.drawable.ic_cast_black_24dp)    &#x2F;&#x2F;„Ç¢„Ç§„Ç≥„É≥„ÅØ„Éô„ÇØ„Çø„Éº„Ç¢„Çª„ÉÉ„Éà„Åã„Çâ</span><br><span class=\"line\">            .build()</span><br><span class=\"line\"></span><br><span class=\"line\">        startForeground(1, notification)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;Èå≤ÁîªÈñãÂßã</span><br><span class=\"line\">        startRec()</span><br><span class=\"line\"></span><br><span class=\"line\">        return START_NOT_STICKY</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F;ServiceÁµÇ‰∫Ü„Å®ÂêåÊôÇ„Å´Èå≤ÁîªÁµÇ‰∫Ü</span><br><span class=\"line\">    override fun onDestroy() &#123;</span><br><span class=\"line\">        super.onDestroy()</span><br><span class=\"line\">        stopRec()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ÁîªÈù¢Èå≤Áîª\"><a href=\"#ÁîªÈù¢Èå≤Áîª\" class=\"headerlink\" title=\"ÁîªÈù¢Èå≤Áîª\"></a>ÁîªÈù¢Èå≤Áîª</h2><p>ScreenRecordService.kt„Å´‰ªò„ÅëË∂≥„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>„Åì„Åì„ÅØ„Çà„Åè„Çè„Åã„Çâ„Çì„ÅÆ„Åß„ÅÇ„Åæ„ÇäË®Ä„Åà„Åæ„Åõ„Çì„Åå„ÄÅ„ÄåsetVideoEncodingBitRate„Äç„ÇíÈ´ò„Åè„Åô„Çå„Å∞ÁîªË≥™„Ç¢„ÉÉ„ÉóÔºÜ„Éï„Ç°„Ç§„É´„Çµ„Ç§„Ç∫„Ç¢„ÉÉ„Éó„Åß„Åô„ÄÇ<br>„Éï„Ç°„Ç§„É´Âêç„ÅØÊï∞Â≠ó.mp4„Å´„Å™„Çä„Åæ„Åô„ÄÇ<code>${System.currentTimeMillis()}.mp4</code>„ÅÆÈÉ®ÂàÜ„Åå„Éï„Ç°„Ç§„É´Âêç„Å´„Å™„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅßÂ§â„Åà„Åü„ÅÑÂ†¥Âêà„ÅØ„Å©„ÅÜ„Åû„ÄÇ<br>‰øùÂ≠òÂÖà„ÅØ<strong>Android/data/io.github.takusan23.screenrecordsample/file</strong>„ÅÆ‰∏≠„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;Èå≤ÁîªÈñãÂßã</span><br><span class=\"line\">fun startRec() &#123;</span><br><span class=\"line\">    if (data !&#x3D; null) &#123;</span><br><span class=\"line\">        projectionManager &#x3D;</span><br><span class=\"line\">            getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager</span><br><span class=\"line\">        &#x2F;&#x2F;code„ÅØActivity.RESULT_OK„Å®„Åã„ÅåÂÖ•„Çã„ÄÇ</span><br><span class=\"line\">        projection &#x3D;</span><br><span class=\"line\">            projectionManager.getMediaProjection(code, data!!)</span><br><span class=\"line\"></span><br><span class=\"line\">        mediaRecorder &#x3D; MediaRecorder()</span><br><span class=\"line\">        mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC)</span><br><span class=\"line\">        mediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE)</span><br><span class=\"line\">        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4)</span><br><span class=\"line\">        mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264)</span><br><span class=\"line\">        mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB)</span><br><span class=\"line\">        mediaRecorder.setVideoEncodingBitRate(1080 * 10000) &#x2F;&#x2F;1080„ÅØ512„Åê„Çâ„ÅÑ„Å´„Åó„Å®„ÅÑ„Åü„Åª„ÅÜ„ÅåÂ∞è„Åï„Åè„Åß„Åç„Çã</span><br><span class=\"line\">        mediaRecorder.setVideoFrameRate(30)</span><br><span class=\"line\">        mediaRecorder.setVideoSize(width, height)</span><br><span class=\"line\">        mediaRecorder.setAudioSamplingRate(44100)</span><br><span class=\"line\">        mediaRecorder.setOutputFile(getFilePath())</span><br><span class=\"line\">        mediaRecorder.prepare()</span><br><span class=\"line\"></span><br><span class=\"line\">        virtualDisplay &#x3D; projection.createVirtualDisplay(</span><br><span class=\"line\">            &quot;recode&quot;,</span><br><span class=\"line\">            width,</span><br><span class=\"line\">            height,</span><br><span class=\"line\">            dpi,</span><br><span class=\"line\">            DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,</span><br><span class=\"line\">            mediaRecorder.surface,</span><br><span class=\"line\">            null,</span><br><span class=\"line\">            null</span><br><span class=\"line\">        )</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;ÈñãÂßã</span><br><span class=\"line\">        mediaRecorder.start()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;Èå≤ÁîªÊ≠¢„ÇÅ„Çã</span><br><span class=\"line\">fun stopRec() &#123;</span><br><span class=\"line\">    mediaRecorder.stop()</span><br><span class=\"line\">    mediaRecorder.release()</span><br><span class=\"line\">    virtualDisplay.release()</span><br><span class=\"line\">    projection.stop()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;‰øùÂ≠òÂÖàÂèñÂæó„ÄÇ‰ªäÂõû„ÅØÂØæË±°ÁØÑÂõ≤Âà•„Çπ„Éà„É¨„Éº„Ç∏„Å´‰øùÂ≠ò„Åô„Çã</span><br><span class=\"line\">fun getFilePath(): File &#123;</span><br><span class=\"line\">    &#x2F;&#x2F;ScopedStorage„Åß‰Ωú„Çâ„Çå„Çã„Çµ„É≥„Éâ„Éú„ÉÉ„ÇØ„Çπ„Å∏„ÅÆ„Å±„Åô</span><br><span class=\"line\">    val scopedStoragePath &#x3D; getExternalFilesDir(null)</span><br><span class=\"line\">    &#x2F;&#x2F;ÂÜôÁúü„Éï„Ç°„Ç§„É´‰ΩúÊàê</span><br><span class=\"line\">    val file &#x3D; File(&quot;$&#123;scopedStoragePath?.path&#125;&#x2F;$&#123;System.currentTimeMillis()&#125;.mp4&quot;)</span><br><span class=\"line\">    return file</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ÂÆåÊàêÔºÅ\"><a href=\"#ÂÆåÊàêÔºÅ\" class=\"headerlink\" title=\"ÂÆåÊàêÔºÅ\"></a>ÂÆåÊàêÔºÅ</h2><p>ÈñãÂßã„Éú„Çø„É≥Êäº„Åó„Åü„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/8942a6c6-0950-3c74-128a-a0fed4934bab.png\" alt=\"Screenshot_20191010-200940.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191010-200940.png</div>\n            </figure>\n\n<p>„Äå‰ªä„Åô„ÅêÈñãÂßã„Äç„ÇíÊäº„Åó„Åü„ÄÇ<br>„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ„Éê„Ç§„Éñ„Ç¢„Ç§„Ç≥„É≥„ÅÆÈö£„Å´„Ç≠„É£„Çπ„Éà‰∏≠„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÅåÂá∫„Å¶„Åæ„Åô„Å≠„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/174fed18-0694-8111-6287-94f26c3bfd7b.png\" alt=\"Screenshot_20191010-200946.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191010-200946.png</div>\n            </figure>\n\n<p>ÂÅúÊ≠¢„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶‰ΩúÊàê„Åó„ÅüÂãïÁîª„Éï„Ç°„Ç§„É´„ÇíË¶ã„Åü</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/62653173-7209-4a74-9ff6-63f8eb695d83.png\" alt=\"Screenshot_20191010-201017.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191010-201017.png</div>\n            </figure>\n\n<h2 id=\"Pixel-3-XL-„ÅßÈÅ≠ÈÅá„Åó„ÅüÂïèÈ°å\"><a href=\"#Pixel-3-XL-„ÅßÈÅ≠ÈÅá„Åó„ÅüÂïèÈ°å\" class=\"headerlink\" title=\"Pixel 3 XL „ÅßÈÅ≠ÈÅá„Åó„ÅüÂïèÈ°å\"></a>Pixel 3 XL „ÅßÈÅ≠ÈÅá„Åó„ÅüÂïèÈ°å</h2><h3 id=\"ÂãïÁîª„ÅÆÂ§ß„Åç„Åï„Åå„Åä„Åã„Åó„ÅÑÂïèÈ°å\"><a href=\"#ÂãïÁîª„ÅÆÂ§ß„Åç„Åï„Åå„Åä„Åã„Åó„ÅÑÂïèÈ°å\" class=\"headerlink\" title=\"ÂãïÁîª„ÅÆÂ§ß„Åç„Åï„Åå„Åä„Åã„Åó„ÅÑÂïèÈ°å\"></a>ÂãïÁîª„ÅÆÂ§ß„Åç„Åï„Åå„Åä„Åã„Åó„ÅÑÂïèÈ°å</h3><p>„Çà„Åè„Çè„Åã„Çâ„Å™„ÅÑ„ÅÆ„Åß‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´Êõ∏„ÅçÊèõ„Åà„Å¶„Åä„Åç„Åæ„Åó„Åü„ÄÇ<br>Êú¨Êù•„ÅØ„Åì„ÅÆÂÄ§„ÇíÂõ∫ÂÆö„Åô„Çã„Åπ„Åç„Åß„ÅØÁÑ°„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÅåPixel 3 XL„Åß„Åó„ÅãÂãï„Åã„Åï„Å™„ÅÑ„ÅÆ„ÅßÂà•„Å´„ÅÑ„ÅÑ„ÇÑ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> &#x2F;&#x2F;ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï</span><br><span class=\"line\"> &#x2F;&#x2F;Pixel 3 XL„Å†„Å®„Å™„Çì„Åã„Åä„Åã„Åó„Åè„Å™„Çã</span><br><span class=\"line\"> var height &#x3D; 2800</span><br><span class=\"line\"> var width &#x3D; 1400</span><br><span class=\"line\"> var dpi &#x3D; 1000</span><br><span class=\"line\"></span><br><span class=\"line\">&#x2F;&#x2F;‰ª•‰∏ãÁúÅÁï•</span><br><span class=\"line\"></span><br><span class=\"line\"> override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">     &#x2F;&#x2F;„Éá„Éº„ÇøÂèó„ÅëÂèñ„Çã</span><br><span class=\"line\">     data &#x3D; intent?.getParcelableExtra(&quot;data&quot;)</span><br><span class=\"line\">     code &#x3D; intent?.getIntExtra(&quot;code&quot;, Activity.RESULT_OK) ?: Activity.RESULT_OK</span><br><span class=\"line\"></span><br><span class=\"line\">     &#x2F;&#x2F;ÁîªÈù¢„ÅÆÂ§ß„Åç„Åï</span><br><span class=\"line\">     &#x2F;&#x2F;   height &#x3D; intent?.getIntExtra(&quot;height&quot;, 1000) ?: 1000</span><br><span class=\"line\">     &#x2F;&#x2F;   width &#x3D; intent?.getIntExtra(&quot;width&quot;, 1000) ?: 1000</span><br><span class=\"line\">     dpi &#x3D; intent?.getIntExtra(&quot;dpi&quot;, 1000) ?: 1000</span><br><span class=\"line\"></span><br><span class=\"line\">    &#x2F;&#x2F;‰ª•‰∏ãÁúÅÁï•</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ÂÜÖÈÉ®Èü≥Â£∞„ÅØÂèñ„Çå„Å™„ÅÑ„ÅÆÔºü\"><a href=\"#ÂÜÖÈÉ®Èü≥Â£∞„ÅØÂèñ„Çå„Å™„ÅÑ„ÅÆÔºü\" class=\"headerlink\" title=\"ÂÜÖÈÉ®Èü≥Â£∞„ÅØÂèñ„Çå„Å™„ÅÑ„ÅÆÔºü\"></a>ÂÜÖÈÉ®Èü≥Â£∞„ÅØÂèñ„Çå„Å™„ÅÑ„ÅÆÔºü</h2><p>Android 10„Åã„Çâ„ÄåAudioPlaybackCapture API„Äç„ÅåËøΩÂä†„Åï„Çå„Åæ„Åó„Åü„Åå<br>ÂÜÖÈÉ®Èü≥Â£∞„ÅØMediaRecorder„Åß„ÅØ„Å™„ÅèAudioRecord„Çí‰Ωø„Çè„Å™„ÅÑ„Å®Èå≤Èü≥„Åß„Åç„Å™„ÅÑ„ÄÇÊÆãÂøµ„ÄÇ<br>AudioRecord„ÅÆ‰øùÂ≠ò„Å®„Åã„Å©„ÅÜ„ÇÑ„Çã„Çì„Å†„Çç„ÅÜ„ÄÇ<br>„Åç„Å£„Å®„Åù„ÅÆ„ÅÜ„Å°Âá∫„Å¶„Åè„Çã„Å®ÊÄù„ÅÜ„ÅÆ„Åß„Åó„Å∞„Çâ„ÅèÂæÖ„Å§„Åì„Å®„Å´„Åô„Çã„ÄÇ</p>\n<h2 id=\"ÁµÇ„Çè„Çä„Å´\"><a href=\"#ÁµÇ„Çè„Çä„Å´\" class=\"headerlink\" title=\"ÁµÇ„Çè„Çä„Å´\"></a>ÁµÇ„Çè„Çä„Å´</h2><p>Root„Å™„Åó„ÅßÂÜÖÈÉ®Èü≥Â£∞„ÅåÂèñ„Çå„Çã„ÅÆ„ÅØÊúüÂæÖ„Åß„Åô„Å≠„ÄÇ<br>„Åì„ÅÆË®ò‰∫ã„ÇíÊõ∏„ÅÑ„Å¶„Çã„Å®„Åç„Å´ÊÄù„ÅÑÂá∫„Åó„Åæ„Åó„Åü„Åå„ÄÅAndroid Q Beta 3„Åê„Çâ„ÅÑ„ÅÆ„Å®„ÅçAndroid„Å´Ê®ôÊ∫ñ„ÅßÁîªÈù¢Èå≤Áîª„ÅåÊê≠Ëºâ„Åï„Çå„Åù„ÅÜ„Å´„Å™„Å£„ÅüÔºàÈñãÁô∫ËÄÖ„Ç™„Éó„Ç∑„Éß„É≥„ÅÆÊ©üËÉΩ„Éï„É©„Ç∞„ÅßÊúâÂäπ„Å´„Åó„Å™„ÅÑ„Å®„ÅÑ„Åë„Å™„ÅÑÔºâ„ÄÇ<br>BetaÁâà„ÅÆÊÆµÈöé„Åß„ÅØÈõªÊ∫ê„Éú„Çø„É≥Èï∑Êäº„Åó„ÅßË°®Á§∫„Åï„Çå„Çã„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÇíÂèñ„Çã„Éú„Çø„É≥„ÇíÈï∑Êäº„Åó„Åô„Çå„Å∞Âà©Áî®„Åß„Åç„Åü„Åù„ÅÜ„ÄÇÔºàÊÆãÂøµ„Å™„Åå„ÇâÁßÅ„ÅÆÁí∞Â¢É„Åß„ÅØËêΩ„Å°„Å¶‰Ωø„Åà„Å™„Åã„Å£„Åü„ÄÇÔºâ<br>„Åë„Å©Ê≠£ÂºèÁâà„Åß„ÅØÂÆüË£Ö„Åï„Çå„Å™„Åã„Å£„Åü„ÄÇ„Åú„Å≤Ê®ôÊ∫ñ„ÅßÊ¨≤„Åó„ÅÑÊ©üËÉΩ„Å™„Çì„Å†„Åë„Å©„Å™„ÅÇ„ÄÇ</p>\n<p>„Åù„Çå„Å®<br>Pixel 4„ÄÄ„Å®„ÄÄdocomo „ÅÆÁô∫Ë°®‰ºö„ÅåÊ•Ω„Åó„Åø„Åß„Åô„Å≠ÔºÅ</p>\n<p>Êõ∏„Åç„Åü„ÅÑ„Åì„Å®„ÅØÂ§öÂàÜÂÖ®ÈÉ®Êõ∏„ÅÑ„Åü„ÅÆ„Åß„ÄÅ<br>‰ª•‰∏ä„Åß„Åô„ÄÇ„Åä„Å§„ÄÇÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºò</p>\n<h2 id=\"GitHub\"><a href=\"#GitHub\" class=\"headerlink\" title=\"GitHub\"></a>GitHub</h2><p><a href=\"https://github.com/takusan23/ScreenRecordSample\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/ScreenRecordSample</a><br>Ë©¶„Åó„Å¶„Åø„Åü„ÅÑÊñπ„Å©„ÅÜ„ÅûÔΩû</p>\n"},{"title":"hello","date":"2020-04-05T15:30:57.000Z","_content":"# „Åì„Çì„Å∞„Çì„ÅØ\n„ÉÜ„Çπ„Éà„Å†„Çà","source":"_posts/hello.md","raw":"---\ntitle: hello\ndate: 2020-04-06 00:30:57\ntags: '„Åù„ÅÆ‰ªñ'\n---\n# „Åì„Çì„Å∞„Çì„ÅØ\n„ÉÜ„Çπ„Éà„Å†„Çà","slug":"hello","published":1,"updated":"2020-04-05T16:24:10.395Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgu000mh8vu6pqb3sz6","content":"<h1 id=\"„Åì„Çì„Å∞„Çì„ÅØ\"><a href=\"#„Åì„Çì„Å∞„Çì„ÅØ\" class=\"headerlink\" title=\"„Åì„Çì„Å∞„Çì„ÅØ\"></a>„Åì„Çì„Å∞„Çì„ÅØ</h1><p>„ÉÜ„Çπ„Éà„Å†„Çà</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"„Åì„Çì„Å∞„Çì„ÅØ\"><a href=\"#„Åì„Çì„Å∞„Çì„ÅØ\" class=\"headerlink\" title=\"„Åì„Çì„Å∞„Çì„ÅØ\"></a>„Åì„Çì„Å∞„Çì„ÅØ</h1><p>„ÉÜ„Çπ„Éà„Å†„Çà</p>\n"},{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"date":"2020-04-05T14:02:45.837Z","updated":"2020-04-05T14:02:45.840Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgv000ph8vuhy837j91","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n"},{"title":"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•Ê©üËÉΩ„Å´„Å§„ÅÑ„Å¶","date":"2020-04-08T09:54:12.000Z","_content":"\nËá™ÂàÜÁî®„ÅÆ„É°„É¢„ÄÇ\n\n# „Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆ‰ªïÊßò\n„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Å´**„Å™„Åú„Åã**„Éã„Ç≥„Éã„Ç≥ÂãïÁîªÂÜçÁîüÊ©üËÉΩ„Å®„Ç≠„É£„ÉÉ„Ç∑„É•ÂÜçÁîüÊ©üËÉΩ„ÅåÂÆüË£Ö„Åï„Çå„Åü„ÅÆ„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂÜçÁîüÊ©üËÉΩ„ÅÆ‰ªïÊßò„Åß„ÇÇÊõ∏„ÅçÊÆã„Åó„Åæ„Åô„ÄÇ\n\n„ÅÇ„Å®„Åì„ÅÆË®ò‰∫ã„ÅØ„Éê„Éº„Ç∏„Éß„É≥7.1.1‰ª•Èôç„ÅÆË©±„Åß„Åô„ÄÇ\n\n# „Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂÜçÁîü„Åô„Çã„Å´„ÅØ\n‰∫åÈÄö„Çä„ÅÆ„ÇÑ„ÇäÊñπ„Åå„ÅÇ„Çä„Åæ„Åô\n- „Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂèñÂæó„Åô„Çã\n- Ëá™ÂàÜ„ÅÆÊåÅ„Å£„Å¶„ÇãÂãïÁîª„ÇíÂÜçÁîü„Åô„Çã„ÄÇÂøÖË¶Å„Å™„ÇÇ„ÅÆ„ÅØ‰ª•‰∏ã\n    - ÂãïÁîª„Éï„Ç°„Ç§„É´„ÄÇmp4\n    - „Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´„ÄÇxml\n\n# „Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó\n- ÂãïÁîªÂÜçÁîü‰∏≠„Å™„Çâ\n    - „Äå„É°„Éã„É•„Éº„Äç„ÇíÈÅ∏„Çì„Åß„Äå„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó„Äç„Éú„Çø„É≥„ÇíÊäº„Åô\n- ÂãïÁîª‰∏ÄË¶ßÁîªÈù¢„Å™„Çâ\n    - „ÄåÔ∏ô„Äç„ÇíÊäº„Åó„Å¶„Äå„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó„Äç„ÇíÈÅ∏„Å∂„ÄÇ\n\n**„Å™„Åä„Å©„Å°„Çâ„ÇÇÈÄöÁü•„Å´„Äå„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü„Äç„ÅåË°®Á§∫„Åï„Çå„Çã„Åæ„ÅßÁîªÈù¢ÂõûËª¢„Åó„Åü„Çä„Ç¢„Éó„É™„ÇíÁµÇ‰∫Ü„Åó„Åü„Çä„Åó„Å¶„ÅØ„ÅÑ„Åë„Åæ„Åõ„Çì„ÄÇ**\n\n## „Éï„Ç°„Ç§„É´ÊßãÈÄ†\n‰øùÂ≠òÂÖà„ÅØ‰ª•‰∏ã„Åß„Åô\n**sdcard/Android/data/io.github.takusan23.tatimidroid/files/cache**\n\n„Åì„Åì„ÅÆ„Éï„Ç©„É´„ÉÄ„Å´ÂãïÁîªID„Åß„Éï„Ç©„É´„ÉÄ„ÅåÁîüÊàê„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ  \n„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠Ë∫´„ÅØ‰ª•‰∏ã„ÅÆÈÄö„Çä„Åß„Åô„ÄÇ\n\n- [ÂãïÁîªID].jpg\n    - „Çµ„É†„Éç„Ç§„É´„Åß„Åô„ÄÇ\n- [ÂãïÁîªID].json\n    - ÂãïÁîªÊÉÖÂ†±„Åß„Åô„ÄÇJSONÂΩ¢Âºè„Åß„Åô„ÄÇ\n        - „ÇÇ„ÅóJSONÂΩ¢Âºè„Å®HTML„Çπ„ÇØ„É¨„Ç§„Éî„É≥„Ç∞„Çí„Åã„Åò„Å£„Åü„Åì„Å®„Åå„ÅÇ„Çã„Å™„Çâ‚Üì\n            - „Éã„Ç≥ÂãïÂÜçÁîü„Éö„Éº„Ç∏„ÅÆHTMLÂÜÖ„ÅÆID„Äåembedded-data„ÄçË¶ÅÁ¥†„ÅÆ„Äådata-api-data„ÄçÂ±ûÊÄß„ÅÆÂÄ§„Çí‰øùÂ≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n            - „Éã„Ç≥ÂãïÂÜçÁîü„Éö„Éº„Ç∏„ÅßF12„ÇíÊäº„Åó„Å¶Console„ÇíÈñã„ÅÑ„Å¶‰ª•‰∏ã„ÅÆJS„ÇíÂè©„Åè„Å®Ë¶ã„Çå„Åæ„Åô„ÄÇ‚Üì\n                - ```JSON.parse(document.getElementById('js-initial-watch-data').getAttribute('data-api-data'))```\n- [ÂãïÁîªID].mp4\n    - ÂãïÁîª„Éï„Ç°„Ç§„É´„Åß„Åô„ÄÇ\n    - ÂÜçÁîüÊôÇ„ÅÆÁîªË≥™„Åß‰øùÂ≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÅÆ„ÅßÁîªË≥™„ÇíÂ§âÊõ¥„Åó„ÅüÂæå„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åô„Çã„Å®Â§âÊõ¥„Åó„ÅüÂæå„ÅÆÁîªË≥™„Åß„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åï„Çå„Åæ„Åô„ÄÇ\n    - ÂÖ¨ÂºèÂãïÁîª„ÅØ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åß„Åç„Å™„ÅÑ„Åó„ÇÑ„Çä„Åæ„Åõ„Çì„ÄÇ\n- [ÂãïÁîªID]_comment.json\n    - „Ç≥„É°„É≥„Éà„Åß„Åô„ÄÇJSONÂΩ¢Âºè„Åß„Åô„ÄÇ\n    - nmsg.nicovideo.jp/api.json/ „Å´POST„Åó„Å¶Â∏∞„Å£„Å¶„Åç„Åü‰∏≠Ë∫´„Çí‰øùÂ≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n    - **XMLÂΩ¢Âºè„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„ÇìÔºÅÔºÅÔºÅ***\n\n# Ëá™ÂàÜ„ÅÆÊâãÂÖÉ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÂ†¥Âêà\nlivedl„Å™„Å©„ÅÆ„Çø„Ç§„É†„Ç∑„Éï„Éà‰øùÂ≠ò„ÉÑ„Éº„É´„Å™„Å©„ÅßÂèñÂæó„Åó„Åü„Éï„Ç°„Ç§„É´„ÇíÂÜçÁîü„Åô„Çã„Å®„Åç„Å´‰Ωø„Åà„Åæ„Åô„ÄÇ  \n‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„ÇíÁî®ÊÑè„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\n- ÂãïÁîª„Éï„Ç°„Ç§„É´„ÄÇmp4ÂΩ¢Âºè„Åß„ÄÇ\n- „Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´„ÄÇ\n\n## „Éï„Ç°„Ç§„É´ÊßãÈÄ†\n‰ª•‰∏ã„ÅÆÂ†¥ÊâÄ„Å´„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n**sdcard/Android/data/io.github.takusan23.tatimidroid/files/cache**  \n„Éã„Ç≥Âãï„ÅÆÂ†¥Âêà„ÅØÂãïÁîªID„ÄÅÁîüÊîæÈÄÅ„Å™„ÇâÁîüÊîæÈÄÅID„Åß„ÅÑ„ÅÑ„Å®„ÅäÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n## ‰∏≠„Å´ÂÖ•„Çå„Çã„Éï„Ç°„Ç§„É´\n### ÂãïÁîª„Éï„Ç°„Ç§„É´\nmp4ÂΩ¢Âºè„ÅßÈ†º„ÇÄ„ÄÇ  \n„Éï„Ç°„Ç§„É´Âêç„ÅØ‰Ωï„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÄÇÂãïÁîª„Éï„Ç°„Ç§„É´Âêç„ÅØ„Ç≠„É£„ÉÉ„Ç∑„É•‰∏ÄË¶ß„ÅßË°®Á§∫„Åï„Çå„ÇãÂêçÂâç„Å´„Å™„Çä„Åæ„Åô„ÄÇ\n### „Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´\nxmlÂΩ¢Âºè„ÅÆÂ†¥Âêà„ÅØ„Éï„Ç°„Ç§„É´Âêç„ÅØ‰Ωï„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÄÇÔºàÂ§âÊèõÊôÇ„Å´xmlÂΩ¢Âºè„ÅÆ„Éï„Ç°„Ç§„É´„ÇíÊé¢„Åô„Åü„ÇÅÔºâ\n\nJSONÂΩ¢Âºè„ÅÆÂ†¥Âêà„ÅØ‰ª•‰∏ã„ÅÆÂêçÂâç„Åß‰øùÂ≠ò„Åô„Çã„Åì„Å®„ÅßË™≠„ÅøËæº„Åæ„Çå„Åæ„Åô„ÄÇ  \n**[ÂãïÁîªID]_comment.json**  \n‰æãÔºösm157_comment.json\n\nxmlÂΩ¢Âºè„ÅÆÂ†¥Âêà„ÅØJSONÂΩ¢Âºè„Å´Â§âÊèõ„Åó„Å™„ÅÑ„Å®Êâ±„Åà„Å™„ÅÑ„Åü„ÇÅÂ§âÊèõ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ  \n„Ç≠„É£„ÉÉ„Ç∑„É•‰∏ÄË¶ßÁîªÈù¢„Åß„ÄåÔ∏ô„Äç„ÇíÊäº„Åó„Å¶„ÄåXMLÂΩ¢Âºè„ÅÆ„Ç≥„É°„É≥„Éà„ÇíJSONÂΩ¢Âºè„Å´Â§âÊèõ„Åô„Çã„Äç„ÇíÊäº„Åó„Å¶Â§âÊèõ„Åô„Çã‰ΩúÊ•≠„Çí„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ  \n„Åì„ÅÆ‰ΩúÊ•≠„Çí„Åô„Çã„Å®[ÂãïÁîªID]_comment.json„Å®„ÅÑ„ÅÜ„Éï„Ç°„Ç§„É´„ÅåÁîüÊàê„Åï„Çå„Å¶ÁÑ°‰∫ãÂÜçÁîü„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÅØ„Åö„Åß„Åô„ÄÇ\n\n„Å™„ÅäËá™ÂàÜ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÈöõ„ÅØ‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„ÅØÂøÖË¶Å„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\n\n- ÂãïÁîªÊÉÖÂ†±„Éï„Ç°„Ç§„É´ÔºàÂãïÁîªID.jsonÔºâ\n    - „Å™„ÅÑÂ†¥Âêà„ÅØ„ÄåÂãïÁîªÊÉÖÂ†±„Äç„Çø„Éñ„ÅåË°®Á§∫„Åï„Çå„Å™„ÅÑ„Å†„Åë„ÅßÂÜçÁîü„ÅØ„Åß„Åç„Åæ„Åô„ÄÇ\n- „Çµ„É†„Éç„Ç§„É´„Éï„Ç°„Ç§„É´ÔºàÂãïÁîªID.jpgÔºâ\n    - „Å™„ÅÑÂ†¥Âêà„ÅØ„Ç≠„É£„ÉÉ„Ç∑„É•‰∏ÄË¶ß„Åß„Çµ„É†„Éç„Ç§„É´„ÅåË°®Á§∫„Åï„Çå„Å™„ÅÑ„Å†„Åë„ÅßÂÜçÁîü„ÅØ„Åß„Åç„Åæ„Åô„ÄÇ\n\n‰ª•‰∏ä„Åß„Åô„ÄÇ\n\n# Ê≥®ÊÑèÁÇπ\n„Ç¢„Éó„É™„ÇíÊ∂à„Åô„Å®„Ç≠„É£„ÉÉ„Ç∑„É•„ÇÇ„Å™„Åè„Å™„Çä„Åæ„Åô„ÄÇ\n\n„ÅÇ„Å®‰øùÂ≠òÂÖà„Éï„Ç©„É´„ÉÄ„Åå„Åè„Å£„ÅùÈï∑„ÅÑÁêÜÁî±„Åß„Åô„Åå„ÄÅAndroid 10„Åã„ÇâScopedStorage„Çí‰Ωø„Çè„Å™„ÅÑ„Å®„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åå„Åß„Åç„Å™„ÅÑ„ÅÆ„ÅßÁßÅ„ÅØÊÇ™„Åè„Å™„ÅÑ„ÄÇ","source":"_posts/„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•Ê©üËÉΩ„Å´„Å§„ÅÑ„Å¶.md","raw":"---\ntitle: „Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•Ê©üËÉΩ„Å´„Å§„ÅÑ„Å¶\ndate: 2020-04-08 18:54:12\ntags:\n- Android\n- „Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©\n- „Éã„Ç≥„Éã„Ç≥ÂãïÁîª\n---\n\nËá™ÂàÜÁî®„ÅÆ„É°„É¢„ÄÇ\n\n# „Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆ‰ªïÊßò\n„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Å´**„Å™„Åú„Åã**„Éã„Ç≥„Éã„Ç≥ÂãïÁîªÂÜçÁîüÊ©üËÉΩ„Å®„Ç≠„É£„ÉÉ„Ç∑„É•ÂÜçÁîüÊ©üËÉΩ„ÅåÂÆüË£Ö„Åï„Çå„Åü„ÅÆ„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂÜçÁîüÊ©üËÉΩ„ÅÆ‰ªïÊßò„Åß„ÇÇÊõ∏„ÅçÊÆã„Åó„Åæ„Åô„ÄÇ\n\n„ÅÇ„Å®„Åì„ÅÆË®ò‰∫ã„ÅØ„Éê„Éº„Ç∏„Éß„É≥7.1.1‰ª•Èôç„ÅÆË©±„Åß„Åô„ÄÇ\n\n# „Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂÜçÁîü„Åô„Çã„Å´„ÅØ\n‰∫åÈÄö„Çä„ÅÆ„ÇÑ„ÇäÊñπ„Åå„ÅÇ„Çä„Åæ„Åô\n- „Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂèñÂæó„Åô„Çã\n- Ëá™ÂàÜ„ÅÆÊåÅ„Å£„Å¶„ÇãÂãïÁîª„ÇíÂÜçÁîü„Åô„Çã„ÄÇÂøÖË¶Å„Å™„ÇÇ„ÅÆ„ÅØ‰ª•‰∏ã\n    - ÂãïÁîª„Éï„Ç°„Ç§„É´„ÄÇmp4\n    - „Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´„ÄÇxml\n\n# „Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó\n- ÂãïÁîªÂÜçÁîü‰∏≠„Å™„Çâ\n    - „Äå„É°„Éã„É•„Éº„Äç„ÇíÈÅ∏„Çì„Åß„Äå„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó„Äç„Éú„Çø„É≥„ÇíÊäº„Åô\n- ÂãïÁîª‰∏ÄË¶ßÁîªÈù¢„Å™„Çâ\n    - „ÄåÔ∏ô„Äç„ÇíÊäº„Åó„Å¶„Äå„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó„Äç„ÇíÈÅ∏„Å∂„ÄÇ\n\n**„Å™„Åä„Å©„Å°„Çâ„ÇÇÈÄöÁü•„Å´„Äå„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü„Äç„ÅåË°®Á§∫„Åï„Çå„Çã„Åæ„ÅßÁîªÈù¢ÂõûËª¢„Åó„Åü„Çä„Ç¢„Éó„É™„ÇíÁµÇ‰∫Ü„Åó„Åü„Çä„Åó„Å¶„ÅØ„ÅÑ„Åë„Åæ„Åõ„Çì„ÄÇ**\n\n## „Éï„Ç°„Ç§„É´ÊßãÈÄ†\n‰øùÂ≠òÂÖà„ÅØ‰ª•‰∏ã„Åß„Åô\n**sdcard/Android/data/io.github.takusan23.tatimidroid/files/cache**\n\n„Åì„Åì„ÅÆ„Éï„Ç©„É´„ÉÄ„Å´ÂãïÁîªID„Åß„Éï„Ç©„É´„ÉÄ„ÅåÁîüÊàê„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ  \n„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠Ë∫´„ÅØ‰ª•‰∏ã„ÅÆÈÄö„Çä„Åß„Åô„ÄÇ\n\n- [ÂãïÁîªID].jpg\n    - „Çµ„É†„Éç„Ç§„É´„Åß„Åô„ÄÇ\n- [ÂãïÁîªID].json\n    - ÂãïÁîªÊÉÖÂ†±„Åß„Åô„ÄÇJSONÂΩ¢Âºè„Åß„Åô„ÄÇ\n        - „ÇÇ„ÅóJSONÂΩ¢Âºè„Å®HTML„Çπ„ÇØ„É¨„Ç§„Éî„É≥„Ç∞„Çí„Åã„Åò„Å£„Åü„Åì„Å®„Åå„ÅÇ„Çã„Å™„Çâ‚Üì\n            - „Éã„Ç≥ÂãïÂÜçÁîü„Éö„Éº„Ç∏„ÅÆHTMLÂÜÖ„ÅÆID„Äåembedded-data„ÄçË¶ÅÁ¥†„ÅÆ„Äådata-api-data„ÄçÂ±ûÊÄß„ÅÆÂÄ§„Çí‰øùÂ≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n            - „Éã„Ç≥ÂãïÂÜçÁîü„Éö„Éº„Ç∏„ÅßF12„ÇíÊäº„Åó„Å¶Console„ÇíÈñã„ÅÑ„Å¶‰ª•‰∏ã„ÅÆJS„ÇíÂè©„Åè„Å®Ë¶ã„Çå„Åæ„Åô„ÄÇ‚Üì\n                - ```JSON.parse(document.getElementById('js-initial-watch-data').getAttribute('data-api-data'))```\n- [ÂãïÁîªID].mp4\n    - ÂãïÁîª„Éï„Ç°„Ç§„É´„Åß„Åô„ÄÇ\n    - ÂÜçÁîüÊôÇ„ÅÆÁîªË≥™„Åß‰øùÂ≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÅÆ„ÅßÁîªË≥™„ÇíÂ§âÊõ¥„Åó„ÅüÂæå„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åô„Çã„Å®Â§âÊõ¥„Åó„ÅüÂæå„ÅÆÁîªË≥™„Åß„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åï„Çå„Åæ„Åô„ÄÇ\n    - ÂÖ¨ÂºèÂãïÁîª„ÅØ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åß„Åç„Å™„ÅÑ„Åó„ÇÑ„Çä„Åæ„Åõ„Çì„ÄÇ\n- [ÂãïÁîªID]_comment.json\n    - „Ç≥„É°„É≥„Éà„Åß„Åô„ÄÇJSONÂΩ¢Âºè„Åß„Åô„ÄÇ\n    - nmsg.nicovideo.jp/api.json/ „Å´POST„Åó„Å¶Â∏∞„Å£„Å¶„Åç„Åü‰∏≠Ë∫´„Çí‰øùÂ≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ\n    - **XMLÂΩ¢Âºè„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„ÇìÔºÅÔºÅÔºÅ***\n\n# Ëá™ÂàÜ„ÅÆÊâãÂÖÉ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÂ†¥Âêà\nlivedl„Å™„Å©„ÅÆ„Çø„Ç§„É†„Ç∑„Éï„Éà‰øùÂ≠ò„ÉÑ„Éº„É´„Å™„Å©„ÅßÂèñÂæó„Åó„Åü„Éï„Ç°„Ç§„É´„ÇíÂÜçÁîü„Åô„Çã„Å®„Åç„Å´‰Ωø„Åà„Åæ„Åô„ÄÇ  \n‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„ÇíÁî®ÊÑè„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\n- ÂãïÁîª„Éï„Ç°„Ç§„É´„ÄÇmp4ÂΩ¢Âºè„Åß„ÄÇ\n- „Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´„ÄÇ\n\n## „Éï„Ç°„Ç§„É´ÊßãÈÄ†\n‰ª•‰∏ã„ÅÆÂ†¥ÊâÄ„Å´„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n**sdcard/Android/data/io.github.takusan23.tatimidroid/files/cache**  \n„Éã„Ç≥Âãï„ÅÆÂ†¥Âêà„ÅØÂãïÁîªID„ÄÅÁîüÊîæÈÄÅ„Å™„ÇâÁîüÊîæÈÄÅID„Åß„ÅÑ„ÅÑ„Å®„ÅäÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n## ‰∏≠„Å´ÂÖ•„Çå„Çã„Éï„Ç°„Ç§„É´\n### ÂãïÁîª„Éï„Ç°„Ç§„É´\nmp4ÂΩ¢Âºè„ÅßÈ†º„ÇÄ„ÄÇ  \n„Éï„Ç°„Ç§„É´Âêç„ÅØ‰Ωï„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÄÇÂãïÁîª„Éï„Ç°„Ç§„É´Âêç„ÅØ„Ç≠„É£„ÉÉ„Ç∑„É•‰∏ÄË¶ß„ÅßË°®Á§∫„Åï„Çå„ÇãÂêçÂâç„Å´„Å™„Çä„Åæ„Åô„ÄÇ\n### „Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´\nxmlÂΩ¢Âºè„ÅÆÂ†¥Âêà„ÅØ„Éï„Ç°„Ç§„É´Âêç„ÅØ‰Ωï„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÄÇÔºàÂ§âÊèõÊôÇ„Å´xmlÂΩ¢Âºè„ÅÆ„Éï„Ç°„Ç§„É´„ÇíÊé¢„Åô„Åü„ÇÅÔºâ\n\nJSONÂΩ¢Âºè„ÅÆÂ†¥Âêà„ÅØ‰ª•‰∏ã„ÅÆÂêçÂâç„Åß‰øùÂ≠ò„Åô„Çã„Åì„Å®„ÅßË™≠„ÅøËæº„Åæ„Çå„Åæ„Åô„ÄÇ  \n**[ÂãïÁîªID]_comment.json**  \n‰æãÔºösm157_comment.json\n\nxmlÂΩ¢Âºè„ÅÆÂ†¥Âêà„ÅØJSONÂΩ¢Âºè„Å´Â§âÊèõ„Åó„Å™„ÅÑ„Å®Êâ±„Åà„Å™„ÅÑ„Åü„ÇÅÂ§âÊèõ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ  \n„Ç≠„É£„ÉÉ„Ç∑„É•‰∏ÄË¶ßÁîªÈù¢„Åß„ÄåÔ∏ô„Äç„ÇíÊäº„Åó„Å¶„ÄåXMLÂΩ¢Âºè„ÅÆ„Ç≥„É°„É≥„Éà„ÇíJSONÂΩ¢Âºè„Å´Â§âÊèõ„Åô„Çã„Äç„ÇíÊäº„Åó„Å¶Â§âÊèõ„Åô„Çã‰ΩúÊ•≠„Çí„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ  \n„Åì„ÅÆ‰ΩúÊ•≠„Çí„Åô„Çã„Å®[ÂãïÁîªID]_comment.json„Å®„ÅÑ„ÅÜ„Éï„Ç°„Ç§„É´„ÅåÁîüÊàê„Åï„Çå„Å¶ÁÑ°‰∫ãÂÜçÁîü„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÅØ„Åö„Åß„Åô„ÄÇ\n\n„Å™„ÅäËá™ÂàÜ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÈöõ„ÅØ‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„ÅØÂøÖË¶Å„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ\n\n- ÂãïÁîªÊÉÖÂ†±„Éï„Ç°„Ç§„É´ÔºàÂãïÁîªID.jsonÔºâ\n    - „Å™„ÅÑÂ†¥Âêà„ÅØ„ÄåÂãïÁîªÊÉÖÂ†±„Äç„Çø„Éñ„ÅåË°®Á§∫„Åï„Çå„Å™„ÅÑ„Å†„Åë„ÅßÂÜçÁîü„ÅØ„Åß„Åç„Åæ„Åô„ÄÇ\n- „Çµ„É†„Éç„Ç§„É´„Éï„Ç°„Ç§„É´ÔºàÂãïÁîªID.jpgÔºâ\n    - „Å™„ÅÑÂ†¥Âêà„ÅØ„Ç≠„É£„ÉÉ„Ç∑„É•‰∏ÄË¶ß„Åß„Çµ„É†„Éç„Ç§„É´„ÅåË°®Á§∫„Åï„Çå„Å™„ÅÑ„Å†„Åë„ÅßÂÜçÁîü„ÅØ„Åß„Åç„Åæ„Åô„ÄÇ\n\n‰ª•‰∏ä„Åß„Åô„ÄÇ\n\n# Ê≥®ÊÑèÁÇπ\n„Ç¢„Éó„É™„ÇíÊ∂à„Åô„Å®„Ç≠„É£„ÉÉ„Ç∑„É•„ÇÇ„Å™„Åè„Å™„Çä„Åæ„Åô„ÄÇ\n\n„ÅÇ„Å®‰øùÂ≠òÂÖà„Éï„Ç©„É´„ÉÄ„Åå„Åè„Å£„ÅùÈï∑„ÅÑÁêÜÁî±„Åß„Åô„Åå„ÄÅAndroid 10„Åã„ÇâScopedStorage„Çí‰Ωø„Çè„Å™„ÅÑ„Å®„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åå„Åß„Åç„Å™„ÅÑ„ÅÆ„ÅßÁßÅ„ÅØÊÇ™„Åè„Å™„ÅÑ„ÄÇ","slug":"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•Ê©üËÉΩ„Å´„Å§„ÅÑ„Å¶","published":1,"updated":"2020-04-08T11:38:03.178Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgw000qh8vu6yga9nrc","content":"<p>Ëá™ÂàÜÁî®„ÅÆ„É°„É¢„ÄÇ</p>\n<h1 id=\"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆ‰ªïÊßò\"><a href=\"#„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆ‰ªïÊßò\" class=\"headerlink\" title=\"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆ‰ªïÊßò\"></a>„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆ‰ªïÊßò</h1><p>„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Å´<strong>„Å™„Åú„Åã</strong>„Éã„Ç≥„Éã„Ç≥ÂãïÁîªÂÜçÁîüÊ©üËÉΩ„Å®„Ç≠„É£„ÉÉ„Ç∑„É•ÂÜçÁîüÊ©üËÉΩ„ÅåÂÆüË£Ö„Åï„Çå„Åü„ÅÆ„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂÜçÁîüÊ©üËÉΩ„ÅÆ‰ªïÊßò„Åß„ÇÇÊõ∏„ÅçÊÆã„Åó„Åæ„Åô„ÄÇ</p>\n<p>„ÅÇ„Å®„Åì„ÅÆË®ò‰∫ã„ÅØ„Éê„Éº„Ç∏„Éß„É≥7.1.1‰ª•Èôç„ÅÆË©±„Åß„Åô„ÄÇ</p>\n<h1 id=\"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂÜçÁîü„Åô„Çã„Å´„ÅØ\"><a href=\"#„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂÜçÁîü„Åô„Çã„Å´„ÅØ\" class=\"headerlink\" title=\"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂÜçÁîü„Åô„Çã„Å´„ÅØ\"></a>„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂÜçÁîü„Åô„Çã„Å´„ÅØ</h1><p>‰∫åÈÄö„Çä„ÅÆ„ÇÑ„ÇäÊñπ„Åå„ÅÇ„Çä„Åæ„Åô</p>\n<ul>\n<li>„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂèñÂæó„Åô„Çã</li>\n<li>Ëá™ÂàÜ„ÅÆÊåÅ„Å£„Å¶„ÇãÂãïÁîª„ÇíÂÜçÁîü„Åô„Çã„ÄÇÂøÖË¶Å„Å™„ÇÇ„ÅÆ„ÅØ‰ª•‰∏ã<ul>\n<li>ÂãïÁîª„Éï„Ç°„Ç§„É´„ÄÇmp4</li>\n<li>„Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´„ÄÇxml</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó\"><a href=\"#„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó\" class=\"headerlink\" title=\"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó\"></a>„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó</h1><ul>\n<li>ÂãïÁîªÂÜçÁîü‰∏≠„Å™„Çâ<ul>\n<li>„Äå„É°„Éã„É•„Éº„Äç„ÇíÈÅ∏„Çì„Åß„Äå„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó„Äç„Éú„Çø„É≥„ÇíÊäº„Åô</li>\n</ul>\n</li>\n<li>ÂãïÁîª‰∏ÄË¶ßÁîªÈù¢„Å™„Çâ<ul>\n<li>„ÄåÔ∏ô„Äç„ÇíÊäº„Åó„Å¶„Äå„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó„Äç„ÇíÈÅ∏„Å∂„ÄÇ</li>\n</ul>\n</li>\n</ul>\n<p><strong>„Å™„Åä„Å©„Å°„Çâ„ÇÇÈÄöÁü•„Å´„Äå„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü„Äç„ÅåË°®Á§∫„Åï„Çå„Çã„Åæ„ÅßÁîªÈù¢ÂõûËª¢„Åó„Åü„Çä„Ç¢„Éó„É™„ÇíÁµÇ‰∫Ü„Åó„Åü„Çä„Åó„Å¶„ÅØ„ÅÑ„Åë„Åæ„Åõ„Çì„ÄÇ</strong></p>\n<h2 id=\"„Éï„Ç°„Ç§„É´ÊßãÈÄ†\"><a href=\"#„Éï„Ç°„Ç§„É´ÊßãÈÄ†\" class=\"headerlink\" title=\"„Éï„Ç°„Ç§„É´ÊßãÈÄ†\"></a>„Éï„Ç°„Ç§„É´ÊßãÈÄ†</h2><p>‰øùÂ≠òÂÖà„ÅØ‰ª•‰∏ã„Åß„Åô<br><strong>sdcard/Android/data/io.github.takusan23.tatimidroid/files/cache</strong></p>\n<p>„Åì„Åì„ÅÆ„Éï„Ç©„É´„ÉÄ„Å´ÂãïÁîªID„Åß„Éï„Ç©„É´„ÉÄ„ÅåÁîüÊàê„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ<br>„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠Ë∫´„ÅØ‰ª•‰∏ã„ÅÆÈÄö„Çä„Åß„Åô„ÄÇ</p>\n<ul>\n<li>[ÂãïÁîªID].jpg<ul>\n<li>„Çµ„É†„Éç„Ç§„É´„Åß„Åô„ÄÇ</li>\n</ul>\n</li>\n<li>[ÂãïÁîªID].json<ul>\n<li>ÂãïÁîªÊÉÖÂ†±„Åß„Åô„ÄÇJSONÂΩ¢Âºè„Åß„Åô„ÄÇ<ul>\n<li>„ÇÇ„ÅóJSONÂΩ¢Âºè„Å®HTML„Çπ„ÇØ„É¨„Ç§„Éî„É≥„Ç∞„Çí„Åã„Åò„Å£„Åü„Åì„Å®„Åå„ÅÇ„Çã„Å™„Çâ‚Üì<ul>\n<li>„Éã„Ç≥ÂãïÂÜçÁîü„Éö„Éº„Ç∏„ÅÆHTMLÂÜÖ„ÅÆID„Äåembedded-data„ÄçË¶ÅÁ¥†„ÅÆ„Äådata-api-data„ÄçÂ±ûÊÄß„ÅÆÂÄ§„Çí‰øùÂ≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ</li>\n<li>„Éã„Ç≥ÂãïÂÜçÁîü„Éö„Éº„Ç∏„ÅßF12„ÇíÊäº„Åó„Å¶Console„ÇíÈñã„ÅÑ„Å¶‰ª•‰∏ã„ÅÆJS„ÇíÂè©„Åè„Å®Ë¶ã„Çå„Åæ„Åô„ÄÇ‚Üì<ul>\n<li><code>JSON.parse(document.getElementById(&#39;js-initial-watch-data&#39;).getAttribute(&#39;data-api-data&#39;))</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>[ÂãïÁîªID].mp4<ul>\n<li>ÂãïÁîª„Éï„Ç°„Ç§„É´„Åß„Åô„ÄÇ</li>\n<li>ÂÜçÁîüÊôÇ„ÅÆÁîªË≥™„Åß‰øùÂ≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÅÆ„ÅßÁîªË≥™„ÇíÂ§âÊõ¥„Åó„ÅüÂæå„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åô„Çã„Å®Â§âÊõ¥„Åó„ÅüÂæå„ÅÆÁîªË≥™„Åß„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åï„Çå„Åæ„Åô„ÄÇ</li>\n<li>ÂÖ¨ÂºèÂãïÁîª„ÅØ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åß„Åç„Å™„ÅÑ„Åó„ÇÑ„Çä„Åæ„Åõ„Çì„ÄÇ</li>\n</ul>\n</li>\n<li>[ÂãïÁîªID]_comment.json<ul>\n<li>„Ç≥„É°„É≥„Éà„Åß„Åô„ÄÇJSONÂΩ¢Âºè„Åß„Åô„ÄÇ</li>\n<li>nmsg.nicovideo.jp/api.json/ „Å´POST„Åó„Å¶Â∏∞„Å£„Å¶„Åç„Åü‰∏≠Ë∫´„Çí‰øùÂ≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ</li>\n<li><strong>XMLÂΩ¢Âºè„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„ÇìÔºÅÔºÅÔºÅ*</strong></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"Ëá™ÂàÜ„ÅÆÊâãÂÖÉ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÂ†¥Âêà\"><a href=\"#Ëá™ÂàÜ„ÅÆÊâãÂÖÉ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÂ†¥Âêà\" class=\"headerlink\" title=\"Ëá™ÂàÜ„ÅÆÊâãÂÖÉ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÂ†¥Âêà\"></a>Ëá™ÂàÜ„ÅÆÊâãÂÖÉ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÂ†¥Âêà</h1><p>livedl„Å™„Å©„ÅÆ„Çø„Ç§„É†„Ç∑„Éï„Éà‰øùÂ≠ò„ÉÑ„Éº„É´„Å™„Å©„ÅßÂèñÂæó„Åó„Åü„Éï„Ç°„Ç§„É´„ÇíÂÜçÁîü„Åô„Çã„Å®„Åç„Å´‰Ωø„Åà„Åæ„Åô„ÄÇ<br>‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„ÇíÁî®ÊÑè„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ</p>\n<ul>\n<li>ÂãïÁîª„Éï„Ç°„Ç§„É´„ÄÇmp4ÂΩ¢Âºè„Åß„ÄÇ</li>\n<li>„Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´„ÄÇ</li>\n</ul>\n<h2 id=\"„Éï„Ç°„Ç§„É´ÊßãÈÄ†-1\"><a href=\"#„Éï„Ç°„Ç§„É´ÊßãÈÄ†-1\" class=\"headerlink\" title=\"„Éï„Ç°„Ç§„É´ÊßãÈÄ†\"></a>„Éï„Ç°„Ç§„É´ÊßãÈÄ†</h2><p>‰ª•‰∏ã„ÅÆÂ†¥ÊâÄ„Å´„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br><strong>sdcard/Android/data/io.github.takusan23.tatimidroid/files/cache</strong><br>„Éã„Ç≥Âãï„ÅÆÂ†¥Âêà„ÅØÂãïÁîªID„ÄÅÁîüÊîæÈÄÅ„Å™„ÇâÁîüÊîæÈÄÅID„Åß„ÅÑ„ÅÑ„Å®„ÅäÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h2 id=\"‰∏≠„Å´ÂÖ•„Çå„Çã„Éï„Ç°„Ç§„É´\"><a href=\"#‰∏≠„Å´ÂÖ•„Çå„Çã„Éï„Ç°„Ç§„É´\" class=\"headerlink\" title=\"‰∏≠„Å´ÂÖ•„Çå„Çã„Éï„Ç°„Ç§„É´\"></a>‰∏≠„Å´ÂÖ•„Çå„Çã„Éï„Ç°„Ç§„É´</h2><h3 id=\"ÂãïÁîª„Éï„Ç°„Ç§„É´\"><a href=\"#ÂãïÁîª„Éï„Ç°„Ç§„É´\" class=\"headerlink\" title=\"ÂãïÁîª„Éï„Ç°„Ç§„É´\"></a>ÂãïÁîª„Éï„Ç°„Ç§„É´</h3><p>mp4ÂΩ¢Âºè„ÅßÈ†º„ÇÄ„ÄÇ<br>„Éï„Ç°„Ç§„É´Âêç„ÅØ‰Ωï„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÄÇÂãïÁîª„Éï„Ç°„Ç§„É´Âêç„ÅØ„Ç≠„É£„ÉÉ„Ç∑„É•‰∏ÄË¶ß„ÅßË°®Á§∫„Åï„Çå„ÇãÂêçÂâç„Å´„Å™„Çä„Åæ„Åô„ÄÇ</p>\n<h3 id=\"„Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´\"><a href=\"#„Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´\" class=\"headerlink\" title=\"„Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´\"></a>„Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´</h3><p>xmlÂΩ¢Âºè„ÅÆÂ†¥Âêà„ÅØ„Éï„Ç°„Ç§„É´Âêç„ÅØ‰Ωï„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÄÇÔºàÂ§âÊèõÊôÇ„Å´xmlÂΩ¢Âºè„ÅÆ„Éï„Ç°„Ç§„É´„ÇíÊé¢„Åô„Åü„ÇÅÔºâ</p>\n<p>JSONÂΩ¢Âºè„ÅÆÂ†¥Âêà„ÅØ‰ª•‰∏ã„ÅÆÂêçÂâç„Åß‰øùÂ≠ò„Åô„Çã„Åì„Å®„ÅßË™≠„ÅøËæº„Åæ„Çå„Åæ„Åô„ÄÇ<br><strong>[ÂãïÁîªID]_comment.json</strong><br>‰æãÔºösm157_comment.json</p>\n<p>xmlÂΩ¢Âºè„ÅÆÂ†¥Âêà„ÅØJSONÂΩ¢Âºè„Å´Â§âÊèõ„Åó„Å™„ÅÑ„Å®Êâ±„Åà„Å™„ÅÑ„Åü„ÇÅÂ§âÊèõ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ<br>„Ç≠„É£„ÉÉ„Ç∑„É•‰∏ÄË¶ßÁîªÈù¢„Åß„ÄåÔ∏ô„Äç„ÇíÊäº„Åó„Å¶„ÄåXMLÂΩ¢Âºè„ÅÆ„Ç≥„É°„É≥„Éà„ÇíJSONÂΩ¢Âºè„Å´Â§âÊèõ„Åô„Çã„Äç„ÇíÊäº„Åó„Å¶Â§âÊèõ„Åô„Çã‰ΩúÊ•≠„Çí„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ<br>„Åì„ÅÆ‰ΩúÊ•≠„Çí„Åô„Çã„Å®[ÂãïÁîªID]_comment.json„Å®„ÅÑ„ÅÜ„Éï„Ç°„Ç§„É´„ÅåÁîüÊàê„Åï„Çå„Å¶ÁÑ°‰∫ãÂÜçÁîü„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÅØ„Åö„Åß„Åô„ÄÇ</p>\n<p>„Å™„ÅäËá™ÂàÜ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÈöõ„ÅØ‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„ÅØÂøÖË¶Å„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</p>\n<ul>\n<li>ÂãïÁîªÊÉÖÂ†±„Éï„Ç°„Ç§„É´ÔºàÂãïÁîªID.jsonÔºâ<ul>\n<li>„Å™„ÅÑÂ†¥Âêà„ÅØ„ÄåÂãïÁîªÊÉÖÂ†±„Äç„Çø„Éñ„ÅåË°®Á§∫„Åï„Çå„Å™„ÅÑ„Å†„Åë„ÅßÂÜçÁîü„ÅØ„Åß„Åç„Åæ„Åô„ÄÇ</li>\n</ul>\n</li>\n<li>„Çµ„É†„Éç„Ç§„É´„Éï„Ç°„Ç§„É´ÔºàÂãïÁîªID.jpgÔºâ<ul>\n<li>„Å™„ÅÑÂ†¥Âêà„ÅØ„Ç≠„É£„ÉÉ„Ç∑„É•‰∏ÄË¶ß„Åß„Çµ„É†„Éç„Ç§„É´„ÅåË°®Á§∫„Åï„Çå„Å™„ÅÑ„Å†„Åë„ÅßÂÜçÁîü„ÅØ„Åß„Åç„Åæ„Åô„ÄÇ</li>\n</ul>\n</li>\n</ul>\n<p>‰ª•‰∏ä„Åß„Åô„ÄÇ</p>\n<h1 id=\"Ê≥®ÊÑèÁÇπ\"><a href=\"#Ê≥®ÊÑèÁÇπ\" class=\"headerlink\" title=\"Ê≥®ÊÑèÁÇπ\"></a>Ê≥®ÊÑèÁÇπ</h1><p>„Ç¢„Éó„É™„ÇíÊ∂à„Åô„Å®„Ç≠„É£„ÉÉ„Ç∑„É•„ÇÇ„Å™„Åè„Å™„Çä„Åæ„Åô„ÄÇ</p>\n<p>„ÅÇ„Å®‰øùÂ≠òÂÖà„Éï„Ç©„É´„ÉÄ„Åå„Åè„Å£„ÅùÈï∑„ÅÑÁêÜÁî±„Åß„Åô„Åå„ÄÅAndroid 10„Åã„ÇâScopedStorage„Çí‰Ωø„Çè„Å™„ÅÑ„Å®„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åå„Åß„Åç„Å™„ÅÑ„ÅÆ„ÅßÁßÅ„ÅØÊÇ™„Åè„Å™„ÅÑ„ÄÇ</p>\n","site":{"data":{}},"excerpt":"","more":"<p>Ëá™ÂàÜÁî®„ÅÆ„É°„É¢„ÄÇ</p>\n<h1 id=\"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆ‰ªïÊßò\"><a href=\"#„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆ‰ªïÊßò\" class=\"headerlink\" title=\"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆ‰ªïÊßò\"></a>„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆ‰ªïÊßò</h1><p>„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Å´<strong>„Å™„Åú„Åã</strong>„Éã„Ç≥„Éã„Ç≥ÂãïÁîªÂÜçÁîüÊ©üËÉΩ„Å®„Ç≠„É£„ÉÉ„Ç∑„É•ÂÜçÁîüÊ©üËÉΩ„ÅåÂÆüË£Ö„Åï„Çå„Åü„ÅÆ„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂÜçÁîüÊ©üËÉΩ„ÅÆ‰ªïÊßò„Åß„ÇÇÊõ∏„ÅçÊÆã„Åó„Åæ„Åô„ÄÇ</p>\n<p>„ÅÇ„Å®„Åì„ÅÆË®ò‰∫ã„ÅØ„Éê„Éº„Ç∏„Éß„É≥7.1.1‰ª•Èôç„ÅÆË©±„Åß„Åô„ÄÇ</p>\n<h1 id=\"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂÜçÁîü„Åô„Çã„Å´„ÅØ\"><a href=\"#„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂÜçÁîü„Åô„Çã„Å´„ÅØ\" class=\"headerlink\" title=\"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂÜçÁîü„Åô„Çã„Å´„ÅØ\"></a>„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂÜçÁîü„Åô„Çã„Å´„ÅØ</h1><p>‰∫åÈÄö„Çä„ÅÆ„ÇÑ„ÇäÊñπ„Åå„ÅÇ„Çä„Åæ„Åô</p>\n<ul>\n<li>„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•„ÇíÂèñÂæó„Åô„Çã</li>\n<li>Ëá™ÂàÜ„ÅÆÊåÅ„Å£„Å¶„ÇãÂãïÁîª„ÇíÂÜçÁîü„Åô„Çã„ÄÇÂøÖË¶Å„Å™„ÇÇ„ÅÆ„ÅØ‰ª•‰∏ã<ul>\n<li>ÂãïÁîª„Éï„Ç°„Ç§„É´„ÄÇmp4</li>\n<li>„Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´„ÄÇxml</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó\"><a href=\"#„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó\" class=\"headerlink\" title=\"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó\"></a>„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©„Åß„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó</h1><ul>\n<li>ÂãïÁîªÂÜçÁîü‰∏≠„Å™„Çâ<ul>\n<li>„Äå„É°„Éã„É•„Éº„Äç„ÇíÈÅ∏„Çì„Åß„Äå„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó„Äç„Éú„Çø„É≥„ÇíÊäº„Åô</li>\n</ul>\n</li>\n<li>ÂãïÁîª‰∏ÄË¶ßÁîªÈù¢„Å™„Çâ<ul>\n<li>„ÄåÔ∏ô„Äç„ÇíÊäº„Åó„Å¶„Äå„Ç≠„É£„ÉÉ„Ç∑„É•ÂèñÂæó„Äç„ÇíÈÅ∏„Å∂„ÄÇ</li>\n</ul>\n</li>\n</ul>\n<p><strong>„Å™„Åä„Å©„Å°„Çâ„ÇÇÈÄöÁü•„Å´„Äå„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü„Äç„ÅåË°®Á§∫„Åï„Çå„Çã„Åæ„ÅßÁîªÈù¢ÂõûËª¢„Åó„Åü„Çä„Ç¢„Éó„É™„ÇíÁµÇ‰∫Ü„Åó„Åü„Çä„Åó„Å¶„ÅØ„ÅÑ„Åë„Åæ„Åõ„Çì„ÄÇ</strong></p>\n<h2 id=\"„Éï„Ç°„Ç§„É´ÊßãÈÄ†\"><a href=\"#„Éï„Ç°„Ç§„É´ÊßãÈÄ†\" class=\"headerlink\" title=\"„Éï„Ç°„Ç§„É´ÊßãÈÄ†\"></a>„Éï„Ç°„Ç§„É´ÊßãÈÄ†</h2><p>‰øùÂ≠òÂÖà„ÅØ‰ª•‰∏ã„Åß„Åô<br><strong>sdcard/Android/data/io.github.takusan23.tatimidroid/files/cache</strong></p>\n<p>„Åì„Åì„ÅÆ„Éï„Ç©„É´„ÉÄ„Å´ÂãïÁîªID„Åß„Éï„Ç©„É´„ÉÄ„ÅåÁîüÊàê„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ<br>„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠Ë∫´„ÅØ‰ª•‰∏ã„ÅÆÈÄö„Çä„Åß„Åô„ÄÇ</p>\n<ul>\n<li>[ÂãïÁîªID].jpg<ul>\n<li>„Çµ„É†„Éç„Ç§„É´„Åß„Åô„ÄÇ</li>\n</ul>\n</li>\n<li>[ÂãïÁîªID].json<ul>\n<li>ÂãïÁîªÊÉÖÂ†±„Åß„Åô„ÄÇJSONÂΩ¢Âºè„Åß„Åô„ÄÇ<ul>\n<li>„ÇÇ„ÅóJSONÂΩ¢Âºè„Å®HTML„Çπ„ÇØ„É¨„Ç§„Éî„É≥„Ç∞„Çí„Åã„Åò„Å£„Åü„Åì„Å®„Åå„ÅÇ„Çã„Å™„Çâ‚Üì<ul>\n<li>„Éã„Ç≥ÂãïÂÜçÁîü„Éö„Éº„Ç∏„ÅÆHTMLÂÜÖ„ÅÆID„Äåembedded-data„ÄçË¶ÅÁ¥†„ÅÆ„Äådata-api-data„ÄçÂ±ûÊÄß„ÅÆÂÄ§„Çí‰øùÂ≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ</li>\n<li>„Éã„Ç≥ÂãïÂÜçÁîü„Éö„Éº„Ç∏„ÅßF12„ÇíÊäº„Åó„Å¶Console„ÇíÈñã„ÅÑ„Å¶‰ª•‰∏ã„ÅÆJS„ÇíÂè©„Åè„Å®Ë¶ã„Çå„Åæ„Åô„ÄÇ‚Üì<ul>\n<li><code>JSON.parse(document.getElementById(&#39;js-initial-watch-data&#39;).getAttribute(&#39;data-api-data&#39;))</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>[ÂãïÁîªID].mp4<ul>\n<li>ÂãïÁîª„Éï„Ç°„Ç§„É´„Åß„Åô„ÄÇ</li>\n<li>ÂÜçÁîüÊôÇ„ÅÆÁîªË≥™„Åß‰øùÂ≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÅÆ„ÅßÁîªË≥™„ÇíÂ§âÊõ¥„Åó„ÅüÂæå„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åô„Çã„Å®Â§âÊõ¥„Åó„ÅüÂæå„ÅÆÁîªË≥™„Åß„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åï„Çå„Åæ„Åô„ÄÇ</li>\n<li>ÂÖ¨ÂºèÂãïÁîª„ÅØ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åß„Åç„Å™„ÅÑ„Åó„ÇÑ„Çä„Åæ„Åõ„Çì„ÄÇ</li>\n</ul>\n</li>\n<li>[ÂãïÁîªID]_comment.json<ul>\n<li>„Ç≥„É°„É≥„Éà„Åß„Åô„ÄÇJSONÂΩ¢Âºè„Åß„Åô„ÄÇ</li>\n<li>nmsg.nicovideo.jp/api.json/ „Å´POST„Åó„Å¶Â∏∞„Å£„Å¶„Åç„Åü‰∏≠Ë∫´„Çí‰øùÂ≠ò„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ</li>\n<li><strong>XMLÂΩ¢Âºè„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„ÇìÔºÅÔºÅÔºÅ*</strong></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"Ëá™ÂàÜ„ÅÆÊâãÂÖÉ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÂ†¥Âêà\"><a href=\"#Ëá™ÂàÜ„ÅÆÊâãÂÖÉ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÂ†¥Âêà\" class=\"headerlink\" title=\"Ëá™ÂàÜ„ÅÆÊâãÂÖÉ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÂ†¥Âêà\"></a>Ëá™ÂàÜ„ÅÆÊâãÂÖÉ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÂ†¥Âêà</h1><p>livedl„Å™„Å©„ÅÆ„Çø„Ç§„É†„Ç∑„Éï„Éà‰øùÂ≠ò„ÉÑ„Éº„É´„Å™„Å©„ÅßÂèñÂæó„Åó„Åü„Éï„Ç°„Ç§„É´„ÇíÂÜçÁîü„Åô„Çã„Å®„Åç„Å´‰Ωø„Åà„Åæ„Åô„ÄÇ<br>‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„ÇíÁî®ÊÑè„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ</p>\n<ul>\n<li>ÂãïÁîª„Éï„Ç°„Ç§„É´„ÄÇmp4ÂΩ¢Âºè„Åß„ÄÇ</li>\n<li>„Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´„ÄÇ</li>\n</ul>\n<h2 id=\"„Éï„Ç°„Ç§„É´ÊßãÈÄ†-1\"><a href=\"#„Éï„Ç°„Ç§„É´ÊßãÈÄ†-1\" class=\"headerlink\" title=\"„Éï„Ç°„Ç§„É´ÊßãÈÄ†\"></a>„Éï„Ç°„Ç§„É´ÊßãÈÄ†</h2><p>‰ª•‰∏ã„ÅÆÂ†¥ÊâÄ„Å´„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br><strong>sdcard/Android/data/io.github.takusan23.tatimidroid/files/cache</strong><br>„Éã„Ç≥Âãï„ÅÆÂ†¥Âêà„ÅØÂãïÁîªID„ÄÅÁîüÊîæÈÄÅ„Å™„ÇâÁîüÊîæÈÄÅID„Åß„ÅÑ„ÅÑ„Å®„ÅäÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<h2 id=\"‰∏≠„Å´ÂÖ•„Çå„Çã„Éï„Ç°„Ç§„É´\"><a href=\"#‰∏≠„Å´ÂÖ•„Çå„Çã„Éï„Ç°„Ç§„É´\" class=\"headerlink\" title=\"‰∏≠„Å´ÂÖ•„Çå„Çã„Éï„Ç°„Ç§„É´\"></a>‰∏≠„Å´ÂÖ•„Çå„Çã„Éï„Ç°„Ç§„É´</h2><h3 id=\"ÂãïÁîª„Éï„Ç°„Ç§„É´\"><a href=\"#ÂãïÁîª„Éï„Ç°„Ç§„É´\" class=\"headerlink\" title=\"ÂãïÁîª„Éï„Ç°„Ç§„É´\"></a>ÂãïÁîª„Éï„Ç°„Ç§„É´</h3><p>mp4ÂΩ¢Âºè„ÅßÈ†º„ÇÄ„ÄÇ<br>„Éï„Ç°„Ç§„É´Âêç„ÅØ‰Ωï„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÄÇÂãïÁîª„Éï„Ç°„Ç§„É´Âêç„ÅØ„Ç≠„É£„ÉÉ„Ç∑„É•‰∏ÄË¶ß„ÅßË°®Á§∫„Åï„Çå„ÇãÂêçÂâç„Å´„Å™„Çä„Åæ„Åô„ÄÇ</p>\n<h3 id=\"„Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´\"><a href=\"#„Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´\" class=\"headerlink\" title=\"„Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´\"></a>„Ç≥„É°„É≥„Éà„Éï„Ç°„Ç§„É´</h3><p>xmlÂΩ¢Âºè„ÅÆÂ†¥Âêà„ÅØ„Éï„Ç°„Ç§„É´Âêç„ÅØ‰Ωï„Åß„ÇÇ„ÅÑ„ÅÑ„Åß„Åô„ÄÇÔºàÂ§âÊèõÊôÇ„Å´xmlÂΩ¢Âºè„ÅÆ„Éï„Ç°„Ç§„É´„ÇíÊé¢„Åô„Åü„ÇÅÔºâ</p>\n<p>JSONÂΩ¢Âºè„ÅÆÂ†¥Âêà„ÅØ‰ª•‰∏ã„ÅÆÂêçÂâç„Åß‰øùÂ≠ò„Åô„Çã„Åì„Å®„ÅßË™≠„ÅøËæº„Åæ„Çå„Åæ„Åô„ÄÇ<br><strong>[ÂãïÁîªID]_comment.json</strong><br>‰æãÔºösm157_comment.json</p>\n<p>xmlÂΩ¢Âºè„ÅÆÂ†¥Âêà„ÅØJSONÂΩ¢Âºè„Å´Â§âÊèõ„Åó„Å™„ÅÑ„Å®Êâ±„Åà„Å™„ÅÑ„Åü„ÇÅÂ§âÊèõ„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ<br>„Ç≠„É£„ÉÉ„Ç∑„É•‰∏ÄË¶ßÁîªÈù¢„Åß„ÄåÔ∏ô„Äç„ÇíÊäº„Åó„Å¶„ÄåXMLÂΩ¢Âºè„ÅÆ„Ç≥„É°„É≥„Éà„ÇíJSONÂΩ¢Âºè„Å´Â§âÊèõ„Åô„Çã„Äç„ÇíÊäº„Åó„Å¶Â§âÊèõ„Åô„Çã‰ΩúÊ•≠„Çí„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ<br>„Åì„ÅÆ‰ΩúÊ•≠„Çí„Åô„Çã„Å®[ÂãïÁîªID]_comment.json„Å®„ÅÑ„ÅÜ„Éï„Ç°„Ç§„É´„ÅåÁîüÊàê„Åï„Çå„Å¶ÁÑ°‰∫ãÂÜçÁîü„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÅØ„Åö„Åß„Åô„ÄÇ</p>\n<p>„Å™„ÅäËá™ÂàÜ„ÅÆÂãïÁîª„ÇíÂÜçÁîü„Åô„ÇãÈöõ„ÅØ‰ª•‰∏ã„ÅÆ„Éï„Ç°„Ç§„É´„ÅØÂøÖË¶Å„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</p>\n<ul>\n<li>ÂãïÁîªÊÉÖÂ†±„Éï„Ç°„Ç§„É´ÔºàÂãïÁîªID.jsonÔºâ<ul>\n<li>„Å™„ÅÑÂ†¥Âêà„ÅØ„ÄåÂãïÁîªÊÉÖÂ†±„Äç„Çø„Éñ„ÅåË°®Á§∫„Åï„Çå„Å™„ÅÑ„Å†„Åë„ÅßÂÜçÁîü„ÅØ„Åß„Åç„Åæ„Åô„ÄÇ</li>\n</ul>\n</li>\n<li>„Çµ„É†„Éç„Ç§„É´„Éï„Ç°„Ç§„É´ÔºàÂãïÁîªID.jpgÔºâ<ul>\n<li>„Å™„ÅÑÂ†¥Âêà„ÅØ„Ç≠„É£„ÉÉ„Ç∑„É•‰∏ÄË¶ß„Åß„Çµ„É†„Éç„Ç§„É´„ÅåË°®Á§∫„Åï„Çå„Å™„ÅÑ„Å†„Åë„ÅßÂÜçÁîü„ÅØ„Åß„Åç„Åæ„Åô„ÄÇ</li>\n</ul>\n</li>\n</ul>\n<p>‰ª•‰∏ä„Åß„Åô„ÄÇ</p>\n<h1 id=\"Ê≥®ÊÑèÁÇπ\"><a href=\"#Ê≥®ÊÑèÁÇπ\" class=\"headerlink\" title=\"Ê≥®ÊÑèÁÇπ\"></a>Ê≥®ÊÑèÁÇπ</h1><p>„Ç¢„Éó„É™„ÇíÊ∂à„Åô„Å®„Ç≠„É£„ÉÉ„Ç∑„É•„ÇÇ„Å™„Åè„Å™„Çä„Åæ„Åô„ÄÇ</p>\n<p>„ÅÇ„Å®‰øùÂ≠òÂÖà„Éï„Ç©„É´„ÉÄ„Åå„Åè„Å£„ÅùÈï∑„ÅÑÁêÜÁî±„Åß„Åô„Åå„ÄÅAndroid 10„Åã„ÇâScopedStorage„Çí‰Ωø„Çè„Å™„ÅÑ„Å®„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åå„Åß„Åç„Å™„ÅÑ„ÅÆ„ÅßÁßÅ„ÅØÊÇ™„Åè„Å™„ÅÑ„ÄÇ</p>\n"},{"title":"„ÄêAndroid / Kotlin„Äë „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅÆ„Å§„Åè„Çä„Åã„Åü","author":"takusan_23","slide":false,"_content":"„Å©„ÅÜ„ÇÇ„ÄÇ„Åì„Çì„Å∞„Çì„Çè\n\n# „Å™„Å´„Åå„ÅÇ„Å£„Åü„ÅÆ„Åã\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/05545e12-a4c7-83ae-31b8-7c63a448b994.png)\n\n„Åì„ÅÆÁîªÈù¢„Åã„Çâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Çí‰ΩúÊàê„Åô„Çã„Å®Ââç„Å®ÈÅï„Å£„Å¶„ÇÅ„Å£„Å°„ÇÉ„Éï„Ç©„É´„ÉÄ„Éª„Éï„Ç°„Ç§„É´„Åå‰ΩúÊàê„Åï„Çå„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇ„Å©„ÇÜ„Åì„Å®\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/1d14c929-e9e5-6c41-90a6-47a5044c4241.png)\n\n\n„Åó„Åã„ÇÇbuild.gradle„Å´Êõ∏„ÅçË∂≥„Åï„Å™„ÅÑ„Å®„Ç®„É©„Éº„ÅåÂá∫„Çã„Å£„Å¶„Å™„Çì„Å†„Çà„ÄÇ\n\n```\nCannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6. Please specify proper '-jvm-target' option\n```\n\n„Åì„ÅÆ„Ç®„É©„Éº„ÅØapp„Éï„Ç©„É´„ÉÄ„Å´„ÅÇ„Çã„Åª„ÅÜ„ÅÆ```build.gradle```„ÇíÈñã„ÅÑ„Å¶„ÄÅandroid{}„ÅÆÊ≥¢„Åã„Å£„Åì„ÅÆ‰∏≠„Å´‰ª•‰∏ã„ÅÆÊñá„ÇíÊõ∏„ÅçË∂≥„Åô„Åì„Å®„ÅßÂãï„Åç„Åæ„Åô„ÄÇ\n\n```gradle\ncompileOptions {\n    sourceCompatibility = 1.8\n    targetCompatibility = 1.8\n}\nkotlinOptions {\n    jvmTarget = \"1.8\"\n}\n```\n\n„Å®„ÅÑ„ÅÜ„Åì„Å®„Åß‰ªäÂõû„ÅØÁ©∫„ÅÆÁä∂ÊÖã„Åã„Çâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Çí‰Ωú„Å£„Å¶„ÅÑ„Åì„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\nViewModel„Å™„Çì„Å¶Ëß¶„Å£„Åü„Åì„Å®„Å™„ÅÑ„ÅÆ„Åß...\n\n# Áí∞Â¢É\n| „Å™„Åæ„Åà                   | „Å™„Åã„Åø                                   |\n|--------------------------|------------------------------------------|\n| Android„Éê„Éº„Ç∏„Éß„É≥        | 10                                       |\n| Android Studio„Éê„Éº„Ç∏„Éß„É≥ | 3.5                                      |\n| Á´ØÊú´                     | Pixel 3 XL                               |\n| Ë®ÄË™û                     | Kotlin(„Å™„ÅÆ„ÅßfindViewById„Çí‰Ωø„ÅÑ„Åæ„Åõ„Çì„ÄÇ) |\n\n# Êú¨È°å\n„Å§„Åè„Çå„Åü„Çâapp„Éï„Ç©„É´„ÉÄ„Å´ÂÖ•„Å£„Å¶„ÅÑ„Çãbuild.gradle„ÇíÈñã„ÅÑ„Å¶„Éû„ÉÜ„É™„Ç¢„É´„Éá„Ç∂„Ç§„É≥„ÅÆ„É©„Ç§„Éñ„É©„É™„ÇíÂÖ•„Çå„Åæ„Åô„ÄÇ\n\n```gradle\nimplementation 'com.google.android.material:material:1.2.0-alpha01'\n```\n\n# „É°„Éã„É•„ÉºÁî®ÊÑè\n„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´ÂÖ•„Çå„Çã„É°„Éã„É•„Éº„Åß„Åô„Å≠„ÄÇ\n\nres„Éá„Ç£„É¨„ÇØ„Éà„É™„ÇíÂè≥„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\nÂêçÂâç„Çí**menu**„Å´„Åó„Å¶„Å≠„ÄÇ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/b9133c44-8194-94f1-5589-42a9af9c82b2.png)\n\n‰Ωú„Çå„Åü„Çâ**menu**„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Å´**drawer_menu**„Å£„Å¶ÂêçÂâç„Åß‰Ωú„Å£„Å¶„Å≠„ÄÇÔºàÂà•„Å´„Çè„Åã„Çä„ÇÑ„Åô„ÅÑÂêçÂâç„Åå„ÅÇ„Çã„Å™„Çâ„Åù„Çå„Åß„ÇÇ„ÅÑ„ÅÑ„Çà„ÄÇÔºâ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/9808ba04-4b40-3977-f347-2825b549a126.png)\n\n„Åù„Åó„Åü„Çâ„Åù„ÅÆ**drawer_menu.xml**„ÇíÈñã„ÅÑ„Å¶ÈÅ©ÂΩì„Å´„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ\n„Åå„ÄÅ„Åù„ÅÆÂâç„Å´„Ç¢„Ç§„Ç≥„É≥„ÇíÊåÅ„Å£„Å¶„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\n## „É°„Éã„É•„Éº„Å´Ë°®Á§∫„Åï„Åõ„Çã„Ç¢„Ç§„Ç≥„É≥„ÇíÁî®ÊÑè„Åô„Çã\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/3b1bba2d-037c-fce6-5c14-076de0882370.png)\n\n„Éô„ÇØ„Çø„Éº„Ç¢„Çª„ÉÉ„Éà„Åã„Çâ„ÅäÂ•Ω„Åø„ÅÆÁîªÂÉè„ÇíÊåÅ„Å£„Å¶„Åç„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n‰ªäÂõû„ÅØÈÅ©ÂΩì„Å´„Éâ„É≠„Ç§„ÉâÂêõ„Åß\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/663e99a7-dd18-ebac-6278-d89d331e5035.png)\n\n## „É°„Éã„É•„ÉºÈ†ÖÁõÆËøΩÂä†\n\ndrawer_menu.xml„Å´Êõ∏„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\nitem„ÇíËøΩÂä†„Åô„Çã„Å®„Åç„ÅØtitle(ÂøÖÈ†à)„Å®id(Ë≠òÂà•„Å´‰Ωø„ÅÜ)„ÅØÁµ∂ÂØæÊõ∏„ÅÑ„Å¶„Å≠„ÄÇ„Ç¢„Ç§„Ç≥„É≥„ÅØ„ÅÑ„Çâ„Å™„ÅÑ„Åã„ÇÇ„Å†„Åë„Å©„ÅÇ„Å£„Åü„Åª„ÅÜ„Åå„Çà„Åï„Åí„ÄÇ\n\n```xml:drawer_menu.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<menu xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <group android:checkableBehavior=\"single\">\n        <item android:icon=\"@drawable/ic_android_black_24dp\" android:title=\"Java\" android:id=\"@+id/drawer_menu_java\" />\n        <item android:icon=\"@drawable/ic_android_black_24dp\" android:title=\"Kotlin\" android:id=\"@+id/drawer_menu_kotlin\"/>\n        <item android:icon=\"@drawable/ic_android_black_24dp\" android:title=\"JS\" android:id=\"@+id/drawer_menu_js\"/>\n    </group>\n</menu>\n```\n\n# „É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\n„ÅÑ„Çà„ÅÑ„Çà„É¨„Ç§„Ç¢„Ç¶„Éà„Åß„Åô„Çà„ÄÇ„É¨„Ç§„Ç¢„Ç¶„Éà‰Ωú„Çã„ÅÆÊ•Ω„Åó„ÅÑ„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Hello World!\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" />\n\n</androidx.constraintlayout.widget.ConstraintLayout>\n```\n\n‰Ωï„ÇÇ„Åó„Å¶„ÅÑ„Å™„Åë„Çå„Å∞„Åì„ÅÆ„Åæ„Åæ„Åß„Åô„Å≠„ÄÇ„Åì„Å£„Åã„Çâ„Éâ„É≠„ÉØ„Éº„ÇíËøΩÂä†„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ\n\n„Åì„ÅÜÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Hello World!\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" />\n\n    <com.google.android.material.navigation.NavigationView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/navigation_drawer\"\n        app:menu=\"@menu/drawer_menu\"\n        android:layout_gravity=\"start\"/>\n\n</androidx.drawerlayout.widget.DrawerLayout>\n```\n\n„Åß„Åç„Åü„ÇâÂÆüË°å„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åì„ÅÆÊÆµÈöé„Åß„ÅØ„Åæ„Å†‰Ωï„ÇÇMainActivity.kt„Å´Êâã„Çí‰ªò„Åë„Å¶„Åæ„Åõ„Çì„ÄÇ\nËµ∑ÂãïÂá∫Êù•„Åü„ÇâÁ´Ø„Åã„ÇâÂ∑¶„Å∏„Çπ„ÉØ„Ç§„Éó„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„É°„Éã„É•„Éº„ÅåÂá∫„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![Screenshot_20191107-220921.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/6de175c5-27c9-72da-219c-54a99f8edf25.png)\n\n## Android 10„Åß„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥‰Ωø„Å£„Å¶„Çã„Çì„Åß„Åô„Åë„Å©Èñã„Åë„ÅöÊàª„Çã„Å´„Å™„ÇãÊñπ„Å∏\nÂ∑¶„ÅÆÁ´Ø„Å£„Åì„ÇíÈï∑Êäº„Åó„Åô„Çã„Å®Â∞ë„Åó„Å†„Åë„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅåÂá∫„Å¶„Åè„Çã„ÅÆ„Åß„Åù„ÅÆ„Åæ„Åæ„Çπ„ÉØ„Ç§„Éó„Åô„Çå„Å∞„ÅÑ„ÅÑ„Åß„Åô„ÄÇ\n\n![Screenshot_20191107-220915.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/a6832bae-4805-f378-cf41-f956f2d839d7.png)\n\n„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Å®Áõ∏ÊÄßÊÇ™„ÅÑ„ÄÇ„Ç±„Éº„Çπ„Å®„Åã„Å§„Åë„Å¶„Çã„Å®Èñã„Åè„ÅÆÂ§ßÂ§â„ÄÇ\n\n# „Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Çí„Å§„Åè„Çã\n„Åì„ÅÆÂ∑¶‰∏ä„Å´„ÅÇ„Çã‰∏âÊú¨Á∑ö„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ\n![Screenshot_20191107-225021.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/373a27b9-695b-babc-472a-ee0743d12acc.png)\n\n\n„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„ÅØ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÇíÈñã„Åè‰∏âÊú¨„ÅÆÊ®™Á∑ö„ÅÆ„Åì„Å®„Åß„Åô„ÄÇÊµ∑„ÇíÊ∏°„Çã„Å®„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Å£„Å¶Âëº„Å∞„Çå„Å¶„Çã„Åù„ÅÜ„Åß„Åô„ÄÇ\n\n„Åì„Çå„ÅØÂ∞ë„ÅóÂ§ßÂ§â„Å™„ÅÆ„ÅßÈ†ëÂºµ„Å£„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\n## styles.xml„ÇíÊõ∏„ÅçË∂≥„Åô\n„Åì„Çì„Å™ÊÑü„Åò„Å´\n\n```xml:style.xml\n<resources>\n\n    <!-- „Éâ„É≠„ÉØ„ÉºÁî®„É¨„Ç§„Ç¢„Ç¶„Éà -->\n    <style name=\"DrawerTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\">\n\n        <item name=\"windowActionBar\">false</item>\n        <item name=\"windowNoTitle\">true</item>\n\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\n        <item name=\"colorAccent\">@color/colorAccent</item>\n    </style>\n\n\n</resources>\n```\n\nÂÖÉ„Åã„Çâ„ÅÇ„ÇãAppTheme„ÅØÊ∂à„Åó„Åæ„Åõ„Çì„ÄÇ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÇíÁΩÆ„ÅÑ„Å¶„ÅÑ„ÇãActivity„Åß„ÅÆ„Åø‰Ωø„ÅÜ„Åü„ÇÅ„Åß„Åô„ÄÇ\nActivity„ÇíËøΩÂä†„Åó„Åü„Å®„Åç„ÅÆ„Åü„ÇÅ„Å´AppTheme„ÇíÊÆã„Åó„Å¶„ÅÇ„Çä„Åæ„Åô„ÄÇ\n\n## ManifestÊõ∏„ÅçÊèõ„Åà„Çã\n\nAndroidManifest.xml„ÇíÈñã„ÅÑ„Å¶„Å≠„ÄÇ\nÈñã„Åë„Åü„Çâ‰ª•‰∏ã„ÅÆ‰∏ÄË°å„ÇíÊé¢„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n```xml:AndroidManifest.xml\nandroid:theme=\"@style/AppTheme\"\n```\n\n„Åì„Çå„Çí„Åï„Å£„Åç‰Ωú„Å£„Åü**DrawerTheme**„Å∏Êõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ\n\n```xml:AndroidManifest.xml\nandroid:theme=\"@style/DrawerTheme\"\n```\n\n## „ÉÑ„Éº„É´„Éê„Éº„ÇíË®≠ÁΩÆ\n„ÉÑ„Éº„É´„Éê„Éº„Å£„Å¶„ÅÑ„ÅÜ„ÅÆ„ÅØ„Ç¢„Éó„É™Âêç„ÅåÊõ∏„ÅÑ„Å¶„ÅÇ„Çã‰∏ä„ÅÆ„Éê„Éº„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ\n„ÉÑ„Éº„É´„Éê„Éº„ÅØstyles.xml„ÅßÊ∂à„ÅôË®≠ÂÆö„Å´„Åó„Åü„ÅÆ„Åß„É¨„Ç§„Ç¢„Ç¶„Éà„Å´„ÉÑ„Éº„É´„Éê„Éº„ÇíÁΩÆ„ÅèÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\n\n„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅßÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n        <androidx.appcompat.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"?attr/colorPrimary\"\n            android:minHeight=\"?attr/actionBarSize\"\n            android:theme=\"?attr/actionBarTheme\" />\n    </LinearLayout>\n\n    <com.google.android.material.navigation.NavigationView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/navigation_drawer\"\n        app:menu=\"@menu/drawer_menu\"\n        android:layout_gravity=\"start\"/>\n\n</androidx.drawerlayout.widget.DrawerLayout>\n```\n\nLinearLayout„ÅÆ‰∏≠„Å´Toolbar„ÇíÂÖ•„Çå„Åæ„Åó„Åü„ÄÇ\n\n## Toolbar„Å´„Ç¢„Ç§„Ç≥„É≥„Çí‰ªò„Åë„Çã\n„Çà„ÅÜ„ÇÑ„ÅèKotlin„Åß„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„Åß„Åô„ÄÇ\n„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅßMainActivity.kt„ÇíÈñã„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n```kotlin:MainActivity.kt\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        //Toolbar„ÇíÁôªÈå≤\n        setSupportActionBar(toolbar)\n\n        //„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÇíÂÆüË£Ö\n        //Á¨¨Ôºî„ÄÅÔºïÂºïÊï∞„ÅØ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„Åß‰Ωø„ÅÜ„Åø„Åü„ÅÑ„ÄÇ\n        val actionBarDrawerToggle = ActionBarDrawerToggle(\n            this, drawer_layout, toolbar, R.string.app_name, R.string.app_name\n        )\n        drawer_layout.addDrawerListener(actionBarDrawerToggle)\n        actionBarDrawerToggle.syncState()\n\n    }\n}\n```\n\nActionBarDrawerToggle()„ÅÆÁ¨¨Ôºî„ÄÅÔºïÂºïÊï∞„ÅØ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„Åß‰Ωø„ÅÜ„Åø„Åü„ÅÑ„Åß„ÅôÔºà„Éâ„Ç≠„É•„É°„É≥„Éà„Å´„Çà„Çã„Å®Ôºâ„ÄÇ\n‰ªäÂõû„ÅØÈÅ©ÂΩì„Å´ÂÖ•„Çå„Åæ„Åó„Åü„ÄÇ\n\nÂá∫Êù•„Åü„ÇâÂÆüË°å„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„ÉºÊäº„Åó„Å¶„ÇÇÈñã„Åè„Åó„ÄÅÁ´Ø„Å£„Åì„Åã„ÇâÂ∑¶„Å∏„Çπ„ÉØ„Ç§„Éó„Åß„ÇÇÈñã„ÅèÔºã„Å†„Çì„Å†„Çì„Ç¢„Ç§„Ç≥„É≥„ÅåÂ§âÂåñ„Åó„Å¶„Åè„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![Screenshot_20191107-224549.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/59b1491b-7923-1ec6-ba3b-a7b4b0318dfd.png)\n\n# „Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã\n„Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã„Å®„É°„Éã„É•„Éº„ÅÆ‰∏ä„Å´‰Ωï„ÅãView„ÇíÁΩÆ„Åè„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ\n‰ªäÂõû„ÅØÈÅ©ÂΩì„Å´ÁîªÂÉè„Åß„ÇÇÁΩÆ„ÅÑ„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ\n![Screenshot_20191107-225843.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/7d06b19b-f2e3-9951-3250-1eaa62883e09.png)\n\n\n## „Éò„ÉÉ„ÉÄ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\nlayout„Éï„Ç©„É´„ÉÄ„Å´**drawer_header_layout.xml**„Åß„É¨„Ç§„Ç¢„Ç¶„Éà„Éï„Ç°„Ç§„É´„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\nÁîªÂÉè„ÅØ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Å´ÂÖ•„Å£„Å¶„Åü„ÇÇ„ÅÆ„Çí‰Ωø„ÅÜ„Åì„Å®„Å´„ÄÇ\n\n```xml:drawer_header_layout.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_margin=\"10sp\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\">\n\n    <ImageView\n        android:id=\"@+id/imageView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:srcCompat=\"@mipmap/ic_launcher_round\" />\n\n    <TextView\n        android:id=\"@+id/textView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center_vertical\"\n        android:layout_weight=\"1\"\n        android:text=\"„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅÆÁ∑¥Áøí„Åß„Åô\" />\n</LinearLayout>\n```\n\n## „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´„Éò„ÉÉ„ÉÄ„Éº„ÇíÂÖ•„Çå„Çã\nactivity_main.xml„ÇíÈñã„ÅÑ„Å¶„ÄÅNavigationView„Å´app:headerLayout„ÅÆÂ±ûÊÄßÔºü„Çí‰ªò„Åë„Åæ„Åô„ÄÇ\n\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n        <androidx.appcompat.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"?attr/colorPrimary\"\n            android:minHeight=\"?attr/actionBarSize\"\n            android:theme=\"?attr/actionBarTheme\" />\n    </LinearLayout>\n\n    <com.google.android.material.navigation.NavigationView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/navigation_drawer\"\n        app:menu=\"@menu/drawer_menu\"\n        app:headerLayout=\"@layout/drawer_header_layout\"\n        android:layout_gravity=\"start\"/>\n\n</androidx.drawerlayout.widget.DrawerLayout>\n```\n\nÂá∫Êù•„Åü„ÇâÂÆüË°å„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n„É°„Éã„É•„Éº„ÅÆ‰∏ä„Å´ÁîªÂÉè„ÅåÂá∫„Å¶„Åè„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![Screenshot_20191107-225843.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/7d06b19b-f2e3-9951-3250-1eaa62883e09.png)\n\n## „Éò„ÉÉ„ÉÄ„Éº„Çí„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Åæ„ÅßÊΩú„Çå„Å™„ÅÑ„ÅÆÔºü\n„Åß„Åç„Åæ„Åô„ÇàÔΩû\n![Screenshot_20191107-230521.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/208826b5-ecd7-75b1-a41e-8f56ef413b4d.png)\n\nactivity_main.xml„ÇíÈñã„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\nÂ§âÊõ¥ÁÇπ„ÅØDrawerLayout„Å´fitsSystemWindowsÂ±ûÊÄß„Åå„Å§„ÅÑ„ÅüÁÇπ„Åß„Åô„Å≠„ÄÇ    android:fitsSystemWindows=\"true\"„ÇíÊõ∏„ÅçË∂≥„Åô„Åì„Å®„Åß„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Å∏‰æµÁï•„Åß„Åç„Åæ„Åô„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:fitsSystemWindows=\"true\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n        <androidx.appcompat.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"?attr/colorPrimary\"\n            android:minHeight=\"?attr/actionBarSize\"\n            android:theme=\"?attr/actionBarTheme\" />\n    </LinearLayout>\n\n    <com.google.android.material.navigation.NavigationView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/navigation_drawer\"\n        app:menu=\"@menu/drawer_menu\"\n        app:headerLayout=\"@layout/drawer_header_layout\"\n        android:layout_gravity=\"start\"/>\n\n</androidx.drawerlayout.widget.DrawerLayout>\n```\n\n„Åó„Åã„Åó„Åì„ÅÆ„Åæ„Åæ„Å†„Å®„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆËâ≤„ÅÆ„Åõ„ÅÑ„ÅßË¶ã„Åà„Å™„Åè„Å™„Çã„ÅÆ„Åß„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆËâ≤„ÇíÈÄèÊòé„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\nstyles.xml„ÇíÈñã„ÅÑ„Å¶„Éâ„É≠„ÉØ„ÉºÁî®„É¨„Ç§„Ç¢„Ç¶„Éà„Å∏Â±ûÊÄß„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ\n‰Ωï„ÇíËøΩÂä†„Åô„Çã„ÅÆ„Åã„Å£„Å¶Ë©±„Åß„Åô„Ååandroid:statusBarColor„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇÂÄ§„ÅØ```@android:color/transparent```ÔºàÈÄèÊòéÔºâ„Åß„Åô„ÄÇ\n\n\n```xml:styles.xml\n    <!-- „Éâ„É≠„ÉØ„ÉºÁî®„É¨„Ç§„Ç¢„Ç¶„Éà -->\n    <style name=\"DrawerTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\">\n\n        <item name=\"windowActionBar\">false</item>\n        <item name=\"windowNoTitle\">true</item>\n        <item name=\"android:statusBarColor\">@android:color/transparent</item>\n\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\n        <item name=\"colorAccent\">@color/colorAccent</item>\n    </style>\n```\n\n„Åì„Çå„ÅßËµ∑Âãï„Åô„Çå„Å∞„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆËâ≤„ÅåÈÄèÊòé„Å´„Å™„Å£„Å¶Ë¶ã„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ\n![Screenshot_20191107-230521.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/208826b5-ecd7-75b1-a41e-8f56ef413b4d.png)\n\n# „É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç„Å´‰Ωï„Åã„Åó„Åü„ÅÑ\n„Åì„Çì„Å™ÊÑü„Åò„Å´\n\n```kotlin:MainActivity.kt\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        //Toolbar„ÇíÁôªÈå≤\n        setSupportActionBar(toolbar)\n\n        //„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÇíÂÆüË£Ö\n        //Á¨¨Ôºî„ÄÅÔºïÂºïÊï∞„ÅØ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„Åß‰Ωø„ÅÜ„Åø„Åü„ÅÑ„ÄÇ\n        val actionBarDrawerToggle = ActionBarDrawerToggle(\n            this, drawer_layout, toolbar, R.string.app_name, R.string.app_name\n        )\n        drawer_layout.addDrawerListener(actionBarDrawerToggle)\n        actionBarDrawerToggle.syncState()\n\n        //„É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç\n        navigation_drawer.setNavigationItemSelectedListener {\n            when(it.itemId){\n                R.id.drawer_menu_java->{\n                    //javaÊäº„Åó„Åü„Å®„Åç\n                    Snackbar.make(navigation_drawer,\"30ÂÑÑ„ÅÆ„Éá„Éê„Ç§„Çπ„ÅßËµ∞„ÇãJava\",Snackbar.LENGTH_SHORT).show()\n                }\n                R.id.drawer_menu_kotlin->{\n                    //kotlinÊäº„Åó„Åü„Å®„Åç\n                    Snackbar.make(navigation_drawer,\"apply{}‰æøÂà©„Åô„Åé„Çã\",Snackbar.LENGTH_SHORT).show()\n                }\n                R.id.drawer_menu_js->{\n                    //JSÊäº„Åó„Åü„Å®„Åç\n                    Snackbar.make(navigation_drawer,\"undefined\",Snackbar.LENGTH_SHORT).show()\n                }\n            }\n            //Êäº„Åó„Åü„Çâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÇíÈñâ„Åò„Çã\n            drawer_layout.closeDrawer(navigation_drawer)\n            true\n        }\n    }\n}\n```\n\nJava„ÇíÊäº„Åó„Åü„Å®„ÅçSnackbar„Åå„Åß„Å¶„Äå30ÂÑÑ„ÅÆ„Éá„Éê„Ç§„Çπ„ÅßËµ∞„ÇãJava„Äç„Å®Ë°®Á§∫„Åï„Çå„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ„Åä„ÇÅ„Åß„Å®„ÅÜÔºÅ\n\n# ÁµÇ„Çè„Çä„Å´\n„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíÂ∞ë„ÅóÂ§â„Åà„Çå„Å∞„Å∞„Éú„Çø„É≥„Å®„Åã„Åä„Åë„Åæ„Åô„ÄÇ\nË§áÈõë„Å´„Å™„Çä„Åù„ÅÜ„Å†„Åë„Å©„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:fitsSystemWindows=\"true\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n        <androidx.appcompat.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"?attr/colorPrimary\"\n            android:minHeight=\"?attr/actionBarSize\"\n            android:theme=\"?attr/actionBarTheme\" />\n    </LinearLayout>\n\n    <com.google.android.material.navigation.NavigationView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/navigation_drawer\"\n        android:layout_gravity=\"start\">\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\">\n\n            <ImageView\n                android:id=\"@+id/imageView2\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                app:srcCompat=\"@mipmap/ic_launcher_round\" />\n\n            <Button\n                android:layout_gravity=\"center_vertical\"\n                android:id=\"@+id/button\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"„Éú„Çø„É≥„Å®„Åã„Åä„Åë„Åæ„Åô„ÄÇ\" />\n        </LinearLayout>\n\n    </com.google.android.material.navigation.NavigationView>\n\n</androidx.drawerlayout.widget.DrawerLayout>\n```\n\n![Screenshot_20191107-233906.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/421e765a-99cf-59ba-053c-374c35a3716c.png)\n\n„Åù„Çå„Åã„Çâstyles.xml„ÅÆparent„ÇíTheme.MaterialComponents.Light.DarkActionBar„Å´„Åô„Çã„Å®„É°„Éã„É•„ÉºÈÅ∏ÊäûÊôÇ„ÅåÂ∞ë„ÅóÂ§â„Çè„Çä„Åæ„Åô„ÄÇ\n\n![Screenshot_20191107-234614.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/a1e21809-93b5-06bb-a8db-d7d9864a58e0.png)\n\n\n„Åä„Å§ÔºÅÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºò„ÄÇ\n","source":"_posts/NavigationDrawer.md","raw":"---\ntitle: „ÄêAndroid / Kotlin„Äë „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅÆ„Å§„Åè„Çä„Åã„Åü\ntags:\n- Android\n- Kotlin\n- MaterialDesign\n- NavigationDrawer\nauthor: takusan_23\nslide: false\n---\n„Å©„ÅÜ„ÇÇ„ÄÇ„Åì„Çì„Å∞„Çì„Çè\n\n# „Å™„Å´„Åå„ÅÇ„Å£„Åü„ÅÆ„Åã\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/05545e12-a4c7-83ae-31b8-7c63a448b994.png)\n\n„Åì„ÅÆÁîªÈù¢„Åã„Çâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Çí‰ΩúÊàê„Åô„Çã„Å®Ââç„Å®ÈÅï„Å£„Å¶„ÇÅ„Å£„Å°„ÇÉ„Éï„Ç©„É´„ÉÄ„Éª„Éï„Ç°„Ç§„É´„Åå‰ΩúÊàê„Åï„Çå„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇ„Å©„ÇÜ„Åì„Å®\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/1d14c929-e9e5-6c41-90a6-47a5044c4241.png)\n\n\n„Åó„Åã„ÇÇbuild.gradle„Å´Êõ∏„ÅçË∂≥„Åï„Å™„ÅÑ„Å®„Ç®„É©„Éº„ÅåÂá∫„Çã„Å£„Å¶„Å™„Çì„Å†„Çà„ÄÇ\n\n```\nCannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6. Please specify proper '-jvm-target' option\n```\n\n„Åì„ÅÆ„Ç®„É©„Éº„ÅØapp„Éï„Ç©„É´„ÉÄ„Å´„ÅÇ„Çã„Åª„ÅÜ„ÅÆ```build.gradle```„ÇíÈñã„ÅÑ„Å¶„ÄÅandroid{}„ÅÆÊ≥¢„Åã„Å£„Åì„ÅÆ‰∏≠„Å´‰ª•‰∏ã„ÅÆÊñá„ÇíÊõ∏„ÅçË∂≥„Åô„Åì„Å®„ÅßÂãï„Åç„Åæ„Åô„ÄÇ\n\n```gradle\ncompileOptions {\n    sourceCompatibility = 1.8\n    targetCompatibility = 1.8\n}\nkotlinOptions {\n    jvmTarget = \"1.8\"\n}\n```\n\n„Å®„ÅÑ„ÅÜ„Åì„Å®„Åß‰ªäÂõû„ÅØÁ©∫„ÅÆÁä∂ÊÖã„Åã„Çâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Çí‰Ωú„Å£„Å¶„ÅÑ„Åì„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\nViewModel„Å™„Çì„Å¶Ëß¶„Å£„Åü„Åì„Å®„Å™„ÅÑ„ÅÆ„Åß...\n\n# Áí∞Â¢É\n| „Å™„Åæ„Åà                   | „Å™„Åã„Åø                                   |\n|--------------------------|------------------------------------------|\n| Android„Éê„Éº„Ç∏„Éß„É≥        | 10                                       |\n| Android Studio„Éê„Éº„Ç∏„Éß„É≥ | 3.5                                      |\n| Á´ØÊú´                     | Pixel 3 XL                               |\n| Ë®ÄË™û                     | Kotlin(„Å™„ÅÆ„ÅßfindViewById„Çí‰Ωø„ÅÑ„Åæ„Åõ„Çì„ÄÇ) |\n\n# Êú¨È°å\n„Å§„Åè„Çå„Åü„Çâapp„Éï„Ç©„É´„ÉÄ„Å´ÂÖ•„Å£„Å¶„ÅÑ„Çãbuild.gradle„ÇíÈñã„ÅÑ„Å¶„Éû„ÉÜ„É™„Ç¢„É´„Éá„Ç∂„Ç§„É≥„ÅÆ„É©„Ç§„Éñ„É©„É™„ÇíÂÖ•„Çå„Åæ„Åô„ÄÇ\n\n```gradle\nimplementation 'com.google.android.material:material:1.2.0-alpha01'\n```\n\n# „É°„Éã„É•„ÉºÁî®ÊÑè\n„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´ÂÖ•„Çå„Çã„É°„Éã„É•„Éº„Åß„Åô„Å≠„ÄÇ\n\nres„Éá„Ç£„É¨„ÇØ„Éà„É™„ÇíÂè≥„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\nÂêçÂâç„Çí**menu**„Å´„Åó„Å¶„Å≠„ÄÇ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/b9133c44-8194-94f1-5589-42a9af9c82b2.png)\n\n‰Ωú„Çå„Åü„Çâ**menu**„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Å´**drawer_menu**„Å£„Å¶ÂêçÂâç„Åß‰Ωú„Å£„Å¶„Å≠„ÄÇÔºàÂà•„Å´„Çè„Åã„Çä„ÇÑ„Åô„ÅÑÂêçÂâç„Åå„ÅÇ„Çã„Å™„Çâ„Åù„Çå„Åß„ÇÇ„ÅÑ„ÅÑ„Çà„ÄÇÔºâ\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/9808ba04-4b40-3977-f347-2825b549a126.png)\n\n„Åù„Åó„Åü„Çâ„Åù„ÅÆ**drawer_menu.xml**„ÇíÈñã„ÅÑ„Å¶ÈÅ©ÂΩì„Å´„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ\n„Åå„ÄÅ„Åù„ÅÆÂâç„Å´„Ç¢„Ç§„Ç≥„É≥„ÇíÊåÅ„Å£„Å¶„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\n## „É°„Éã„É•„Éº„Å´Ë°®Á§∫„Åï„Åõ„Çã„Ç¢„Ç§„Ç≥„É≥„ÇíÁî®ÊÑè„Åô„Çã\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/3b1bba2d-037c-fce6-5c14-076de0882370.png)\n\n„Éô„ÇØ„Çø„Éº„Ç¢„Çª„ÉÉ„Éà„Åã„Çâ„ÅäÂ•Ω„Åø„ÅÆÁîªÂÉè„ÇíÊåÅ„Å£„Å¶„Åç„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n‰ªäÂõû„ÅØÈÅ©ÂΩì„Å´„Éâ„É≠„Ç§„ÉâÂêõ„Åß\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/663e99a7-dd18-ebac-6278-d89d331e5035.png)\n\n## „É°„Éã„É•„ÉºÈ†ÖÁõÆËøΩÂä†\n\ndrawer_menu.xml„Å´Êõ∏„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\nitem„ÇíËøΩÂä†„Åô„Çã„Å®„Åç„ÅØtitle(ÂøÖÈ†à)„Å®id(Ë≠òÂà•„Å´‰Ωø„ÅÜ)„ÅØÁµ∂ÂØæÊõ∏„ÅÑ„Å¶„Å≠„ÄÇ„Ç¢„Ç§„Ç≥„É≥„ÅØ„ÅÑ„Çâ„Å™„ÅÑ„Åã„ÇÇ„Å†„Åë„Å©„ÅÇ„Å£„Åü„Åª„ÅÜ„Åå„Çà„Åï„Åí„ÄÇ\n\n```xml:drawer_menu.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<menu xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <group android:checkableBehavior=\"single\">\n        <item android:icon=\"@drawable/ic_android_black_24dp\" android:title=\"Java\" android:id=\"@+id/drawer_menu_java\" />\n        <item android:icon=\"@drawable/ic_android_black_24dp\" android:title=\"Kotlin\" android:id=\"@+id/drawer_menu_kotlin\"/>\n        <item android:icon=\"@drawable/ic_android_black_24dp\" android:title=\"JS\" android:id=\"@+id/drawer_menu_js\"/>\n    </group>\n</menu>\n```\n\n# „É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\n„ÅÑ„Çà„ÅÑ„Çà„É¨„Ç§„Ç¢„Ç¶„Éà„Åß„Åô„Çà„ÄÇ„É¨„Ç§„Ç¢„Ç¶„Éà‰Ωú„Çã„ÅÆÊ•Ω„Åó„ÅÑ„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Hello World!\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" />\n\n</androidx.constraintlayout.widget.ConstraintLayout>\n```\n\n‰Ωï„ÇÇ„Åó„Å¶„ÅÑ„Å™„Åë„Çå„Å∞„Åì„ÅÆ„Åæ„Åæ„Åß„Åô„Å≠„ÄÇ„Åì„Å£„Åã„Çâ„Éâ„É≠„ÉØ„Éº„ÇíËøΩÂä†„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ\n\n„Åì„ÅÜÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Hello World!\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" />\n\n    <com.google.android.material.navigation.NavigationView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/navigation_drawer\"\n        app:menu=\"@menu/drawer_menu\"\n        android:layout_gravity=\"start\"/>\n\n</androidx.drawerlayout.widget.DrawerLayout>\n```\n\n„Åß„Åç„Åü„ÇâÂÆüË°å„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åì„ÅÆÊÆµÈöé„Åß„ÅØ„Åæ„Å†‰Ωï„ÇÇMainActivity.kt„Å´Êâã„Çí‰ªò„Åë„Å¶„Åæ„Åõ„Çì„ÄÇ\nËµ∑ÂãïÂá∫Êù•„Åü„ÇâÁ´Ø„Åã„ÇâÂ∑¶„Å∏„Çπ„ÉØ„Ç§„Éó„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„É°„Éã„É•„Éº„ÅåÂá∫„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![Screenshot_20191107-220921.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/6de175c5-27c9-72da-219c-54a99f8edf25.png)\n\n## Android 10„Åß„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥‰Ωø„Å£„Å¶„Çã„Çì„Åß„Åô„Åë„Å©Èñã„Åë„ÅöÊàª„Çã„Å´„Å™„ÇãÊñπ„Å∏\nÂ∑¶„ÅÆÁ´Ø„Å£„Åì„ÇíÈï∑Êäº„Åó„Åô„Çã„Å®Â∞ë„Åó„Å†„Åë„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅåÂá∫„Å¶„Åè„Çã„ÅÆ„Åß„Åù„ÅÆ„Åæ„Åæ„Çπ„ÉØ„Ç§„Éó„Åô„Çå„Å∞„ÅÑ„ÅÑ„Åß„Åô„ÄÇ\n\n![Screenshot_20191107-220915.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/a6832bae-4805-f378-cf41-f956f2d839d7.png)\n\n„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Å®Áõ∏ÊÄßÊÇ™„ÅÑ„ÄÇ„Ç±„Éº„Çπ„Å®„Åã„Å§„Åë„Å¶„Çã„Å®Èñã„Åè„ÅÆÂ§ßÂ§â„ÄÇ\n\n# „Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Çí„Å§„Åè„Çã\n„Åì„ÅÆÂ∑¶‰∏ä„Å´„ÅÇ„Çã‰∏âÊú¨Á∑ö„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ\n![Screenshot_20191107-225021.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/373a27b9-695b-babc-472a-ee0743d12acc.png)\n\n\n„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„ÅØ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÇíÈñã„Åè‰∏âÊú¨„ÅÆÊ®™Á∑ö„ÅÆ„Åì„Å®„Åß„Åô„ÄÇÊµ∑„ÇíÊ∏°„Çã„Å®„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Å£„Å¶Âëº„Å∞„Çå„Å¶„Çã„Åù„ÅÜ„Åß„Åô„ÄÇ\n\n„Åì„Çå„ÅØÂ∞ë„ÅóÂ§ßÂ§â„Å™„ÅÆ„ÅßÈ†ëÂºµ„Å£„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ\n\n## styles.xml„ÇíÊõ∏„ÅçË∂≥„Åô\n„Åì„Çì„Å™ÊÑü„Åò„Å´\n\n```xml:style.xml\n<resources>\n\n    <!-- „Éâ„É≠„ÉØ„ÉºÁî®„É¨„Ç§„Ç¢„Ç¶„Éà -->\n    <style name=\"DrawerTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\">\n\n        <item name=\"windowActionBar\">false</item>\n        <item name=\"windowNoTitle\">true</item>\n\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\n        <item name=\"colorAccent\">@color/colorAccent</item>\n    </style>\n\n\n</resources>\n```\n\nÂÖÉ„Åã„Çâ„ÅÇ„ÇãAppTheme„ÅØÊ∂à„Åó„Åæ„Åõ„Çì„ÄÇ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÇíÁΩÆ„ÅÑ„Å¶„ÅÑ„ÇãActivity„Åß„ÅÆ„Åø‰Ωø„ÅÜ„Åü„ÇÅ„Åß„Åô„ÄÇ\nActivity„ÇíËøΩÂä†„Åó„Åü„Å®„Åç„ÅÆ„Åü„ÇÅ„Å´AppTheme„ÇíÊÆã„Åó„Å¶„ÅÇ„Çä„Åæ„Åô„ÄÇ\n\n## ManifestÊõ∏„ÅçÊèõ„Åà„Çã\n\nAndroidManifest.xml„ÇíÈñã„ÅÑ„Å¶„Å≠„ÄÇ\nÈñã„Åë„Åü„Çâ‰ª•‰∏ã„ÅÆ‰∏ÄË°å„ÇíÊé¢„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n```xml:AndroidManifest.xml\nandroid:theme=\"@style/AppTheme\"\n```\n\n„Åì„Çå„Çí„Åï„Å£„Åç‰Ωú„Å£„Åü**DrawerTheme**„Å∏Êõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ\n\n```xml:AndroidManifest.xml\nandroid:theme=\"@style/DrawerTheme\"\n```\n\n## „ÉÑ„Éº„É´„Éê„Éº„ÇíË®≠ÁΩÆ\n„ÉÑ„Éº„É´„Éê„Éº„Å£„Å¶„ÅÑ„ÅÜ„ÅÆ„ÅØ„Ç¢„Éó„É™Âêç„ÅåÊõ∏„ÅÑ„Å¶„ÅÇ„Çã‰∏ä„ÅÆ„Éê„Éº„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ\n„ÉÑ„Éº„É´„Éê„Éº„ÅØstyles.xml„ÅßÊ∂à„ÅôË®≠ÂÆö„Å´„Åó„Åü„ÅÆ„Åß„É¨„Ç§„Ç¢„Ç¶„Éà„Å´„ÉÑ„Éº„É´„Éê„Éº„ÇíÁΩÆ„ÅèÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\n\n„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅßÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n        <androidx.appcompat.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"?attr/colorPrimary\"\n            android:minHeight=\"?attr/actionBarSize\"\n            android:theme=\"?attr/actionBarTheme\" />\n    </LinearLayout>\n\n    <com.google.android.material.navigation.NavigationView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/navigation_drawer\"\n        app:menu=\"@menu/drawer_menu\"\n        android:layout_gravity=\"start\"/>\n\n</androidx.drawerlayout.widget.DrawerLayout>\n```\n\nLinearLayout„ÅÆ‰∏≠„Å´Toolbar„ÇíÂÖ•„Çå„Åæ„Åó„Åü„ÄÇ\n\n## Toolbar„Å´„Ç¢„Ç§„Ç≥„É≥„Çí‰ªò„Åë„Çã\n„Çà„ÅÜ„ÇÑ„ÅèKotlin„Åß„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„Åß„Åô„ÄÇ\n„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅßMainActivity.kt„ÇíÈñã„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\n```kotlin:MainActivity.kt\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        //Toolbar„ÇíÁôªÈå≤\n        setSupportActionBar(toolbar)\n\n        //„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÇíÂÆüË£Ö\n        //Á¨¨Ôºî„ÄÅÔºïÂºïÊï∞„ÅØ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„Åß‰Ωø„ÅÜ„Åø„Åü„ÅÑ„ÄÇ\n        val actionBarDrawerToggle = ActionBarDrawerToggle(\n            this, drawer_layout, toolbar, R.string.app_name, R.string.app_name\n        )\n        drawer_layout.addDrawerListener(actionBarDrawerToggle)\n        actionBarDrawerToggle.syncState()\n\n    }\n}\n```\n\nActionBarDrawerToggle()„ÅÆÁ¨¨Ôºî„ÄÅÔºïÂºïÊï∞„ÅØ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„Åß‰Ωø„ÅÜ„Åø„Åü„ÅÑ„Åß„ÅôÔºà„Éâ„Ç≠„É•„É°„É≥„Éà„Å´„Çà„Çã„Å®Ôºâ„ÄÇ\n‰ªäÂõû„ÅØÈÅ©ÂΩì„Å´ÂÖ•„Çå„Åæ„Åó„Åü„ÄÇ\n\nÂá∫Êù•„Åü„ÇâÂÆüË°å„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„ÉºÊäº„Åó„Å¶„ÇÇÈñã„Åè„Åó„ÄÅÁ´Ø„Å£„Åì„Åã„ÇâÂ∑¶„Å∏„Çπ„ÉØ„Ç§„Éó„Åß„ÇÇÈñã„ÅèÔºã„Å†„Çì„Å†„Çì„Ç¢„Ç§„Ç≥„É≥„ÅåÂ§âÂåñ„Åó„Å¶„Åè„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![Screenshot_20191107-224549.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/59b1491b-7923-1ec6-ba3b-a7b4b0318dfd.png)\n\n# „Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã\n„Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã„Å®„É°„Éã„É•„Éº„ÅÆ‰∏ä„Å´‰Ωï„ÅãView„ÇíÁΩÆ„Åè„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ\n‰ªäÂõû„ÅØÈÅ©ÂΩì„Å´ÁîªÂÉè„Åß„ÇÇÁΩÆ„ÅÑ„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ\n![Screenshot_20191107-225843.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/7d06b19b-f2e3-9951-3250-1eaa62883e09.png)\n\n\n## „Éò„ÉÉ„ÉÄ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\nlayout„Éï„Ç©„É´„ÉÄ„Å´**drawer_header_layout.xml**„Åß„É¨„Ç§„Ç¢„Ç¶„Éà„Éï„Ç°„Ç§„É´„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\nÁîªÂÉè„ÅØ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Å´ÂÖ•„Å£„Å¶„Åü„ÇÇ„ÅÆ„Çí‰Ωø„ÅÜ„Åì„Å®„Å´„ÄÇ\n\n```xml:drawer_header_layout.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_margin=\"10sp\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\">\n\n    <ImageView\n        android:id=\"@+id/imageView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:srcCompat=\"@mipmap/ic_launcher_round\" />\n\n    <TextView\n        android:id=\"@+id/textView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center_vertical\"\n        android:layout_weight=\"1\"\n        android:text=\"„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅÆÁ∑¥Áøí„Åß„Åô\" />\n</LinearLayout>\n```\n\n## „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´„Éò„ÉÉ„ÉÄ„Éº„ÇíÂÖ•„Çå„Çã\nactivity_main.xml„ÇíÈñã„ÅÑ„Å¶„ÄÅNavigationView„Å´app:headerLayout„ÅÆÂ±ûÊÄßÔºü„Çí‰ªò„Åë„Åæ„Åô„ÄÇ\n\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n        <androidx.appcompat.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"?attr/colorPrimary\"\n            android:minHeight=\"?attr/actionBarSize\"\n            android:theme=\"?attr/actionBarTheme\" />\n    </LinearLayout>\n\n    <com.google.android.material.navigation.NavigationView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/navigation_drawer\"\n        app:menu=\"@menu/drawer_menu\"\n        app:headerLayout=\"@layout/drawer_header_layout\"\n        android:layout_gravity=\"start\"/>\n\n</androidx.drawerlayout.widget.DrawerLayout>\n```\n\nÂá∫Êù•„Åü„ÇâÂÆüË°å„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n„É°„Éã„É•„Éº„ÅÆ‰∏ä„Å´ÁîªÂÉè„ÅåÂá∫„Å¶„Åè„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\n\n![Screenshot_20191107-225843.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/7d06b19b-f2e3-9951-3250-1eaa62883e09.png)\n\n## „Éò„ÉÉ„ÉÄ„Éº„Çí„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Åæ„ÅßÊΩú„Çå„Å™„ÅÑ„ÅÆÔºü\n„Åß„Åç„Åæ„Åô„ÇàÔΩû\n![Screenshot_20191107-230521.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/208826b5-ecd7-75b1-a41e-8f56ef413b4d.png)\n\nactivity_main.xml„ÇíÈñã„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\nÂ§âÊõ¥ÁÇπ„ÅØDrawerLayout„Å´fitsSystemWindowsÂ±ûÊÄß„Åå„Å§„ÅÑ„ÅüÁÇπ„Åß„Åô„Å≠„ÄÇ    android:fitsSystemWindows=\"true\"„ÇíÊõ∏„ÅçË∂≥„Åô„Åì„Å®„Åß„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Å∏‰æµÁï•„Åß„Åç„Åæ„Åô„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:fitsSystemWindows=\"true\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n        <androidx.appcompat.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"?attr/colorPrimary\"\n            android:minHeight=\"?attr/actionBarSize\"\n            android:theme=\"?attr/actionBarTheme\" />\n    </LinearLayout>\n\n    <com.google.android.material.navigation.NavigationView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/navigation_drawer\"\n        app:menu=\"@menu/drawer_menu\"\n        app:headerLayout=\"@layout/drawer_header_layout\"\n        android:layout_gravity=\"start\"/>\n\n</androidx.drawerlayout.widget.DrawerLayout>\n```\n\n„Åó„Åã„Åó„Åì„ÅÆ„Åæ„Åæ„Å†„Å®„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆËâ≤„ÅÆ„Åõ„ÅÑ„ÅßË¶ã„Åà„Å™„Åè„Å™„Çã„ÅÆ„Åß„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆËâ≤„ÇíÈÄèÊòé„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\nstyles.xml„ÇíÈñã„ÅÑ„Å¶„Éâ„É≠„ÉØ„ÉºÁî®„É¨„Ç§„Ç¢„Ç¶„Éà„Å∏Â±ûÊÄß„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ\n‰Ωï„ÇíËøΩÂä†„Åô„Çã„ÅÆ„Åã„Å£„Å¶Ë©±„Åß„Åô„Ååandroid:statusBarColor„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇÂÄ§„ÅØ```@android:color/transparent```ÔºàÈÄèÊòéÔºâ„Åß„Åô„ÄÇ\n\n\n```xml:styles.xml\n    <!-- „Éâ„É≠„ÉØ„ÉºÁî®„É¨„Ç§„Ç¢„Ç¶„Éà -->\n    <style name=\"DrawerTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\">\n\n        <item name=\"windowActionBar\">false</item>\n        <item name=\"windowNoTitle\">true</item>\n        <item name=\"android:statusBarColor\">@android:color/transparent</item>\n\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\n        <item name=\"colorAccent\">@color/colorAccent</item>\n    </style>\n```\n\n„Åì„Çå„ÅßËµ∑Âãï„Åô„Çå„Å∞„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆËâ≤„ÅåÈÄèÊòé„Å´„Å™„Å£„Å¶Ë¶ã„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ\n![Screenshot_20191107-230521.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/208826b5-ecd7-75b1-a41e-8f56ef413b4d.png)\n\n# „É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç„Å´‰Ωï„Åã„Åó„Åü„ÅÑ\n„Åì„Çì„Å™ÊÑü„Åò„Å´\n\n```kotlin:MainActivity.kt\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        //Toolbar„ÇíÁôªÈå≤\n        setSupportActionBar(toolbar)\n\n        //„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÇíÂÆüË£Ö\n        //Á¨¨Ôºî„ÄÅÔºïÂºïÊï∞„ÅØ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„Åß‰Ωø„ÅÜ„Åø„Åü„ÅÑ„ÄÇ\n        val actionBarDrawerToggle = ActionBarDrawerToggle(\n            this, drawer_layout, toolbar, R.string.app_name, R.string.app_name\n        )\n        drawer_layout.addDrawerListener(actionBarDrawerToggle)\n        actionBarDrawerToggle.syncState()\n\n        //„É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç\n        navigation_drawer.setNavigationItemSelectedListener {\n            when(it.itemId){\n                R.id.drawer_menu_java->{\n                    //javaÊäº„Åó„Åü„Å®„Åç\n                    Snackbar.make(navigation_drawer,\"30ÂÑÑ„ÅÆ„Éá„Éê„Ç§„Çπ„ÅßËµ∞„ÇãJava\",Snackbar.LENGTH_SHORT).show()\n                }\n                R.id.drawer_menu_kotlin->{\n                    //kotlinÊäº„Åó„Åü„Å®„Åç\n                    Snackbar.make(navigation_drawer,\"apply{}‰æøÂà©„Åô„Åé„Çã\",Snackbar.LENGTH_SHORT).show()\n                }\n                R.id.drawer_menu_js->{\n                    //JSÊäº„Åó„Åü„Å®„Åç\n                    Snackbar.make(navigation_drawer,\"undefined\",Snackbar.LENGTH_SHORT).show()\n                }\n            }\n            //Êäº„Åó„Åü„Çâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÇíÈñâ„Åò„Çã\n            drawer_layout.closeDrawer(navigation_drawer)\n            true\n        }\n    }\n}\n```\n\nJava„ÇíÊäº„Åó„Åü„Å®„ÅçSnackbar„Åå„Åß„Å¶„Äå30ÂÑÑ„ÅÆ„Éá„Éê„Ç§„Çπ„ÅßËµ∞„ÇãJava„Äç„Å®Ë°®Á§∫„Åï„Çå„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ„Åä„ÇÅ„Åß„Å®„ÅÜÔºÅ\n\n# ÁµÇ„Çè„Çä„Å´\n„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíÂ∞ë„ÅóÂ§â„Åà„Çå„Å∞„Å∞„Éú„Çø„É≥„Å®„Åã„Åä„Åë„Åæ„Åô„ÄÇ\nË§áÈõë„Å´„Å™„Çä„Åù„ÅÜ„Å†„Åë„Å©„ÄÇ\n\n```xml:activity_main.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:fitsSystemWindows=\"true\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\">\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\">\n\n        <androidx.appcompat.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"?attr/colorPrimary\"\n            android:minHeight=\"?attr/actionBarSize\"\n            android:theme=\"?attr/actionBarTheme\" />\n    </LinearLayout>\n\n    <com.google.android.material.navigation.NavigationView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/navigation_drawer\"\n        android:layout_gravity=\"start\">\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\">\n\n            <ImageView\n                android:id=\"@+id/imageView2\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                app:srcCompat=\"@mipmap/ic_launcher_round\" />\n\n            <Button\n                android:layout_gravity=\"center_vertical\"\n                android:id=\"@+id/button\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"„Éú„Çø„É≥„Å®„Åã„Åä„Åë„Åæ„Åô„ÄÇ\" />\n        </LinearLayout>\n\n    </com.google.android.material.navigation.NavigationView>\n\n</androidx.drawerlayout.widget.DrawerLayout>\n```\n\n![Screenshot_20191107-233906.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/421e765a-99cf-59ba-053c-374c35a3716c.png)\n\n„Åù„Çå„Åã„Çâstyles.xml„ÅÆparent„ÇíTheme.MaterialComponents.Light.DarkActionBar„Å´„Åô„Çã„Å®„É°„Éã„É•„ÉºÈÅ∏ÊäûÊôÇ„ÅåÂ∞ë„ÅóÂ§â„Çè„Çä„Åæ„Åô„ÄÇ\n\n![Screenshot_20191107-234614.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/a1e21809-93b5-06bb-a8db-d7d9864a58e0.png)\n\n\n„Åä„Å§ÔºÅÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºò„ÄÇ\n","slug":"NavigationDrawer","published":1,"date":"2020-04-05T16:27:15.447Z","updated":"2020-04-05T16:40:59.277Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgx000sh8vu25lb0baz","content":"<p>„Å©„ÅÜ„ÇÇ„ÄÇ„Åì„Çì„Å∞„Çì„Çè</p>\n<h1 id=\"„Å™„Å´„Åå„ÅÇ„Å£„Åü„ÅÆ„Åã\"><a href=\"#„Å™„Å´„Åå„ÅÇ„Å£„Åü„ÅÆ„Åã\" class=\"headerlink\" title=\"„Å™„Å´„Åå„ÅÇ„Å£„Åü„ÅÆ„Åã\"></a>„Å™„Å´„Åå„ÅÇ„Å£„Åü„ÅÆ„Åã</h1><figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/05545e12-a4c7-83ae-31b8-7c63a448b994.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>„Åì„ÅÆÁîªÈù¢„Åã„Çâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Çí‰ΩúÊàê„Åô„Çã„Å®Ââç„Å®ÈÅï„Å£„Å¶„ÇÅ„Å£„Å°„ÇÉ„Éï„Ç©„É´„ÉÄ„Éª„Éï„Ç°„Ç§„É´„Åå‰ΩúÊàê„Åï„Çå„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇ„Å©„ÇÜ„Åì„Å®</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/1d14c929-e9e5-6c41-90a6-47a5044c4241.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n\n<p>„Åó„Åã„ÇÇbuild.gradle„Å´Êõ∏„ÅçË∂≥„Åï„Å™„ÅÑ„Å®„Ç®„É©„Éº„ÅåÂá∫„Çã„Å£„Å¶„Å™„Çì„Å†„Çà„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6. Please specify proper &#39;-jvm-target&#39; option</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„ÅÆ„Ç®„É©„Éº„ÅØapp„Éï„Ç©„É´„ÉÄ„Å´„ÅÇ„Çã„Åª„ÅÜ„ÅÆ<code>build.gradle</code>„ÇíÈñã„ÅÑ„Å¶„ÄÅandroid{}„ÅÆÊ≥¢„Åã„Å£„Åì„ÅÆ‰∏≠„Å´‰ª•‰∏ã„ÅÆÊñá„ÇíÊõ∏„ÅçË∂≥„Åô„Åì„Å®„ÅßÂãï„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">compileOptions &#123;</span><br><span class=\"line\">    <span class=\"keyword\">sourceCompatibility</span> = <span class=\"number\">1.8</span></span><br><span class=\"line\">    <span class=\"keyword\">targetCompatibility</span> = <span class=\"number\">1.8</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">kotlinOptions &#123;</span><br><span class=\"line\">    jvmTarget = <span class=\"string\">\"1.8\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Å®„ÅÑ„ÅÜ„Åì„Å®„Åß‰ªäÂõû„ÅØÁ©∫„ÅÆÁä∂ÊÖã„Åã„Çâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Çí‰Ωú„Å£„Å¶„ÅÑ„Åì„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ<br>ViewModel„Å™„Çì„Å¶Ëß¶„Å£„Åü„Åì„Å®„Å™„ÅÑ„ÅÆ„Åß‚Ä¶</p>\n<h1 id=\"Áí∞Â¢É\"><a href=\"#Áí∞Â¢É\" class=\"headerlink\" title=\"Áí∞Â¢É\"></a>Áí∞Â¢É</h1><table>\n<thead>\n<tr>\n<th>„Å™„Åæ„Åà</th>\n<th>„Å™„Åã„Åø</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Android„Éê„Éº„Ç∏„Éß„É≥</td>\n<td>10</td>\n</tr>\n<tr>\n<td>Android Studio„Éê„Éº„Ç∏„Éß„É≥</td>\n<td>3.5</td>\n</tr>\n<tr>\n<td>Á´ØÊú´</td>\n<td>Pixel 3 XL</td>\n</tr>\n<tr>\n<td>Ë®ÄË™û</td>\n<td>Kotlin(„Å™„ÅÆ„ÅßfindViewById„Çí‰Ωø„ÅÑ„Åæ„Åõ„Çì„ÄÇ)</td>\n</tr>\n</tbody></table>\n<h1 id=\"Êú¨È°å\"><a href=\"#Êú¨È°å\" class=\"headerlink\" title=\"Êú¨È°å\"></a>Êú¨È°å</h1><p>„Å§„Åè„Çå„Åü„Çâapp„Éï„Ç©„É´„ÉÄ„Å´ÂÖ•„Å£„Å¶„ÅÑ„Çãbuild.gradle„ÇíÈñã„ÅÑ„Å¶„Éû„ÉÜ„É™„Ç¢„É´„Éá„Ç∂„Ç§„É≥„ÅÆ„É©„Ç§„Éñ„É©„É™„ÇíÂÖ•„Çå„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">implementation <span class=\"string\">'com.google.android.material:material:1.2.0-alpha01'</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"„É°„Éã„É•„ÉºÁî®ÊÑè\"><a href=\"#„É°„Éã„É•„ÉºÁî®ÊÑè\" class=\"headerlink\" title=\"„É°„Éã„É•„ÉºÁî®ÊÑè\"></a>„É°„Éã„É•„ÉºÁî®ÊÑè</h1><p>„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´ÂÖ•„Çå„Çã„É°„Éã„É•„Éº„Åß„Åô„Å≠„ÄÇ</p>\n<p>res„Éá„Ç£„É¨„ÇØ„Éà„É™„ÇíÂè≥„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>ÂêçÂâç„Çí<strong>menu</strong>„Å´„Åó„Å¶„Å≠„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/b9133c44-8194-94f1-5589-42a9af9c82b2.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>‰Ωú„Çå„Åü„Çâ<strong>menu</strong>„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Å´<strong>drawer_menu</strong>„Å£„Å¶ÂêçÂâç„Åß‰Ωú„Å£„Å¶„Å≠„ÄÇÔºàÂà•„Å´„Çè„Åã„Çä„ÇÑ„Åô„ÅÑÂêçÂâç„Åå„ÅÇ„Çã„Å™„Çâ„Åù„Çå„Åß„ÇÇ„ÅÑ„ÅÑ„Çà„ÄÇÔºâ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/9808ba04-4b40-3977-f347-2825b549a126.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>„Åù„Åó„Åü„Çâ„Åù„ÅÆ<strong>drawer_menu.xml</strong>„ÇíÈñã„ÅÑ„Å¶ÈÅ©ÂΩì„Å´„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ<br>„Åå„ÄÅ„Åù„ÅÆÂâç„Å´„Ç¢„Ç§„Ç≥„É≥„ÇíÊåÅ„Å£„Å¶„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<h2 id=\"„É°„Éã„É•„Éº„Å´Ë°®Á§∫„Åï„Åõ„Çã„Ç¢„Ç§„Ç≥„É≥„ÇíÁî®ÊÑè„Åô„Çã\"><a href=\"#„É°„Éã„É•„Éº„Å´Ë°®Á§∫„Åï„Åõ„Çã„Ç¢„Ç§„Ç≥„É≥„ÇíÁî®ÊÑè„Åô„Çã\" class=\"headerlink\" title=\"„É°„Éã„É•„Éº„Å´Ë°®Á§∫„Åï„Åõ„Çã„Ç¢„Ç§„Ç≥„É≥„ÇíÁî®ÊÑè„Åô„Çã\"></a>„É°„Éã„É•„Éº„Å´Ë°®Á§∫„Åï„Åõ„Çã„Ç¢„Ç§„Ç≥„É≥„ÇíÁî®ÊÑè„Åô„Çã</h2><figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/3b1bba2d-037c-fce6-5c14-076de0882370.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>„Éô„ÇØ„Çø„Éº„Ç¢„Çª„ÉÉ„Éà„Åã„Çâ„ÅäÂ•Ω„Åø„ÅÆÁîªÂÉè„ÇíÊåÅ„Å£„Å¶„Åç„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>‰ªäÂõû„ÅØÈÅ©ÂΩì„Å´„Éâ„É≠„Ç§„ÉâÂêõ„Åß</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/663e99a7-dd18-ebac-6278-d89d331e5035.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<h2 id=\"„É°„Éã„É•„ÉºÈ†ÖÁõÆËøΩÂä†\"><a href=\"#„É°„Éã„É•„ÉºÈ†ÖÁõÆËøΩÂä†\" class=\"headerlink\" title=\"„É°„Éã„É•„ÉºÈ†ÖÁõÆËøΩÂä†\"></a>„É°„Éã„É•„ÉºÈ†ÖÁõÆËøΩÂä†</h2><p>drawer_menu.xml„Å´Êõ∏„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>item„ÇíËøΩÂä†„Åô„Çã„Å®„Åç„ÅØtitle(ÂøÖÈ†à)„Å®id(Ë≠òÂà•„Å´‰Ωø„ÅÜ)„ÅØÁµ∂ÂØæÊõ∏„ÅÑ„Å¶„Å≠„ÄÇ„Ç¢„Ç§„Ç≥„É≥„ÅØ„ÅÑ„Çâ„Å™„ÅÑ„Åã„ÇÇ„Å†„Åë„Å©„ÅÇ„Å£„Åü„Åª„ÅÜ„Åå„Çà„Åï„Åí„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;menu xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;&gt;</span><br><span class=\"line\">    &lt;group android:checkableBehavior&#x3D;&quot;single&quot;&gt;</span><br><span class=\"line\">        &lt;item android:icon&#x3D;&quot;@drawable&#x2F;ic_android_black_24dp&quot; android:title&#x3D;&quot;Java&quot; android:id&#x3D;&quot;@+id&#x2F;drawer_menu_java&quot; &#x2F;&gt;</span><br><span class=\"line\">        &lt;item android:icon&#x3D;&quot;@drawable&#x2F;ic_android_black_24dp&quot; android:title&#x3D;&quot;Kotlin&quot; android:id&#x3D;&quot;@+id&#x2F;drawer_menu_kotlin&quot;&#x2F;&gt;</span><br><span class=\"line\">        &lt;item android:icon&#x3D;&quot;@drawable&#x2F;ic_android_black_24dp&quot; android:title&#x3D;&quot;JS&quot; android:id&#x3D;&quot;@+id&#x2F;drawer_menu_js&quot;&#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;group&gt;</span><br><span class=\"line\">&lt;&#x2F;menu&gt;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\"><a href=\"#„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\" class=\"headerlink\" title=\"„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\"></a>„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê</h1><p>„ÅÑ„Çà„ÅÑ„Çà„É¨„Ç§„Ç¢„Ç¶„Éà„Åß„Åô„Çà„ÄÇ„É¨„Ç§„Ç¢„Ç¶„Éà‰Ωú„Çã„ÅÆÊ•Ω„Åó„ÅÑ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;TextView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:text&#x3D;&quot;Hello World!&quot;</span><br><span class=\"line\">        app:layout_constraintBottom_toBottomOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintLeft_toLeftOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintRight_toRightOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintTop_toTopOf&#x3D;&quot;parent&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.constraintlayout.widget.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<p>‰Ωï„ÇÇ„Åó„Å¶„ÅÑ„Å™„Åë„Çå„Å∞„Åì„ÅÆ„Åæ„Åæ„Åß„Åô„Å≠„ÄÇ„Åì„Å£„Åã„Çâ„Éâ„É≠„ÉØ„Éº„ÇíËøΩÂä†„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ</p>\n<p>„Åì„ÅÜÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;TextView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:text&#x3D;&quot;Hello World!&quot;</span><br><span class=\"line\">        app:layout_constraintBottom_toBottomOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintLeft_toLeftOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintRight_toRightOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintTop_toTopOf&#x3D;&quot;parent&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;com.google.android.material.navigation.NavigationView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;navigation_drawer&quot;</span><br><span class=\"line\">        app:menu&#x3D;&quot;@menu&#x2F;drawer_menu&quot;</span><br><span class=\"line\">        android:layout_gravity&#x3D;&quot;start&quot;&#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.drawerlayout.widget.DrawerLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<p>„Åß„Åç„Åü„ÇâÂÆüË°å„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åì„ÅÆÊÆµÈöé„Åß„ÅØ„Åæ„Å†‰Ωï„ÇÇMainActivity.kt„Å´Êâã„Çí‰ªò„Åë„Å¶„Åæ„Åõ„Çì„ÄÇ<br>Ëµ∑ÂãïÂá∫Êù•„Åü„ÇâÁ´Ø„Åã„ÇâÂ∑¶„Å∏„Çπ„ÉØ„Ç§„Éó„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„É°„Éã„É•„Éº„ÅåÂá∫„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/6de175c5-27c9-72da-219c-54a99f8edf25.png\" alt=\"Screenshot_20191107-220921.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-220921.png</div>\n            </figure>\n\n<h2 id=\"Android-10„Åß„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥‰Ωø„Å£„Å¶„Çã„Çì„Åß„Åô„Åë„Å©Èñã„Åë„ÅöÊàª„Çã„Å´„Å™„ÇãÊñπ„Å∏\"><a href=\"#Android-10„Åß„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥‰Ωø„Å£„Å¶„Çã„Çì„Åß„Åô„Åë„Å©Èñã„Åë„ÅöÊàª„Çã„Å´„Å™„ÇãÊñπ„Å∏\" class=\"headerlink\" title=\"Android 10„Åß„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥‰Ωø„Å£„Å¶„Çã„Çì„Åß„Åô„Åë„Å©Èñã„Åë„ÅöÊàª„Çã„Å´„Å™„ÇãÊñπ„Å∏\"></a>Android 10„Åß„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥‰Ωø„Å£„Å¶„Çã„Çì„Åß„Åô„Åë„Å©Èñã„Åë„ÅöÊàª„Çã„Å´„Å™„ÇãÊñπ„Å∏</h2><p>Â∑¶„ÅÆÁ´Ø„Å£„Åì„ÇíÈï∑Êäº„Åó„Åô„Çã„Å®Â∞ë„Åó„Å†„Åë„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅåÂá∫„Å¶„Åè„Çã„ÅÆ„Åß„Åù„ÅÆ„Åæ„Åæ„Çπ„ÉØ„Ç§„Éó„Åô„Çå„Å∞„ÅÑ„ÅÑ„Åß„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/a6832bae-4805-f378-cf41-f956f2d839d7.png\" alt=\"Screenshot_20191107-220915.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-220915.png</div>\n            </figure>\n\n<p>„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Å®Áõ∏ÊÄßÊÇ™„ÅÑ„ÄÇ„Ç±„Éº„Çπ„Å®„Åã„Å§„Åë„Å¶„Çã„Å®Èñã„Åè„ÅÆÂ§ßÂ§â„ÄÇ</p>\n<h1 id=\"„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Çí„Å§„Åè„Çã\"><a href=\"#„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Çí„Å§„Åè„Çã\" class=\"headerlink\" title=\"„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Çí„Å§„Åè„Çã\"></a>„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Çí„Å§„Åè„Çã</h1><p>„Åì„ÅÆÂ∑¶‰∏ä„Å´„ÅÇ„Çã‰∏âÊú¨Á∑ö„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/373a27b9-695b-babc-472a-ee0743d12acc.png\" alt=\"Screenshot_20191107-225021.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-225021.png</div>\n            </figure>\n\n\n<p>„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„ÅØ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÇíÈñã„Åè‰∏âÊú¨„ÅÆÊ®™Á∑ö„ÅÆ„Åì„Å®„Åß„Åô„ÄÇÊµ∑„ÇíÊ∏°„Çã„Å®„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Å£„Å¶Âëº„Å∞„Çå„Å¶„Çã„Åù„ÅÜ„Åß„Åô„ÄÇ</p>\n<p>„Åì„Çå„ÅØÂ∞ë„ÅóÂ§ßÂ§â„Å™„ÅÆ„ÅßÈ†ëÂºµ„Å£„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<h2 id=\"styles-xml„ÇíÊõ∏„ÅçË∂≥„Åô\"><a href=\"#styles-xml„ÇíÊõ∏„ÅçË∂≥„Åô\" class=\"headerlink\" title=\"styles.xml„ÇíÊõ∏„ÅçË∂≥„Åô\"></a>styles.xml„ÇíÊõ∏„ÅçË∂≥„Åô</h2><p>„Åì„Çì„Å™ÊÑü„Åò„Å´</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;resources&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!-- „Éâ„É≠„ÉØ„ÉºÁî®„É¨„Ç§„Ç¢„Ç¶„Éà --&gt;</span><br><span class=\"line\">    &lt;style name&#x3D;&quot;DrawerTheme&quot; parent&#x3D;&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;item name&#x3D;&quot;windowActionBar&quot;&gt;false&lt;&#x2F;item&gt;</span><br><span class=\"line\">        &lt;item name&#x3D;&quot;windowNoTitle&quot;&gt;true&lt;&#x2F;item&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;item name&#x3D;&quot;colorPrimary&quot;&gt;@color&#x2F;colorPrimary&lt;&#x2F;item&gt;</span><br><span class=\"line\">        &lt;item name&#x3D;&quot;colorPrimaryDark&quot;&gt;@color&#x2F;colorPrimaryDark&lt;&#x2F;item&gt;</span><br><span class=\"line\">        &lt;item name&#x3D;&quot;colorAccent&quot;&gt;@color&#x2F;colorAccent&lt;&#x2F;item&gt;</span><br><span class=\"line\">    &lt;&#x2F;style&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;resources&gt;</span><br></pre></td></tr></table></figure>\n\n<p>ÂÖÉ„Åã„Çâ„ÅÇ„ÇãAppTheme„ÅØÊ∂à„Åó„Åæ„Åõ„Çì„ÄÇ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÇíÁΩÆ„ÅÑ„Å¶„ÅÑ„ÇãActivity„Åß„ÅÆ„Åø‰Ωø„ÅÜ„Åü„ÇÅ„Åß„Åô„ÄÇ<br>Activity„ÇíËøΩÂä†„Åó„Åü„Å®„Åç„ÅÆ„Åü„ÇÅ„Å´AppTheme„ÇíÊÆã„Åó„Å¶„ÅÇ„Çä„Åæ„Åô„ÄÇ</p>\n<h2 id=\"ManifestÊõ∏„ÅçÊèõ„Åà„Çã\"><a href=\"#ManifestÊõ∏„ÅçÊèõ„Åà„Çã\" class=\"headerlink\" title=\"ManifestÊõ∏„ÅçÊèõ„Åà„Çã\"></a>ManifestÊõ∏„ÅçÊèõ„Åà„Çã</h2><p>AndroidManifest.xml„ÇíÈñã„ÅÑ„Å¶„Å≠„ÄÇ<br>Èñã„Åë„Åü„Çâ‰ª•‰∏ã„ÅÆ‰∏ÄË°å„ÇíÊé¢„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android:theme&#x3D;&quot;@style&#x2F;AppTheme&quot;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„Çí„Åï„Å£„Åç‰Ωú„Å£„Åü<strong>DrawerTheme</strong>„Å∏Êõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android:theme&#x3D;&quot;@style&#x2F;DrawerTheme&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"„ÉÑ„Éº„É´„Éê„Éº„ÇíË®≠ÁΩÆ\"><a href=\"#„ÉÑ„Éº„É´„Éê„Éº„ÇíË®≠ÁΩÆ\" class=\"headerlink\" title=\"„ÉÑ„Éº„É´„Éê„Éº„ÇíË®≠ÁΩÆ\"></a>„ÉÑ„Éº„É´„Éê„Éº„ÇíË®≠ÁΩÆ</h2><p>„ÉÑ„Éº„É´„Éê„Éº„Å£„Å¶„ÅÑ„ÅÜ„ÅÆ„ÅØ„Ç¢„Éó„É™Âêç„ÅåÊõ∏„ÅÑ„Å¶„ÅÇ„Çã‰∏ä„ÅÆ„Éê„Éº„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ<br>„ÉÑ„Éº„É´„Éê„Éº„ÅØstyles.xml„ÅßÊ∂à„ÅôË®≠ÂÆö„Å´„Åó„Åü„ÅÆ„Åß„É¨„Ç§„Ç¢„Ç¶„Éà„Å´„ÉÑ„Éº„É´„Éê„Éº„ÇíÁΩÆ„ÅèÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ</p>\n<p>„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅßÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:id&#x3D;&quot;@+id&#x2F;drawer_layout&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;LinearLayout</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;androidx.appcompat.widget.Toolbar</span><br><span class=\"line\">            android:id&#x3D;&quot;@+id&#x2F;toolbar&quot;</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:background&#x3D;&quot;?attr&#x2F;colorPrimary&quot;</span><br><span class=\"line\">            android:minHeight&#x3D;&quot;?attr&#x2F;actionBarSize&quot;</span><br><span class=\"line\">            android:theme&#x3D;&quot;?attr&#x2F;actionBarTheme&quot; &#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;LinearLayout&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;com.google.android.material.navigation.NavigationView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;navigation_drawer&quot;</span><br><span class=\"line\">        app:menu&#x3D;&quot;@menu&#x2F;drawer_menu&quot;</span><br><span class=\"line\">        android:layout_gravity&#x3D;&quot;start&quot;&#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.drawerlayout.widget.DrawerLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<p>LinearLayout„ÅÆ‰∏≠„Å´Toolbar„ÇíÂÖ•„Çå„Åæ„Åó„Åü„ÄÇ</p>\n<h2 id=\"Toolbar„Å´„Ç¢„Ç§„Ç≥„É≥„Çí‰ªò„Åë„Çã\"><a href=\"#Toolbar„Å´„Ç¢„Ç§„Ç≥„É≥„Çí‰ªò„Åë„Çã\" class=\"headerlink\" title=\"Toolbar„Å´„Ç¢„Ç§„Ç≥„É≥„Çí‰ªò„Åë„Çã\"></a>Toolbar„Å´„Ç¢„Ç§„Ç≥„É≥„Çí‰ªò„Åë„Çã</h2><p>„Çà„ÅÜ„ÇÑ„ÅèKotlin„Åß„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„Åß„Åô„ÄÇ<br>„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅßMainActivity.kt„ÇíÈñã„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class MainActivity : AppCompatActivity() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class=\"line\">        super.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;Toolbar„ÇíÁôªÈå≤</span><br><span class=\"line\">        setSupportActionBar(toolbar)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÇíÂÆüË£Ö</span><br><span class=\"line\">        &#x2F;&#x2F;Á¨¨Ôºî„ÄÅÔºïÂºïÊï∞„ÅØ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„Åß‰Ωø„ÅÜ„Åø„Åü„ÅÑ„ÄÇ</span><br><span class=\"line\">        val actionBarDrawerToggle &#x3D; ActionBarDrawerToggle(</span><br><span class=\"line\">            this, drawer_layout, toolbar, R.string.app_name, R.string.app_name</span><br><span class=\"line\">        )</span><br><span class=\"line\">        drawer_layout.addDrawerListener(actionBarDrawerToggle)</span><br><span class=\"line\">        actionBarDrawerToggle.syncState()</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ActionBarDrawerToggle()„ÅÆÁ¨¨Ôºî„ÄÅÔºïÂºïÊï∞„ÅØ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„Åß‰Ωø„ÅÜ„Åø„Åü„ÅÑ„Åß„ÅôÔºà„Éâ„Ç≠„É•„É°„É≥„Éà„Å´„Çà„Çã„Å®Ôºâ„ÄÇ<br>‰ªäÂõû„ÅØÈÅ©ÂΩì„Å´ÂÖ•„Çå„Åæ„Åó„Åü„ÄÇ</p>\n<p>Âá∫Êù•„Åü„ÇâÂÆüË°å„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„ÉºÊäº„Åó„Å¶„ÇÇÈñã„Åè„Åó„ÄÅÁ´Ø„Å£„Åì„Åã„ÇâÂ∑¶„Å∏„Çπ„ÉØ„Ç§„Éó„Åß„ÇÇÈñã„ÅèÔºã„Å†„Çì„Å†„Çì„Ç¢„Ç§„Ç≥„É≥„ÅåÂ§âÂåñ„Åó„Å¶„Åè„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/59b1491b-7923-1ec6-ba3b-a7b4b0318dfd.png\" alt=\"Screenshot_20191107-224549.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-224549.png</div>\n            </figure>\n\n<h1 id=\"„Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã\"><a href=\"#„Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã\" class=\"headerlink\" title=\"„Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã\"></a>„Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã</h1><p>„Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã„Å®„É°„Éã„É•„Éº„ÅÆ‰∏ä„Å´‰Ωï„ÅãView„ÇíÁΩÆ„Åè„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ<br>‰ªäÂõû„ÅØÈÅ©ÂΩì„Å´ÁîªÂÉè„Åß„ÇÇÁΩÆ„ÅÑ„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/7d06b19b-f2e3-9951-3250-1eaa62883e09.png\" alt=\"Screenshot_20191107-225843.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-225843.png</div>\n            </figure>\n\n\n<h2 id=\"„Éò„ÉÉ„ÉÄ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\"><a href=\"#„Éò„ÉÉ„ÉÄ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\" class=\"headerlink\" title=\"„Éò„ÉÉ„ÉÄ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\"></a>„Éò„ÉÉ„ÉÄ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê</h2><p>layout„Éï„Ç©„É´„ÉÄ„Å´<strong>drawer_header_layout.xml</strong>„Åß„É¨„Ç§„Ç¢„Ç¶„Éà„Éï„Ç°„Ç§„É´„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>ÁîªÂÉè„ÅØ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Å´ÂÖ•„Å£„Å¶„Åü„ÇÇ„ÅÆ„Çí‰Ωø„ÅÜ„Åì„Å®„Å´„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    android:layout_margin&#x3D;&quot;10sp&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;wrap_content&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;ImageView</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;imageView&quot;</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        app:srcCompat&#x3D;&quot;@mipmap&#x2F;ic_launcher_round&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;TextView</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;textView&quot;</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_gravity&#x3D;&quot;center_vertical&quot;</span><br><span class=\"line\">        android:layout_weight&#x3D;&quot;1&quot;</span><br><span class=\"line\">        android:text&#x3D;&quot;„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅÆÁ∑¥Áøí„Åß„Åô&quot; &#x2F;&gt;</span><br><span class=\"line\">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´„Éò„ÉÉ„ÉÄ„Éº„ÇíÂÖ•„Çå„Çã\"><a href=\"#„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´„Éò„ÉÉ„ÉÄ„Éº„ÇíÂÖ•„Çå„Çã\" class=\"headerlink\" title=\"„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´„Éò„ÉÉ„ÉÄ„Éº„ÇíÂÖ•„Çå„Çã\"></a>„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´„Éò„ÉÉ„ÉÄ„Éº„ÇíÂÖ•„Çå„Çã</h2><p>activity_main.xml„ÇíÈñã„ÅÑ„Å¶„ÄÅNavigationView„Å´app:headerLayout„ÅÆÂ±ûÊÄßÔºü„Çí‰ªò„Åë„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:id&#x3D;&quot;@+id&#x2F;drawer_layout&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;LinearLayout</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;androidx.appcompat.widget.Toolbar</span><br><span class=\"line\">            android:id&#x3D;&quot;@+id&#x2F;toolbar&quot;</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:background&#x3D;&quot;?attr&#x2F;colorPrimary&quot;</span><br><span class=\"line\">            android:minHeight&#x3D;&quot;?attr&#x2F;actionBarSize&quot;</span><br><span class=\"line\">            android:theme&#x3D;&quot;?attr&#x2F;actionBarTheme&quot; &#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;LinearLayout&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;com.google.android.material.navigation.NavigationView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;navigation_drawer&quot;</span><br><span class=\"line\">        app:menu&#x3D;&quot;@menu&#x2F;drawer_menu&quot;</span><br><span class=\"line\">        app:headerLayout&#x3D;&quot;@layout&#x2F;drawer_header_layout&quot;</span><br><span class=\"line\">        android:layout_gravity&#x3D;&quot;start&quot;&#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.drawerlayout.widget.DrawerLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<p>Âá∫Êù•„Åü„ÇâÂÆüË°å„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>„É°„Éã„É•„Éº„ÅÆ‰∏ä„Å´ÁîªÂÉè„ÅåÂá∫„Å¶„Åè„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/7d06b19b-f2e3-9951-3250-1eaa62883e09.png\" alt=\"Screenshot_20191107-225843.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-225843.png</div>\n            </figure>\n\n<h2 id=\"„Éò„ÉÉ„ÉÄ„Éº„Çí„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Åæ„ÅßÊΩú„Çå„Å™„ÅÑ„ÅÆÔºü\"><a href=\"#„Éò„ÉÉ„ÉÄ„Éº„Çí„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Åæ„ÅßÊΩú„Çå„Å™„ÅÑ„ÅÆÔºü\" class=\"headerlink\" title=\"„Éò„ÉÉ„ÉÄ„Éº„Çí„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Åæ„ÅßÊΩú„Çå„Å™„ÅÑ„ÅÆÔºü\"></a>„Éò„ÉÉ„ÉÄ„Éº„Çí„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Åæ„ÅßÊΩú„Çå„Å™„ÅÑ„ÅÆÔºü</h2><p>„Åß„Åç„Åæ„Åô„ÇàÔΩû</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/208826b5-ecd7-75b1-a41e-8f56ef413b4d.png\" alt=\"Screenshot_20191107-230521.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-230521.png</div>\n            </figure>\n\n<p>activity_main.xml„ÇíÈñã„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>Â§âÊõ¥ÁÇπ„ÅØDrawerLayout„Å´fitsSystemWindowsÂ±ûÊÄß„Åå„Å§„ÅÑ„ÅüÁÇπ„Åß„Åô„Å≠„ÄÇ    android:fitsSystemWindows=‚Äùtrue‚Äù„ÇíÊõ∏„ÅçË∂≥„Åô„Åì„Å®„Åß„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Å∏‰æµÁï•„Åß„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:id&#x3D;&quot;@+id&#x2F;drawer_layout&quot;</span><br><span class=\"line\">    android:fitsSystemWindows&#x3D;&quot;true&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;LinearLayout</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;androidx.appcompat.widget.Toolbar</span><br><span class=\"line\">            android:id&#x3D;&quot;@+id&#x2F;toolbar&quot;</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:background&#x3D;&quot;?attr&#x2F;colorPrimary&quot;</span><br><span class=\"line\">            android:minHeight&#x3D;&quot;?attr&#x2F;actionBarSize&quot;</span><br><span class=\"line\">            android:theme&#x3D;&quot;?attr&#x2F;actionBarTheme&quot; &#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;LinearLayout&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;com.google.android.material.navigation.NavigationView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;navigation_drawer&quot;</span><br><span class=\"line\">        app:menu&#x3D;&quot;@menu&#x2F;drawer_menu&quot;</span><br><span class=\"line\">        app:headerLayout&#x3D;&quot;@layout&#x2F;drawer_header_layout&quot;</span><br><span class=\"line\">        android:layout_gravity&#x3D;&quot;start&quot;&#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.drawerlayout.widget.DrawerLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<p>„Åó„Åã„Åó„Åì„ÅÆ„Åæ„Åæ„Å†„Å®„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆËâ≤„ÅÆ„Åõ„ÅÑ„ÅßË¶ã„Åà„Å™„Åè„Å™„Çã„ÅÆ„Åß„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆËâ≤„ÇíÈÄèÊòé„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ<br>styles.xml„ÇíÈñã„ÅÑ„Å¶„Éâ„É≠„ÉØ„ÉºÁî®„É¨„Ç§„Ç¢„Ç¶„Éà„Å∏Â±ûÊÄß„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ<br>‰Ωï„ÇíËøΩÂä†„Åô„Çã„ÅÆ„Åã„Å£„Å¶Ë©±„Åß„Åô„Ååandroid:statusBarColor„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇÂÄ§„ÅØ<code>@android:color/transparent</code>ÔºàÈÄèÊòéÔºâ„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- „Éâ„É≠„ÉØ„ÉºÁî®„É¨„Ç§„Ç¢„Ç¶„Éà --&gt;</span><br><span class=\"line\">&lt;style name&#x3D;&quot;DrawerTheme&quot; parent&#x3D;&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;item name&#x3D;&quot;windowActionBar&quot;&gt;false&lt;&#x2F;item&gt;</span><br><span class=\"line\">    &lt;item name&#x3D;&quot;windowNoTitle&quot;&gt;true&lt;&#x2F;item&gt;</span><br><span class=\"line\">    &lt;item name&#x3D;&quot;android:statusBarColor&quot;&gt;@android:color&#x2F;transparent&lt;&#x2F;item&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;item name&#x3D;&quot;colorPrimary&quot;&gt;@color&#x2F;colorPrimary&lt;&#x2F;item&gt;</span><br><span class=\"line\">    &lt;item name&#x3D;&quot;colorPrimaryDark&quot;&gt;@color&#x2F;colorPrimaryDark&lt;&#x2F;item&gt;</span><br><span class=\"line\">    &lt;item name&#x3D;&quot;colorAccent&quot;&gt;@color&#x2F;colorAccent&lt;&#x2F;item&gt;</span><br><span class=\"line\">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßËµ∑Âãï„Åô„Çå„Å∞„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆËâ≤„ÅåÈÄèÊòé„Å´„Å™„Å£„Å¶Ë¶ã„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/208826b5-ecd7-75b1-a41e-8f56ef413b4d.png\" alt=\"Screenshot_20191107-230521.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-230521.png</div>\n            </figure>\n\n<h1 id=\"„É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç„Å´‰Ωï„Åã„Åó„Åü„ÅÑ\"><a href=\"#„É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç„Å´‰Ωï„Åã„Åó„Åü„ÅÑ\" class=\"headerlink\" title=\"„É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç„Å´‰Ωï„Åã„Åó„Åü„ÅÑ\"></a>„É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç„Å´‰Ωï„Åã„Åó„Åü„ÅÑ</h1><p>„Åì„Çì„Å™ÊÑü„Åò„Å´</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class MainActivity : AppCompatActivity() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class=\"line\">        super.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;Toolbar„ÇíÁôªÈå≤</span><br><span class=\"line\">        setSupportActionBar(toolbar)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÇíÂÆüË£Ö</span><br><span class=\"line\">        &#x2F;&#x2F;Á¨¨Ôºî„ÄÅÔºïÂºïÊï∞„ÅØ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„Åß‰Ωø„ÅÜ„Åø„Åü„ÅÑ„ÄÇ</span><br><span class=\"line\">        val actionBarDrawerToggle &#x3D; ActionBarDrawerToggle(</span><br><span class=\"line\">            this, drawer_layout, toolbar, R.string.app_name, R.string.app_name</span><br><span class=\"line\">        )</span><br><span class=\"line\">        drawer_layout.addDrawerListener(actionBarDrawerToggle)</span><br><span class=\"line\">        actionBarDrawerToggle.syncState()</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;„É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç</span><br><span class=\"line\">        navigation_drawer.setNavigationItemSelectedListener &#123;</span><br><span class=\"line\">            when(it.itemId)&#123;</span><br><span class=\"line\">                R.id.drawer_menu_java-&gt;&#123;</span><br><span class=\"line\">                    &#x2F;&#x2F;javaÊäº„Åó„Åü„Å®„Åç</span><br><span class=\"line\">                    Snackbar.make(navigation_drawer,&quot;30ÂÑÑ„ÅÆ„Éá„Éê„Ç§„Çπ„ÅßËµ∞„ÇãJava&quot;,Snackbar.LENGTH_SHORT).show()</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                R.id.drawer_menu_kotlin-&gt;&#123;</span><br><span class=\"line\">                    &#x2F;&#x2F;kotlinÊäº„Åó„Åü„Å®„Åç</span><br><span class=\"line\">                    Snackbar.make(navigation_drawer,&quot;apply&#123;&#125;‰æøÂà©„Åô„Åé„Çã&quot;,Snackbar.LENGTH_SHORT).show()</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                R.id.drawer_menu_js-&gt;&#123;</span><br><span class=\"line\">                    &#x2F;&#x2F;JSÊäº„Åó„Åü„Å®„Åç</span><br><span class=\"line\">                    Snackbar.make(navigation_drawer,&quot;undefined&quot;,Snackbar.LENGTH_SHORT).show()</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            &#x2F;&#x2F;Êäº„Åó„Åü„Çâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÇíÈñâ„Åò„Çã</span><br><span class=\"line\">            drawer_layout.closeDrawer(navigation_drawer)</span><br><span class=\"line\">            true</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Java„ÇíÊäº„Åó„Åü„Å®„ÅçSnackbar„Åå„Åß„Å¶„Äå30ÂÑÑ„ÅÆ„Éá„Éê„Ç§„Çπ„ÅßËµ∞„ÇãJava„Äç„Å®Ë°®Á§∫„Åï„Çå„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ„Åä„ÇÅ„Åß„Å®„ÅÜÔºÅ</p>\n<h1 id=\"ÁµÇ„Çè„Çä„Å´\"><a href=\"#ÁµÇ„Çè„Çä„Å´\" class=\"headerlink\" title=\"ÁµÇ„Çè„Çä„Å´\"></a>ÁµÇ„Çè„Çä„Å´</h1><p>„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíÂ∞ë„ÅóÂ§â„Åà„Çå„Å∞„Å∞„Éú„Çø„É≥„Å®„Åã„Åä„Åë„Åæ„Åô„ÄÇ<br>Ë§áÈõë„Å´„Å™„Çä„Åù„ÅÜ„Å†„Åë„Å©„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:id&#x3D;&quot;@+id&#x2F;drawer_layout&quot;</span><br><span class=\"line\">    android:fitsSystemWindows&#x3D;&quot;true&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;LinearLayout</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;androidx.appcompat.widget.Toolbar</span><br><span class=\"line\">            android:id&#x3D;&quot;@+id&#x2F;toolbar&quot;</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:background&#x3D;&quot;?attr&#x2F;colorPrimary&quot;</span><br><span class=\"line\">            android:minHeight&#x3D;&quot;?attr&#x2F;actionBarSize&quot;</span><br><span class=\"line\">            android:theme&#x3D;&quot;?attr&#x2F;actionBarTheme&quot; &#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;LinearLayout&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;com.google.android.material.navigation.NavigationView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;navigation_drawer&quot;</span><br><span class=\"line\">        android:layout_gravity&#x3D;&quot;start&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;LinearLayout</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">            &lt;ImageView</span><br><span class=\"line\">                android:id&#x3D;&quot;@+id&#x2F;imageView2&quot;</span><br><span class=\"line\">                android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">                android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">                app:srcCompat&#x3D;&quot;@mipmap&#x2F;ic_launcher_round&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">            &lt;Button</span><br><span class=\"line\">                android:layout_gravity&#x3D;&quot;center_vertical&quot;</span><br><span class=\"line\">                android:id&#x3D;&quot;@+id&#x2F;button&quot;</span><br><span class=\"line\">                android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">                android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">                android:text&#x3D;&quot;„Éú„Çø„É≥„Å®„Åã„Åä„Åë„Åæ„Åô„ÄÇ&quot; &#x2F;&gt;</span><br><span class=\"line\">        &lt;&#x2F;LinearLayout&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;&#x2F;com.google.android.material.navigation.NavigationView&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.drawerlayout.widget.DrawerLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/421e765a-99cf-59ba-053c-374c35a3716c.png\" alt=\"Screenshot_20191107-233906.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-233906.png</div>\n            </figure>\n\n<p>„Åù„Çå„Åã„Çâstyles.xml„ÅÆparent„ÇíTheme.MaterialComponents.Light.DarkActionBar„Å´„Åô„Çã„Å®„É°„Éã„É•„ÉºÈÅ∏ÊäûÊôÇ„ÅåÂ∞ë„ÅóÂ§â„Çè„Çä„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/a1e21809-93b5-06bb-a8db-d7d9864a58e0.png\" alt=\"Screenshot_20191107-234614.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-234614.png</div>\n            </figure>\n\n\n<p>„Åä„Å§ÔºÅÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºò„ÄÇ</p>\n","site":{"data":{}},"excerpt":"","more":"<p>„Å©„ÅÜ„ÇÇ„ÄÇ„Åì„Çì„Å∞„Çì„Çè</p>\n<h1 id=\"„Å™„Å´„Åå„ÅÇ„Å£„Åü„ÅÆ„Åã\"><a href=\"#„Å™„Å´„Åå„ÅÇ„Å£„Åü„ÅÆ„Åã\" class=\"headerlink\" title=\"„Å™„Å´„Åå„ÅÇ„Å£„Åü„ÅÆ„Åã\"></a>„Å™„Å´„Åå„ÅÇ„Å£„Åü„ÅÆ„Åã</h1><figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/05545e12-a4c7-83ae-31b8-7c63a448b994.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>„Åì„ÅÆÁîªÈù¢„Åã„Çâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Çí‰ΩúÊàê„Åô„Çã„Å®Ââç„Å®ÈÅï„Å£„Å¶„ÇÅ„Å£„Å°„ÇÉ„Éï„Ç©„É´„ÉÄ„Éª„Éï„Ç°„Ç§„É´„Åå‰ΩúÊàê„Åï„Çå„Çã„Çà„ÅÜ„Å´„Å™„Å£„Åü„ÄÇ„Å©„ÇÜ„Åì„Å®</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/1d14c929-e9e5-6c41-90a6-47a5044c4241.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n\n<p>„Åó„Åã„ÇÇbuild.gradle„Å´Êõ∏„ÅçË∂≥„Åï„Å™„ÅÑ„Å®„Ç®„É©„Éº„ÅåÂá∫„Çã„Å£„Å¶„Å™„Çì„Å†„Çà„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6. Please specify proper &#39;-jvm-target&#39; option</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„ÅÆ„Ç®„É©„Éº„ÅØapp„Éï„Ç©„É´„ÉÄ„Å´„ÅÇ„Çã„Åª„ÅÜ„ÅÆ<code>build.gradle</code>„ÇíÈñã„ÅÑ„Å¶„ÄÅandroid{}„ÅÆÊ≥¢„Åã„Å£„Åì„ÅÆ‰∏≠„Å´‰ª•‰∏ã„ÅÆÊñá„ÇíÊõ∏„ÅçË∂≥„Åô„Åì„Å®„ÅßÂãï„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">compileOptions &#123;</span><br><span class=\"line\">    <span class=\"keyword\">sourceCompatibility</span> = <span class=\"number\">1.8</span></span><br><span class=\"line\">    <span class=\"keyword\">targetCompatibility</span> = <span class=\"number\">1.8</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">kotlinOptions &#123;</span><br><span class=\"line\">    jvmTarget = <span class=\"string\">\"1.8\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>„Å®„ÅÑ„ÅÜ„Åì„Å®„Åß‰ªäÂõû„ÅØÁ©∫„ÅÆÁä∂ÊÖã„Åã„Çâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Çí‰Ωú„Å£„Å¶„ÅÑ„Åì„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ<br>ViewModel„Å™„Çì„Å¶Ëß¶„Å£„Åü„Åì„Å®„Å™„ÅÑ„ÅÆ„Åß‚Ä¶</p>\n<h1 id=\"Áí∞Â¢É\"><a href=\"#Áí∞Â¢É\" class=\"headerlink\" title=\"Áí∞Â¢É\"></a>Áí∞Â¢É</h1><table>\n<thead>\n<tr>\n<th>„Å™„Åæ„Åà</th>\n<th>„Å™„Åã„Åø</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Android„Éê„Éº„Ç∏„Éß„É≥</td>\n<td>10</td>\n</tr>\n<tr>\n<td>Android Studio„Éê„Éº„Ç∏„Éß„É≥</td>\n<td>3.5</td>\n</tr>\n<tr>\n<td>Á´ØÊú´</td>\n<td>Pixel 3 XL</td>\n</tr>\n<tr>\n<td>Ë®ÄË™û</td>\n<td>Kotlin(„Å™„ÅÆ„ÅßfindViewById„Çí‰Ωø„ÅÑ„Åæ„Åõ„Çì„ÄÇ)</td>\n</tr>\n</tbody></table>\n<h1 id=\"Êú¨È°å\"><a href=\"#Êú¨È°å\" class=\"headerlink\" title=\"Êú¨È°å\"></a>Êú¨È°å</h1><p>„Å§„Åè„Çå„Åü„Çâapp„Éï„Ç©„É´„ÉÄ„Å´ÂÖ•„Å£„Å¶„ÅÑ„Çãbuild.gradle„ÇíÈñã„ÅÑ„Å¶„Éû„ÉÜ„É™„Ç¢„É´„Éá„Ç∂„Ç§„É≥„ÅÆ„É©„Ç§„Éñ„É©„É™„ÇíÂÖ•„Çå„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">implementation <span class=\"string\">'com.google.android.material:material:1.2.0-alpha01'</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"„É°„Éã„É•„ÉºÁî®ÊÑè\"><a href=\"#„É°„Éã„É•„ÉºÁî®ÊÑè\" class=\"headerlink\" title=\"„É°„Éã„É•„ÉºÁî®ÊÑè\"></a>„É°„Éã„É•„ÉºÁî®ÊÑè</h1><p>„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´ÂÖ•„Çå„Çã„É°„Éã„É•„Éº„Åß„Åô„Å≠„ÄÇ</p>\n<p>res„Éá„Ç£„É¨„ÇØ„Éà„É™„ÇíÂè≥„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>ÂêçÂâç„Çí<strong>menu</strong>„Å´„Åó„Å¶„Å≠„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/b9133c44-8194-94f1-5589-42a9af9c82b2.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>‰Ωú„Çå„Åü„Çâ<strong>menu</strong>„Éï„Ç©„É´„ÉÄ„ÅÆ‰∏≠„Å´<strong>drawer_menu</strong>„Å£„Å¶ÂêçÂâç„Åß‰Ωú„Å£„Å¶„Å≠„ÄÇÔºàÂà•„Å´„Çè„Åã„Çä„ÇÑ„Åô„ÅÑÂêçÂâç„Åå„ÅÇ„Çã„Å™„Çâ„Åù„Çå„Åß„ÇÇ„ÅÑ„ÅÑ„Çà„ÄÇÔºâ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/9808ba04-4b40-3977-f347-2825b549a126.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>„Åù„Åó„Åü„Çâ„Åù„ÅÆ<strong>drawer_menu.xml</strong>„ÇíÈñã„ÅÑ„Å¶ÈÅ©ÂΩì„Å´„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åó„Åæ„Åô„ÄÇ<br>„Åå„ÄÅ„Åù„ÅÆÂâç„Å´„Ç¢„Ç§„Ç≥„É≥„ÇíÊåÅ„Å£„Å¶„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<h2 id=\"„É°„Éã„É•„Éº„Å´Ë°®Á§∫„Åï„Åõ„Çã„Ç¢„Ç§„Ç≥„É≥„ÇíÁî®ÊÑè„Åô„Çã\"><a href=\"#„É°„Éã„É•„Éº„Å´Ë°®Á§∫„Åï„Åõ„Çã„Ç¢„Ç§„Ç≥„É≥„ÇíÁî®ÊÑè„Åô„Çã\" class=\"headerlink\" title=\"„É°„Éã„É•„Éº„Å´Ë°®Á§∫„Åï„Åõ„Çã„Ç¢„Ç§„Ç≥„É≥„ÇíÁî®ÊÑè„Åô„Çã\"></a>„É°„Éã„É•„Éº„Å´Ë°®Á§∫„Åï„Åõ„Çã„Ç¢„Ç§„Ç≥„É≥„ÇíÁî®ÊÑè„Åô„Çã</h2><figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/3b1bba2d-037c-fce6-5c14-076de0882370.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<p>„Éô„ÇØ„Çø„Éº„Ç¢„Çª„ÉÉ„Éà„Åã„Çâ„ÅäÂ•Ω„Åø„ÅÆÁîªÂÉè„ÇíÊåÅ„Å£„Å¶„Åç„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>‰ªäÂõû„ÅØÈÅ©ÂΩì„Å´„Éâ„É≠„Ç§„ÉâÂêõ„Åß</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/663e99a7-dd18-ebac-6278-d89d331e5035.png\" alt=\"image.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">image.png</div>\n            </figure>\n\n<h2 id=\"„É°„Éã„É•„ÉºÈ†ÖÁõÆËøΩÂä†\"><a href=\"#„É°„Éã„É•„ÉºÈ†ÖÁõÆËøΩÂä†\" class=\"headerlink\" title=\"„É°„Éã„É•„ÉºÈ†ÖÁõÆËøΩÂä†\"></a>„É°„Éã„É•„ÉºÈ†ÖÁõÆËøΩÂä†</h2><p>drawer_menu.xml„Å´Êõ∏„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>item„ÇíËøΩÂä†„Åô„Çã„Å®„Åç„ÅØtitle(ÂøÖÈ†à)„Å®id(Ë≠òÂà•„Å´‰Ωø„ÅÜ)„ÅØÁµ∂ÂØæÊõ∏„ÅÑ„Å¶„Å≠„ÄÇ„Ç¢„Ç§„Ç≥„É≥„ÅØ„ÅÑ„Çâ„Å™„ÅÑ„Åã„ÇÇ„Å†„Åë„Å©„ÅÇ„Å£„Åü„Åª„ÅÜ„Åå„Çà„Åï„Åí„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;menu xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;&gt;</span><br><span class=\"line\">    &lt;group android:checkableBehavior&#x3D;&quot;single&quot;&gt;</span><br><span class=\"line\">        &lt;item android:icon&#x3D;&quot;@drawable&#x2F;ic_android_black_24dp&quot; android:title&#x3D;&quot;Java&quot; android:id&#x3D;&quot;@+id&#x2F;drawer_menu_java&quot; &#x2F;&gt;</span><br><span class=\"line\">        &lt;item android:icon&#x3D;&quot;@drawable&#x2F;ic_android_black_24dp&quot; android:title&#x3D;&quot;Kotlin&quot; android:id&#x3D;&quot;@+id&#x2F;drawer_menu_kotlin&quot;&#x2F;&gt;</span><br><span class=\"line\">        &lt;item android:icon&#x3D;&quot;@drawable&#x2F;ic_android_black_24dp&quot; android:title&#x3D;&quot;JS&quot; android:id&#x3D;&quot;@+id&#x2F;drawer_menu_js&quot;&#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;group&gt;</span><br><span class=\"line\">&lt;&#x2F;menu&gt;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\"><a href=\"#„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\" class=\"headerlink\" title=\"„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\"></a>„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê</h1><p>„ÅÑ„Çà„ÅÑ„Çà„É¨„Ç§„Ç¢„Ç¶„Éà„Åß„Åô„Çà„ÄÇ„É¨„Ç§„Ç¢„Ç¶„Éà‰Ωú„Çã„ÅÆÊ•Ω„Åó„ÅÑ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;TextView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:text&#x3D;&quot;Hello World!&quot;</span><br><span class=\"line\">        app:layout_constraintBottom_toBottomOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintLeft_toLeftOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintRight_toRightOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintTop_toTopOf&#x3D;&quot;parent&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.constraintlayout.widget.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<p>‰Ωï„ÇÇ„Åó„Å¶„ÅÑ„Å™„Åë„Çå„Å∞„Åì„ÅÆ„Åæ„Åæ„Åß„Åô„Å≠„ÄÇ„Åì„Å£„Åã„Çâ„Éâ„É≠„ÉØ„Éº„ÇíËøΩÂä†„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ</p>\n<p>„Åì„ÅÜÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;TextView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:text&#x3D;&quot;Hello World!&quot;</span><br><span class=\"line\">        app:layout_constraintBottom_toBottomOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintLeft_toLeftOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintRight_toRightOf&#x3D;&quot;parent&quot;</span><br><span class=\"line\">        app:layout_constraintTop_toTopOf&#x3D;&quot;parent&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;com.google.android.material.navigation.NavigationView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;navigation_drawer&quot;</span><br><span class=\"line\">        app:menu&#x3D;&quot;@menu&#x2F;drawer_menu&quot;</span><br><span class=\"line\">        android:layout_gravity&#x3D;&quot;start&quot;&#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.drawerlayout.widget.DrawerLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<p>„Åß„Åç„Åü„ÇâÂÆüË°å„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„Åì„ÅÆÊÆµÈöé„Åß„ÅØ„Åæ„Å†‰Ωï„ÇÇMainActivity.kt„Å´Êâã„Çí‰ªò„Åë„Å¶„Åæ„Åõ„Çì„ÄÇ<br>Ëµ∑ÂãïÂá∫Êù•„Åü„ÇâÁ´Ø„Åã„ÇâÂ∑¶„Å∏„Çπ„ÉØ„Ç§„Éó„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ„É°„Éã„É•„Éº„ÅåÂá∫„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/6de175c5-27c9-72da-219c-54a99f8edf25.png\" alt=\"Screenshot_20191107-220921.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-220921.png</div>\n            </figure>\n\n<h2 id=\"Android-10„Åß„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥‰Ωø„Å£„Å¶„Çã„Çì„Åß„Åô„Åë„Å©Èñã„Åë„ÅöÊàª„Çã„Å´„Å™„ÇãÊñπ„Å∏\"><a href=\"#Android-10„Åß„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥‰Ωø„Å£„Å¶„Çã„Çì„Åß„Åô„Åë„Å©Èñã„Åë„ÅöÊàª„Çã„Å´„Å™„ÇãÊñπ„Å∏\" class=\"headerlink\" title=\"Android 10„Åß„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥‰Ωø„Å£„Å¶„Çã„Çì„Åß„Åô„Åë„Å©Èñã„Åë„ÅöÊàª„Çã„Å´„Å™„ÇãÊñπ„Å∏\"></a>Android 10„Åß„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥‰Ωø„Å£„Å¶„Çã„Çì„Åß„Åô„Åë„Å©Èñã„Åë„ÅöÊàª„Çã„Å´„Å™„ÇãÊñπ„Å∏</h2><p>Â∑¶„ÅÆÁ´Ø„Å£„Åì„ÇíÈï∑Êäº„Åó„Åô„Çã„Å®Â∞ë„Åó„Å†„Åë„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅåÂá∫„Å¶„Åè„Çã„ÅÆ„Åß„Åù„ÅÆ„Åæ„Åæ„Çπ„ÉØ„Ç§„Éó„Åô„Çå„Å∞„ÅÑ„ÅÑ„Åß„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/a6832bae-4805-f378-cf41-f956f2d839d7.png\" alt=\"Screenshot_20191107-220915.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-220915.png</div>\n            </figure>\n\n<p>„Ç∏„Çß„Çπ„ÉÅ„É£„Éº„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Å®Áõ∏ÊÄßÊÇ™„ÅÑ„ÄÇ„Ç±„Éº„Çπ„Å®„Åã„Å§„Åë„Å¶„Çã„Å®Èñã„Åè„ÅÆÂ§ßÂ§â„ÄÇ</p>\n<h1 id=\"„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Çí„Å§„Åè„Çã\"><a href=\"#„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Çí„Å§„Åè„Çã\" class=\"headerlink\" title=\"„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Çí„Å§„Åè„Çã\"></a>„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Çí„Å§„Åè„Çã</h1><p>„Åì„ÅÆÂ∑¶‰∏ä„Å´„ÅÇ„Çã‰∏âÊú¨Á∑ö„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/373a27b9-695b-babc-472a-ee0743d12acc.png\" alt=\"Screenshot_20191107-225021.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-225021.png</div>\n            </figure>\n\n\n<p>„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„ÅØ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÇíÈñã„Åè‰∏âÊú¨„ÅÆÊ®™Á∑ö„ÅÆ„Åì„Å®„Åß„Åô„ÄÇÊµ∑„ÇíÊ∏°„Çã„Å®„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„Å£„Å¶Âëº„Å∞„Çå„Å¶„Çã„Åù„ÅÜ„Åß„Åô„ÄÇ</p>\n<p>„Åì„Çå„ÅØÂ∞ë„ÅóÂ§ßÂ§â„Å™„ÅÆ„ÅßÈ†ëÂºµ„Å£„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<h2 id=\"styles-xml„ÇíÊõ∏„ÅçË∂≥„Åô\"><a href=\"#styles-xml„ÇíÊõ∏„ÅçË∂≥„Åô\" class=\"headerlink\" title=\"styles.xml„ÇíÊõ∏„ÅçË∂≥„Åô\"></a>styles.xml„ÇíÊõ∏„ÅçË∂≥„Åô</h2><p>„Åì„Çì„Å™ÊÑü„Åò„Å´</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;resources&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!-- „Éâ„É≠„ÉØ„ÉºÁî®„É¨„Ç§„Ç¢„Ç¶„Éà --&gt;</span><br><span class=\"line\">    &lt;style name&#x3D;&quot;DrawerTheme&quot; parent&#x3D;&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;item name&#x3D;&quot;windowActionBar&quot;&gt;false&lt;&#x2F;item&gt;</span><br><span class=\"line\">        &lt;item name&#x3D;&quot;windowNoTitle&quot;&gt;true&lt;&#x2F;item&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;item name&#x3D;&quot;colorPrimary&quot;&gt;@color&#x2F;colorPrimary&lt;&#x2F;item&gt;</span><br><span class=\"line\">        &lt;item name&#x3D;&quot;colorPrimaryDark&quot;&gt;@color&#x2F;colorPrimaryDark&lt;&#x2F;item&gt;</span><br><span class=\"line\">        &lt;item name&#x3D;&quot;colorAccent&quot;&gt;@color&#x2F;colorAccent&lt;&#x2F;item&gt;</span><br><span class=\"line\">    &lt;&#x2F;style&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;resources&gt;</span><br></pre></td></tr></table></figure>\n\n<p>ÂÖÉ„Åã„Çâ„ÅÇ„ÇãAppTheme„ÅØÊ∂à„Åó„Åæ„Åõ„Çì„ÄÇ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÇíÁΩÆ„ÅÑ„Å¶„ÅÑ„ÇãActivity„Åß„ÅÆ„Åø‰Ωø„ÅÜ„Åü„ÇÅ„Åß„Åô„ÄÇ<br>Activity„ÇíËøΩÂä†„Åó„Åü„Å®„Åç„ÅÆ„Åü„ÇÅ„Å´AppTheme„ÇíÊÆã„Åó„Å¶„ÅÇ„Çä„Åæ„Åô„ÄÇ</p>\n<h2 id=\"ManifestÊõ∏„ÅçÊèõ„Åà„Çã\"><a href=\"#ManifestÊõ∏„ÅçÊèõ„Åà„Çã\" class=\"headerlink\" title=\"ManifestÊõ∏„ÅçÊèõ„Åà„Çã\"></a>ManifestÊõ∏„ÅçÊèõ„Åà„Çã</h2><p>AndroidManifest.xml„ÇíÈñã„ÅÑ„Å¶„Å≠„ÄÇ<br>Èñã„Åë„Åü„Çâ‰ª•‰∏ã„ÅÆ‰∏ÄË°å„ÇíÊé¢„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android:theme&#x3D;&quot;@style&#x2F;AppTheme&quot;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„Çí„Åï„Å£„Åç‰Ωú„Å£„Åü<strong>DrawerTheme</strong>„Å∏Êõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android:theme&#x3D;&quot;@style&#x2F;DrawerTheme&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"„ÉÑ„Éº„É´„Éê„Éº„ÇíË®≠ÁΩÆ\"><a href=\"#„ÉÑ„Éº„É´„Éê„Éº„ÇíË®≠ÁΩÆ\" class=\"headerlink\" title=\"„ÉÑ„Éº„É´„Éê„Éº„ÇíË®≠ÁΩÆ\"></a>„ÉÑ„Éº„É´„Éê„Éº„ÇíË®≠ÁΩÆ</h2><p>„ÉÑ„Éº„É´„Éê„Éº„Å£„Å¶„ÅÑ„ÅÜ„ÅÆ„ÅØ„Ç¢„Éó„É™Âêç„ÅåÊõ∏„ÅÑ„Å¶„ÅÇ„Çã‰∏ä„ÅÆ„Éê„Éº„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ<br>„ÉÑ„Éº„É´„Éê„Éº„ÅØstyles.xml„ÅßÊ∂à„ÅôË®≠ÂÆö„Å´„Åó„Åü„ÅÆ„Åß„É¨„Ç§„Ç¢„Ç¶„Éà„Å´„ÉÑ„Éº„É´„Éê„Éº„ÇíÁΩÆ„ÅèÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ</p>\n<p>„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅßÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:id&#x3D;&quot;@+id&#x2F;drawer_layout&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;LinearLayout</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;androidx.appcompat.widget.Toolbar</span><br><span class=\"line\">            android:id&#x3D;&quot;@+id&#x2F;toolbar&quot;</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:background&#x3D;&quot;?attr&#x2F;colorPrimary&quot;</span><br><span class=\"line\">            android:minHeight&#x3D;&quot;?attr&#x2F;actionBarSize&quot;</span><br><span class=\"line\">            android:theme&#x3D;&quot;?attr&#x2F;actionBarTheme&quot; &#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;LinearLayout&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;com.google.android.material.navigation.NavigationView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;navigation_drawer&quot;</span><br><span class=\"line\">        app:menu&#x3D;&quot;@menu&#x2F;drawer_menu&quot;</span><br><span class=\"line\">        android:layout_gravity&#x3D;&quot;start&quot;&#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.drawerlayout.widget.DrawerLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<p>LinearLayout„ÅÆ‰∏≠„Å´Toolbar„ÇíÂÖ•„Çå„Åæ„Åó„Åü„ÄÇ</p>\n<h2 id=\"Toolbar„Å´„Ç¢„Ç§„Ç≥„É≥„Çí‰ªò„Åë„Çã\"><a href=\"#Toolbar„Å´„Ç¢„Ç§„Ç≥„É≥„Çí‰ªò„Åë„Çã\" class=\"headerlink\" title=\"Toolbar„Å´„Ç¢„Ç§„Ç≥„É≥„Çí‰ªò„Åë„Çã\"></a>Toolbar„Å´„Ç¢„Ç§„Ç≥„É≥„Çí‰ªò„Åë„Çã</h2><p>„Çà„ÅÜ„ÇÑ„ÅèKotlin„Åß„Ç≥„Éº„Éá„Ç£„É≥„Ç∞„Åß„Åô„ÄÇ<br>„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅßMainActivity.kt„ÇíÈñã„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class MainActivity : AppCompatActivity() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class=\"line\">        super.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;Toolbar„ÇíÁôªÈå≤</span><br><span class=\"line\">        setSupportActionBar(toolbar)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÇíÂÆüË£Ö</span><br><span class=\"line\">        &#x2F;&#x2F;Á¨¨Ôºî„ÄÅÔºïÂºïÊï∞„ÅØ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„Åß‰Ωø„ÅÜ„Åø„Åü„ÅÑ„ÄÇ</span><br><span class=\"line\">        val actionBarDrawerToggle &#x3D; ActionBarDrawerToggle(</span><br><span class=\"line\">            this, drawer_layout, toolbar, R.string.app_name, R.string.app_name</span><br><span class=\"line\">        )</span><br><span class=\"line\">        drawer_layout.addDrawerListener(actionBarDrawerToggle)</span><br><span class=\"line\">        actionBarDrawerToggle.syncState()</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ActionBarDrawerToggle()„ÅÆÁ¨¨Ôºî„ÄÅÔºïÂºïÊï∞„ÅØ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„Åß‰Ωø„ÅÜ„Åø„Åü„ÅÑ„Åß„ÅôÔºà„Éâ„Ç≠„É•„É°„É≥„Éà„Å´„Çà„Çã„Å®Ôºâ„ÄÇ<br>‰ªäÂõû„ÅØÈÅ©ÂΩì„Å´ÂÖ•„Çå„Åæ„Åó„Åü„ÄÇ</p>\n<p>Âá∫Êù•„Åü„ÇâÂÆüË°å„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„ÉºÊäº„Åó„Å¶„ÇÇÈñã„Åè„Åó„ÄÅÁ´Ø„Å£„Åì„Åã„ÇâÂ∑¶„Å∏„Çπ„ÉØ„Ç§„Éó„Åß„ÇÇÈñã„ÅèÔºã„Å†„Çì„Å†„Çì„Ç¢„Ç§„Ç≥„É≥„ÅåÂ§âÂåñ„Åó„Å¶„Åè„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/59b1491b-7923-1ec6-ba3b-a7b4b0318dfd.png\" alt=\"Screenshot_20191107-224549.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-224549.png</div>\n            </figure>\n\n<h1 id=\"„Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã\"><a href=\"#„Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã\" class=\"headerlink\" title=\"„Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã\"></a>„Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã</h1><p>„Éò„ÉÉ„ÉÄ„Éº„Çí‰ªò„Åë„Çã„Å®„É°„Éã„É•„Éº„ÅÆ‰∏ä„Å´‰Ωï„ÅãView„ÇíÁΩÆ„Åè„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ<br>‰ªäÂõû„ÅØÈÅ©ÂΩì„Å´ÁîªÂÉè„Åß„ÇÇÁΩÆ„ÅÑ„Å¶„Åø„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/7d06b19b-f2e3-9951-3250-1eaa62883e09.png\" alt=\"Screenshot_20191107-225843.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-225843.png</div>\n            </figure>\n\n\n<h2 id=\"„Éò„ÉÉ„ÉÄ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\"><a href=\"#„Éò„ÉÉ„ÉÄ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\" class=\"headerlink\" title=\"„Éò„ÉÉ„ÉÄ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê\"></a>„Éò„ÉÉ„ÉÄ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê</h2><p>layout„Éï„Ç©„É´„ÉÄ„Å´<strong>drawer_header_layout.xml</strong>„Åß„É¨„Ç§„Ç¢„Ç¶„Éà„Éï„Ç°„Ç§„É´„Çí‰ΩúÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>ÁîªÂÉè„ÅØ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Å´ÂÖ•„Å£„Å¶„Åü„ÇÇ„ÅÆ„Çí‰Ωø„ÅÜ„Åì„Å®„Å´„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    android:layout_margin&#x3D;&quot;10sp&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;wrap_content&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;ImageView</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;imageView&quot;</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        app:srcCompat&#x3D;&quot;@mipmap&#x2F;ic_launcher_round&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;TextView</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;textView&quot;</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_gravity&#x3D;&quot;center_vertical&quot;</span><br><span class=\"line\">        android:layout_weight&#x3D;&quot;1&quot;</span><br><span class=\"line\">        android:text&#x3D;&quot;„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅÆÁ∑¥Áøí„Åß„Åô&quot; &#x2F;&gt;</span><br><span class=\"line\">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´„Éò„ÉÉ„ÉÄ„Éº„ÇíÂÖ•„Çå„Çã\"><a href=\"#„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´„Éò„ÉÉ„ÉÄ„Éº„ÇíÂÖ•„Çå„Çã\" class=\"headerlink\" title=\"„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´„Éò„ÉÉ„ÉÄ„Éº„ÇíÂÖ•„Çå„Çã\"></a>„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„Å´„Éò„ÉÉ„ÉÄ„Éº„ÇíÂÖ•„Çå„Çã</h2><p>activity_main.xml„ÇíÈñã„ÅÑ„Å¶„ÄÅNavigationView„Å´app:headerLayout„ÅÆÂ±ûÊÄßÔºü„Çí‰ªò„Åë„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:id&#x3D;&quot;@+id&#x2F;drawer_layout&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;LinearLayout</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;androidx.appcompat.widget.Toolbar</span><br><span class=\"line\">            android:id&#x3D;&quot;@+id&#x2F;toolbar&quot;</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:background&#x3D;&quot;?attr&#x2F;colorPrimary&quot;</span><br><span class=\"line\">            android:minHeight&#x3D;&quot;?attr&#x2F;actionBarSize&quot;</span><br><span class=\"line\">            android:theme&#x3D;&quot;?attr&#x2F;actionBarTheme&quot; &#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;LinearLayout&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;com.google.android.material.navigation.NavigationView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;navigation_drawer&quot;</span><br><span class=\"line\">        app:menu&#x3D;&quot;@menu&#x2F;drawer_menu&quot;</span><br><span class=\"line\">        app:headerLayout&#x3D;&quot;@layout&#x2F;drawer_header_layout&quot;</span><br><span class=\"line\">        android:layout_gravity&#x3D;&quot;start&quot;&#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.drawerlayout.widget.DrawerLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<p>Âá∫Êù•„Åü„ÇâÂÆüË°å„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>„É°„Éã„É•„Éº„ÅÆ‰∏ä„Å´ÁîªÂÉè„ÅåÂá∫„Å¶„Åè„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/7d06b19b-f2e3-9951-3250-1eaa62883e09.png\" alt=\"Screenshot_20191107-225843.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-225843.png</div>\n            </figure>\n\n<h2 id=\"„Éò„ÉÉ„ÉÄ„Éº„Çí„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Åæ„ÅßÊΩú„Çå„Å™„ÅÑ„ÅÆÔºü\"><a href=\"#„Éò„ÉÉ„ÉÄ„Éº„Çí„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Åæ„ÅßÊΩú„Çå„Å™„ÅÑ„ÅÆÔºü\" class=\"headerlink\" title=\"„Éò„ÉÉ„ÉÄ„Éº„Çí„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Åæ„ÅßÊΩú„Çå„Å™„ÅÑ„ÅÆÔºü\"></a>„Éò„ÉÉ„ÉÄ„Éº„Çí„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Åæ„ÅßÊΩú„Çå„Å™„ÅÑ„ÅÆÔºü</h2><p>„Åß„Åç„Åæ„Åô„ÇàÔΩû</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/208826b5-ecd7-75b1-a41e-8f56ef413b4d.png\" alt=\"Screenshot_20191107-230521.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-230521.png</div>\n            </figure>\n\n<p>activity_main.xml„ÇíÈñã„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>Â§âÊõ¥ÁÇπ„ÅØDrawerLayout„Å´fitsSystemWindowsÂ±ûÊÄß„Åå„Å§„ÅÑ„ÅüÁÇπ„Åß„Åô„Å≠„ÄÇ    android:fitsSystemWindows=‚Äùtrue‚Äù„ÇíÊõ∏„ÅçË∂≥„Åô„Åì„Å®„Åß„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆ‰∏ã„Å∏‰æµÁï•„Åß„Åç„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:id&#x3D;&quot;@+id&#x2F;drawer_layout&quot;</span><br><span class=\"line\">    android:fitsSystemWindows&#x3D;&quot;true&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;LinearLayout</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;androidx.appcompat.widget.Toolbar</span><br><span class=\"line\">            android:id&#x3D;&quot;@+id&#x2F;toolbar&quot;</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:background&#x3D;&quot;?attr&#x2F;colorPrimary&quot;</span><br><span class=\"line\">            android:minHeight&#x3D;&quot;?attr&#x2F;actionBarSize&quot;</span><br><span class=\"line\">            android:theme&#x3D;&quot;?attr&#x2F;actionBarTheme&quot; &#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;LinearLayout&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;com.google.android.material.navigation.NavigationView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;navigation_drawer&quot;</span><br><span class=\"line\">        app:menu&#x3D;&quot;@menu&#x2F;drawer_menu&quot;</span><br><span class=\"line\">        app:headerLayout&#x3D;&quot;@layout&#x2F;drawer_header_layout&quot;</span><br><span class=\"line\">        android:layout_gravity&#x3D;&quot;start&quot;&#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.drawerlayout.widget.DrawerLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<p>„Åó„Åã„Åó„Åì„ÅÆ„Åæ„Åæ„Å†„Å®„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆËâ≤„ÅÆ„Åõ„ÅÑ„ÅßË¶ã„Åà„Å™„Åè„Å™„Çã„ÅÆ„Åß„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆËâ≤„ÇíÈÄèÊòé„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ<br>styles.xml„ÇíÈñã„ÅÑ„Å¶„Éâ„É≠„ÉØ„ÉºÁî®„É¨„Ç§„Ç¢„Ç¶„Éà„Å∏Â±ûÊÄß„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇ<br>‰Ωï„ÇíËøΩÂä†„Åô„Çã„ÅÆ„Åã„Å£„Å¶Ë©±„Åß„Åô„Ååandroid:statusBarColor„ÇíËøΩÂä†„Åó„Åæ„Åô„ÄÇÂÄ§„ÅØ<code>@android:color/transparent</code>ÔºàÈÄèÊòéÔºâ„Åß„Åô„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- „Éâ„É≠„ÉØ„ÉºÁî®„É¨„Ç§„Ç¢„Ç¶„Éà --&gt;</span><br><span class=\"line\">&lt;style name&#x3D;&quot;DrawerTheme&quot; parent&#x3D;&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;item name&#x3D;&quot;windowActionBar&quot;&gt;false&lt;&#x2F;item&gt;</span><br><span class=\"line\">    &lt;item name&#x3D;&quot;windowNoTitle&quot;&gt;true&lt;&#x2F;item&gt;</span><br><span class=\"line\">    &lt;item name&#x3D;&quot;android:statusBarColor&quot;&gt;@android:color&#x2F;transparent&lt;&#x2F;item&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;item name&#x3D;&quot;colorPrimary&quot;&gt;@color&#x2F;colorPrimary&lt;&#x2F;item&gt;</span><br><span class=\"line\">    &lt;item name&#x3D;&quot;colorPrimaryDark&quot;&gt;@color&#x2F;colorPrimaryDark&lt;&#x2F;item&gt;</span><br><span class=\"line\">    &lt;item name&#x3D;&quot;colorAccent&quot;&gt;@color&#x2F;colorAccent&lt;&#x2F;item&gt;</span><br><span class=\"line\">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>\n\n<p>„Åì„Çå„ÅßËµ∑Âãï„Åô„Çå„Å∞„Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº„ÅÆËâ≤„ÅåÈÄèÊòé„Å´„Å™„Å£„Å¶Ë¶ã„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/208826b5-ecd7-75b1-a41e-8f56ef413b4d.png\" alt=\"Screenshot_20191107-230521.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-230521.png</div>\n            </figure>\n\n<h1 id=\"„É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç„Å´‰Ωï„Åã„Åó„Åü„ÅÑ\"><a href=\"#„É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç„Å´‰Ωï„Åã„Åó„Åü„ÅÑ\" class=\"headerlink\" title=\"„É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç„Å´‰Ωï„Åã„Åó„Åü„ÅÑ\"></a>„É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç„Å´‰Ωï„Åã„Åó„Åü„ÅÑ</h1><p>„Åì„Çì„Å™ÊÑü„Åò„Å´</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class MainActivity : AppCompatActivity() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class=\"line\">        super.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;Toolbar„ÇíÁôªÈå≤</span><br><span class=\"line\">        setSupportActionBar(toolbar)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;„Éè„É≥„Éê„Éº„Ç¨„Éº„É°„Éã„É•„Éº„ÅÆ„Ç¢„Ç§„Ç≥„É≥„ÇíÂÆüË£Ö</span><br><span class=\"line\">        &#x2F;&#x2F;Á¨¨Ôºî„ÄÅÔºïÂºïÊï∞„ÅØ„Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£„Åß‰Ωø„ÅÜ„Åø„Åü„ÅÑ„ÄÇ</span><br><span class=\"line\">        val actionBarDrawerToggle &#x3D; ActionBarDrawerToggle(</span><br><span class=\"line\">            this, drawer_layout, toolbar, R.string.app_name, R.string.app_name</span><br><span class=\"line\">        )</span><br><span class=\"line\">        drawer_layout.addDrawerListener(actionBarDrawerToggle)</span><br><span class=\"line\">        actionBarDrawerToggle.syncState()</span><br><span class=\"line\"></span><br><span class=\"line\">        &#x2F;&#x2F;„É°„Éã„É•„Éº„ÇíÊäº„Åó„Åü„Å®„Åç</span><br><span class=\"line\">        navigation_drawer.setNavigationItemSelectedListener &#123;</span><br><span class=\"line\">            when(it.itemId)&#123;</span><br><span class=\"line\">                R.id.drawer_menu_java-&gt;&#123;</span><br><span class=\"line\">                    &#x2F;&#x2F;javaÊäº„Åó„Åü„Å®„Åç</span><br><span class=\"line\">                    Snackbar.make(navigation_drawer,&quot;30ÂÑÑ„ÅÆ„Éá„Éê„Ç§„Çπ„ÅßËµ∞„ÇãJava&quot;,Snackbar.LENGTH_SHORT).show()</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                R.id.drawer_menu_kotlin-&gt;&#123;</span><br><span class=\"line\">                    &#x2F;&#x2F;kotlinÊäº„Åó„Åü„Å®„Åç</span><br><span class=\"line\">                    Snackbar.make(navigation_drawer,&quot;apply&#123;&#125;‰æøÂà©„Åô„Åé„Çã&quot;,Snackbar.LENGTH_SHORT).show()</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                R.id.drawer_menu_js-&gt;&#123;</span><br><span class=\"line\">                    &#x2F;&#x2F;JSÊäº„Åó„Åü„Å®„Åç</span><br><span class=\"line\">                    Snackbar.make(navigation_drawer,&quot;undefined&quot;,Snackbar.LENGTH_SHORT).show()</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            &#x2F;&#x2F;Êäº„Åó„Åü„Çâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÇíÈñâ„Åò„Çã</span><br><span class=\"line\">            drawer_layout.closeDrawer(navigation_drawer)</span><br><span class=\"line\">            true</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Java„ÇíÊäº„Åó„Åü„Å®„ÅçSnackbar„Åå„Åß„Å¶„Äå30ÂÑÑ„ÅÆ„Éá„Éê„Ç§„Çπ„ÅßËµ∞„ÇãJava„Äç„Å®Ë°®Á§∫„Åï„Çå„Çå„Å∞ÊàêÂäü„Åß„Åô„ÄÇ„Åä„ÇÅ„Åß„Å®„ÅÜÔºÅ</p>\n<h1 id=\"ÁµÇ„Çè„Çä„Å´\"><a href=\"#ÁµÇ„Çè„Çä„Å´\" class=\"headerlink\" title=\"ÁµÇ„Çè„Çä„Å´\"></a>ÁµÇ„Çè„Çä„Å´</h1><p>„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éâ„É≠„ÉØ„Éº„ÅÆ„É¨„Ç§„Ç¢„Ç¶„Éà„ÇíÂ∞ë„ÅóÂ§â„Åà„Çå„Å∞„Å∞„Éú„Çø„É≥„Å®„Åã„Åä„Åë„Åæ„Åô„ÄÇ<br>Ë§áÈõë„Å´„Å™„Çä„Åù„ÅÜ„Å†„Åë„Å©„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class=\"line\">&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class=\"line\">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class=\"line\">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class=\"line\">    android:id&#x3D;&quot;@+id&#x2F;drawer_layout&quot;</span><br><span class=\"line\">    android:fitsSystemWindows&#x3D;&quot;true&quot;</span><br><span class=\"line\">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">    tools:context&#x3D;&quot;.MainActivity&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;LinearLayout</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;androidx.appcompat.widget.Toolbar</span><br><span class=\"line\">            android:id&#x3D;&quot;@+id&#x2F;toolbar&quot;</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">            android:background&#x3D;&quot;?attr&#x2F;colorPrimary&quot;</span><br><span class=\"line\">            android:minHeight&#x3D;&quot;?attr&#x2F;actionBarSize&quot;</span><br><span class=\"line\">            android:theme&#x3D;&quot;?attr&#x2F;actionBarTheme&quot; &#x2F;&gt;</span><br><span class=\"line\">    &lt;&#x2F;LinearLayout&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;com.google.android.material.navigation.NavigationView</span><br><span class=\"line\">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">        android:id&#x3D;&quot;@+id&#x2F;navigation_drawer&quot;</span><br><span class=\"line\">        android:layout_gravity&#x3D;&quot;start&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;LinearLayout</span><br><span class=\"line\">            android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">            android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">            &lt;ImageView</span><br><span class=\"line\">                android:id&#x3D;&quot;@+id&#x2F;imageView2&quot;</span><br><span class=\"line\">                android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">                android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">                app:srcCompat&#x3D;&quot;@mipmap&#x2F;ic_launcher_round&quot; &#x2F;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">            &lt;Button</span><br><span class=\"line\">                android:layout_gravity&#x3D;&quot;center_vertical&quot;</span><br><span class=\"line\">                android:id&#x3D;&quot;@+id&#x2F;button&quot;</span><br><span class=\"line\">                android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class=\"line\">                android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class=\"line\">                android:text&#x3D;&quot;„Éú„Çø„É≥„Å®„Åã„Åä„Åë„Åæ„Åô„ÄÇ&quot; &#x2F;&gt;</span><br><span class=\"line\">        &lt;&#x2F;LinearLayout&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;&#x2F;com.google.android.material.navigation.NavigationView&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;&#x2F;androidx.drawerlayout.widget.DrawerLayout&gt;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/421e765a-99cf-59ba-053c-374c35a3716c.png\" alt=\"Screenshot_20191107-233906.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-233906.png</div>\n            </figure>\n\n<p>„Åù„Çå„Åã„Çâstyles.xml„ÅÆparent„ÇíTheme.MaterialComponents.Light.DarkActionBar„Å´„Åô„Çã„Å®„É°„Éã„É•„ÉºÈÅ∏ÊäûÊôÇ„ÅåÂ∞ë„ÅóÂ§â„Çè„Çä„Åæ„Åô„ÄÇ</p>\n<figure class=\"image-bubble\">\n                <div class=\"img-lightbox\">\n                    <div class=\"overlay\"></div>\n                    <img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/409918/a1e21809-93b5-06bb-a8db-d7d9864a58e0.png\" alt=\"Screenshot_20191107-234614.png\" title=\"\">\n                </div>\n                <div class=\"image-caption\">Screenshot_20191107-234614.png</div>\n            </figure>\n\n\n<p>„Åä„Å§ÔºÅÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºòÔºò„ÄÇ</p>\n"},{"_content":"# „Å™„Çì„Åã„Åã„Åè\n„Å®„Çä„ÅÇ„Åà„ÅöÊ∞ó„Å´ÂÖ•„Å£„Å¶„ÇãËá™ÂàÜ„ÅÆÊõ∏„ÅÑ„ÅüQiita„ÅÆË®ò‰∫ã„Åß„ÇÇÊÆã„Åô„Åã„Å™","source":"_posts/„ÅØ„Åò„ÇÅ„Å¶.md","raw":"# „Å™„Çì„Åã„Åã„Åè\n„Å®„Çä„ÅÇ„Åà„ÅöÊ∞ó„Å´ÂÖ•„Å£„Å¶„ÇãËá™ÂàÜ„ÅÆÊõ∏„ÅÑ„ÅüQiita„ÅÆË®ò‰∫ã„Åß„ÇÇÊÆã„Åô„Åã„Å™","slug":"„ÅØ„Åò„ÇÅ„Å¶","published":1,"date":"2020-04-05T16:27:15.481Z","updated":"2020-04-05T16:27:15.486Z","title":"„ÅØ„Åò„ÇÅ„Å¶","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgy000uh8vu1alj6v8p","content":"<h1 id=\"„Å™„Çì„Åã„Åã„Åè\"><a href=\"#„Å™„Çì„Åã„Åã„Åè\" class=\"headerlink\" title=\"„Å™„Çì„Åã„Åã„Åè\"></a>„Å™„Çì„Åã„Åã„Åè</h1><p>„Å®„Çä„ÅÇ„Åà„ÅöÊ∞ó„Å´ÂÖ•„Å£„Å¶„ÇãËá™ÂàÜ„ÅÆÊõ∏„ÅÑ„ÅüQiita„ÅÆË®ò‰∫ã„Åß„ÇÇÊÆã„Åô„Åã„Å™</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"„Å™„Çì„Åã„Åã„Åè\"><a href=\"#„Å™„Çì„Åã„Åã„Åè\" class=\"headerlink\" title=\"„Å™„Çì„Åã„Åã„Åè\"></a>„Å™„Çì„Åã„Åã„Åè</h1><p>„Å®„Çä„ÅÇ„Åà„ÅöÊ∞ó„Å´ÂÖ•„Å£„Å¶„ÇãËá™ÂàÜ„ÅÆÊõ∏„ÅÑ„ÅüQiita„ÅÆË®ò‰∫ã„Åß„ÇÇÊÆã„Åô„Åã„Å™</p>\n"},{"title":"Android11„ÅÆMANAGE_EXTERNAL_STORAGE„ÇíË©¶„Åô","date":"2020-05-03T15:44:24.000Z","_content":"„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ  \n„Éã„Ç≥Áîü„Åß„Äå„Å®„ÅÇ„ÇãÁßëÂ≠¶„ÅÆË∂ÖÈõªÁ£ÅÁ†≤T„Äç„ÅÆ1~12Ë©±‰∏ÄÊåôÊîæÈÄÅË¶ã„Åæ„Åó„Åü„ÄÇÂàùË¶ã„Å†„Å£„Åü„Åë„Å©Èù¢ÁôΩ„Åã„Å£„Åü„Åß„Åô„ÄÇOP„Åã„Å£„Åì„ÅÑ„ÅÑ„ÄÇ  \n1Êúü2Êúü„ÇÇ„ÅÑ„Å§„ÅãË¶ã„Åü„ÅÑ„Åß„Åô„Å≠„ÄÇ\n\n# Êú¨È°å\nAndroid 11 „Åã„Çâ„Åæ„Éº„Åü„Éï„Ç°„Ç§„É´„Ç¢„ÇØ„Çª„Çπ„ÅÆÊñπÊ≥ï„ÅåÂ§â„Çè„Çã„Çâ„Åó„ÅÑ„ÄÇ„ÅØ„ÉºÔºü  \n„Å©„ÅÜ„ÇÑ„Çâ„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„Éº„Ç¢„Éó„É™„Å®„Åã„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Ç¢„Éó„É™Âêë„Åë„ÅÆ„Éï„Ç°„Ç§„É´„Ç¢„ÇØ„Çª„ÇπÊ®©Èôê**MANAGE_EXTERNAL_STORAGE**„ÅåËøΩÂä†„Åï„Çå„Çã„Åù„ÅÜ„Å™„ÄÇ\n\n# `MANAGE_EXTERNAL_STORAGE` #„Å®„ÅØ\nAndroid 9‰ª•Ââç„ÅÆ„Çà„ÅÜ„Å´Áîü„Éë„ÇπÔºà„Åä„Åù„Çâ„Åè`/storage/emulated/0/Download`„Åø„Åü„ÅÑ„Å™„Éë„Çπ„ÅÆ„Åì„Å®Ôºâ„Åß„ÅÆ„Ç¢„ÇØ„Çª„Çπ„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÄÇ  \n`ACTION_OPEN_DOCUMENT_TREE`„ÅßSD„Ç´„Éº„Éâ„Å∏„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„ÅÑ„ÅóSD„Ç´„Éº„Éâ„Ç¢„ÇØ„Çª„Çπ„Åô„Çã„Å´„ÅØ„Åì„Çå„Åó„Åã„Å™„ÅÑÔºü„ÄÇ„ÇÇ„ÅÜSD„Ç´„Éº„Éâ‰Ωø„Çè„Åõ„ÇãÊ∞ó„Å™„ÅÑ„Å™„Åì„Çå„ÄÇ  \n\n„Åù„Çì„Å™ÊúâËÉΩ„Åù„ÅÜ„Å™Ê®©Èôê„Åß„Åô„Åå  \n\n> „Éá„Éô„É≠„ÉÉ„Éë„Éº„Éó„É¨„Éì„É•„Éº„ÅÆ‰ªäÂæå„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Åß„ÅØ„ÄÅ„Åì„ÅÆÊ®©Èôê„ÅåÂøÖË¶Å„Å™„Ç¢„Éó„É™Âêë„Åë„ÅÆ„Ç¨„Ç§„Éâ„É©„Ç§„É≥„ÇíGoogle Play„Å´Êèê‰æõ„Åô„Çã‰∫àÂÆö„Åß„Åô„ÄÇ\n\n[ÂºïÁî®ÂÖÉ](https://developer.android.com/preview/privacy/storage#manage-device-storage)\n\n„Åå„Å™„Çì„Å®„ÅãÊõ∏„ÅÑ„Å¶„ÅÇ„Çã„ÅÆ„Åß„Å™„Çì„ÅãËøΩÂä†„Åß‰ΩúÊ•≠„ÅåÂøÖË¶Å„Å™„ÅÆ„Åã„Å™„ÄÇ  \n„ÇÄ„ÇÑ„Åø„Å´„ÅΩ„Çì„ÅΩ„ÇìÊâì„Å¶„ÇãË®≥„Åß„ÅØ„Å™„ÅÑ„Å£„ÅΩ„ÅÑÔºü\n\n„Å°„Å™„Åø„Å´`MANAGE_EXTERNAL_STORAGE`„Åß„ÇÇÂ§ñÈÉ®„ÅÆ„Ç¢„Éó„É™Âõ∫ÊúâÈ†òÂüü(Android/data)„Å´„ÅØ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ„Åì„ÅÆÈ†òÂüü„Å£„Å¶„ÇÇ„ÅÜ„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„Éº„Å®„ÅãÁ´ØÊú´Âçò‰Ωì„Åò„ÇÉË¶ã„Çå„Å™„ÅÑ„ÅÆ„Åã„Å™Ôºà„Åß„Åç„Å™„ÅÑ„ÅÆ„Åù„Åì„Åù„Åì‰∏ç‰æøÔºâ„ÄÇ\n\n# Áí∞Â¢É\n|name|value|\n|---|---|\n|Android|11 DP3|\n|Android Studio|4.1 Canary 8|\n|Ë®ÄË™û|Kotlin|\n\n# „ÇÑ„Å£„Å¶„Åø„Çã\n## Android 11„ÅÆAPI‰Ωø„Åà„Çã„Çà„ÅÜ„Å´\nAndroid 11„ÅÆSDK„ÅØÂêÑËá™ÂÖ•„Çå„Å¶„Åç„Å¶„Å≠„ÄÇ  \napp„Éï„Ç©„É´„ÉÄ„ÅÆÊñπ„ÅÆbuild.gradleÈñã„ÅÑ„Å¶android{}„ÅÆ„Å®„Åì„Çç„ÇíÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ\n```gradle\nandroid {\n    compileSdkVersion 'android-R'\n    buildToolsVersion \"29.0.3\"\n\n    defaultConfig {\n        applicationId \"com.example.manageexternalstoragesample\"\n        minSdkVersion \"R\"\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n```\n\n`compileSdkVersion 'android-R'`„Åß„ÅÑ„ÅÑ„Çâ„Åó„ÅÑÔºü\n\n## Ê®©ÈôêËøΩÂä†\n‰ΩïÊïÖ„ÅãË£úÂÖÖ„ÅåÂäπ„Åã„Å™„ÅÑ„ÅÆ„Åß„Ç≥„Éî„Éö\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.manageexternalstoragesample\">\n\n    <uses-permission android:name=\"android.permission.MANAGE_EXTERNAL_STORAGE\" />\n\n    <application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/Theme.ManageExternalStorageSample\">\n        <activity android:name=\".MainActivity\">\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n    </application>\n\n</manifest>\n```\n\n## „É¨„Ç§„Ç¢„Ç¶„Éà\n„Åù„Çç„Åù„ÇçConstraintLayout‰Ωø„Åà„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åü„ÅÑÔºàÈõ£„Åó„Åù„ÅÜÔºâ\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\">\n    \n    <Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Ê®©Èôê‰ªò‰∏é\" />\n\n    <Button\n        android:id=\"@+id/show\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"ÂèñÂæó\" />\n\n    <Button\n        android:id=\"@+id/read\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Êõ∏„ÅçËæº„Åø\" />\n</LinearLayout>\n```\n\n## Ê®©Èôê„ÇÇ„Çâ„ÅÜ\n„Åì„Çå„ÇÇË£úÂÖÖ„ÅåÂäπ„Åã„Å™„ÅÑ„ÅÆ„ÅßIntent„ÅÆ‰∏≠Ë∫´„ÅØ„Ç≥„Éî„Éö„Åß\n```kotlin\nbutton.setOnClickListener {\n    val intent = Intent(\"android.settings.MANAGE_ALL_FILES_ACCESS_PERMISSION\")\n    startActivity(intent)\n}\n```\nAndroid 11„Åã„Çâ‰ªñ„ÅÆ„Ç¢„Éó„É™„Å´Èáç„Å≠„Çã„ÅÆÊ®©ÈôêÂèñÂæó„ÅßÁõ¥Êé•„Ç¢„Éó„É™„ÅÆË®≠ÂÆö„Å´È£õ„Åπ„Å™„Åè„Å™„Çä„Åæ„Åó„Åü„Åå„ÄÅ„Åì„Çå„ÇÇÁõ¥Êé•È£õ„Åπ„Åö„Å´‰∏ÄË¶ßÁîªÈù¢„Åã„ÇâÈÅ∏„Å∂ÂΩ¢Âºè„Å´„Å™„Å£„Å¶„Åæ„Åô„ÄÇ\n\nÊ®©ÈôêÂèñÂæó„Éú„Çø„É≥Êäº„Åô„Å®‰∏ÄË¶ßÁîªÈù¢„Åß„Åæ„Åô\n\n{% asset_img list.png list %}\n\n{% asset_img screen.png screen %}\n\n\n## Áîü„Éë„Çπ„ÅßË™≠„ÅøËæº„Çì„Åß„Åø„Çã\nAndroid 10„Åã„Çâ‰Ωø„Åà„Å™„Åè„Å™„Å£„Åü‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÇÇ ~~`MANAGE_EXTERNAL_STORAGE`Ê®©Èôê„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çå„Å∞„Éª„Éª„ÉªÔºÅ~~  \nAndroid 11„Åß„ÅØ**Ë™≠„ÅøËæº„Åø„Å™„ÇâË™≠„ÅøËæº„ÅøÊ®©Èôê(READ_EXTERNAL_STORAGE)„Åô„Çâ„ÅÑ„Çâ„Å™„ÅÑ**„Åß„Åô„ÄÇ  \n„Åü„Å†„Åì„ÅÆ‰ªïÊßò„ÅØAndroid 11„ÅßËøΩÂä†„Åï„Çå„Åü„Åü„ÇÅ„ÄÅAndroid 10„Åß„Åì„Çå‰Ωø„ÅÜ„Å´„ÅØManifest„Å´`requestLegacyExternalStorage=\"true\"`(Scoped StorageÁÑ°ÂäπÂåñ)„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\n```kotlin\nshow.setOnClickListener {\n    File(\"/storage/emulated/0/\").listFiles().forEach {\n        println(it.name)\n    }\n}\n```\nÂá∫ÂäõÁµêÊûú\n```console\nAndroid\nMusic\nPodcasts\nRingtones\nAlarms\nNotifications\nPictures\nMovies\nDownload\nDCIM\n```\n‰ª•‰∏ãÁï•\n\n## Áîü„Éë„Çπ„ÅßÊõ∏„ÅçËæº„Çì„ÅßË¶ã„Çã\nAndroid 10„Åã„Çâ‰Ωø„Åà„Å™„Åè„Å™„Å£„Åü‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÇÇ`MANAGE_EXTERNAL_STORAGE`Ê®©Èôê„ÅÆÂâç„Åß„ÅØ„Éª„Éª„ÉªÔºÅ  \n„ÅÇ„Å®„Éú„Çø„É≥„ÅÆID„Åå`read`„Å´„Å™„Å£„Å¶„Çã„Åë„Å©`write`„ÅåÂëΩÂêçÁöÑ„Å´„ÅØÊ≠£Ëß£„Åß„Åô„Å≠„ÄÇ„Éó„É≠„Ç∞„É©„É†ÁöÑ„Å´„ÅØÈñìÈÅï„Å£„Å¶„Å™„ÅÑ„Åë„Å©„ÄÇ\n```kotlin\nread.setOnClickListener {\n    File(\"/storage/emulated/0/Êõ∏„ÅçËæº„Åø„ÉÜ„Çπ„Éà.txt\").apply {\n        createNewFile()\n        writeText(\"Êõ∏„ÅçËæº„ÇÅ„Å¶„ÇãÔΩûÔºü\")\n    }\n}\n```\n\nKotlin„ÅÆÊã°ÂºµÈñ¢Êï∞`writeText()`‰Ωø„Å£„Å¶„Çã„Åã„Çâ‰∏ÄË°å„ÅßÊõ∏„ÅçËæº„ÇÅ„Å¶„Çã„Åë„Å©Java„Å†„Å®Èï∑„Åè„Å™„Çä„Åù„ÅÜ„ÄÇ\n\nÂ§öÂàÜ„Åì„Çå„ÇÇAndroid 10„ÇíÂØæË±°„Å´„Åô„Çã„Å´„ÅØScoped Storage„ÇíÁÑ°Âäπ„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„ÅôÂ§öÂàÜ„ÄÇ\n\n{% asset_img write.png write %}\n\n## ÂÖ®ÈÉ®„Åè„Å£„Å§„Åë„Åü„Ç≥„Éº„Éâ\n\n```kotlin\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        button.setOnClickListener {\n            val intent = Intent(\"android.settings.MANAGE_ALL_FILES_ACCESS_PERMISSION\")\n            startActivity(intent)\n        }\n\n        show.setOnClickListener {\n            File(\"/storage/emulated/0/\").listFiles().forEach {\n                println(it.name)\n            }\n        }\n\n        read.setOnClickListener {\n            File(\"/storage/emulated/0/Êõ∏„ÅçËæº„Åø„ÉÜ„Çπ„Éà.txt\").apply {\n                createNewFile()\n                writeText(\"Êõ∏„ÅçËæº„ÇÅ„Å¶„ÇãÔΩûÔºü\")\n            }\n        }\n\n    }\n}\n```\n\n# „Åä„Çè„Çä„Å´\n„Åè„Å£„Åù„ÇÅ„Çì„Å©„Åè„Åï„Åè„Å≠Ôºü(SAF„Å†„ÅÆScopedStorage„Å†„ÅÆMediaStore„Å†„ÅÆ)  \n„ÅÇ„Å®SD„Ç´„Éº„ÉâÂÖ•„ÇãÂÆüÊ©ü„Åª„Åó„ÅÑ„ÄÇXperia„ÅÆ21:9‰Ωø„Å£„Å¶„Åø„Åü„ÅÑ„ÄÇ  \nÔºàS7 Edge„ÅÇ„Çã„Åë„Å©„Å™„Çì„ÅãSDM 820„ÅÆÂâ≤„Å´Nexus 7 2013„ÅÆ„Åª„ÅÜ„ÅåÂãï„Åè„Åã„Çâ„Éè„Ç∫„É¨SoCÂºï„ÅÑ„ÅüÔºüÔºâ\n\n# „ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\nhttps://github.com/takusan23/ManageExternalStorageSample","source":"_posts/Android11„ÅÆMANAGE-EXTERNAL-STORAGE„ÇíË©¶„Åô.md","raw":"---\ntitle: Android11„ÅÆMANAGE_EXTERNAL_STORAGE„ÇíË©¶„Åô\ndate: 2020-05-04 00:44:24\ntags:\n- Android\n- Android11\n---\n„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ  \n„Éã„Ç≥Áîü„Åß„Äå„Å®„ÅÇ„ÇãÁßëÂ≠¶„ÅÆË∂ÖÈõªÁ£ÅÁ†≤T„Äç„ÅÆ1~12Ë©±‰∏ÄÊåôÊîæÈÄÅË¶ã„Åæ„Åó„Åü„ÄÇÂàùË¶ã„Å†„Å£„Åü„Åë„Å©Èù¢ÁôΩ„Åã„Å£„Åü„Åß„Åô„ÄÇOP„Åã„Å£„Åì„ÅÑ„ÅÑ„ÄÇ  \n1Êúü2Êúü„ÇÇ„ÅÑ„Å§„ÅãË¶ã„Åü„ÅÑ„Åß„Åô„Å≠„ÄÇ\n\n# Êú¨È°å\nAndroid 11 „Åã„Çâ„Åæ„Éº„Åü„Éï„Ç°„Ç§„É´„Ç¢„ÇØ„Çª„Çπ„ÅÆÊñπÊ≥ï„ÅåÂ§â„Çè„Çã„Çâ„Åó„ÅÑ„ÄÇ„ÅØ„ÉºÔºü  \n„Å©„ÅÜ„ÇÑ„Çâ„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„Éº„Ç¢„Éó„É™„Å®„Åã„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Ç¢„Éó„É™Âêë„Åë„ÅÆ„Éï„Ç°„Ç§„É´„Ç¢„ÇØ„Çª„ÇπÊ®©Èôê**MANAGE_EXTERNAL_STORAGE**„ÅåËøΩÂä†„Åï„Çå„Çã„Åù„ÅÜ„Å™„ÄÇ\n\n# `MANAGE_EXTERNAL_STORAGE` #„Å®„ÅØ\nAndroid 9‰ª•Ââç„ÅÆ„Çà„ÅÜ„Å´Áîü„Éë„ÇπÔºà„Åä„Åù„Çâ„Åè`/storage/emulated/0/Download`„Åø„Åü„ÅÑ„Å™„Éë„Çπ„ÅÆ„Åì„Å®Ôºâ„Åß„ÅÆ„Ç¢„ÇØ„Çª„Çπ„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÄÇ  \n`ACTION_OPEN_DOCUMENT_TREE`„ÅßSD„Ç´„Éº„Éâ„Å∏„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„ÅÑ„ÅóSD„Ç´„Éº„Éâ„Ç¢„ÇØ„Çª„Çπ„Åô„Çã„Å´„ÅØ„Åì„Çå„Åó„Åã„Å™„ÅÑÔºü„ÄÇ„ÇÇ„ÅÜSD„Ç´„Éº„Éâ‰Ωø„Çè„Åõ„ÇãÊ∞ó„Å™„ÅÑ„Å™„Åì„Çå„ÄÇ  \n\n„Åù„Çì„Å™ÊúâËÉΩ„Åù„ÅÜ„Å™Ê®©Èôê„Åß„Åô„Åå  \n\n> „Éá„Éô„É≠„ÉÉ„Éë„Éº„Éó„É¨„Éì„É•„Éº„ÅÆ‰ªäÂæå„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Åß„ÅØ„ÄÅ„Åì„ÅÆÊ®©Èôê„ÅåÂøÖË¶Å„Å™„Ç¢„Éó„É™Âêë„Åë„ÅÆ„Ç¨„Ç§„Éâ„É©„Ç§„É≥„ÇíGoogle Play„Å´Êèê‰æõ„Åô„Çã‰∫àÂÆö„Åß„Åô„ÄÇ\n\n[ÂºïÁî®ÂÖÉ](https://developer.android.com/preview/privacy/storage#manage-device-storage)\n\n„Åå„Å™„Çì„Å®„ÅãÊõ∏„ÅÑ„Å¶„ÅÇ„Çã„ÅÆ„Åß„Å™„Çì„ÅãËøΩÂä†„Åß‰ΩúÊ•≠„ÅåÂøÖË¶Å„Å™„ÅÆ„Åã„Å™„ÄÇ  \n„ÇÄ„ÇÑ„Åø„Å´„ÅΩ„Çì„ÅΩ„ÇìÊâì„Å¶„ÇãË®≥„Åß„ÅØ„Å™„ÅÑ„Å£„ÅΩ„ÅÑÔºü\n\n„Å°„Å™„Åø„Å´`MANAGE_EXTERNAL_STORAGE`„Åß„ÇÇÂ§ñÈÉ®„ÅÆ„Ç¢„Éó„É™Âõ∫ÊúâÈ†òÂüü(Android/data)„Å´„ÅØ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ„Åì„ÅÆÈ†òÂüü„Å£„Å¶„ÇÇ„ÅÜ„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„Éº„Å®„ÅãÁ´ØÊú´Âçò‰Ωì„Åò„ÇÉË¶ã„Çå„Å™„ÅÑ„ÅÆ„Åã„Å™Ôºà„Åß„Åç„Å™„ÅÑ„ÅÆ„Åù„Åì„Åù„Åì‰∏ç‰æøÔºâ„ÄÇ\n\n# Áí∞Â¢É\n|name|value|\n|---|---|\n|Android|11 DP3|\n|Android Studio|4.1 Canary 8|\n|Ë®ÄË™û|Kotlin|\n\n# „ÇÑ„Å£„Å¶„Åø„Çã\n## Android 11„ÅÆAPI‰Ωø„Åà„Çã„Çà„ÅÜ„Å´\nAndroid 11„ÅÆSDK„ÅØÂêÑËá™ÂÖ•„Çå„Å¶„Åç„Å¶„Å≠„ÄÇ  \napp„Éï„Ç©„É´„ÉÄ„ÅÆÊñπ„ÅÆbuild.gradleÈñã„ÅÑ„Å¶android{}„ÅÆ„Å®„Åì„Çç„ÇíÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ\n```gradle\nandroid {\n    compileSdkVersion 'android-R'\n    buildToolsVersion \"29.0.3\"\n\n    defaultConfig {\n        applicationId \"com.example.manageexternalstoragesample\"\n        minSdkVersion \"R\"\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n```\n\n`compileSdkVersion 'android-R'`„Åß„ÅÑ„ÅÑ„Çâ„Åó„ÅÑÔºü\n\n## Ê®©ÈôêËøΩÂä†\n‰ΩïÊïÖ„ÅãË£úÂÖÖ„ÅåÂäπ„Åã„Å™„ÅÑ„ÅÆ„Åß„Ç≥„Éî„Éö\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.manageexternalstoragesample\">\n\n    <uses-permission android:name=\"android.permission.MANAGE_EXTERNAL_STORAGE\" />\n\n    <application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/Theme.ManageExternalStorageSample\">\n        <activity android:name=\".MainActivity\">\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n    </application>\n\n</manifest>\n```\n\n## „É¨„Ç§„Ç¢„Ç¶„Éà\n„Åù„Çç„Åù„ÇçConstraintLayout‰Ωø„Åà„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åü„ÅÑÔºàÈõ£„Åó„Åù„ÅÜÔºâ\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\">\n    \n    <Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Ê®©Èôê‰ªò‰∏é\" />\n\n    <Button\n        android:id=\"@+id/show\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"ÂèñÂæó\" />\n\n    <Button\n        android:id=\"@+id/read\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Êõ∏„ÅçËæº„Åø\" />\n</LinearLayout>\n```\n\n## Ê®©Èôê„ÇÇ„Çâ„ÅÜ\n„Åì„Çå„ÇÇË£úÂÖÖ„ÅåÂäπ„Åã„Å™„ÅÑ„ÅÆ„ÅßIntent„ÅÆ‰∏≠Ë∫´„ÅØ„Ç≥„Éî„Éö„Åß\n```kotlin\nbutton.setOnClickListener {\n    val intent = Intent(\"android.settings.MANAGE_ALL_FILES_ACCESS_PERMISSION\")\n    startActivity(intent)\n}\n```\nAndroid 11„Åã„Çâ‰ªñ„ÅÆ„Ç¢„Éó„É™„Å´Èáç„Å≠„Çã„ÅÆÊ®©ÈôêÂèñÂæó„ÅßÁõ¥Êé•„Ç¢„Éó„É™„ÅÆË®≠ÂÆö„Å´È£õ„Åπ„Å™„Åè„Å™„Çä„Åæ„Åó„Åü„Åå„ÄÅ„Åì„Çå„ÇÇÁõ¥Êé•È£õ„Åπ„Åö„Å´‰∏ÄË¶ßÁîªÈù¢„Åã„ÇâÈÅ∏„Å∂ÂΩ¢Âºè„Å´„Å™„Å£„Å¶„Åæ„Åô„ÄÇ\n\nÊ®©ÈôêÂèñÂæó„Éú„Çø„É≥Êäº„Åô„Å®‰∏ÄË¶ßÁîªÈù¢„Åß„Åæ„Åô\n\n{% asset_img list.png list %}\n\n{% asset_img screen.png screen %}\n\n\n## Áîü„Éë„Çπ„ÅßË™≠„ÅøËæº„Çì„Åß„Åø„Çã\nAndroid 10„Åã„Çâ‰Ωø„Åà„Å™„Åè„Å™„Å£„Åü‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÇÇ ~~`MANAGE_EXTERNAL_STORAGE`Ê®©Èôê„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çå„Å∞„Éª„Éª„ÉªÔºÅ~~  \nAndroid 11„Åß„ÅØ**Ë™≠„ÅøËæº„Åø„Å™„ÇâË™≠„ÅøËæº„ÅøÊ®©Èôê(READ_EXTERNAL_STORAGE)„Åô„Çâ„ÅÑ„Çâ„Å™„ÅÑ**„Åß„Åô„ÄÇ  \n„Åü„Å†„Åì„ÅÆ‰ªïÊßò„ÅØAndroid 11„ÅßËøΩÂä†„Åï„Çå„Åü„Åü„ÇÅ„ÄÅAndroid 10„Åß„Åì„Çå‰Ωø„ÅÜ„Å´„ÅØManifest„Å´`requestLegacyExternalStorage=\"true\"`(Scoped StorageÁÑ°ÂäπÂåñ)„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\n```kotlin\nshow.setOnClickListener {\n    File(\"/storage/emulated/0/\").listFiles().forEach {\n        println(it.name)\n    }\n}\n```\nÂá∫ÂäõÁµêÊûú\n```console\nAndroid\nMusic\nPodcasts\nRingtones\nAlarms\nNotifications\nPictures\nMovies\nDownload\nDCIM\n```\n‰ª•‰∏ãÁï•\n\n## Áîü„Éë„Çπ„ÅßÊõ∏„ÅçËæº„Çì„ÅßË¶ã„Çã\nAndroid 10„Åã„Çâ‰Ωø„Åà„Å™„Åè„Å™„Å£„Åü‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÇÇ`MANAGE_EXTERNAL_STORAGE`Ê®©Èôê„ÅÆÂâç„Åß„ÅØ„Éª„Éª„ÉªÔºÅ  \n„ÅÇ„Å®„Éú„Çø„É≥„ÅÆID„Åå`read`„Å´„Å™„Å£„Å¶„Çã„Åë„Å©`write`„ÅåÂëΩÂêçÁöÑ„Å´„ÅØÊ≠£Ëß£„Åß„Åô„Å≠„ÄÇ„Éó„É≠„Ç∞„É©„É†ÁöÑ„Å´„ÅØÈñìÈÅï„Å£„Å¶„Å™„ÅÑ„Åë„Å©„ÄÇ\n```kotlin\nread.setOnClickListener {\n    File(\"/storage/emulated/0/Êõ∏„ÅçËæº„Åø„ÉÜ„Çπ„Éà.txt\").apply {\n        createNewFile()\n        writeText(\"Êõ∏„ÅçËæº„ÇÅ„Å¶„ÇãÔΩûÔºü\")\n    }\n}\n```\n\nKotlin„ÅÆÊã°ÂºµÈñ¢Êï∞`writeText()`‰Ωø„Å£„Å¶„Çã„Åã„Çâ‰∏ÄË°å„ÅßÊõ∏„ÅçËæº„ÇÅ„Å¶„Çã„Åë„Å©Java„Å†„Å®Èï∑„Åè„Å™„Çä„Åù„ÅÜ„ÄÇ\n\nÂ§öÂàÜ„Åì„Çå„ÇÇAndroid 10„ÇíÂØæË±°„Å´„Åô„Çã„Å´„ÅØScoped Storage„ÇíÁÑ°Âäπ„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„ÅôÂ§öÂàÜ„ÄÇ\n\n{% asset_img write.png write %}\n\n## ÂÖ®ÈÉ®„Åè„Å£„Å§„Åë„Åü„Ç≥„Éº„Éâ\n\n```kotlin\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        button.setOnClickListener {\n            val intent = Intent(\"android.settings.MANAGE_ALL_FILES_ACCESS_PERMISSION\")\n            startActivity(intent)\n        }\n\n        show.setOnClickListener {\n            File(\"/storage/emulated/0/\").listFiles().forEach {\n                println(it.name)\n            }\n        }\n\n        read.setOnClickListener {\n            File(\"/storage/emulated/0/Êõ∏„ÅçËæº„Åø„ÉÜ„Çπ„Éà.txt\").apply {\n                createNewFile()\n                writeText(\"Êõ∏„ÅçËæº„ÇÅ„Å¶„ÇãÔΩûÔºü\")\n            }\n        }\n\n    }\n}\n```\n\n# „Åä„Çè„Çä„Å´\n„Åè„Å£„Åù„ÇÅ„Çì„Å©„Åè„Åï„Åè„Å≠Ôºü(SAF„Å†„ÅÆScopedStorage„Å†„ÅÆMediaStore„Å†„ÅÆ)  \n„ÅÇ„Å®SD„Ç´„Éº„ÉâÂÖ•„ÇãÂÆüÊ©ü„Åª„Åó„ÅÑ„ÄÇXperia„ÅÆ21:9‰Ωø„Å£„Å¶„Åø„Åü„ÅÑ„ÄÇ  \nÔºàS7 Edge„ÅÇ„Çã„Åë„Å©„Å™„Çì„ÅãSDM 820„ÅÆÂâ≤„Å´Nexus 7 2013„ÅÆ„Åª„ÅÜ„ÅåÂãï„Åè„Åã„Çâ„Éè„Ç∫„É¨SoCÂºï„ÅÑ„ÅüÔºüÔºâ\n\n# „ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\nhttps://github.com/takusan23/ManageExternalStorageSample","slug":"Android11„ÅÆMANAGE-EXTERNAL-STORAGE„ÇíË©¶„Åô","published":1,"updated":"2020-05-03T17:22:51.623Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck9rbqvgy000wh8vuegmmdkoa","content":"<p>„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ<br>„Éã„Ç≥Áîü„Åß„Äå„Å®„ÅÇ„ÇãÁßëÂ≠¶„ÅÆË∂ÖÈõªÁ£ÅÁ†≤T„Äç„ÅÆ1~12Ë©±‰∏ÄÊåôÊîæÈÄÅË¶ã„Åæ„Åó„Åü„ÄÇÂàùË¶ã„Å†„Å£„Åü„Åë„Å©Èù¢ÁôΩ„Åã„Å£„Åü„Åß„Åô„ÄÇOP„Åã„Å£„Åì„ÅÑ„ÅÑ„ÄÇ<br>1Êúü2Êúü„ÇÇ„ÅÑ„Å§„ÅãË¶ã„Åü„ÅÑ„Åß„Åô„Å≠„ÄÇ</p>\n<h1 id=\"Êú¨È°å\"><a href=\"#Êú¨È°å\" class=\"headerlink\" title=\"Êú¨È°å\"></a>Êú¨È°å</h1><p>Android 11 „Åã„Çâ„Åæ„Éº„Åü„Éï„Ç°„Ç§„É´„Ç¢„ÇØ„Çª„Çπ„ÅÆÊñπÊ≥ï„ÅåÂ§â„Çè„Çã„Çâ„Åó„ÅÑ„ÄÇ„ÅØ„ÉºÔºü<br>„Å©„ÅÜ„ÇÑ„Çâ„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„Éº„Ç¢„Éó„É™„Å®„Åã„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Ç¢„Éó„É™Âêë„Åë„ÅÆ„Éï„Ç°„Ç§„É´„Ç¢„ÇØ„Çª„ÇπÊ®©Èôê<strong>MANAGE_EXTERNAL_STORAGE</strong>„ÅåËøΩÂä†„Åï„Çå„Çã„Åù„ÅÜ„Å™„ÄÇ</p>\n<h1 id=\"MANAGE-EXTERNAL-STORAGE-„Å®„ÅØ\"><a href=\"#MANAGE-EXTERNAL-STORAGE-„Å®„ÅØ\" class=\"headerlink\" title=\"MANAGE_EXTERNAL_STORAGE #„Å®„ÅØ\"></a><code>MANAGE_EXTERNAL_STORAGE</code> #„Å®„ÅØ</h1><p>Android 9‰ª•Ââç„ÅÆ„Çà„ÅÜ„Å´Áîü„Éë„ÇπÔºà„Åä„Åù„Çâ„Åè<code>/storage/emulated/0/Download</code>„Åø„Åü„ÅÑ„Å™„Éë„Çπ„ÅÆ„Åì„Å®Ôºâ„Åß„ÅÆ„Ç¢„ÇØ„Çª„Çπ„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÄÇ<br><code>ACTION_OPEN_DOCUMENT_TREE</code>„ÅßSD„Ç´„Éº„Éâ„Å∏„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„ÅÑ„ÅóSD„Ç´„Éº„Éâ„Ç¢„ÇØ„Çª„Çπ„Åô„Çã„Å´„ÅØ„Åì„Çå„Åó„Åã„Å™„ÅÑÔºü„ÄÇ„ÇÇ„ÅÜSD„Ç´„Éº„Éâ‰Ωø„Çè„Åõ„ÇãÊ∞ó„Å™„ÅÑ„Å™„Åì„Çå„ÄÇ  </p>\n<p>„Åù„Çì„Å™ÊúâËÉΩ„Åù„ÅÜ„Å™Ê®©Èôê„Åß„Åô„Åå  </p>\n<blockquote>\n<p>„Éá„Éô„É≠„ÉÉ„Éë„Éº„Éó„É¨„Éì„É•„Éº„ÅÆ‰ªäÂæå„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Åß„ÅØ„ÄÅ„Åì„ÅÆÊ®©Èôê„ÅåÂøÖË¶Å„Å™„Ç¢„Éó„É™Âêë„Åë„ÅÆ„Ç¨„Ç§„Éâ„É©„Ç§„É≥„ÇíGoogle Play„Å´Êèê‰æõ„Åô„Çã‰∫àÂÆö„Åß„Åô„ÄÇ</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/preview/privacy/storage#manage-device-storage\" target=\"_blank\" rel=\"noopener\">ÂºïÁî®ÂÖÉ</a></p>\n<p>„Åå„Å™„Çì„Å®„ÅãÊõ∏„ÅÑ„Å¶„ÅÇ„Çã„ÅÆ„Åß„Å™„Çì„ÅãËøΩÂä†„Åß‰ΩúÊ•≠„ÅåÂøÖË¶Å„Å™„ÅÆ„Åã„Å™„ÄÇ<br>„ÇÄ„ÇÑ„Åø„Å´„ÅΩ„Çì„ÅΩ„ÇìÊâì„Å¶„ÇãË®≥„Åß„ÅØ„Å™„ÅÑ„Å£„ÅΩ„ÅÑÔºü</p>\n<p>„Å°„Å™„Åø„Å´<code>MANAGE_EXTERNAL_STORAGE</code>„Åß„ÇÇÂ§ñÈÉ®„ÅÆ„Ç¢„Éó„É™Âõ∫ÊúâÈ†òÂüü(Android/data)„Å´„ÅØ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ„Åì„ÅÆÈ†òÂüü„Å£„Å¶„ÇÇ„ÅÜ„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„Éº„Å®„ÅãÁ´ØÊú´Âçò‰Ωì„Åò„ÇÉË¶ã„Çå„Å™„ÅÑ„ÅÆ„Åã„Å™Ôºà„Åß„Åç„Å™„ÅÑ„ÅÆ„Åù„Åì„Åù„Åì‰∏ç‰æøÔºâ„ÄÇ</p>\n<h1 id=\"Áí∞Â¢É\"><a href=\"#Áí∞Â¢É\" class=\"headerlink\" title=\"Áí∞Â¢É\"></a>Áí∞Â¢É</h1><table>\n<thead>\n<tr>\n<th>name</th>\n<th>value</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Android</td>\n<td>11 DP3</td>\n</tr>\n<tr>\n<td>Android Studio</td>\n<td>4.1 Canary 8</td>\n</tr>\n<tr>\n<td>Ë®ÄË™û</td>\n<td>Kotlin</td>\n</tr>\n</tbody></table>\n<h1 id=\"„ÇÑ„Å£„Å¶„Åø„Çã\"><a href=\"#„ÇÑ„Å£„Å¶„Åø„Çã\" class=\"headerlink\" title=\"„ÇÑ„Å£„Å¶„Åø„Çã\"></a>„ÇÑ„Å£„Å¶„Åø„Çã</h1><h2 id=\"Android-11„ÅÆAPI‰Ωø„Åà„Çã„Çà„ÅÜ„Å´\"><a href=\"#Android-11„ÅÆAPI‰Ωø„Åà„Çã„Çà„ÅÜ„Å´\" class=\"headerlink\" title=\"Android 11„ÅÆAPI‰Ωø„Åà„Çã„Çà„ÅÜ„Å´\"></a>Android 11„ÅÆAPI‰Ωø„Åà„Çã„Çà„ÅÜ„Å´</h2><p>Android 11„ÅÆSDK„ÅØÂêÑËá™ÂÖ•„Çå„Å¶„Åç„Å¶„Å≠„ÄÇ<br>app„Éï„Ç©„É´„ÉÄ„ÅÆÊñπ„ÅÆbuild.gradleÈñã„ÅÑ„Å¶android{}„ÅÆ„Å®„Åì„Çç„ÇíÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android &#123;</span><br><span class=\"line\">    compileSdkVersion <span class=\"string\">'android-R'</span></span><br><span class=\"line\">    buildToolsVersion <span class=\"string\">\"29.0.3\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">    defaultConfig &#123;</span><br><span class=\"line\">        applicationId <span class=\"string\">\"com.example.manageexternalstoragesample\"</span></span><br><span class=\"line\">        minSdkVersion <span class=\"string\">\"R\"</span></span><br><span class=\"line\">        targetSdkVersion <span class=\"number\">29</span></span><br><span class=\"line\">        versionCode <span class=\"number\">1</span></span><br><span class=\"line\">        versionName <span class=\"string\">\"1.0\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">        testInstrumentationRunner <span class=\"string\">\"androidx.test.runner.AndroidJUnitRunner\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    buildTypes &#123;</span><br><span class=\"line\">        release &#123;</span><br><span class=\"line\">            minifyEnabled <span class=\"keyword\">false</span></span><br><span class=\"line\">            proguardFiles getDefaultProguardFile(<span class=\"string\">'proguard-android-optimize.txt'</span>), <span class=\"string\">'proguard-rules.pro'</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    compileOptions &#123;</span><br><span class=\"line\">        <span class=\"keyword\">sourceCompatibility</span> JavaVersion.VERSION_1_8</span><br><span class=\"line\">        <span class=\"keyword\">targetCompatibility</span> JavaVersion.VERSION_1_8</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    kotlinOptions &#123;</span><br><span class=\"line\">        jvmTarget = <span class=\"string\">'1.8'</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>compileSdkVersion &#39;android-R&#39;</code>„Åß„ÅÑ„ÅÑ„Çâ„Åó„ÅÑÔºü</p>\n<h2 id=\"Ê®©ÈôêËøΩÂä†\"><a href=\"#Ê®©ÈôêËøΩÂä†\" class=\"headerlink\" title=\"Ê®©ÈôêËøΩÂä†\"></a>Ê®©ÈôêËøΩÂä†</h2><p>‰ΩïÊïÖ„ÅãË£úÂÖÖ„ÅåÂäπ„Åã„Å™„ÅÑ„ÅÆ„Åß„Ç≥„Éî„Éö</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">manifest</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">package</span>=<span class=\"string\">\"com.example.manageexternalstoragesample\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">uses-permission</span> <span class=\"attr\">android:name</span>=<span class=\"string\">\"android.permission.MANAGE_EXTERNAL_STORAGE\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">application</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:allowBackup</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:icon</span>=<span class=\"string\">\"@mipmap/ic_launcher\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:label</span>=<span class=\"string\">\"@string/app_name\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:roundIcon</span>=<span class=\"string\">\"@mipmap/ic_launcher_round\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:supportsRtl</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:theme</span>=<span class=\"string\">\"@style/Theme.ManageExternalStorageSample\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">activity</span> <span class=\"attr\">android:name</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">intent-filter</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">action</span> <span class=\"attr\">android:name</span>=<span class=\"string\">\"android.intent.action.MAIN\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">category</span> <span class=\"attr\">android:name</span>=<span class=\"string\">\"android.intent.category.LAUNCHER\"</span> /&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">intent-filter</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">activity</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">application</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"><a href=\"#„É¨„Ç§„Ç¢„Ç¶„Éà\" class=\"headerlink\" title=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"></a>„É¨„Ç§„Ç¢„Ç¶„Éà</h2><p>„Åù„Çç„Åù„ÇçConstraintLayout‰Ωø„Åà„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åü„ÅÑÔºàÈõ£„Åó„Åù„ÅÜÔºâ</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:gravity</span>=<span class=\"string\">\"center\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">tools:context</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"Ê®©Èôê‰ªò‰∏é\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/show\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"ÂèñÂæó\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/read\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"Êõ∏„ÅçËæº„Åø\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Ê®©Èôê„ÇÇ„Çâ„ÅÜ\"><a href=\"#Ê®©Èôê„ÇÇ„Çâ„ÅÜ\" class=\"headerlink\" title=\"Ê®©Èôê„ÇÇ„Çâ„ÅÜ\"></a>Ê®©Èôê„ÇÇ„Çâ„ÅÜ</h2><p>„Åì„Çå„ÇÇË£úÂÖÖ„ÅåÂäπ„Åã„Å™„ÅÑ„ÅÆ„ÅßIntent„ÅÆ‰∏≠Ë∫´„ÅØ„Ç≥„Éî„Éö„Åß</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">button.setOnClickListener &#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> intent = Intent(<span class=\"string\">\"android.settings.MANAGE_ALL_FILES_ACCESS_PERMISSION\"</span>)</span><br><span class=\"line\">    startActivity(intent)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Android 11„Åã„Çâ‰ªñ„ÅÆ„Ç¢„Éó„É™„Å´Èáç„Å≠„Çã„ÅÆÊ®©ÈôêÂèñÂæó„ÅßÁõ¥Êé•„Ç¢„Éó„É™„ÅÆË®≠ÂÆö„Å´È£õ„Åπ„Å™„Åè„Å™„Çä„Åæ„Åó„Åü„Åå„ÄÅ„Åì„Çå„ÇÇÁõ¥Êé•È£õ„Åπ„Åö„Å´‰∏ÄË¶ßÁîªÈù¢„Åã„ÇâÈÅ∏„Å∂ÂΩ¢Âºè„Å´„Å™„Å£„Å¶„Åæ„Åô„ÄÇ</p>\n<p>Ê®©ÈôêÂèñÂæó„Éú„Çø„É≥Êäº„Åô„Å®‰∏ÄË¶ßÁîªÈù¢„Åß„Åæ„Åô</p>\n<img src=\"/Bibouroku/2020/05/04/Android11%E3%81%AEMANAGE-EXTERNAL-STORAGE%E3%82%92%E8%A9%A6%E3%81%99/list.png\" class=\"\" title=\"list\">\n\n<img src=\"/Bibouroku/2020/05/04/Android11%E3%81%AEMANAGE-EXTERNAL-STORAGE%E3%82%92%E8%A9%A6%E3%81%99/screen.png\" class=\"\" title=\"screen\">\n\n\n<h2 id=\"Áîü„Éë„Çπ„ÅßË™≠„ÅøËæº„Çì„Åß„Åø„Çã\"><a href=\"#Áîü„Éë„Çπ„ÅßË™≠„ÅøËæº„Çì„Åß„Åø„Çã\" class=\"headerlink\" title=\"Áîü„Éë„Çπ„ÅßË™≠„ÅøËæº„Çì„Åß„Åø„Çã\"></a>Áîü„Éë„Çπ„ÅßË™≠„ÅøËæº„Çì„Åß„Åø„Çã</h2><p>Android 10„Åã„Çâ‰Ωø„Åà„Å™„Åè„Å™„Å£„Åü‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÇÇ <del><code>MANAGE_EXTERNAL_STORAGE</code>Ê®©Èôê„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çå„Å∞„Éª„Éª„ÉªÔºÅ</del><br>Android 11„Åß„ÅØ<strong>Ë™≠„ÅøËæº„Åø„Å™„ÇâË™≠„ÅøËæº„ÅøÊ®©Èôê(READ_EXTERNAL_STORAGE)„Åô„Çâ„ÅÑ„Çâ„Å™„ÅÑ</strong>„Åß„Åô„ÄÇ<br>„Åü„Å†„Åì„ÅÆ‰ªïÊßò„ÅØAndroid 11„ÅßËøΩÂä†„Åï„Çå„Åü„Åü„ÇÅ„ÄÅAndroid 10„Åß„Åì„Çå‰Ωø„ÅÜ„Å´„ÅØManifest„Å´<code>requestLegacyExternalStorage=&quot;true&quot;</code>(Scoped StorageÁÑ°ÂäπÂåñ)„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show.setOnClickListener &#123;</span><br><span class=\"line\">    File(<span class=\"string\">\"/storage/emulated/0/\"</span>).listFiles().forEach &#123;</span><br><span class=\"line\">        println(it.name)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Âá∫ÂäõÁµêÊûú</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Android</span><br><span class=\"line\">Music</span><br><span class=\"line\">Podcasts</span><br><span class=\"line\">Ringtones</span><br><span class=\"line\">Alarms</span><br><span class=\"line\">Notifications</span><br><span class=\"line\">Pictures</span><br><span class=\"line\">Movies</span><br><span class=\"line\">Download</span><br><span class=\"line\">DCIM</span><br></pre></td></tr></table></figure>\n<p>‰ª•‰∏ãÁï•</p>\n<h2 id=\"Áîü„Éë„Çπ„ÅßÊõ∏„ÅçËæº„Çì„ÅßË¶ã„Çã\"><a href=\"#Áîü„Éë„Çπ„ÅßÊõ∏„ÅçËæº„Çì„ÅßË¶ã„Çã\" class=\"headerlink\" title=\"Áîü„Éë„Çπ„ÅßÊõ∏„ÅçËæº„Çì„ÅßË¶ã„Çã\"></a>Áîü„Éë„Çπ„ÅßÊõ∏„ÅçËæº„Çì„ÅßË¶ã„Çã</h2><p>Android 10„Åã„Çâ‰Ωø„Åà„Å™„Åè„Å™„Å£„Åü‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÇÇ<code>MANAGE_EXTERNAL_STORAGE</code>Ê®©Èôê„ÅÆÂâç„Åß„ÅØ„Éª„Éª„ÉªÔºÅ<br>„ÅÇ„Å®„Éú„Çø„É≥„ÅÆID„Åå<code>read</code>„Å´„Å™„Å£„Å¶„Çã„Åë„Å©<code>write</code>„ÅåÂëΩÂêçÁöÑ„Å´„ÅØÊ≠£Ëß£„Åß„Åô„Å≠„ÄÇ„Éó„É≠„Ç∞„É©„É†ÁöÑ„Å´„ÅØÈñìÈÅï„Å£„Å¶„Å™„ÅÑ„Åë„Å©„ÄÇ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">read.setOnClickListener &#123;</span><br><span class=\"line\">    File(<span class=\"string\">\"/storage/emulated/0/Êõ∏„ÅçËæº„Åø„ÉÜ„Çπ„Éà.txt\"</span>).apply &#123;</span><br><span class=\"line\">        createNewFile()</span><br><span class=\"line\">        writeText(<span class=\"string\">\"Êõ∏„ÅçËæº„ÇÅ„Å¶„ÇãÔΩûÔºü\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Kotlin„ÅÆÊã°ÂºµÈñ¢Êï∞<code>writeText()</code>‰Ωø„Å£„Å¶„Çã„Åã„Çâ‰∏ÄË°å„ÅßÊõ∏„ÅçËæº„ÇÅ„Å¶„Çã„Åë„Å©Java„Å†„Å®Èï∑„Åè„Å™„Çä„Åù„ÅÜ„ÄÇ</p>\n<p>Â§öÂàÜ„Åì„Çå„ÇÇAndroid 10„ÇíÂØæË±°„Å´„Åô„Çã„Å´„ÅØScoped Storage„ÇíÁÑ°Âäπ„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„ÅôÂ§öÂàÜ„ÄÇ</p>\n<img src=\"/Bibouroku/2020/05/04/Android11%E3%81%AEMANAGE-EXTERNAL-STORAGE%E3%82%92%E8%A9%A6%E3%81%99/write.png\" class=\"\" title=\"write\">\n\n<h2 id=\"ÂÖ®ÈÉ®„Åè„Å£„Å§„Åë„Åü„Ç≥„Éº„Éâ\"><a href=\"#ÂÖ®ÈÉ®„Åè„Å£„Å§„Åë„Åü„Ç≥„Éº„Éâ\" class=\"headerlink\" title=\"ÂÖ®ÈÉ®„Åè„Å£„Å§„Åë„Åü„Ç≥„Éº„Éâ\"></a>ÂÖ®ÈÉ®„Åè„Å£„Å§„Åë„Åü„Ç≥„Éº„Éâ</h2><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        button.setOnClickListener &#123;</span><br><span class=\"line\">            <span class=\"keyword\">val</span> intent = Intent(<span class=\"string\">\"android.settings.MANAGE_ALL_FILES_ACCESS_PERMISSION\"</span>)</span><br><span class=\"line\">            startActivity(intent)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        show.setOnClickListener &#123;</span><br><span class=\"line\">            File(<span class=\"string\">\"/storage/emulated/0/\"</span>).listFiles().forEach &#123;</span><br><span class=\"line\">                println(it.name)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        read.setOnClickListener &#123;</span><br><span class=\"line\">            File(<span class=\"string\">\"/storage/emulated/0/Êõ∏„ÅçËæº„Åø„ÉÜ„Çπ„Éà.txt\"</span>).apply &#123;</span><br><span class=\"line\">                createNewFile()</span><br><span class=\"line\">                writeText(<span class=\"string\">\"Êõ∏„ÅçËæº„ÇÅ„Å¶„ÇãÔΩûÔºü\"</span>)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"„Åä„Çè„Çä„Å´\"><a href=\"#„Åä„Çè„Çä„Å´\" class=\"headerlink\" title=\"„Åä„Çè„Çä„Å´\"></a>„Åä„Çè„Çä„Å´</h1><p>„Åè„Å£„Åù„ÇÅ„Çì„Å©„Åè„Åï„Åè„Å≠Ôºü(SAF„Å†„ÅÆScopedStorage„Å†„ÅÆMediaStore„Å†„ÅÆ)<br>„ÅÇ„Å®SD„Ç´„Éº„ÉâÂÖ•„ÇãÂÆüÊ©ü„Åª„Åó„ÅÑ„ÄÇXperia„ÅÆ21:9‰Ωø„Å£„Å¶„Åø„Åü„ÅÑ„ÄÇ<br>ÔºàS7 Edge„ÅÇ„Çã„Åë„Å©„Å™„Çì„ÅãSDM 820„ÅÆÂâ≤„Å´Nexus 7 2013„ÅÆ„Åª„ÅÜ„ÅåÂãï„Åè„Åã„Çâ„Éè„Ç∫„É¨SoCÂºï„ÅÑ„ÅüÔºüÔºâ</p>\n<h1 id=\"„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\"><a href=\"#„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\" class=\"headerlink\" title=\"„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\"></a>„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ</h1><p><a href=\"https://github.com/takusan23/ManageExternalStorageSample\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/ManageExternalStorageSample</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>„Å©„ÅÜ„ÇÇ„Åì„Çì„Å∞„Çì„Çè„ÄÇ<br>„Éã„Ç≥Áîü„Åß„Äå„Å®„ÅÇ„ÇãÁßëÂ≠¶„ÅÆË∂ÖÈõªÁ£ÅÁ†≤T„Äç„ÅÆ1~12Ë©±‰∏ÄÊåôÊîæÈÄÅË¶ã„Åæ„Åó„Åü„ÄÇÂàùË¶ã„Å†„Å£„Åü„Åë„Å©Èù¢ÁôΩ„Åã„Å£„Åü„Åß„Åô„ÄÇOP„Åã„Å£„Åì„ÅÑ„ÅÑ„ÄÇ<br>1Êúü2Êúü„ÇÇ„ÅÑ„Å§„ÅãË¶ã„Åü„ÅÑ„Åß„Åô„Å≠„ÄÇ</p>\n<h1 id=\"Êú¨È°å\"><a href=\"#Êú¨È°å\" class=\"headerlink\" title=\"Êú¨È°å\"></a>Êú¨È°å</h1><p>Android 11 „Åã„Çâ„Åæ„Éº„Åü„Éï„Ç°„Ç§„É´„Ç¢„ÇØ„Çª„Çπ„ÅÆÊñπÊ≥ï„ÅåÂ§â„Çè„Çã„Çâ„Åó„ÅÑ„ÄÇ„ÅØ„ÉºÔºü<br>„Å©„ÅÜ„ÇÑ„Çâ„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„Éº„Ç¢„Éó„É™„Å®„Åã„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Ç¢„Éó„É™Âêë„Åë„ÅÆ„Éï„Ç°„Ç§„É´„Ç¢„ÇØ„Çª„ÇπÊ®©Èôê<strong>MANAGE_EXTERNAL_STORAGE</strong>„ÅåËøΩÂä†„Åï„Çå„Çã„Åù„ÅÜ„Å™„ÄÇ</p>\n<h1 id=\"MANAGE-EXTERNAL-STORAGE-„Å®„ÅØ\"><a href=\"#MANAGE-EXTERNAL-STORAGE-„Å®„ÅØ\" class=\"headerlink\" title=\"MANAGE_EXTERNAL_STORAGE #„Å®„ÅØ\"></a><code>MANAGE_EXTERNAL_STORAGE</code> #„Å®„ÅØ</h1><p>Android 9‰ª•Ââç„ÅÆ„Çà„ÅÜ„Å´Áîü„Éë„ÇπÔºà„Åä„Åù„Çâ„Åè<code>/storage/emulated/0/Download</code>„Åø„Åü„ÅÑ„Å™„Éë„Çπ„ÅÆ„Åì„Å®Ôºâ„Åß„ÅÆ„Ç¢„ÇØ„Çª„Çπ„Åå„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÄÇ<br><code>ACTION_OPEN_DOCUMENT_TREE</code>„ÅßSD„Ç´„Éº„Éâ„Å∏„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Å™„ÅÑ„ÅóSD„Ç´„Éº„Éâ„Ç¢„ÇØ„Çª„Çπ„Åô„Çã„Å´„ÅØ„Åì„Çå„Åó„Åã„Å™„ÅÑÔºü„ÄÇ„ÇÇ„ÅÜSD„Ç´„Éº„Éâ‰Ωø„Çè„Åõ„ÇãÊ∞ó„Å™„ÅÑ„Å™„Åì„Çå„ÄÇ  </p>\n<p>„Åù„Çì„Å™ÊúâËÉΩ„Åù„ÅÜ„Å™Ê®©Èôê„Åß„Åô„Åå  </p>\n<blockquote>\n<p>„Éá„Éô„É≠„ÉÉ„Éë„Éº„Éó„É¨„Éì„É•„Éº„ÅÆ‰ªäÂæå„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Åß„ÅØ„ÄÅ„Åì„ÅÆÊ®©Èôê„ÅåÂøÖË¶Å„Å™„Ç¢„Éó„É™Âêë„Åë„ÅÆ„Ç¨„Ç§„Éâ„É©„Ç§„É≥„ÇíGoogle Play„Å´Êèê‰æõ„Åô„Çã‰∫àÂÆö„Åß„Åô„ÄÇ</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/preview/privacy/storage#manage-device-storage\" target=\"_blank\" rel=\"noopener\">ÂºïÁî®ÂÖÉ</a></p>\n<p>„Åå„Å™„Çì„Å®„ÅãÊõ∏„ÅÑ„Å¶„ÅÇ„Çã„ÅÆ„Åß„Å™„Çì„ÅãËøΩÂä†„Åß‰ΩúÊ•≠„ÅåÂøÖË¶Å„Å™„ÅÆ„Åã„Å™„ÄÇ<br>„ÇÄ„ÇÑ„Åø„Å´„ÅΩ„Çì„ÅΩ„ÇìÊâì„Å¶„ÇãË®≥„Åß„ÅØ„Å™„ÅÑ„Å£„ÅΩ„ÅÑÔºü</p>\n<p>„Å°„Å™„Åø„Å´<code>MANAGE_EXTERNAL_STORAGE</code>„Åß„ÇÇÂ§ñÈÉ®„ÅÆ„Ç¢„Éó„É™Âõ∫ÊúâÈ†òÂüü(Android/data)„Å´„ÅØ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ„Åì„ÅÆÈ†òÂüü„Å£„Å¶„ÇÇ„ÅÜ„Éï„Ç°„Ç§„É´„Éû„Éç„Éº„Ç∏„É£„Éº„Å®„ÅãÁ´ØÊú´Âçò‰Ωì„Åò„ÇÉË¶ã„Çå„Å™„ÅÑ„ÅÆ„Åã„Å™Ôºà„Åß„Åç„Å™„ÅÑ„ÅÆ„Åù„Åì„Åù„Åì‰∏ç‰æøÔºâ„ÄÇ</p>\n<h1 id=\"Áí∞Â¢É\"><a href=\"#Áí∞Â¢É\" class=\"headerlink\" title=\"Áí∞Â¢É\"></a>Áí∞Â¢É</h1><table>\n<thead>\n<tr>\n<th>name</th>\n<th>value</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Android</td>\n<td>11 DP3</td>\n</tr>\n<tr>\n<td>Android Studio</td>\n<td>4.1 Canary 8</td>\n</tr>\n<tr>\n<td>Ë®ÄË™û</td>\n<td>Kotlin</td>\n</tr>\n</tbody></table>\n<h1 id=\"„ÇÑ„Å£„Å¶„Åø„Çã\"><a href=\"#„ÇÑ„Å£„Å¶„Åø„Çã\" class=\"headerlink\" title=\"„ÇÑ„Å£„Å¶„Åø„Çã\"></a>„ÇÑ„Å£„Å¶„Åø„Çã</h1><h2 id=\"Android-11„ÅÆAPI‰Ωø„Åà„Çã„Çà„ÅÜ„Å´\"><a href=\"#Android-11„ÅÆAPI‰Ωø„Åà„Çã„Çà„ÅÜ„Å´\" class=\"headerlink\" title=\"Android 11„ÅÆAPI‰Ωø„Åà„Çã„Çà„ÅÜ„Å´\"></a>Android 11„ÅÆAPI‰Ωø„Åà„Çã„Çà„ÅÜ„Å´</h2><p>Android 11„ÅÆSDK„ÅØÂêÑËá™ÂÖ•„Çå„Å¶„Åç„Å¶„Å≠„ÄÇ<br>app„Éï„Ç©„É´„ÉÄ„ÅÆÊñπ„ÅÆbuild.gradleÈñã„ÅÑ„Å¶android{}„ÅÆ„Å®„Åì„Çç„ÇíÊõ∏„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android &#123;</span><br><span class=\"line\">    compileSdkVersion <span class=\"string\">'android-R'</span></span><br><span class=\"line\">    buildToolsVersion <span class=\"string\">\"29.0.3\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">    defaultConfig &#123;</span><br><span class=\"line\">        applicationId <span class=\"string\">\"com.example.manageexternalstoragesample\"</span></span><br><span class=\"line\">        minSdkVersion <span class=\"string\">\"R\"</span></span><br><span class=\"line\">        targetSdkVersion <span class=\"number\">29</span></span><br><span class=\"line\">        versionCode <span class=\"number\">1</span></span><br><span class=\"line\">        versionName <span class=\"string\">\"1.0\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">        testInstrumentationRunner <span class=\"string\">\"androidx.test.runner.AndroidJUnitRunner\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    buildTypes &#123;</span><br><span class=\"line\">        release &#123;</span><br><span class=\"line\">            minifyEnabled <span class=\"keyword\">false</span></span><br><span class=\"line\">            proguardFiles getDefaultProguardFile(<span class=\"string\">'proguard-android-optimize.txt'</span>), <span class=\"string\">'proguard-rules.pro'</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    compileOptions &#123;</span><br><span class=\"line\">        <span class=\"keyword\">sourceCompatibility</span> JavaVersion.VERSION_1_8</span><br><span class=\"line\">        <span class=\"keyword\">targetCompatibility</span> JavaVersion.VERSION_1_8</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    kotlinOptions &#123;</span><br><span class=\"line\">        jvmTarget = <span class=\"string\">'1.8'</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>compileSdkVersion &#39;android-R&#39;</code>„Åß„ÅÑ„ÅÑ„Çâ„Åó„ÅÑÔºü</p>\n<h2 id=\"Ê®©ÈôêËøΩÂä†\"><a href=\"#Ê®©ÈôêËøΩÂä†\" class=\"headerlink\" title=\"Ê®©ÈôêËøΩÂä†\"></a>Ê®©ÈôêËøΩÂä†</h2><p>‰ΩïÊïÖ„ÅãË£úÂÖÖ„ÅåÂäπ„Åã„Å™„ÅÑ„ÅÆ„Åß„Ç≥„Éî„Éö</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">manifest</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">package</span>=<span class=\"string\">\"com.example.manageexternalstoragesample\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">uses-permission</span> <span class=\"attr\">android:name</span>=<span class=\"string\">\"android.permission.MANAGE_EXTERNAL_STORAGE\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">application</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:allowBackup</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:icon</span>=<span class=\"string\">\"@mipmap/ic_launcher\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:label</span>=<span class=\"string\">\"@string/app_name\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:roundIcon</span>=<span class=\"string\">\"@mipmap/ic_launcher_round\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:supportsRtl</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:theme</span>=<span class=\"string\">\"@style/Theme.ManageExternalStorageSample\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">activity</span> <span class=\"attr\">android:name</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">intent-filter</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">action</span> <span class=\"attr\">android:name</span>=<span class=\"string\">\"android.intent.action.MAIN\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">category</span> <span class=\"attr\">android:name</span>=<span class=\"string\">\"android.intent.category.LAUNCHER\"</span> /&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">intent-filter</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">activity</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">application</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"><a href=\"#„É¨„Ç§„Ç¢„Ç¶„Éà\" class=\"headerlink\" title=\"„É¨„Ç§„Ç¢„Ç¶„Éà\"></a>„É¨„Ç§„Ç¢„Ç¶„Éà</h2><p>„Åù„Çç„Åù„ÇçConstraintLayout‰Ωø„Åà„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åü„ÅÑÔºàÈõ£„Åó„Åù„ÅÜÔºâ</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">xmlns:tools</span>=<span class=\"string\">\"http://schemas.android.com/tools\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:gravity</span>=<span class=\"string\">\"center\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">tools:context</span>=<span class=\"string\">\".MainActivity\"</span>&gt;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/button\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"Ê®©Èôê‰ªò‰∏é\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/show\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"ÂèñÂæó\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Button</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/read\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:text</span>=<span class=\"string\">\"Êõ∏„ÅçËæº„Åø\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Ê®©Èôê„ÇÇ„Çâ„ÅÜ\"><a href=\"#Ê®©Èôê„ÇÇ„Çâ„ÅÜ\" class=\"headerlink\" title=\"Ê®©Èôê„ÇÇ„Çâ„ÅÜ\"></a>Ê®©Èôê„ÇÇ„Çâ„ÅÜ</h2><p>„Åì„Çå„ÇÇË£úÂÖÖ„ÅåÂäπ„Åã„Å™„ÅÑ„ÅÆ„ÅßIntent„ÅÆ‰∏≠Ë∫´„ÅØ„Ç≥„Éî„Éö„Åß</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">button.setOnClickListener &#123;</span><br><span class=\"line\">    <span class=\"keyword\">val</span> intent = Intent(<span class=\"string\">\"android.settings.MANAGE_ALL_FILES_ACCESS_PERMISSION\"</span>)</span><br><span class=\"line\">    startActivity(intent)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Android 11„Åã„Çâ‰ªñ„ÅÆ„Ç¢„Éó„É™„Å´Èáç„Å≠„Çã„ÅÆÊ®©ÈôêÂèñÂæó„ÅßÁõ¥Êé•„Ç¢„Éó„É™„ÅÆË®≠ÂÆö„Å´È£õ„Åπ„Å™„Åè„Å™„Çä„Åæ„Åó„Åü„Åå„ÄÅ„Åì„Çå„ÇÇÁõ¥Êé•È£õ„Åπ„Åö„Å´‰∏ÄË¶ßÁîªÈù¢„Åã„ÇâÈÅ∏„Å∂ÂΩ¢Âºè„Å´„Å™„Å£„Å¶„Åæ„Åô„ÄÇ</p>\n<p>Ê®©ÈôêÂèñÂæó„Éú„Çø„É≥Êäº„Åô„Å®‰∏ÄË¶ßÁîªÈù¢„Åß„Åæ„Åô</p>\n<img src=\"/Bibouroku/2020/05/04/Android11%E3%81%AEMANAGE-EXTERNAL-STORAGE%E3%82%92%E8%A9%A6%E3%81%99/list.png\" class=\"\" title=\"list\">\n\n<img src=\"/Bibouroku/2020/05/04/Android11%E3%81%AEMANAGE-EXTERNAL-STORAGE%E3%82%92%E8%A9%A6%E3%81%99/screen.png\" class=\"\" title=\"screen\">\n\n\n<h2 id=\"Áîü„Éë„Çπ„ÅßË™≠„ÅøËæº„Çì„Åß„Åø„Çã\"><a href=\"#Áîü„Éë„Çπ„ÅßË™≠„ÅøËæº„Çì„Åß„Åø„Çã\" class=\"headerlink\" title=\"Áîü„Éë„Çπ„ÅßË™≠„ÅøËæº„Çì„Åß„Åø„Çã\"></a>Áîü„Éë„Çπ„ÅßË™≠„ÅøËæº„Çì„Åß„Åø„Çã</h2><p>Android 10„Åã„Çâ‰Ωø„Åà„Å™„Åè„Å™„Å£„Åü‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÇÇ <del><code>MANAGE_EXTERNAL_STORAGE</code>Ê®©Èôê„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çå„Å∞„Éª„Éª„ÉªÔºÅ</del><br>Android 11„Åß„ÅØ<strong>Ë™≠„ÅøËæº„Åø„Å™„ÇâË™≠„ÅøËæº„ÅøÊ®©Èôê(READ_EXTERNAL_STORAGE)„Åô„Çâ„ÅÑ„Çâ„Å™„ÅÑ</strong>„Åß„Åô„ÄÇ<br>„Åü„Å†„Åì„ÅÆ‰ªïÊßò„ÅØAndroid 11„ÅßËøΩÂä†„Åï„Çå„Åü„Åü„ÇÅ„ÄÅAndroid 10„Åß„Åì„Çå‰Ωø„ÅÜ„Å´„ÅØManifest„Å´<code>requestLegacyExternalStorage=&quot;true&quot;</code>(Scoped StorageÁÑ°ÂäπÂåñ)„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show.setOnClickListener &#123;</span><br><span class=\"line\">    File(<span class=\"string\">\"/storage/emulated/0/\"</span>).listFiles().forEach &#123;</span><br><span class=\"line\">        println(it.name)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Âá∫ÂäõÁµêÊûú</p>\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Android</span><br><span class=\"line\">Music</span><br><span class=\"line\">Podcasts</span><br><span class=\"line\">Ringtones</span><br><span class=\"line\">Alarms</span><br><span class=\"line\">Notifications</span><br><span class=\"line\">Pictures</span><br><span class=\"line\">Movies</span><br><span class=\"line\">Download</span><br><span class=\"line\">DCIM</span><br></pre></td></tr></table></figure>\n<p>‰ª•‰∏ãÁï•</p>\n<h2 id=\"Áîü„Éë„Çπ„ÅßÊõ∏„ÅçËæº„Çì„ÅßË¶ã„Çã\"><a href=\"#Áîü„Éë„Çπ„ÅßÊõ∏„ÅçËæº„Çì„ÅßË¶ã„Çã\" class=\"headerlink\" title=\"Áîü„Éë„Çπ„ÅßÊõ∏„ÅçËæº„Çì„ÅßË¶ã„Çã\"></a>Áîü„Éë„Çπ„ÅßÊõ∏„ÅçËæº„Çì„ÅßË¶ã„Çã</h2><p>Android 10„Åã„Çâ‰Ωø„Åà„Å™„Åè„Å™„Å£„Åü‰ª•‰∏ã„ÅÆ„Ç≥„Éº„Éâ„ÇÇ<code>MANAGE_EXTERNAL_STORAGE</code>Ê®©Èôê„ÅÆÂâç„Åß„ÅØ„Éª„Éª„ÉªÔºÅ<br>„ÅÇ„Å®„Éú„Çø„É≥„ÅÆID„Åå<code>read</code>„Å´„Å™„Å£„Å¶„Çã„Åë„Å©<code>write</code>„ÅåÂëΩÂêçÁöÑ„Å´„ÅØÊ≠£Ëß£„Åß„Åô„Å≠„ÄÇ„Éó„É≠„Ç∞„É©„É†ÁöÑ„Å´„ÅØÈñìÈÅï„Å£„Å¶„Å™„ÅÑ„Åë„Å©„ÄÇ</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">read.setOnClickListener &#123;</span><br><span class=\"line\">    File(<span class=\"string\">\"/storage/emulated/0/Êõ∏„ÅçËæº„Åø„ÉÜ„Çπ„Éà.txt\"</span>).apply &#123;</span><br><span class=\"line\">        createNewFile()</span><br><span class=\"line\">        writeText(<span class=\"string\">\"Êõ∏„ÅçËæº„ÇÅ„Å¶„ÇãÔΩûÔºü\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Kotlin„ÅÆÊã°ÂºµÈñ¢Êï∞<code>writeText()</code>‰Ωø„Å£„Å¶„Çã„Åã„Çâ‰∏ÄË°å„ÅßÊõ∏„ÅçËæº„ÇÅ„Å¶„Çã„Åë„Å©Java„Å†„Å®Èï∑„Åè„Å™„Çä„Åù„ÅÜ„ÄÇ</p>\n<p>Â§öÂàÜ„Åì„Çå„ÇÇAndroid 10„ÇíÂØæË±°„Å´„Åô„Çã„Å´„ÅØScoped Storage„ÇíÁÑ°Âäπ„Å´„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„ÅôÂ§öÂàÜ„ÄÇ</p>\n<img src=\"/Bibouroku/2020/05/04/Android11%E3%81%AEMANAGE-EXTERNAL-STORAGE%E3%82%92%E8%A9%A6%E3%81%99/write.png\" class=\"\" title=\"write\">\n\n<h2 id=\"ÂÖ®ÈÉ®„Åè„Å£„Å§„Åë„Åü„Ç≥„Éº„Éâ\"><a href=\"#ÂÖ®ÈÉ®„Åè„Å£„Å§„Åë„Åü„Ç≥„Éº„Éâ\" class=\"headerlink\" title=\"ÂÖ®ÈÉ®„Åè„Å£„Å§„Åë„Åü„Ç≥„Éº„Éâ\"></a>ÂÖ®ÈÉ®„Åè„Å£„Å§„Åë„Åü„Ç≥„Éº„Éâ</h2><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MainActivity</span> : <span class=\"type\">AppCompatActivity</span></span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">fun</span> <span class=\"title\">onCreate</span><span class=\"params\">(savedInstanceState: <span class=\"type\">Bundle</span>?)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onCreate(savedInstanceState)</span><br><span class=\"line\">        setContentView(R.layout.activity_main)</span><br><span class=\"line\"></span><br><span class=\"line\">        button.setOnClickListener &#123;</span><br><span class=\"line\">            <span class=\"keyword\">val</span> intent = Intent(<span class=\"string\">\"android.settings.MANAGE_ALL_FILES_ACCESS_PERMISSION\"</span>)</span><br><span class=\"line\">            startActivity(intent)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        show.setOnClickListener &#123;</span><br><span class=\"line\">            File(<span class=\"string\">\"/storage/emulated/0/\"</span>).listFiles().forEach &#123;</span><br><span class=\"line\">                println(it.name)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        read.setOnClickListener &#123;</span><br><span class=\"line\">            File(<span class=\"string\">\"/storage/emulated/0/Êõ∏„ÅçËæº„Åø„ÉÜ„Çπ„Éà.txt\"</span>).apply &#123;</span><br><span class=\"line\">                createNewFile()</span><br><span class=\"line\">                writeText(<span class=\"string\">\"Êõ∏„ÅçËæº„ÇÅ„Å¶„ÇãÔΩûÔºü\"</span>)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"„Åä„Çè„Çä„Å´\"><a href=\"#„Åä„Çè„Çä„Å´\" class=\"headerlink\" title=\"„Åä„Çè„Çä„Å´\"></a>„Åä„Çè„Çä„Å´</h1><p>„Åè„Å£„Åù„ÇÅ„Çì„Å©„Åè„Åï„Åè„Å≠Ôºü(SAF„Å†„ÅÆScopedStorage„Å†„ÅÆMediaStore„Å†„ÅÆ)<br>„ÅÇ„Å®SD„Ç´„Éº„ÉâÂÖ•„ÇãÂÆüÊ©ü„Åª„Åó„ÅÑ„ÄÇXperia„ÅÆ21:9‰Ωø„Å£„Å¶„Åø„Åü„ÅÑ„ÄÇ<br>ÔºàS7 Edge„ÅÇ„Çã„Åë„Å©„Å™„Çì„ÅãSDM 820„ÅÆÂâ≤„Å´Nexus 7 2013„ÅÆ„Åª„ÅÜ„ÅåÂãï„Åè„Åã„Çâ„Éè„Ç∫„É¨SoCÂºï„ÅÑ„ÅüÔºüÔºâ</p>\n<h1 id=\"„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\"><a href=\"#„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\" class=\"headerlink\" title=\"„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ\"></a>„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ</h1><p><a href=\"https://github.com/takusan23/ManageExternalStorageSample\" target=\"_blank\" rel=\"noopener\">https://github.com/takusan23/ManageExternalStorageSample</a></p>\n"}],"PostAsset":[{"_id":"source/_posts/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/kyoka_2.png","slug":"kyoka_2.png","post":"ck9rbqvgj0003h8vu9as7cdmj","modified":1,"renderable":0},{"_id":"source/_posts/Android11„ÅÆMANAGE-EXTERNAL-STORAGE„ÇíË©¶„Åô/screen.png","slug":"screen.png","post":"ck9rbqvgy000wh8vuegmmdkoa","modified":1,"renderable":0},{"_id":"source/_posts/Android„ÅÆRipple„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Åå„Åã„Åè„Åã„Åè„Å´„Å™„Çã„ÅÆ„ÇíÁõ¥„Åô/ripple.png","slug":"ripple.png","post":"ck9rbqvgl0005h8vuebuqh3nt","modified":1,"renderable":0},{"_id":"source/_posts/Android„Åß„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åô„Çã/menu.png","post":"ck9rbqvgn0009h8vu2p1u86ki","slug":"menu.png","modified":1,"renderable":1},{"_id":"source/_posts/Android„Åß„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Å™„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº„Çí‰ΩúÊàê„Åô„Çã/toast.png","post":"ck9rbqvgn0009h8vu2p1u86ki","slug":"toast.png","modified":1,"renderable":1},{"_id":"source/_posts/AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂/error.png","post":"ck9rbqvgh0001h8vuck8f18rc","slug":"error.png","modified":1,"renderable":1},{"_id":"source/_posts/AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂/json.png","post":"ck9rbqvgh0001h8vuck8f18rc","slug":"json.png","modified":1,"renderable":1},{"_id":"source/_posts/AkashicEngine„Åß‰Ωú„Å£„Åü„Ç≤„Éº„É†„ÇíHexo„ÅßÈÅä„Å∂/json_fix.png","post":"ck9rbqvgh0001h8vuck8f18rc","slug":"json_fix.png","modified":1,"renderable":1},{"_id":"source/_posts/Android11„ÅÆMANAGE-EXTERNAL-STORAGE„ÇíË©¶„Åô/list.png","post":"ck9rbqvgy000wh8vuegmmdkoa","slug":"list.png","modified":1,"renderable":1},{"_id":"source/_posts/Android11„ÅÆMANAGE-EXTERNAL-STORAGE„ÇíË©¶„Åô/write.png","post":"ck9rbqvgy000wh8vuegmmdkoa","slug":"write.png","modified":1,"renderable":1},{"_id":"source/_posts/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/filer.png","post":"ck9rbqvgj0003h8vu9as7cdmj","slug":"filer.png","modified":1,"renderable":1},{"_id":"source/_posts/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/kyoka_1.png","post":"ck9rbqvgj0003h8vu9as7cdmj","slug":"kyoka_1.png","modified":1,"renderable":1},{"_id":"source/_posts/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/list.png","post":"ck9rbqvgj0003h8vu9as7cdmj","slug":"list.png","modified":1,"renderable":1},{"_id":"source/_posts/Android11-DP2-„Åß„Éï„Ç°„Ç§„É´‰øùÂ≠ò„Åæ„Å®„ÇÅ/save.png","post":"ck9rbqvgj0003h8vu9as7cdmj","slug":"save.png","modified":1,"renderable":1}],"PostCategory":[],"PostTag":[{"post_id":"ck9rbqvgl0005h8vuebuqh3nt","tag_id":"ck9rbqvgi0002h8vudu9a42dg","_id":"ck9rbqvgn0008h8vuao3902af"},{"post_id":"ck9rbqvgo000bh8vu11iuhj5r","tag_id":"ck9rbqvgi0002h8vudu9a42dg","_id":"ck9rbqvgq000eh8vu7crt98xs"},{"post_id":"ck9rbqvgo000bh8vu11iuhj5r","tag_id":"ck9rbqvgo000ah8vufmvedjdt","_id":"ck9rbqvgs000gh8vubx6y029l"},{"post_id":"ck9rbqvgd0000h8vu9c1b4lf6","tag_id":"ck9rbqvgi0002h8vudu9a42dg","_id":"ck9rbqvgt000jh8vu4jp4c668"},{"post_id":"ck9rbqvgd0000h8vu9c1b4lf6","tag_id":"ck9rbqvgl0006h8vudsthe0d1","_id":"ck9rbqvgu000lh8vu4w9m13e6"},{"post_id":"ck9rbqvgd0000h8vu9c1b4lf6","tag_id":"ck9rbqvgo000ah8vufmvedjdt","_id":"ck9rbqvgv000nh8vu1ihu53x8"},{"post_id":"ck9rbqvgj0003h8vu9as7cdmj","tag_id":"ck9rbqvgi0002h8vudu9a42dg","_id":"ck9rbqvgy000th8vu9c1ndnrf"},{"post_id":"ck9rbqvgj0003h8vu9as7cdmj","tag_id":"ck9rbqvgt000ih8vubopy1c2m","_id":"ck9rbqvgy000vh8vu4y9r8ai5"},{"post_id":"ck9rbqvgj0003h8vu9as7cdmj","tag_id":"ck9rbqvgo000ah8vufmvedjdt","_id":"ck9rbqvgz000yh8vu1b3f7pql"},{"post_id":"ck9rbqvgm0007h8vubznt7sli","tag_id":"ck9rbqvgi0002h8vudu9a42dg","_id":"ck9rbqvh00010h8vubqenexvt"},{"post_id":"ck9rbqvgm0007h8vubznt7sli","tag_id":"ck9rbqvgx000rh8vuhbrga28r","_id":"ck9rbqvh20011h8vu65pvgk3n"},{"post_id":"ck9rbqvgm0007h8vubznt7sli","tag_id":"ck9rbqvgo000ah8vufmvedjdt","_id":"ck9rbqvh30013h8vufh4i9sm3"},{"post_id":"ck9rbqvgn0009h8vu2p1u86ki","tag_id":"ck9rbqvgi0002h8vudu9a42dg","_id":"ck9rbqvh40015h8vu9co4el9u"},{"post_id":"ck9rbqvgn0009h8vu2p1u86ki","tag_id":"ck9rbqvh0000zh8vu7in41qsv","_id":"ck9rbqvh40016h8vu6eiqgwka"},{"post_id":"ck9rbqvgn0009h8vu2p1u86ki","tag_id":"ck9rbqvgo000ah8vufmvedjdt","_id":"ck9rbqvh40018h8vudlji7kli"},{"post_id":"ck9rbqvgp000ch8vue8b90tk1","tag_id":"ck9rbqvh30014h8vuhoqaax8x","_id":"ck9rbqvh4001ah8vucfkhghcn"},{"post_id":"ck9rbqvgp000ch8vue8b90tk1","tag_id":"ck9rbqvh40017h8vu01yah4ym","_id":"ck9rbqvh4001bh8vuev0ihv0o"},{"post_id":"ck9rbqvgr000fh8vudtt5063k","tag_id":"ck9rbqvh40017h8vu01yah4ym","_id":"ck9rbqvh5001gh8vualg7fqq9"},{"post_id":"ck9rbqvgr000fh8vudtt5063k","tag_id":"ck9rbqvh30014h8vuhoqaax8x","_id":"ck9rbqvh5001hh8vu4ioafayy"},{"post_id":"ck9rbqvgr000fh8vudtt5063k","tag_id":"ck9rbqvh5001dh8vu71jj5u52","_id":"ck9rbqvh6001jh8vudocw7omd"},{"post_id":"ck9rbqvgr000fh8vudtt5063k","tag_id":"ck9rbqvh5001eh8vub6owdopp","_id":"ck9rbqvh6001kh8vubym8562u"},{"post_id":"ck9rbqvgs000hh8vua9f69ipi","tag_id":"ck9rbqvgi0002h8vudu9a42dg","_id":"ck9rbqvh6001mh8vu0tfvbwya"},{"post_id":"ck9rbqvgs000hh8vua9f69ipi","tag_id":"ck9rbqvh0000zh8vu7in41qsv","_id":"ck9rbqvh6001nh8vucayeh9pf"},{"post_id":"ck9rbqvgs000hh8vua9f69ipi","tag_id":"ck9rbqvgo000ah8vufmvedjdt","_id":"ck9rbqvh6001ph8vu2g3l6iin"},{"post_id":"ck9rbqvgt000kh8vu72k31ivx","tag_id":"ck9rbqvgi0002h8vudu9a42dg","_id":"ck9rbqvh7001rh8vu3ygmg8ld"},{"post_id":"ck9rbqvgt000kh8vu72k31ivx","tag_id":"ck9rbqvh6001ih8vu16sk68p5","_id":"ck9rbqvh7001sh8vu226rdx4a"},{"post_id":"ck9rbqvgt000kh8vu72k31ivx","tag_id":"ck9rbqvh6001lh8vuhqu477nx","_id":"ck9rbqvh9001uh8vuey9d1q9i"},{"post_id":"ck9rbqvgt000kh8vu72k31ivx","tag_id":"ck9rbqvh6001oh8vu37w7205r","_id":"ck9rbqvha001vh8vu2oxz8414"},{"post_id":"ck9rbqvgt000kh8vu72k31ivx","tag_id":"ck9rbqvgo000ah8vufmvedjdt","_id":"ck9rbqvha001xh8vu8bol7lf5"},{"post_id":"ck9rbqvgu000mh8vu6pqb3sz6","tag_id":"ck9rbqvh7001qh8vu0mxn9oll","_id":"ck9rbqvha001yh8vu0kff032v"},{"post_id":"ck9rbqvgw000qh8vu6yga9nrc","tag_id":"ck9rbqvgi0002h8vudu9a42dg","_id":"ck9rbqvha0020h8vu17u59glz"},{"post_id":"ck9rbqvgw000qh8vu6yga9nrc","tag_id":"ck9rbqvh7001th8vu4n146p3f","_id":"ck9rbqvha0021h8vuajzibi4w"},{"post_id":"ck9rbqvgw000qh8vu6yga9nrc","tag_id":"ck9rbqvha001wh8vuge9i8z48","_id":"ck9rbqvhb0023h8vu8kduht8n"},{"post_id":"ck9rbqvgx000sh8vu25lb0baz","tag_id":"ck9rbqvgi0002h8vudu9a42dg","_id":"ck9rbqvhb0025h8vu9cw344yw"},{"post_id":"ck9rbqvgx000sh8vu25lb0baz","tag_id":"ck9rbqvgo000ah8vufmvedjdt","_id":"ck9rbqvhb0026h8vu3jgt21ap"},{"post_id":"ck9rbqvgx000sh8vu25lb0baz","tag_id":"ck9rbqvh0000zh8vu7in41qsv","_id":"ck9rbqvhb0027h8vu2wyj6l3a"},{"post_id":"ck9rbqvgx000sh8vu25lb0baz","tag_id":"ck9rbqvha0022h8vu4p0ldy4y","_id":"ck9rbqvhb0028h8vucul1aus1"},{"post_id":"ck9rbqvgy000wh8vuegmmdkoa","tag_id":"ck9rbqvgi0002h8vudu9a42dg","_id":"ck9rbqvhb0029h8vu4002bpt3"},{"post_id":"ck9rbqvgy000wh8vuegmmdkoa","tag_id":"ck9rbqvhb0024h8vucte44uit","_id":"ck9rbqvhb002ah8vu90gkbp5w"}],"Tag":[{"name":"Android","_id":"ck9rbqvgi0002h8vudu9a42dg"},{"name":"ARCore","_id":"ck9rbqvgl0006h8vudsthe0d1"},{"name":"Kotlin","_id":"ck9rbqvgo000ah8vufmvedjdt"},{"name":"ScopedStorage","_id":"ck9rbqvgt000ih8vubopy1c2m"},{"name":"Âè∞È¢®","_id":"ck9rbqvgx000rh8vuhbrga28r"},{"name":"MaterialDesign","_id":"ck9rbqvh0000zh8vu7in41qsv"},{"name":"JavaScript","_id":"ck9rbqvh30014h8vuhoqaax8x"},{"name":"Electron","_id":"ck9rbqvh40017h8vu01yah4ym"},{"name":"TypeScript","_id":"ck9rbqvh5001dh8vu71jj5u52"},{"name":"Node.js","_id":"ck9rbqvh5001eh8vub6owdopp"},{"name":"MediaProjection","_id":"ck9rbqvh6001ih8vu16sk68p5"},{"name":"ÁîªÈù¢Èå≤Áîª","_id":"ck9rbqvh6001lh8vuhqu477nx"},{"name":"AndroidQ","_id":"ck9rbqvh6001oh8vu37w7205r"},{"name":"„Åù„ÅÆ‰ªñ","_id":"ck9rbqvh7001qh8vu0mxn9oll"},{"name":"„Åü„Å°„Åø„Å©„Çç„ÅÑ„Å©","_id":"ck9rbqvh7001th8vu4n146p3f"},{"name":"„Éã„Ç≥„Éã„Ç≥ÂãïÁîª","_id":"ck9rbqvha001wh8vuge9i8z48"},{"name":"NavigationDrawer","_id":"ck9rbqvha0022h8vu4p0ldy4y"},{"name":"Android11","_id":"ck9rbqvhb0024h8vucte44uit"}]}}